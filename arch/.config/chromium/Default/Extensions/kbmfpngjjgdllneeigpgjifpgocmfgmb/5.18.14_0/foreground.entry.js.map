{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/jquery/dist/jquery.js","webpack:///./node_modules/lodash/once.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/lodash/pull.js","webpack:///./node_modules/lodash/fp/flow.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/sortBy.js","webpack:///./node_modules/dayjs/dayjs.min.js","webpack:///./node_modules/lodash/difference.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/lodash/last.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/lodash/fp/map.js","webpack:///./node_modules/lodash/isEmpty.js","webpack:///./node_modules/lodash/fp/placeholder.js","webpack:///./node_modules/lodash/without.js","webpack:///./node_modules/lodash/fp/convert.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/flatten.js","webpack:///./node_modules/lodash/pickBy.js","webpack:///../src/utils.js","webpack:///../src/tags.js","webpack:///../src/attrs.js","webpack:///../src/regexp.js","webpack:///../src/purify.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/zipWith.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/lodash/fp/keyBy.js","webpack:///./node_modules/lodash/clamp.js","webpack:///./node_modules/lodash/transform.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/escapeRegExp.js","webpack:///./node_modules/lodash/_createWrap.js","webpack:///./node_modules/lodash/_createCtor.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/castArray.js","webpack:///./node_modules/lodash/_arrayIncludes.js","webpack:///./node_modules/lodash/curryRight.js","webpack:///./node_modules/lodash/remove.js","webpack:///./node_modules/lodash/maxBy.js","webpack:///./node_modules/lodash/compact.js","webpack:///./node_modules/lodash/intersection.js","webpack:///./node_modules/lodash/fp/filter.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/_flatRest.js","webpack:///./node_modules/lodash/_createAggregator.js","webpack:///./node_modules/lodash/_strictIndexOf.js","webpack:///./node_modules/lodash/_baseSlice.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/semver/internal/constants.js","webpack:///./node_modules/lodash/keyBy.js","webpack:///./node_modules/lodash/head.js","webpack:///./node_modules/lodash/mapValues.js","webpack:///./node_modules/lodash/partition.js","webpack:///./node_modules/tinycolor2/tinycolor.js","webpack:///./node_modules/lodash/uniq.js","webpack:///./node_modules/lodash/_baseCreate.js","webpack:///./node_modules/lodash/_createHybrid.js","webpack:///./node_modules/lodash/_createRecurry.js","webpack:///./node_modules/lodash/noop.js","webpack:///./node_modules/lodash/stubArray.js","webpack:///./node_modules/lodash/_copyObject.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/_nativeKeys.js","webpack:///./node_modules/lodash/_arrayEach.js","webpack:///./node_modules/lodash/_getPrototype.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/unzip.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/semver/functions/compare.js","webpack:///./node_modules/semver/classes/semver.js","webpack:///./node_modules/semver/internal/debug.js","webpack:///./node_modules/semver/internal/re.js","webpack:///./node_modules/lodash/fp/once.js","webpack:///./node_modules/lodash/assignIn.js","webpack:///./node_modules/lodash/pick.js","webpack:///./node_modules/fast-levenshtein/levenshtein.js","webpack:///./node_modules/lodash/fromPairs.js","webpack:///./node_modules/lodash/random.js","webpack:///./node_modules/lodash/omitBy.js","webpack:///./lib/images/hosts/giphy-logo.png","webpack:///./node_modules/lodash/dropWhile.js","webpack:///./node_modules/lodash/fp/slice.js","webpack:///./node_modules/lodash/fp/mapValues.js","webpack:///./node_modules/lodash/zip.js","webpack:///./node_modules/lodash/cloneDeep.js","webpack:///./node_modules/lodash/union.js","webpack:///./node_modules/suncalc/suncalc.js","webpack:///./node_modules/favico.js/favico.js","webpack:///./lib/images/legacyFavicon.png","webpack:///./node_modules/lodash/uniqBy.js","webpack:///./node_modules/lodash/first.js","webpack:///./node_modules/lodash/fp/_baseConvert.js","webpack:///./node_modules/lodash/fp/_mapping.js","webpack:///./node_modules/lodash/fp/_util.js","webpack:///./node_modules/lodash/ary.js","webpack:///./node_modules/lodash/_createBind.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/_createCurry.js","webpack:///./node_modules/lodash/_composeArgs.js","webpack:///./node_modules/lodash/_composeArgsRight.js","webpack:///./node_modules/lodash/_countHolders.js","webpack:///./node_modules/lodash/_reorder.js","webpack:///./node_modules/lodash/_createPartial.js","webpack:///./node_modules/lodash/_baseAssign.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/clone.js","webpack:///./node_modules/lodash/curry.js","webpack:///./node_modules/lodash/isError.js","webpack:///./node_modules/lodash/isPlainObject.js","webpack:///./node_modules/lodash/isWeakMap.js","webpack:///./node_modules/lodash/iteratee.js","webpack:///./node_modules/lodash/rearg.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/toPath.js","webpack:///./node_modules/lodash/before.js","webpack:///./node_modules/lodash/fp/_falseOptions.js","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./node_modules/lodash/_arrayAggregator.js","webpack:///./node_modules/lodash/_createAssigner.js","webpack:///./node_modules/lodash/_nativeKeysIn.js","webpack:///./node_modules/lodash/_basePick.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/hasIn.js","webpack:///./node_modules/lodash/_baseHasIn.js","webpack:///./node_modules/lodash/_hasPath.js","webpack:///./node_modules/lodash/flow.js","webpack:///./node_modules/lodash/_createFlow.js","webpack:///./node_modules/lodash/stubString.js","webpack:///./node_modules/lodash/unzipWith.js","webpack:///./node_modules/lodash/_arrayFilter.js","webpack:///./node_modules/lodash/_baseProperty.js","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/lodash/pullAll.js","webpack:///./node_modules/lodash/_basePullAll.js","webpack:///./node_modules/lodash/_baseIndexOfWith.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/lodash/_basePullAt.js","webpack:///./node_modules/lodash/_baseUnset.js","webpack:///./node_modules/lodash/_parent.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/dayjs/locale/de.js","webpack:///./node_modules/dayjs/locale/el.js","webpack:///./node_modules/dayjs/locale/es.js","webpack:///./node_modules/dayjs/locale/he.js","webpack:///./node_modules/dayjs/locale/it.js","webpack:///./node_modules/dayjs/locale/nl.js","webpack:///./node_modules/dayjs/locale/pl.js","webpack:///./node_modules/dayjs/locale/pt-br.js","webpack:///./node_modules/dayjs/locale/pt.js","webpack:///./node_modules/dayjs/plugin/relativeTime.js","webpack:///./node_modules/dayjs/plugin/localizedFormat.js","webpack:///./node_modules/lodash/_baseOrderBy.js","webpack:///./node_modules/lodash/_baseSortBy.js","webpack:///./node_modules/lodash/_compareMultiple.js","webpack:///./node_modules/lodash/_compareAscending.js","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/lodash/_baseIsEqual.js","webpack:///./node_modules/lodash/_baseIsEqualDeep.js","webpack:///./node_modules/lodash/_equalArrays.js","webpack:///./node_modules/lodash/_arraySome.js","webpack:///./node_modules/lodash/_equalObjects.js","webpack:///./node_modules/lodash/_baseRandom.js","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./node_modules/lodash/negate.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./node_modules/lodash/_baseWhile.js","webpack:///./node_modules/lodash/slice.js","webpack:///./node_modules/semver/functions/gt.js","webpack:///./node_modules/semver/internal/identifiers.js","webpack:///./node_modules/semver/functions/diff.js","webpack:///./node_modules/semver/functions/parse.js","webpack:///./node_modules/semver/functions/eq.js","webpack:///./LICENSE","webpack:///./lib/constants/urlHashes.js","webpack:///./lib/utils/time.js","webpack:///./lib/utils/flow.js","webpack:///./lib/utils/dom.js","webpack:///./lib/utils/location.js","webpack:///./lib/utils/html.js","webpack:///./lib/utils/string.js","webpack:///./lib/utils/user.js","webpack:///./lib/environment/foreground/context.js","webpack:///./lib/environment/utils/messaging.js","webpack:///./lib/environment/utils/api.js","webpack:///./lib/environment/foreground/messaging.js","webpack:///./lib/environment/foreground/privateBrowsing.js","webpack:///./lib/environment/foreground/history.js","webpack:///./lib/environment/foreground/xhrCache.js","webpack:///./lib/environment/foreground/ajax.js","webpack:///./lib/environment/foreground/download.js","webpack:///./lib/environment/foreground/id.js","webpack:///./lib/constants/localStorage.js","webpack:///./build/buildToken.js","webpack:///./lib/environment/foreground/i18n.js","webpack:///./lib/utils/generator.js","webpack:///./lib/utils/async.js","webpack:///./lib/environment/foreground/permissions.js","webpack:///./lib/environment/foreground/auth.js","webpack:///./lib/environment/foreground/multicast.js","webpack:///./lib/environment/foreground/tabs.js","webpack:///./lib/environment/foreground/pageAction.js","webpack:///./lib/environment/foreground/session.js","webpack:///./lib/utils/object.js","webpack:///./lib/environment/foreground/storage.js","webpack:///./lib/environment/index.js","webpack:///./lib/utils/Cache.js","webpack:///./lib/utils/array.js","webpack:///./lib/utils/Thing.js","webpack:///./lib/utils/thingMetadata.js","webpack:///./lib/utils/color.js","webpack:///./lib/utils/dashboard.js","webpack:///./lib/utils/pagePhases.js","webpack:///./lib/utils/floater.js","webpack:///./lib/utils/hash.js","webpack:///./lib/utils/thingHide.js","webpack:///./lib/utils/keycode.js","webpack:///./lib/utils/localization.js","webpack:///./lib/utils/math.js","webpack:///./lib/utils/options.js","webpack:///./lib/utils/profiling.js","webpack:///./lib/utils/storage.js","webpack:///./lib/utils/subreddits.js","webpack:///./lib/utils/value.js","webpack:///./lib/utils/watchers.js","webpack:///./lib/constants/jsapi.js","webpack:///./lib/utils/watchers_d2x.js","webpack:///./lib/utils/bodyClasses.js","webpack:///./lib/utils/browserDetect.js","webpack:///./lib/utils/createElement.js","webpack:///./lib/utils/alert.js","webpack:///./lib/constants/sessionStorage.js","webpack:///./lib/utils/selectedThing.js","webpack:///./lib/utils/table.js","webpack:///./node_modules/sortablejs/modular/sortable.core.esm.js","webpack:///./lib/vendor/index.js","webpack:///./lib/utils/caseBuilder.js","webpack:///./lib/utils/index.js","webpack:///./lib/core/module.js","webpack:///./lib/core/modules/storage.js","webpack:///./lib/vendor/guiders.js","webpack:///./lib/core/options/storage.js","webpack:///./lib/core/options/modified.js","webpack:///./lib/core/options/stage.js","webpack:///./lib/core/options/table.js","webpack:///./lib/core/options/index.js","webpack:///./lib/modules/hover.js","webpack:///./lib/modules/commandLine.js","webpack:///./lib/modules/menu.js","webpack:///./lib/modules/settingsNavigation.js","webpack:///./lib/modules/notifications.js","webpack:///./lib/modules/penaltyBox.js","webpack:///./lib/modules/filteReddit/Case.js","webpack:///./lib/modules/filteReddit/postCases/CommentCount.js","webpack:///./lib/modules/newCommentCount.js","webpack:///./lib/modules/filteReddit/postCases/NewCommentCount.js","webpack:///./lib/modules/filteReddit/postCases/CommentsOpened.js","webpack:///./lib/modules/filteReddit/postCases/Domain.js","webpack:///./lib/core/host.js","webpack:///./lib/modules/showImages/templates.js","webpack:///./lib/modules/showImages/expando.js","webpack:///./lib/modules/hosts/aarli.js","webpack:///./lib/modules/hosts/adultswim.js","webpack:///./lib/modules/hosts/archilogic.js","webpack:///./lib/modules/hosts/archiveis.js","webpack:///./lib/modules/hosts/bime.js","webpack:///./lib/modules/hosts/clyp.js","webpack:///./lib/modules/hosts/codepen.js","webpack:///./lib/modules/hosts/coub.js","webpack:///./lib/modules/hosts/dailymotion.js","webpack:///./lib/modules/hosts/default.js","webpack:///./lib/modules/hosts/defaultAudio.js","webpack:///./lib/modules/hosts/defaultVideo.js","webpack:///./lib/modules/hosts/derpibooru.js","webpack:///./lib/modules/hosts/deviantart.js","webpack:///./lib/modules/hosts/dropbox.js","webpack:///./lib/modules/hosts/fiveHundredPx.js","webpack:///./lib/modules/hosts/flickr.js","webpack:///./lib/modules/hosts/getyarn.js","webpack:///./lib/modules/hosts/gfycat.js","webpack:///./lib/modules/hosts/gifyoutube.js","webpack:///./lib/modules/hosts/giphy.js","webpack:///./node_modules/snudown-js/dist/snudown_es.js","webpack:///./lib/modules/hosts/github.js","webpack:///./lib/modules/hosts/googlemaps.js","webpack:///./lib/modules/hosts/gyazo.js","webpack:///./lib/modules/hosts/hastebin.js","webpack:///./lib/modules/hosts/iloopit.js","webpack:///./lib/modules/hosts/imgflip.js","webpack:///./lib/modules/hosts/imgur.js","webpack:///./lib/modules/hosts/instagram.js","webpack:///./lib/modules/hosts/ireddit.js","webpack:///./lib/modules/hosts/jsfiddle.js","webpack:///./lib/modules/hosts/liveleak.js","webpack:///./lib/modules/hosts/livememe.js","webpack:///./lib/modules/hosts/makeameme.js","webpack:///./lib/modules/hosts/memecrunch.js","webpack:///./lib/modules/hosts/memedad.js","webpack:///./lib/modules/hosts/mixer.js","webpack:///./lib/modules/hosts/navertv.js","webpack:///./lib/modules/hosts/onedrive.js","webpack:///./lib/modules/hosts/pastebin.js","webpack:///./lib/modules/hosts/peertube.js","webpack:///./lib/modules/hosts/photobucket.js","webpack:///./lib/modules/hosts/pixiv.js","webpack:///./lib/modules/hosts/poly.js","webpack:///./lib/modules/hosts/pornhub.js","webpack:///./lib/modules/hosts/ppy.js","webpack:///./lib/modules/hosts/redditbooru.js","webpack:///./lib/modules/hosts/redditmedia.js","webpack:///./lib/modules/hosts/reddituploads.js","webpack:///./lib/modules/hosts/redgifs.js","webpack:///./lib/modules/hosts/ridewithgps.js","webpack:///./lib/modules/hosts/simplecove.js","webpack:///./lib/modules/hosts/snag.js","webpack:///./lib/modules/hosts/soundcloud.js","webpack:///./lib/modules/hosts/spotify.js","webpack:///./lib/modules/hosts/steamcommunity.js","webpack:///./lib/modules/hosts/steampowered.js","webpack:///./lib/modules/hosts/strawpollcom.js","webpack:///./lib/modules/hosts/strawpollme.js","webpack:///./lib/modules/hosts/streamable.js","webpack:///./lib/modules/hosts/streamja.js","webpack:///./lib/modules/hosts/streamvi.js","webpack:///./lib/modules/hosts/supgif.js","webpack:///./lib/modules/hosts/supload.js","webpack:///./lib/modules/hosts/tenor.js","webpack:///./lib/modules/hosts/tumblr.js","webpack:///./lib/modules/hosts/twimg.js","webpack:///./lib/modules/hosts/twitch.js","webpack:///./lib/modules/hosts/twitchclips.js","webpack:///./lib/modules/hosts/twitter.js","webpack:///./lib/modules/hosts/vidble.js","webpack:///./lib/modules/hosts/vimeo.js","webpack:///./lib/modules/hosts/vlipsy.js","webpack:///./lib/modules/hosts/vlive.js","webpack:///./lib/modules/hosts/vreddit.js","webpack:///./lib/core/metadata/packageInfo.js","webpack:///./lib/core/metadata/index.js","webpack:///./lib/modules/hosts/wikipedia.js","webpack:///./lib/modules/hosts/xboxdvr.js","webpack:///./lib/modules/hosts/xkcd.js","webpack:///./lib/modules/hosts/youtube.js","webpack:///./lib/modules/hosts/znipe.js","webpack:///./lib/modules/hosts/default.js?8f03","webpack:///./lib/modules/showImages.js","webpack:///./lib/modules/filteReddit/postCases/Expando.js","webpack:///./lib/modules/filteReddit/postCases/IsLocked.js","webpack:///./lib/modules/filteReddit/postCases/IsNSFW.js","webpack:///./lib/modules/filteReddit/postCases/IsSpoiler.js","webpack:///./lib/modules/filteReddit/postCases/IsVisited.js","webpack:///./lib/modules/filteReddit/postCases/LinkFlair.js","webpack:///./lib/modules/filteReddit/postCases/PostAfter.js","webpack:///./lib/modules/filteReddit/postCases/PostAge.js","webpack:///./lib/modules/filteReddit/postCases/PostTitle.js","webpack:///./lib/modules/filteReddit/postCases/PostType.js","webpack:///./lib/modules/filteReddit/postCases/Score.js","webpack:///./lib/modules/filteReddit/postCases/Selector.js","webpack:///./lib/modules/filteReddit/postCases/Subreddit.js","webpack:///./lib/modules/filteReddit/postCases/UserAttr.js","webpack:///./lib/modules/filteReddit/postCases/UserFlair.js","webpack:///./lib/modules/customToggles.js","webpack:///./lib/modules/filteReddit/Filter.js","webpack:///./lib/modules/filteReddit/ExternalFilter.js","webpack:///./lib/modules/filteReddit/LineFilter.js","webpack:///./lib/modules/filteReddit/Filterline.js","webpack:///./lib/modules/filteReddit.js","webpack:///./lib/modules/subredditStyleToggle.js","webpack:///./lib/modules/nightMode.js","webpack:///./lib/modules/userTagger.js","webpack:///./lib/modules/filteReddit/postCases/UserTag.js","webpack:///./lib/modules/filteReddit/postCases/UserVoteWeight.js","webpack:///./lib/modules/filteReddit/postCases/Username.js","webpack:///./lib/modules/filteReddit/postCases/VoteType.js","webpack:///./lib/modules/filteReddit/postCases/index.js","webpack:///./lib/modules/filteReddit/commentCases/CommentContent.js","webpack:///./lib/modules/filteReddit/commentCases/CommentLength.js","webpack:///./lib/modules/filteReddit/commentCases/Depth.js","webpack:///./lib/modules/filteReddit/commentCases/IsDeleted.js","webpack:///./lib/modules/readComments.js","webpack:///./lib/modules/filteReddit/commentCases/IsRead.js","webpack:///./lib/modules/filteReddit/commentCases/index.js","webpack:///./lib/modules/filteReddit/browseCases/BrowsingFrontPage.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentLocation.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentMulti.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentUserProfile.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentSub.js","webpack:///./lib/modules/filteReddit/browseCases/Date.js","webpack:///./lib/modules/filteReddit/browseCases/Dow.js","webpack:///./lib/modules/filteReddit/browseCases/LoggedInAs.js","webpack:///./lib/modules/filteReddit/browseCases/Toggle.js","webpack:///./lib/modules/filteReddit/browseCases/index.js","webpack:///./lib/modules/filteReddit/cases.js","webpack:///./lib/modules/accountSwitcher.js","webpack:///./lib/modules/submitIssue.js","webpack:///./lib/modules/commentTools.js","webpack:///./lib/modules/usernameHider.js","webpack:///./lib/modules/quickMessage.js","webpack:///./lib/modules/userHighlight.js","webpack:///./lib/modules/userInfo.js","webpack:///./lib/modules/wheelBrowse.js","webpack:///./lib/modules/commentNavigator.js","webpack:///./lib/modules/easterEgg.js","webpack:///./lib/modules/hideChildComments.js","webpack:///./lib/modules/neverEndingReddit.js","webpack:///./lib/modules/noParticipation.js","webpack:///./lib/modules/saveComments.js","webpack:///./lib/modules/showParent.js","webpack:///./lib/modules/singleClick.js","webpack:///./lib/modules/keyboardNav.js","webpack:///./lib/modules/RESTips.js","webpack:///./lib/modules/about.js","webpack:///./lib/modules/announcements.js","webpack:///./lib/modules/autoHide.js","webpack:///./lib/modules/backupAndRestore/serialization.js","webpack:///./lib/modules/backupAndRestore/providers/Provider.js","webpack:///./lib/modules/backupAndRestore/providers/File.js","webpack:///./lib/modules/backupAndRestore/providers/GoogleDrive.js","webpack:///./lib/modules/backupAndRestore/providers/OneDrive.js","webpack:///./lib/modules/backupAndRestore/providers/Dropbox.js","webpack:///./lib/modules/backupAndRestore/providers/index.js","webpack:///./lib/modules/backupAndRestore.js","webpack:///./lib/modules/subredditManager.js","webpack:///./lib/modules/betteReddit.js","webpack:///./lib/modules/commentDepth.js","webpack:///./lib/modules/commentHidePersistor.js","webpack:///./lib/modules/commentPreview.js","webpack:///./lib/modules/commentQuickCollapse.js","webpack:///./lib/modules/commentSortBy.js","webpack:///./lib/modules/commentStyle.js","webpack:///./lib/modules/context.js","webpack:///./lib/modules/contribute.js","webpack:///./lib/modules/dashboard.js","webpack:///./lib/modules/disableChat.js","webpack:///./lib/modules/localDate.js","webpack:///./lib/modules/logoLink.js","webpack:///./lib/modules/messageMenu.js","webpack:///./lib/modules/modhelper.js","webpack:///./lib/modules/multiredditNavbar.js","webpack:///./lib/modules/neverEndingComments.js","webpack:///./lib/modules/onboarding.js","webpack:///./lib/modules/orangered.js","webpack:///./lib/modules/pageNavigator.js","webpack:///./lib/modules/troubleshooter.js","webpack:///./lib/modules/presets.js","webpack:///./lib/modules/profileNavigator.js","webpack:///./lib/modules/profileRedirect.js","webpack:///./lib/modules/quarantineHide.js","webpack:///./lib/modules/redditUserInfo.js","webpack:///./lib/modules/requestPermissions.js","webpack:///./lib/modules/search.js","webpack:///./lib/modules/searchHelper.js","webpack:///./lib/modules/selectedEntry.js","webpack:///./lib/modules/showKarma.js","webpack:///./lib/modules/sourceSnudown.js","webpack:///./lib/modules/spamButton.js","webpack:///./lib/modules/spoilerTags.js","webpack:///./lib/modules/styleTweaks.js","webpack:///./lib/modules/stylesheet.js","webpack:///./lib/modules/submitHelper.js","webpack:///./lib/modules/subredditInfo.js","webpack:///./lib/modules/subredditTagger.js","webpack:///./lib/modules/tableTools.js","webpack:///./lib/modules/temporaryDropdownLinks.js","webpack:///./lib/modules/userbarHider.js","webpack:///./lib/modules/version.js","webpack:///./lib/modules/voteEnhancements.js","webpack:///./lib/modules/xPostLinks.js","webpack:///./lib/modules/about.js?b9b1","webpack:///./lib/core/modules/modules.js","webpack:///./lib/core/modules/index.js","webpack:///./lib/core/options/options.js","webpack:///./lib/core/modules/bodyClasses.js","webpack:///./lib/core/init.js","webpack:///./lib/environment/foreground/messaging.js?4de5","webpack:///./lib/foreground.entry.js"],"names":["global","factory","module","exports","document","w","Error","window","noGlobal","arr","getProto","Object","getPrototypeOf","slice","flat","array","call","concat","apply","push","indexOf","class2type","toString","hasOwn","hasOwnProperty","fnToString","ObjectFunctionString","support","isFunction","obj","nodeType","isWindow","preservedScriptAttributes","type","src","nonce","noModule","DOMEval","code","node","doc","i","val","script","createElement","text","getAttribute","setAttribute","head","appendChild","parentNode","removeChild","toType","version","jQuery","selector","context","fn","init","prototype","jquery","constructor","length","toArray","get","num","pushStack","elems","ret","merge","prevObject","each","callback","map","elem","arguments","first","eq","last","even","grep","_elem","odd","len","j","end","sort","splice","extend","options","name","copy","copyIsArray","clone","target","deep","isPlainObject","Array","isArray","undefined","expando","Math","random","replace","isReady","error","msg","noop","proto","Ctor","isEmptyObject","globalEval","isArrayLike","makeArray","results","inArray","second","invert","callbackInverse","matches","arg","value","guid","Symbol","iterator","split","_i","toLowerCase","Sizzle","Expr","getText","isXML","tokenize","compile","select","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains","Date","preferredDoc","dirruns","done","classCache","createCache","tokenCache","compilerCache","nonnativeSelectorCache","sortOrder","a","b","pop","pushNative","list","booleans","whitespace","identifier","attributes","pseudos","rwhitespace","RegExp","rtrim","rcomma","rcombinators","rdescend","rpseudo","ridentifier","matchExpr","rhtml","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","escape","nonHex","high","String","fromCharCode","rcssescape","fcssescape","ch","asCodePoint","charCodeAt","unloadHandler","inDisabledFieldset","addCombinator","disabled","nodeName","dir","next","childNodes","e","els","seed","m","nid","match","groups","newSelector","newContext","ownerDocument","exec","getElementById","id","getElementsByTagName","getElementsByClassName","qsa","test","testContext","scope","toSelector","join","querySelectorAll","qsaError","removeAttribute","keys","cache","key","cacheLength","shift","markFunction","assert","el","addHandle","attrs","handler","attrHandle","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","namespace","namespaceURI","documentElement","hasCompare","subWindow","defaultView","top","addEventListener","attachEvent","className","createComment","getById","getElementsByName","filter","attrId","find","getAttributeNode","tag","tmp","input","innerHTML","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","unshift","expr","elements","attr","specified","sel","uniqueSort","duplicates","detectDuplicates","sortStable","textContent","firstChild","nodeValue","selectors","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","check","result","what","_argument","simple","forward","ofType","_context","xml","uniqueCache","outerCache","nodeIndex","start","parent","useCache","lastChild","uniqueID","pseudo","args","setFilters","idx","matched","matcher","unmatched","lang","elemLang","hash","location","activeElement","hasFocus","href","tabIndex","checked","selected","selectedIndex","_matchIndexes","radio","checkbox","file","password","image","submit","reset","filters","parseOnly","tokens","soFar","preFilters","cached","combinator","base","skip","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","token","compiled","_name","defaultValue","unique","isXMLDoc","escapeSelector","until","truncate","is","siblings","n","rneedsContext","needsContext","rsingleTag","winnow","qualifier","not","self","rootjQuery","root","parseHTML","ready","rparentsprev","guaranteedUnique","children","contents","prev","has","targets","l","closest","index","prevAll","add","addBack","sibling","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","content","reverse","rnothtmlwhite","createOptions","object","_","flag","Callbacks","firing","memory","fired","locked","queue","firingIndex","fire","once","stopOnFalse","remove","empty","disable","lock","fireWith","Identity","v","Thrower","ex","adoptValue","resolve","reject","noValue","method","promise","fail","then","Deferred","func","tuples","state","always","deferred","pipe","fns","newDefer","tuple","returned","progress","notify","onFulfilled","onRejected","onProgress","maxDepth","depth","special","that","mightThrow","TypeError","notifyWith","resolveWith","process","exceptionHook","stackTrace","rejectWith","getStackHook","setTimeout","stateString","when","singleValue","remaining","resolveContexts","resolveValues","master","updateFunc","rerrorNames","stack","console","warn","message","readyException","readyList","catch","readyWait","wait","completed","removeEventListener","readyState","doScroll","access","chainable","emptyGet","raw","bulk","_key","rmsPrefix","rdashAlpha","fcamelCase","_all","letter","toUpperCase","camelCase","string","acceptData","owner","Data","uid","create","defineProperty","configurable","set","data","prop","hasData","dataPriv","dataUser","rbrace","rmultiDash","getData","JSON","parse","dataAttr","removeData","_data","_removeData","dequeue","startLength","hooks","_queueHooks","stop","setter","clearQueue","count","defer","pnum","source","rcssNum","cssExpand","isAttached","composed","getRootNode","isHiddenWithinTree","style","display","css","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","unit","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","body","showHide","show","values","hide","toggle","rcheckableType","rtagName","rscriptType","fragment","createDocumentFragment","div","checkClone","cloneNode","noCloneChecked","option","wrapMap","thead","col","tr","td","_default","tbody","tfoot","colgroup","caption","th","optgroup","getAll","setGlobalEval","refElements","buildFragment","scripts","selection","ignored","wrap","attached","nodes","createTextNode","htmlPrefilter","rkeyEvent","rmouseEvent","rtypenamespace","returnTrue","returnFalse","expectSync","safeActiveElement","err","on","types","one","origFn","event","off","handleObjIn","eventHandle","events","t","handleObj","handlers","namespaces","origType","elemData","handle","triggered","dispatch","delegateType","bindType","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","nativeEvent","handlerQueue","fix","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","preventDefault","stopPropagation","postDispatch","matchedHandlers","matchedSelectors","button","addProp","hook","Event","enumerable","originalEvent","writable","load","noBubble","click","leverageNative","trigger","beforeunload","returnValue","notAsync","saved","isTrigger","stopImmediatePropagation","props","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","now","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which","focus","blur","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","pdataOld","udataOld","udataCur","fixInput","domManip","collection","hasScripts","valueIsFunction","html","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","detach","append","prepend","insertBefore","before","after","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","original","insert","rnumnonpx","getStyles","opener","getComputedStyle","swap","old","rboxStyle","computeStyleTests","container","cssText","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","marginLeft","right","pixelBoxStylesVal","boxSizingReliableVal","width","position","scrollboxSizeVal","offsetWidth","measure","round","parseFloat","reliableTrDimensionsVal","backgroundClip","clearCloneStyle","boxSizingReliable","pixelBoxStyles","pixelPosition","reliableMarginLeft","scrollboxSize","reliableTrDimensions","table","trChild","trStyle","height","parseInt","curCSS","computed","minWidth","maxWidth","getPropertyValue","addGetHookIf","conditionFn","hookFn","cssPrefixes","emptyStyle","vendorProps","vendorPropName","capName","finalPropName","final","cssProps","rdisplayswap","rcustomProp","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","setPositiveNumber","subtract","max","boxModelAdjustment","dimension","box","isBorderBox","styles","computedVal","extra","delta","ceil","getWidthOrHeight","boxSizingNeeded","valueIsBorderBox","offsetProp","getClientRects","cssHooks","opacity","origName","isCustomProp","setProperty","isFinite","getBoundingClientRect","scrollboxSizeBuggy","left","margin","padding","border","prefix","suffix","expand","expanded","parts","Tween","easing","propHooks","run","percent","eased","duration","pos","step","fx","scrollTop","scrollLeft","linear","p","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","hidden","requestAnimationFrame","interval","tick","createFxNow","genFx","includeWidth","createTween","animation","Animation","tweeners","defaultPrefilter","opts","oldfire","propTween","restoreDisplay","isBox","anim","dataShow","unqueued","overflow","overflowX","overflowY","propFilter","specialEasing","properties","stopped","prefilters","currentTime","startTime","tweens","originalProperties","originalOptions","gotoEnd","bind","complete","timer","tweener","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","time","timeout","clearTimeout","checkOn","optSelected","radioValue","boolHook","removeAttr","nType","attrHooks","bool","attrNames","getter","lowercaseName","rfocusable","rclickable","removeProp","propFix","tabindex","stripAndCollapse","getClass","classesToArray","addClass","classes","curValue","clazz","finalValue","removeClass","toggleClass","stateVal","isValidValue","classNames","hasClass","rreturn","valHooks","optionSet","focusin","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","eventPath","parentWindow","simulate","triggerHandler","attaches","rquery","parseXML","DOMParser","parseFromString","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","param","s","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rlocalProtocol","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","current","conv","responseFields","dataFilter","throws","active","lastModified","etag","url","isLocal","protocol","processData","async","contentType","accepts","json","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","overrideMimeType","status","abort","statusText","finalText","crossDomain","host","hasContent","ifModified","headers","beforeSend","success","send","nativeStatusText","modified","getJSON","getScript","wrapAll","firstElementChild","wrapInner","htmlIsFunction","unwrap","visible","offsetHeight","xhr","XMLHttpRequest","xhrSuccessStatus","xhrSupported","cors","errorCallback","open","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","scriptAttrs","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","parsed","params","animated","offset","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","using","rect","win","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","defaultExtra","funcName","unbind","delegate","undelegate","hover","fnOver","fnOut","proxy","holdReady","hold","parseJSON","isNumeric","isNaN","trim","define","_jQuery","_$","$","noConflict","require","MapCache","FUNC_ERROR_TEXT","memoize","resolver","memoized","Cache","isObject","toNumber","nativeMax","nativeMin","min","debounce","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","baseRest","pullAll","pull","convert","placeholder","identity","baseFlatten","baseOrderBy","isIterateeCall","sortBy","iteratees","r","u","o","h","f","c","weekdays","months","y","M","g","format","pl","date","D","z","utcOffset","abs","floor","year","month","Number","d","ms","Q","locale","$L","utc","$u","$offset","$d","NaN","UTC","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","day","hour","minute","millisecond","unix","valueOf","getTime","toDate","$locale","weekStart","$set","daysInMonth","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","toJSON","toISOString","toUTCString","isDayjs","en","Ls","baseDifference","isArrayLikeObject","difference","arrayMap","iteratee","overRest","setToString","baseIsEqual","isEqual","other","baseKeys","getTag","isArguments","isBuffer","isPrototype","isTypedArray","mapTag","setTag","objectProto","isEmpty","size","without","baseConvert","util","flatten","baseIteratee","basePickBy","getAllKeysIn","pickBy","predicate","path","setPrototypeOf","isFrozen","objectKeys","freeze","seal","Reflect","construct","fun","arrayForEach","unapply","arrayIndexOf","arrayJoin","arrayPop","arrayPush","arraySlice","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","regExpCreate","unconstruct","typeErrorCreate","element","lcElement","newObject","property","svg","svgFilters","mathMl","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","getGlobal","_createTrustedTypesPolicy","trustedTypes","ATTR_NAME","policyName","DOMPurify","createDOMPurify","originalDocument","useDOMParser","removeTitle","DocumentFragment","HTMLTemplateElement","Node","NodeFilter","NamedNodeMap","Text","Comment","template","trustedTypesPolicy","emptyHTML","createNodeIterator","importNode","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","addToSet","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","CONFIG","formElement","_parseConfig","cfg","_forceRemove","_removeAttribute","_initDocument","leadingWhitespace","dirtyPayload","dirty","_createIterator","_isClobbered","elm","_isNode","_executeHook","_sanitizeElements","tagName","currentNode","htmlToInsert","_isValidAttribute","lcName","lcTag","_sanitizeAttributes","idAttr","hookEvent","_sanitizeShadowDOM","shadowNode","shadowIterator","importedNode","oldNode","returnNode","nodeIterator","serializedHTML","freeGlobal","freeSelf","Function","unzipWith","zipWith","arrays","baseAssignValue","createAggregator","groupBy","throttle","baseClamp","clamp","number","lower","upper","arrayEach","baseCreate","baseForOwn","getPrototype","transform","accumulator","isArr","isArrLike","isObjectLike","isKey","stringToPath","castPath","reRegExpChar","reHasRegExpChar","escapeRegExp","baseSetData","createBind","createCurry","createHybrid","createPartial","mergeData","setData","setWrapToString","toInteger","WRAP_BIND_FLAG","WRAP_BIND_KEY_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","createWrap","bitmask","partials","holders","argPos","ary","arity","isBindKey","partialsRight","holdersRight","newData","createCtor","thisBinding","MAX_SAFE_INTEGER","reIsUint","isIndex","overArg","isFlattenable","isStrict","stubFalse","assocIndexOf","baseUnary","castArray","baseIndexOf","arrayIncludes","curryRight","guard","basePullAt","indexes","baseExtremum","baseGt","maxBy","compact","resIndex","baseIntersection","castArrayLikeObject","intersection","mapped","copyArray","nativeObjectToString","objectToString","baseGetTag","asyncTag","funcTag","genTag","proxyTag","flatRest","arrayAggregator","baseAggregator","initializer","strictIndexOf","fromIndex","baseSlice","arrayIncludesWith","comparator","SetCache","cacheHas","createSet","setToArray","LARGE_ARRAY_SIZE","baseUniq","includes","isCommon","seen","outer","seenIndex","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","keyBy","mapValues","partition","trimLeft","trimRight","tinyCounter","mathRound","mathMin","mathMax","mathRandom","tinycolor","color","rgb","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","ok","_tc_id","isDark","getBrightness","isLight","getOriginalInput","getFormat","getAlpha","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","R","G","B","pow","setAlpha","boundAlpha","toHsv","hsv","rgbToHsv","toHsvString","toHsl","hsl","rgbToHsl","toHslString","toHex","allow3Char","rgbToHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","bound01","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","rgbaToArgbHex","secondHex8String","formatSet","formattedString","hasAlpha","needsAlphaFormat","_applyModification","lighten","brighten","darken","desaturate","saturate","greyscale","spin","_applyCombination","analogous","complement","monochromatic","splitcomplement","triad","tetrad","fromRatio","newColor","convertToPercentage","stringInputToObject","isValidCSSUnit","rgbToRgb","hsvToRgb","hslToRgb","hue2rgb","q","mod","hex","pad2","charAt","convertDecimalToHex","equals","color1","color2","amount","clamp01","hue","slices","part","modification","mix","rgb1","rgb2","rgba","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","validateWCAG2Parms","level","mostReadable","baseColor","colorList","bestColor","bestScore","includeFallbackColors","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","isOnePointZero","processPercent","isPercentage","parseIntFromHex","convertHexToDecimal","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","hsla","hsva","hex3","hex6","hex4","hex8","named","parms","uniq","objectCreate","composeArgs","composeArgsRight","countHolders","createRecurry","getHolder","reorder","replaceHolders","WRAP_ARY_FLAG","WRAP_FLIP_FLAG","isCurried","wrapper","holdersCount","newHolders","isLaziable","WRAP_CURRY_BOUND_FLAG","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","stubArray","assignValue","copyObject","customizer","isNew","newValue","objValue","nativeKeys","otherArgs","memoizeCapped","rePropName","reEscapeChar","quote","subString","listCacheClear","__data__","arrayProto","listCacheDelete","lastIndex","listCacheGet","listCacheHas","listCacheSet","baseGet","baseSet","paths","toKey","isLength","arrayFilter","baseProperty","baseTimes","unzip","group","baseFor","valuesLength","valuesIndex","SemVer","loose","debug","re","compareIdentifiers","includePrerelease","LOOSE","FULL","major","minor","patch","prerelease","build","compareMain","comparePre","compareBuild","inc","release","env","NODE_DEBUG","createToken","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","createAssigner","keysIn","assignIn","basePick","pick","collator","Intl","Collator","sensitivity","log","prevRow","str2Char","Levenshtein","str1","str2","useCollator","str1Len","str2Len","curCol","nextCol","strCmp","postMessage","importScripts","fromPairs","pairs","pair","baseRandom","toFinite","freeParseFloat","nativeRandom","floating","rand","negate","omitBy","baseWhile","dropWhile","zip","baseClone","CLONE_DEEP_FLAG","CLONE_SYMBOLS_FLAG","cloneDeep","union","sin","asin","atan","atan2","acos","rad","dayMs","J1970","J2000","toJulian","fromJulian","toDays","rightAscension","declination","azimuth","phi","dec","altitude","siderealTime","lw","astroRefraction","solarMeanAnomaly","eclipticLongitude","C","sunCoords","L","ra","SunCalc","getPosition","lat","lng","times","addTime","angle","riseName","setName","J0","julianCycle","approxTransit","Ht","solarTransitJ","ds","hourAngle","getSetJ","getTimes","Jnoon","Jset","Jrise","solarNoon","nadir","moonCoords","dt","dist","getMoonPosition","pa","distance","parallacticAngle","getMoonIllumination","sdist","fraction","phase","hoursLater","getMoonTimes","inUTC","setUTCHours","setHours","hc","h0","h1","h2","rise","xe","ye","roots","x1","x2","dx","sqrt","Favico","_def","bgColor","textColor","fontFamily","fontStyle","elementId","dataUrl","_opt","_orig","_h","_w","_canvas","_img","_ready","_lastBadge","_running","_readyCb","_stop","_browser","_animTimeout","_drawTimeout","_doc","ff","InstallTrigger","chrome","opera","navigator","userAgent","ie","safari","HTMLElement","supported","_queue","hexToRgb","isUp","isLeft","x","link","getIcon","hasAttribute","getContext","icon","clearRect","drawImage","setIcon","finished","forEach","circle","more","beginPath","font","textAlign","moveTo","lineTo","quadraticCurveTo","arc","fillStyle","fill","closePath","stroke","fillText","rectangle","fillRect","badge","imageElement","newImg","ratio","video","videoElement","drawVideo","webcam","action","URL","createObjectURL","newVideo","getUserMedia","oGetUserMedia","msGetUserMedia","mozGetUserMedia","webkitGetUserMedia","audio","stream","play","paused","ended","getLink","canvas","toDataURL","shorthandRegex","def","mergedOpt","attrname","isPageHidden","msHidden","webkitHidden","mozHidden","fade","none","popFade","slide","cb","revert","animationType","browser","uniqBy","mapping","fallbackHolder","baseArity","baseAry","cloneArray","createCloner","flatSpread","wrapImmutable","cloner","isLib","isObj","config","cap","curry","fixed","immutable","rearg","defaultHolder","forceCurry","forceFixed","forceRearg","pristine","runInContext","helpers","assign","isError","isWeakMap","toPath","aryMethodKeys","aryMethod","wrappers","mixin","nthArg","castCap","iterateeRearg","iterateeAry","castCurry","castFixed","skipFixed","methodSpread","castRearg","skipRearg","methodRearg","aryRearg","cloneByPath","nested","convertLib","createConverter","realName","aliasToReal","methodName","remap","oldOptions","newUtil","newFunc","newOptions","wrapped","mutate","aryKey","otherName","afterRearg","realToAlias","alias","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","holdersIndex","rightIndex","rightLength","arrLength","oldArray","baseAssign","getNative","getValue","domExcTag","errorTag","objectTag","funcProto","funcToString","objectCtorString","weakMapTag","WRAP_REARG_FLAG","spreadableSymbol","isConcatSpreadable","isSymbol","ListCache","entries","clear","entry","assigner","sources","nativeKeysIn","hasIn","reIsDeepProp","reIsPlainProp","baseHasIn","hasPath","hasFunc","createFlow","flow","LodashWrapper","getFuncName","fromRight","funcs","prereq","thru","plant","stubString","webpackPolyfill","deprecate","basePullAll","baseIndexOfWith","baseUnset","previous","createBaseFor","keysFunc","iterable","default","ordinal","formats","LTS","LT","LL","LLL","LLLL","relativeTime","future","past","yy","Y","ll","lll","llll","from","toNow","fromNow","baseMap","baseSortBy","compareMultiple","orders","criteria","comparer","compareAscending","objCriteria","othCriteria","ordersLength","order","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","baseIsEqualDeep","Stack","equalArrays","equalByTag","equalObjects","COMPARE_PARTIAL_FLAG","argsTag","arrayTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","arraySome","COMPARE_UNORDERED_FLAG","isPartial","othLength","stacked","arrValue","othValue","compared","othIndex","getAllKeys","objProps","objLength","othProps","skipCtor","objCtor","othCtor","nativeFloor","caches","maxLength","Infinity","isDrop","gt","numeric","anum","bnum","rcompareIdentifiers","version1","version2","v1","v2","hasPre","defaultResult","er","RES_DISABLED_HASH","RES_SETTINGS_HASH","RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH","RES_NER_PAGE_HASH","MINUTE","HOUR","DAY","WEEK","fromSecondsToTime","timeInSeconds","minutes","hours","padStart","downcast","ty","waitForEvent","ele","Promise","race","waitForChild","child","observer","MutationObserver","mutations","mutation","addedNodes","ELEMENT_NODE","disconnect","observe","childList","watchForChildren","watchForFutureChildren","waitForDescendant","querySelector","subtree","waitForFutureDescendant","added","removed","removedNodes","waitForAttach","waitForDetach","watchForDescendants","ignoreChildrenIfAddedNodeMatches","watchForFutureDescendants","Set","dispatchEvent","MouseEvent","isProgrammaticEvent","getViewportSize","visualViewport","viewportSizedElement","elementInViewport","bottom","getViewportDimensions","headerOffset","getHeaderOffset","yOffset","getPercentageVisibleYAxis","padBottom","viewportHeight","currentPadding","clientHeight","paddingRequired","scrollHeight","recentScroll","scrollInvokationToken","scrollToElement","scrollStyle","restrictDirectionTo","direction","selectedDirection","anchor","waitTillVisible","_scrollInvokationToken","res","scrollBy","viewport","compensateHeader","scrollY","fromTop","buffer","newScrollY","viewportDirection","scollDirection","headerIds","fullWidth","partialWidth","_addHeaderId","includePartialWidthHeaders","reduce","getD2xBodyOffset","offsetTop","addCSS","addStyle","preventCloning","attribute","WeakSet","matchesPageLocation","excludes","includeStrings","includeRegExps","excludeStrings","excludeRegExps","isPageType","isAppType","matchesPageRegex","regexes","frontpage","comments","commentsLinklist","inbox","profile","profile2x","profileCommentsPage","prefs","account","wiki","stylesheet","search","commentPermalink","subreddit","subredditAbout","modqueue","multireddit","domain","composeMessage","liveThread","execRegexes","appType","thisApp","some","appPageTypes","r2","pageTypes","d2x","pageType","spec","pathname","thisPage","regexps","regex","currentSubreddit","isCurrentSubreddit","subreddits","sub","currentMultireddit","isCurrentMultireddit","multireddits","multi","currentDomain","currentUserProfile","fullLocation","COMMENT_CODE_REGEX","isCommentCode","emptyText","isEmptyLink","startsWith","inQuarantinedSubreddit","classList","escapeLookups","escapeHTML","str","stringTagFunction","valueTransform","strings","encode","safe","__safe__","MAX_DISTANCE_RATIO","areSimilar","levenshtein","regexRegex","htmlTagFunction","markup","childElementCount","_html","isLoggedIn","loggedInUser","documentLoggedInUser","findFirstTextNode","isModeratorAnywhere","loggedInUserHash","hashEle","HTMLInputElement","userInfo","loggedInUserInfo","modhash","usernameRE","usernameSelector","getUsernameFromLink","HTMLAnchorElement","origin","endsWith","getUserInfo","cacheFor","userHash","establish","contentStart","retrieveFromParent","MessageHandlerError","createMessageHandler","_sendMessage","errorOnUnrecognizedTypes","listeners","Map","_handleMessage","sendResponse","listener","sendMessage","addListener","apiToPromise","runtime","lastError","onMessage","sender","isPrivateBrowsing","extension","inIncognitoContext","addURLToHistory","isURLVisited","maxAge","delete_","FetchError","sameOrigin","credentials","buildRequestParams","XhrCache","processResponse","fetch","invalidate","query","siteOrigin","requestURL","searchParams","sameSite","hostname","URLSearchParams","download","filename","getExtensionId","getURL","getOptionsURL","isOptionsPage","CACHED_LANG_KEY","CACHED_MESSAGES_KEY","CACHED_MESSAGES_TOKEN_KEY","REDDIT_LANGUAGES","SPECIAL_LANGUAGES","language","isValidLocale","localeString","toLocaleString","getRedditLocale","redditLocale","requestIdleCallback","messages","_loadI18n","localStorage","getItem","buildToken","setItem","stringify","removeItem","i18n","messageName","substitutions","range","iterables","generators","it","gen","waitFor","repeat","forEachChunked","queues","frameThrottle","performance","generator","return","batch","flushBeforeUnload","invoke","batchAccumulator","promises","addPromise","startNewBatch","lastPromise","currentBatch","fastAsync","throwing","throw","asyncFlow","firstFn","accum","reifyPromise","keyedMutex","keyResolver","tail","delete","mutex","frameDebounce","update","rej","throttleQueuePositionReset","queued","idleThrottle","filterPerms","perms","permissions","origins","operation","request","granted","launchAuthFlow","clientId","warnUserInteraction","Permissions","resAuth","responseUrl","interactive","callbacks","multicast","local","crossContext","localOnly","openNewTab","openNewTabs","urls","focusIndex","clickListeners","onClick","extendDeep","__set","items","storage","_set","__get","_get","_delete","_clear","withLockOn","getMultiple","defaults","k","setMultiple","valueMap","compareAndSet","oldValue","extended","patchShallow","deletePaths","stored","deleteMultiple","sentinel","Wrapper","deletePath","keyGenerator","PrefixWrapper","keyMapper","batching","_prefix","_keyMapper","getMultipleNullable","_keyGen","getNullable","everything","acc","rawValues","wrapPrefix","destructiveKeyMapper","BlobWrapper","rootKey","_rootKey","wrapBlob","LRUCache","capacity","createTime","hitTime","forEachSeq","asyncFilter","shouldKeep","all","asyncReduce","initialValue","asyncFind","concurrentFold","baseCase","onResolve","onReject","asyncSome","asyncEvery","filterMap","elementMap","WeakMap","things","SECRET_TOKEN","thingElementsCached","Thing","thingSelector","thingElements","eles","nextElementSibling","parentElement","checkedFrom","visibleThingElements","visibleThings","thing","runTasksRange","marginTop","marginBottom","stopAfterCls","getDirectionOf","tidx","bidx","tasks","isVisible","runTasks","thingElement","entrySelector","immediate","byId","refreshPartialVisibility","isHiddenByFilter","_p","setHideFilter","isComment","getParents","setFilterReasons","DOCUMENT_POSITION_FOLLOWING","getThreadTop","getNext","excludeMoreChildren","_target","getNextSibling","getClosest","getClosestVisible","isMessage","isSubreddit","isPost","isLinkPost","isSelfPost","isTopLevelComment","getTitle","getTitleElement","getTitleUrl","getPostLink","getPostUrl","dataset","getTextBody","getCommentsLink","getCommentPermalink","getHideElement","getButtons","getNumberOfChildren","numChildrenElem","_parseScore","scoreEle","title","getScore","_getActiveScoreElement","getAllScoreElements","toScoreTuple","getAuthor","getAuthorElement","getAuthorUrl","author","getSubreddit","getSubredditLink","getPostDomain","getPostDomainLink","getPostDomainText","getPostDomainUrl","getCommentCount","getCommentCountElement","getPostThumbnailUrl","thumbnail","getPostThumbnailElement","getPostFlairText","getPostFlairElement","getUserFlairText","getUserFlairElement","getCrosspostBadgeElement","getUpvoteButton","_getVoteButton","getDownvoteButton","previousSibling","getTimestamp","getTimestampElement","getPostEditTimestamp","getPostEditTimestampElement","getFullname","getUserattrsElement","getRank","rank","getRankElement","getTaglineElement","getCommentCollapseToggleElement","setCommentCollapse","reason","openOnlyWhenSameReason","isCollapsed","getPostTime","getPostTimeElement","isNSFW","isSpoiler","isCrosspost","isLocked","isDeleted","partialAsFiltered","isContentVisible","isSelected","isUpvoted","isDownvoted","isUnvoted","registeredThings","getPostMetadata","requests","limit","raw_json","colorToArray","colorString","colorFromArray","initialTabID","selectedTabMenuItem","addDashboardTab","tabID","tabName","moduleId","BodyClasses","tabPage","tabMenuItem","CreateElement","onChange","bodyStart","sitetableStarted","contentLoaded","loadComplete","Container","isAvailable","useList","go","separate","HTMLLIElement","li","fallback","PagePhases","containers","inNavbar","updateHeaderWidth","headerButton","marginRight","userMenu","belowFixedNavbar","visibleAfterScroll","IntersectionObserver","isIntersecting","tabMenu","menu","inert","getContainer","InertContainer","addFloater","containerName","chars","randomHash","hashCode","char","hideEndpoint","unhideEndpoint","HIDE","UNHIDE","eventAction","updateElements","unhide","NAMED_KEYS","Backspace","Tab","Enter","Escape","Space","PageUp","PageDown","End","Home","Left","Up","Right","Down","Shift","Control","Alt","keyCodes","niceKeyCode","keyArray","modifiers","alt","ctrl","meta","keyCombo","keyName","checkKeysForEvent","eventHash","hashKeyEvent","arrayHash","hashKeyArray","Dayjs","dayjs","localeCode","formatNumber","formatDate","formatDateTime","formatDateDiff","formatRelativeTime","numericalCompare","op","inverseOperator","prettyOperator","interpolate","low","frac","deinterpolate","projectInto","fromLow","fromHigh","toLow","toHigh","positiveModulo","indexOptionTable","keyIndex","keyTransformer","fields","nestedArray","subKey","counter","markStart","mark","markEnd","maybePruneOldEntries","entryStorage","keepTrackDays","shouldPrune","updateTime","lastStorage","Storage","fakeSubreddits","isFakeSubreddit","fakeSubreddit","firstValid","vals","elementWatchers","page","selfText","thingWatchers","comment","post","runCallback","addCallback","actingOnElement","task","registerElement","registered","registerThing","thingWatcherCallbacks","watchForThings","watchForElements","_runLikelyVisibleTasks","screen","availHeight","filterTask","nextCheck","Boolean","registerPage","runLikelyVisibleTasks","HIDE_FOLLOWING_CLASS","r2WatcherSitetableStart","runLikelyVisibleVisibleTasks","r2WatcherContentLoaded","io","intersecting","rootMargin","unobserve","commentarea","watchList","JSAPI_CONSUMER_NAME","postAuthor","watchForRedditEvents","handleRedditEvent","expandoId","contextId","user","ownedTarget","initD2xWatcher","CustomEvent","addMissing","change","cls","versionSearchString","searchString","datas","versionSearch","searchVersion","dataString","substring","hasNavigator","dataBrowser","appVersion","OS","dataOS","vendor","platform","toggleButton","fieldID","enabled","onText","offText","isTable","usesBatch","enabling","description","item","aftercontent","fancyToggleButton","getState","refresh","_state","overlay","confirm","close","listenForEscape","makeButton","btn","LAST_SELECTED_ENTRY_KEY","currentContainer","instantly","beforePaint","idle","priority","runCallbacks","runListeners","new_","throttler","oldest","throttled","runBeforePaint","runIdle","_new","force","selectClosestInView","closestToCurrent","currentIndex","closestThings","closestVisible","movers","up","down","upSibling","downSibling","downParentSibling","upThread","downThread","toTopComment","toParent","move","targetFn","lastSelectedKey","getLastSelectedId","sessionStorage","scrollToSelectedThingOnLoad","setScrollToSelectedThingOnLoad","lastSelectedId","history","scrollRestoration","RESTables","RESTable","getRow","pageSize","columns","onRowsChanges","sortDirection","every","localeCompare","updatePage","rawRow","row","HTMLTableSectionElement","label","sortByColumn","cursor","createSearchElement","valueGetter","lastFilter","flags","createSelectFilters","initialSelected","filterSelect","HTMLSelectElement","createPaginationElement","total","pages","by","reverseCurrent","sortColumn","HTMLTableElement","tableRES","rows","getCellValue","cell","rowA","rowB","_typeof","_defineProperty","_extends","_objectSpread","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","arr2","iter","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","getParentOrHost","ctx","includeCTX","R_SPACE","currentStyle","matrix","selfOnly","appliedTransforms","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","getWindowScrollingElement","scrollingElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","elRect","innerHeight","innerWidth","containerRect","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","currentChild","Sortable","ghost","dragged","draggable","lastElementChild","previousElementSibling","getRelativeScrollOffset","offsetLeft","winScroller","indexOfObject","includeSelf","gotSelf","clientWidth","scrollWidth","elemCSS","dst","isRectEqual","rect1","rect2","_throttleTimeout","_this","cancelThrottle","Polymer","Zepto","dom","setRect","unsetRect","AnimationStateManager","animationStates","animationCallbackId","captureAnimationState","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","animateAll","animating","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","calculateRealTime","animationResetTimer","currentRect","translateX","translateY","animatingX","animatingY","repaint","plugins","initializeByDefault","PluginManager","mount","plugin","pluginEvent","eventName","sortable","eventCanceled","eventNameGlobal","pluginName","initializePlugins","initialized","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","putSortable","extraEventProperties","onName","createEvent","initEvent","pullMode","lastPutMode","allEventProperties","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","awaitingDragStarted","ignoreNextClick","sortables","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","pastFirstInvertThresh","isCircumstantialInvert","targetMoveDistance","ghostRelativeParent","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","secondChildWidth","flexDirection","gridTemplateColumns","touchingSideChild2","_dragElInRowColumn","dragRect","targetRect","vertical","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_detectNearestEmptySortable","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_prepareGroup","toFn","sameGroup","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","nearestEmptyInsertDetectEvent","nearest","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","store","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","dataTransfer","dropBubble","dragoverBubble","dataIdAttr","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_getDirection","touch","originalTarget","shadowRoot","composedPath","_saveInputCheckedState","isContentEditable","_prepareDragStart","dragStartFn","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDraggable","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","_onTouchMove","_onDragStart","_nextTick","getSelection","removeAllRanges","_dragStarted","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","inserted","ghostMatrix","relativeScrollOffset","dy","cssMatrix","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","isOwner","canSort","fromSortable","completedFired","dragOverEvent","axis","onMove","_onMove","changed","insertion","_showClone","_ignoreWhileAnimating","elLastChild","_ghostIsLast","targetBeforeFirstSwap","differentLevel","differentRowCol","side1","scrolledPastTop","scrollBefore","_getSwapDirection","dragIndex","moveVector","_unsilent","_offMoveEvents","_offUpEvents","clearInterval","_cancelNextTick","save","handleEvent","_globalDragOver","_generateId","destroy","dropEffect","willInsertAfter","onMoveFn","retVal","draggedRect","relatedRect","spacer","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","_getInsertDirection","sum","inputs","utils","nextTick","cancelNextTick","detectDirection","_len","autoScrolls","scrollEl","scrollRootEl","scrolling","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","AutoScrollPlugin","AutoScroll","scroll","scrollSensitivity","scrollSpeed","bubbleScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","_ref2","dragOverBubble","drop","clearPointerElemChangedInterval","clearAutoScrolls","nulling","autoScroll","ogElemScroller","newElem","pid","isFallback","sens","scrollThisInstance","scrollCustomFn","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","toSortable","onSpill","Revert","startIndex","dragStart","_ref3","Remove","_ref4","parentSortable","OnSpill","lastSwapEl","SwapPlugin","Swap","swapClass","dragOverValid","prevSwapEl","swapNodes","swapItem","n1","n2","p1","p2","i1","i2","isEqualNode","multiDragElements","multiDragClones","lastMultiDragSelect","multiDragSortable","initialFolding","folding","dragEl$1","clonesFromRect","clonesHidden","MultiDragPlugin","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragElement","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","_this2","removeMultiDragElements","dragOver","_ref8","_ref9","insertMultiDragElements","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","originalEvt","multiDragIndex","nullingGlobal","destroyGlobal","deselect","_this3","oldIndicies","newIndicies","clones","clonesInserted","elementsInserted","drawOptionBuilder","optionName","$addRowButton","$itemContainer","moduleID","addItemText","$newBody","drawBuilderItem","defaultTemplate","customOptionsFields","cases","firstText","$editButton","$item","readBuilderItem","prompt","$deleteButton","drawDeleteButton","customOptions","drawFields","$header","drawHandle","note","ver","$body","drawBuilderBlock","addBaseControls","$block","$firstBlock","readBuilderBlock","readFields","$element","BlockClass","multiType","validate","field","$fieldElem","fieldModule","builderFields","read","draw","$rowWrapper","addItem","itemData","addCaseSelect","defaultConditions","$elem","$input","checkset","prefixId","$wrap","itemId","$box","$label","durr","days","getPredefinedChoices","$dropdown","Module","moduleName","category","descriptionRaw","keywords","bodyClass","include","exclude","shouldRun","onToggle","onSaveSettings","disabledByDefault","alwaysEnabled","onInit","beforeLoad","afterLoad","requiredPermissions","getModuleId","opaqueId","setEnabled","enable","guiders","_defaultSettings","attachTo","autoFocus","buttonCustomHTML","classString","closeOnEscape","highlight","isHashable","onClose","onHide","onShow","shouldSkip","xButton","_htmlSkeleton","_arrowSize","_backButtonTitle","_buttonAttributes","_buttonClassName","_buttonClickEvent","_buttonElement","_closeButtonTitle","_currentGuiderID","_fixedOrAbsolute","_guiders","_lastCreatedGuiderID","_nextButtonTitle","_offsetNameMapping","_windowHeight","ieBrowserMatch","_isIE","_ieVersion","_addButtons","myGuider","guiderButtonsContainer","thisButton","thisButtonElem","thisButtonName","onclick","hideAll","myCustomHTML","_addXButton","xButtonContainer","_attach","myHeight","myWidth","fixedOrAbsolute","topMarginOfBody","outerHeight","attachToHeight","attachToWidth","bufferOffset","positionType","_styleArrow","_dehighlightElement","_hideOverlay","_highlightElement","_initializeOverlay","_showOverlay","myGuiderArrow","arrowOffset","_showIfHashed","GUIDER_HASH_TAG","hashIndex","hashGuiderId","_updatePositionOnResize","_resizing","resize","reposition","_unwireEscape","_wireEscape","keydown","createGuider","passedSettings","guiderElement","guiderTitleContainer","getCurrentGuider","omitHidingOverlay","currentGuider","nextGuiderId","nextGuider","prevGuider","prevGuiderId","scrollToCurrent","windowHeight","guiderOffset","guiderElemHeight","scrollToHeight","isGuiderBelow","isGuiderAbove","loadRaw","optionKey","getModified","Modules","enabledByDefault","isEnabled","moduleStatusChanged","modifiedOptions","moduleStatus","getModifiedText","lines","optionMaxLength","moduleMaxLength","padEnd","stagedOptions","clearStagedOptions","stageOption","optionValue","commitStagedOptions","modId","_option","hasStagedOptions","getStagedOptions","getMatchingValueOrAdd","valueIdentifier","instances","openDelay","fadeDelay","fadeSpeed","noconfig","closeOnMouseOut","Hover","_defaultOptions","getInstance","TypeClass","infocard","HoverInfoCard","dropdownList","HoverDropdownList","getFixedParent","pin","_options","instanceID","_hideTimer","_showTimer","_closeFadeTimer","_callback","_container","_fixedPosition","_closePromise","_closePromiseResolve","_checkMouseLeave","getCheckedTarget","instance","_startHideTimer","_startShowTimer","_cancelHideTimer","_cancelShowTimer","persistent","persistentOptions","Options","populateWith","_render","_addContainerHandlers","_clearCloseFade","begin","watch","_displayLoadIndicator","populate","fixedParent","onScroll","_updatePosition","_positionContainer","scrollX","resetShowTimer","_startCloseFade","transitionDuration","_loadIndicator","$container","tooltipWidth","tooltipLeft","tooltipTop","bottomPadding","bottomAlign","leftAlign","outerWidth","launch","menuItem","addMenuItem","Menu","commandLine","widget","tip","setTip","sanitize","clearTip","setError","clearError","getTip","commandLineForm","executeCommand","initialCmd","navigateTo","commands","registerCommand","commandPredicate","getCommandSpec","command","commandSpec","predicateResult","splitWords","matchingCommandSpec","loggedIn","currentUser","Alert","optionsRegex","moduleDataRegex","sanitizeStorageKey","HTMLTextAreaElement","sortTypes","sortTypeRecognizesPeriod","sortType","periods","getPeriod","period","_navigateTo","cmd","descriptions","gearIconClickAction","advanced","gear","showDropdown","CommandLine","hideDropdown","SettingsNavigation","addLegacyStyling","buildItem","getElement","backgroundImage","showAllOptions","showAllOptionsAlert","findModules","isSettingsUrl","makeUrlHashLink","displayText","cssClass","makeUrlHash","parseHash","hashComponents","setHash","replaceState","pushState","iframe","contentWindow","failedToLoad","closing","handleEmbedFailure","loadSuccess","sticky","closeDelay","fadeOutLength","notificationTypes","addRowText","notificationsContainer","lastShownStorage","activeNotifications","showNotification","_delay","notificationID","header","outerHTML","noDisable","inner","existing","notification","isSticky","fadeDuration","resetCloseTimer","fadeTimer","hideTimer","cooldown","maxHeight","MIN_PENALTY","MAX_PENALTY","delayFeatures","suspendFeatures","features","alterFeaturePenalty","valueDelta","getOrAddFeatures","monitoring","penalty","suspendFeature","stopMonitoringFeature","getFeaturePenalty","penalizedDelay","delayOption","penalizedValue","featureModule","featureOptionLink","Notifications","pardonSuspendedFeature","Case","getSelectedEntryValue","SelectedThing","conditions","thingToCriterion","criterionToConditions","cased","fromConditions","evaluate","criterion","parseCriterion","criterionOperators","Cases","propagateError","CaseClass","buildRegex","fullMatch","patt","getCustomFilter","_customFilter","trueText","falseText","observers","isEvaluatable","hasType","onObserve","reconcile","variant","PatternCase","variants","variantLoop","possibleVariant","fullMatchDefault","pattIfEmpty","plain","_patt","CommentCount","isInteger","commentCount","hideWhenUnchanged","cleanComments","subscriptionLength","showSubscribeButton","notifyEditedPosts","dependsOn","monitorPostsVisited","monitorPostsVisitedIncognito","subscriptionStorage","subscriptionButton","refreshSubscriptionButton","getNewCount","displayNewCommentCount","addDashboardFunctionality","listingThing","currentCommentCount","checkSubscriptions","setEntry","getId","updateCurrentCommentCountFromMyComment","hasEntry","newCommentCount","currentCount","lastOpenedCount","newCount","timestamp","isRecent","isMine","subscriptions","unsubscribe","subscribe","newEditedTime","subscriptionDate","editedTime","subscription","checkThread","num_comments","edited","createButton","$button","updated","expires","Table","NewCommentCount","N","CommentsOpened","Domain","Host","domains","logo","landingPage","attribution","detect","handleLink","getVideoData","audioTemplate","loop","galleryTemplate","credits","imageTemplate","openInNewWindow","iframeTemplate","textTemplate","videoTemplate","poster","hasAudio","reversable","formattedPlaybackRate","mediaControlsTemplate","downloadUrl","lookupUrl","clippy","siteAttributionTemplate","logoUrl","settingsLink","crosspostMetadataTemplate","crosspostRootTitle","crosspostRootScore","crosspostRootSubreddit","targetParentFullname","crosspostRootNumComments","crosspostRootTime","crosspostRootAuthor","expandos","activeExpandos","opened","Expando","getEntryExpandoFrom","buttonPlaceholder","boxPlaceholder","collapse","reattach","cachedhtml","getTextExpandosFrom","md","expandoSelector","exp","getAllExpandosFrom","inText","expandWanted","expandCallbacks","media","generateMedia","buttonInfo","mediaClass","updateButton","onExpand","initialize","getDuplicates","setLock","attachMedia","duplicate","onAttach","aarId","errors","previousurl","authorurl","slides","desc","imglink","embed","fixedRatio","formattedUrl","dashboardId","expandoClass","playlist","muted","isGifv","embedAutoplay","pause","autoplay","fetchInfo","images","ids","responseById","img","duplicate_of","source_url","fullsize_url","thumbnail_url","author_url","author_name","genericHosts","originalURL","photoId","base58Encode","enc","oembedTarget","validSuffix","useMobileGfycat","isMobileResolution","gfyItem","frameRate","playbackRate","mobilePosterUrl","posterUrl","mobileUrl","webmUrl","mp4Url","sauce","api_key","mp4","dynCall_v","dynCall_vi","I","nofollow","tocIdPrefix","enableToc","E","ArrayBuffer","HEAP8","Int8Array","HEAP16","Int16Array","HEAP32","Int32Array","HEAPU8","Uint8Array","HEAPU16","Uint16Array","HEAPU32","Uint32Array","HEAPF32","Float32Array","HEAPF64","Float64Array","preloadedImages","preloadedAudios","ze","nr","je","fr","S","F","Ke","Be","V","de","he","De","lr","Me","Re","U","Fe","we","me","Pe","qe","Ye","Oe","_e","pe","P","O","T","K","Ue","W","X","J","rr","ir","ar","or","cr","sr","ur","He","Te","br","ge","kr","vr","dr","hr","wr","mr","pr","yr","gr","Ar","Cr","Sr","xr","Ne","Le","Er","Ae","Ir","Ur","qr","Pr","Or","Hr","Tr","Kr","Mr","Rr","Nr","jr","zr","Br","Dr","Ce","Fr","Lr","Yr","Zr","Gr","Vr","Wr","Xr","$r","Qr","Jr","Se","ee","Ee","ae","fe","ne","te","oe","le","ce","se","ue","be","ke","ve","Ie","imul","clz32","___muldi3","___udivdi3","_bitshift64Lshr","_bitshift64Shl","_default_renderer","_emscripten_get_sbrk_ptr","_free","_i64Add","_i64Subtract","_llvm_ctpop_i32","_malloc","_memcpy","_memmove","_memset","_wiki_renderer","dynCall_iii","dynCall_iiii","dynCall_iiiii","dynCall_iiiiii","dynCall_iiiiiii","dynCall_vii","dynCall_viii","dynCall_viiii","dynCall_viiiii","establishStackSpace","stackAlloc","stackRestore","stackSave","subarray","extraStackTrace","asm","markdown","markdownWiki","files","truncated","coords","long","zoom","mapType","testWithTitle","titleResult","preferResAlbums","useGifOverGifv","preferredImgurLink","imgurImageResolution","hashRe","hostedHashRe","galleryHashRe","albumHashRe","_api","_handleImage","_handleImageCollection","endpoint","Authorization","_mockImageAPI","thisCdnUrl","looping","has_sound","gifv","hashes","is_album","getInfo","baseUrl","shareLinkPreferred","resolutionSuffix","useGif","_handleAlbum","_handleGifv","_handleSingleImage","fullname","postMetadata","preview","gif","categories","clipId","encodedUrl","btoa","processFile","webUrl","route","imageUrl","base36","postId","cdnUrl","sourceUrl","maxSize","photo_src","photo_caption","uri","publishedfiledetails","preview_url","previewUrl","file_url","fileUrl","itemcount","ext","short","alphabet","alphabetMap","parseViewShortId","pathMatch","h1_title","generatedcaption","blog","posts","render","photos","photo","original_size","dialogue","phrase","asking","asking_url","asking_name","question","answer","channel","typeId","videoId","channelOrVideo","omit_script","$dummy","generate","urlObj","pics","replaceNativeExpando","mpd","manifest","reps","rep","announcementsSubreddit","isBeta","isPatch","isMinor","isMajor","updatedURL","homepageURL","packageInfo","req","Metadata","article","decodeURIComponent","sectionId","sections","cleanDoc","displaytitle","vParam","uParam","tParam","timeBlocks","timeRe","timeMatch","ts","_id","contentDetails","rawDuration","snippet","publishedAt","statistics","viewCount","mParam","clipType","siteModules","__hosts","defaultVideo","defaultAudio","mediaBrowse","browsePreloadCount","galleryPreloadCount","conserveMemory","displayOriginalResolution","selfTextMaxHeight","commentMaxHeight","autoMaxHeight","hideNSFW","highlightNSFWButton","highlightSpoilerButton","imageZoom","imageMove","mediaControls","mediaControlsPosition","crossposts","displayImageCaptions","captionsPosition","markVisited","markSelftextVisited","sfwHistory","galleryRememberWidth","galleryAsFilmstrip","filmstripLoadIncrement","useSlideshowWhenLargerThan","showViewImagesTab","autoExpandTypes","autoExpandSelfText","autoExpandSelfTextFirstVisibleNonMuted","autoExpandSelfTextNSFW","showSiteAttribution","expandoCommentRedirects","startVideosMuted","onlyPlayMutedWhenVisible","maxSimultaneousPlaying","autoplayVideo","hidePinnedRedditVideos","siteModule","siteModuleOptionKey","scanBody","checkElementForMedia","viewImagesButton","updateParentHeight","spotlight","nextprev","enableConserveMemory","isSiteModuleEnabled","sitesMap","modulesForHostname","fullscreenActive","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","boxMap","ioBox","setLoaded","buttonMap","ioButton","supportsUnload","autoExpandActive","mediaBrowseModeActive","isExpandWanted","toggleThingExpandos","scrollOnToggle","openExpandos","autoExpandFirstVisibleNonMutedInThing","autoExpand","ignoreDuplicatesScope","preloadExpandos","fromThing","preloadCount","pieces","preloadMedia","unselected","allowMediaBrowse","oldExpando","newExpando","hasEntryAnyExpandedNonMuted","matchesTypes","wantedTypes","expandoTypes","ignoreDuplicates","onlyExpandMuted","expandoIsNonMuted","typeCriteriaOK","muteCriteriaOK","resolveMediaUrl","fullDataUrl","commentLink","promptSiteModulePermissions","urlStripRe","disableHostButton","finally","generateSiteModuleLock","_resolve","_reject","linksMap","getLinkExpando","entryExpando","nativeExpando","trackNativeExpando","mediaUrl","detectResult","placeExpando","trackMediaLoad","completeExpando","mediaOptions","isMuted","getMediaButtonInfo","addSiteAttribution","hideButton","wasOpen","lightbox","dontAutoExpandNSFW","basisHeight","expandoHeight","trackLoad","defaultClass","IMAGE","GALLERY","TEXT","VIDEO","IFRAME","AUDIO","GENERIC_EXPANDO","lastPreloadIndex","piece","Gallery","Image","Iframe","Video","Audio","Generic","observed","resizeObserver","ResizeObserver","contentRect","Media","onResize","resizing","rotationState","_unload","_restore","makeIndependent","independent","willChange","keepVisible","basisLeft","isAligned","elementWidth","viewportWidth","elementLeft","elementRight","deltaLeft","setMaxSize","makeZoomable","dragInitiater","absoluteSizing","initialWidth","initialHeight","initialDiagonal","getDiagonal","hypot","addDragListener","atShiftKey","onStart","deltaX","deltaY","conversionFactor","newWidth","makeMovable","addControls","compensateTransformedSize","compensateTransformedSizeObserver","updateRotation","individualCtrl","msgPosition","ctrlToFilmstrip","ctrlConcurrentIncrease","lastRevealedPiece","filmstripActive","rememberResizeWidth","lastResizedWidth","piecesContainer","ctrlPrev","ctrlNext","slideshowWhenLargerThan","expandFilmstrip","changeSlideshowPiece","shouldRememberResizeWidth","rememberWidth","resizedElement","resizedWidth","restoreWidth","resizeElement","revealPiece","preloadAhead","preloadFrom","preloadTo","revealFrom","revealTo","innerText","previousIndex","HTMLImageElement","naturalWidth","naturalHeight","pauseCommand","playCommand","loaded","HTMLIFrameElement","iframeWrapper","dragHandle","HTMLAudioElement","trackVisitNative","links","$replace","hasFrameExecution","setFrameExecution","isActive","hasMoved","lastX","lastY","handleMove","movementX","movementY","handleClick","mutedVideoManager","videos","updatePlay","notVisible","intervalId","reversed","useVideoManager","formatMultilineNumber","HTMLVideoElement","msgError","displayError","sourceElements","canPlayType","lastSource","setPlayIcon","controls","addVideoControls","stopAutoplay","volumeStorage","volume","toggleAttribute","toFixed","ctrlContainer","ctrlReverse","ctrlTogglePause","ctrlSpeedDecrease","ctrlSpeedIncrease","ctrlTimeDecrease","ctrlTimeIncrease","indicatorPosition","ctrlPosition","msgSpeed","msgTime","percentage","ctrlVolume","ctrlVolumeLevel","volumePercentage","updateVolume","newHeight","ShowImages","_matches","_waitTillReady","completeTask","IsLocked","IsNSFW","IsSpoiler","IsVisited","LinkFlair","PostAfter","postTime","qualifiers","prettifyAge","remainder","remainderQualifier","multiplier","PostAge","age","ageQualifier","PostTitle","PostType","kind","Score","score","Selector","Subreddit","UserAttr","myName","UserFlair","toggles","customToggles","initialEnabled","Toggle","onStateChange","registerCommandLine","stateChangeCallbacks","toggleCallbacks","addCLI","buildCheckbox","getToggles","toggleActive","Filter","BaseCase","effects","updatePromise","case","setCase","getEffects","setParent","getStateText","getSaveValues","effect","removeFilter","newCase","describeOnly","updateByInputConstruction","disableFilter","reverseActive","fromSelected","getMatchingEntry","removeEntry","buildReasonElement","ExternalFilter","toggleEffects","FilteReddit","setActive","LineFilter","externOpts","propagate","initialConditions","getBuilder","filterline","card","builderCases","thingType","lastConditions","$builderBlock","caseBuilder","lastFocus","builder","isCaseChanged","refreshElement","showInfocard","immediately","populateHover","redraw","addButton","groupName","ondemand","customFilter","CommentNavigator","numberSpan","hidePermanently","Filterline","sortedFilters","currentMatches","permanentlyHiddenThings","displayReasons","dropdown","preamble","filterContainer","poweredElement","permanentlyHideCheckbox","togglePowered","powered","isPowered","deferredFilters","lastUsed","availableEffects","_refreshAfterChange","backgroundColor","removePlaceholders","replaceWithPlaceholder","checkEmptyState","refreshThing","invokedByFilter","effectsToRefresh","filtersToTest","getFiltersToTest","updateEffect","refreshDisplayReasonsChunked","getActiveFilters","toggleDisplayReasons","refreshDisplayReasons","isInitialized","addFilterElements","createDropdown","getFiltersOfCase","getPickable","addDetails","summary","dp","CaseClasses","createNewFilterElement","_getAsConditions","getAsConditions","of","reload","displayReasonsCheckbox","permanentlyHide","updatePermanentlyHideCheckbox","unhidePermanently","RESTips","indeterminate","getThings","newOpts","createFilter","redditHide","redditUnhide","hasEffect","extracted","resumeDeferredTypes","createFilterFromStateValues","restoreState","getFilter","deferredOpts","getCLI","deconstruct","asNewFilter","findMatchingCases","deconstructed","bestMatch","MatchedCase","actionDescription","addFilter","timing","navigationStart","currentFilter","invokedByFilterIndex","currentFilterIndex","addThing","withEffect","newState","reasons","hideUntilProcessed","NSFWfilter","allowNSFW","listType","NSFWQuickToggle","showFilterline","excludeOwnPosts","excludeModqueue","excludeUserPages","useRedditFilters","reconcileNativeFilters","filterSubredditsFrom","forceSyncFilters","warnNotLoggedIn","users","usersMatchAction","usersMatchRepliesAction","flair","customFiltersP","customFiltersC","featureTips","quiet","filterlineVisible","pageID","filterlineStorage","customFilterVariant","createStateFromTypes","defaultFilters","nsfwToggle","_filterlineResolve","filterlinePromise","ensureFilterlineVisible","updateNsfwBodyClass","CustomToggles","updateNsfwThingClass","_visible","populateFromOptions","shouldFilter","makeFilterlineInteractable","registerSubredditFilterCommand","insertFilterline","filterlineTab","continuation","ListFilter","externalKey","caseType","additionalCriteria","useEffects","_listFilter","addExternalFilter","getStringMatchConditions","_effects","matching","toggleEntry","findEntry","matchString","includesString","toggleString","listFilters","getConditions","customFilters","addOndemandCase","onlyUseful","addCustomFilter","updateCustomFilter","saveFilterlineStateAsDefault","applyTo","applyList","except","mainFilter","applyToConditions","findIndex","getTopScore","resp","topScoreBySub","sortByPopularity","scores","desired","toRemove","toAdd","model","subredditAllowNsfwOption","allowAllNsfw","currOptionValue","postSubreddit","currSubreddit","postOptionValue","filterOn","browserToolbarButton","ignoredStorage","PageAction","shouldDisable","hasToggleableElements","createToggle","nightmodeCompatible","initialState","NightMode","ignoredSubreddits","toggleElements","makeInteractable","place","insertCheckbox","getStylesheet","getHeaderImg","headerImg","imgWrapper","toggleStylesheet","shouldRestore","subredditStylesheet","toggleHeaderImg","nightModeOn","nightSwitch","automaticNightMode","nightModeStart","nightModeEnd","nightModeOverrideHours","useSubredditStyles","subredditStylesWhitelist","coloredLinks","localStorageKey","nightModeActive","nightmodeOverrideStorage","isNightmodeCompatible","refreshStyle","refreshAutomaticNightMode","isAllowedByOptions","Init","isWhitelisted","isSubredditCompatible","compatible","Session","SubredditStyleToggle","toggledSubredditStyle","toggledOn","currSub","whitelist","nightModeOverrideStart","nightModeOverrideLength","nightModeOverrideEnd","isTimeForNightMode","getGeolocation","geolocation","getCurrentPosition","getNightModeTimes","latitude","longitude","sunrise","sunset","getSunriseSunset","startingTime","endingTime","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","timeStringToDate","matchMedia","timeString","removeStyle","bgToTextColorMap","showTaggingIcon","storeSourceLink","useCommentsLinkAsSource","trackVoteWeight","vwNumber","truncateTag","presetTags","tagStorage","Tag","applyFromElement","applyToUser","renderTaggingIcon","attachVoteHandler","renderVoteWeight","getUnfilled","tags","buildTagElement","getStored","votesUp","votesDown","getBaseDifference","extract","votes","showNotice","unignore","openPrompt","getLinkBasedOnTagLocation","tagger","populateDialog","vw","getVoteWeightStyle","defaultTagElement","colors","presetSaveAs","presetTag","presetFieldPair","openLink","textShouldBeUpdated","updateTagPreview","buildPresetTagElement","saveAsPreset","alert","setSelectionRange","handleVoteClick","arrow","$this","$otherArrow","alpha","tagSpan","deleteSpan","UserTag","UserVoteWeight","UserTagger","Username","VoteType","CommentContent","CommentLength","Depth","IsDeleted","monitorSelected","monitorWhenIncognito","currentId","maybeHidePrevious","isRead","_add","IsRead","ReadComments","BrowsingFrontPage","CurrentLocation","CurrentMulti","rawMulti","CurrentUserProfile","CurrentSub","Dow","currentDOW","LoggedInAs","loggedInAs","getOptions","toggleName","Inert","True","False","Group","_cases","toCriterion","NONE","ANY","ONE","ALL","evaluators","seenTrue","evaluator","falseConditions","trueConditions","inertConditions","resolveGroup","precompute","keepGroup","available","typeSorted","getGroup","createAdHoc","AdHoc","getUniqueTypeName","primitives","populatePrimitives","false","true","postCases","commentCases","browseCases","filterThings","getByContext","primitivesOnly","isUseful","keepLoggedIn","accounts","updateOtherTabs","reloadOtherTabs","showCurrentUserName","dropDownStyle","showUserDetails","showKarma","showGold","storedPassword","requiresOtp","downArrow","manageAccounts","userLink","createAccountMenu","usernames","switchTo","accountMenu","goldExpDate","gold_expiration","link_karma","comment_karma","is_gold","logoutPromise","otp","passwd","rem","switchedAccountElsewhere","reloadPage","jqueryRpc","hasDraft","textarea","subredditsForDiagnostics","checkIfSubmitting","submitWizardTemplate","foolin","bugs","submitIssueDefaultBody","diagnostics","BrowserDetect","cookieEnabled","subredditInput","showWizard","injectTemplate","hideWizard","diagnosticsStripped","selfTextStripped","updateSubreddit","wizard","fetchLinks","guiderId","guider","parseObjectList","content_md","dictText","dictMapping","rawLine","line","userAutocomplete","subredditAutocomplete","wikiAutocomplete","formattingToolButtons","keyboardShortcuts","boldKey","italicKey","strikeKey","superKey","linkKey","quoteKey","ctrlEnterSubmitsComments","ctrlEnterSavesLiveThreads","ctrlEnterSubmitsPosts","commentingAs","highlightIfAltAccount","showInputLength","macroButtons","macros","keepMacroListOpen","macroPlaceholders","enabledOnBanMessages","SUBMIT_LIMITS","STYLESHEET","SIDEBAR","DESCRIPTION","WIKI","COMMENT","LIVE_COMMENT","POST","POST_TITLE","BAN_MESSAGE","macroCallbackTable","macroKeyTable","commentTextareaSelector","attachEditorToUsertext","initializeCtrlEnterToSubmit","initializeLengthCounters","initializeAutocomplete","onCtrlEnter","currentForm","saveButton","$captcha","updateCounter","initializeEditorTools","findTextareaForElement","thisCat","testedKeyArray","macroIndex","getFieldLimit","bar","makeEditBar","cachedEditBar","$editBar","wrappedEditBar","commentingAsMessage","AccountSwitcher","shortcuts","makeEditButton","wrapSelection","wrapSelectedWords","linkSelection","wrapSelectedLines","selectedText","selectionStart","selectionEnd","numSeparator","startTable","prevTable","currText","generatedTable","generatedTableSeparation","replaceSelection","addRow","remRow","addCol","remCol","nbCol","newRow","$buttonContainer","$counter","buildMacroDropdowns","addMacroButton","addButtonToMacroGroup","macroDropDownTable","getMacroGroup","macroGroup","titleButton","getDebugMacros","editBar","macroSelection","$macroWrapper","defaultGroup","macroButtonIndex","macroText","fillPlaceholders","placeholders","completedPlaceholders","placeholderInnerText","getMagicPlaceholderValue","promptForPlaceholderValue","magicPlaceholders","$next","furthest","$base","isEditing","toTimeString","toDateString","SubmitIssue","escapeFunction","beforeSelection","afterSelection","trailingSpace","replacement","startPosition","lineStart","lineEnd","startMovement","endMovement","selectedWords","selectionModify","newLinePosition","lastIndexOf","autoCompleteMatchRegExp","prefixText","completions","getUserCompletions","getSubredditCompletions","getWikiCompletions","autoComplete","caretPos","updateSelection","navigate","textareaOffset","loadAllTags","wikiPages","wikiPage","perAccountDisplayText","hideAllUsernames","hideAccountSwitcherUsernames","showUsernameOnHover","substitutes","substitute","getDisplayText","hideUsername","userHref","curatedBy","curatedByUsername","openQuickMessage","defaultSubject","sendAs","handleContentLinks","handleSideLinks","linkToCurrentPage","lastSentAsStorage","openQuickMessageDialog","messageLinkEventHandler","quickMessageDialog","$dialog","subject","closeQuickMessageDialog","CommentTools","getFullMessageFormUrl","updateModeratorIcon","hasModifier","srMatch","getValidSendFrom","UsernameHider","modSubs","setUpSendFromDropdown","senders","currentOption","focusFirstEmpty","updateSelectedSender","desiredUser","sendAsOptions","indexToSelect","lastSelected","presetSendErrors","NO_USER","NO_SUBJECT","NO_TEXT","BAD_CAPTCHA","TOO_LONG","api_type","from_sr","highlightSelf","selfColor","selfColorHover","highlightOP","OPColor","OPColorHover","highlightAdmin","adminColor","adminColorHover","highlightAlum","alumColor","alumColorHover","highlightFriend","friendColor","friendColorHover","highlightMod","modColor","modColorHover","highlightOpMentions","opMentionsColor","opMentionsHover","highlightFirstCommenter","dontHighlightFirstComment","firstCommentColor","firstCommentColorHover","fontColor","autoColorUsernames","autoColorUsing","generateHoverColors","updateNewUsernames","updateFirstComments","selftext","highlightMentionedUsers","hoverColor","idClass","authorClass","colorGetter","doTextColor","lum","minLum","maxLum","nightmodeColor","monochrome","highlightUser","userid","UserInfo","highlightColor","highlightColorHover","colorData","generateHoverColor","hoverInfo","useQuickMessage","hoverDelay","gildComments","highlightButton","highlightedUsers","showUserInfo","is_suspended","created_utc","is_friend","userHTML","userTaggerEnabled","userTag","isHighlight","getButton","toggleUserHighlight","giveGold","QuickMessage","entryUrl","permalink","authorInfoToolTipHighlight","toggleUserHighlightButton","UserHighlight","openOnHighlightUser","canHighlight","behavior","useLinklistBehavior","wheelBrowseWidget","onWheel","setCallback","galleryPart","updateGalleryPart","clicker","showByDefault","popularConditions","installEntryElement","commentNav","WheelBrowse","getMatchingCategory","getCategories","matchingCategory","setCategory","_memoized","updateFromSelected","custom","submitter","moderator","friend","admin","highlighted","getElements","highlightedUserSelector","tagged","gilded","IAmA","getPosts","popular","nonlinear","new","upvoted","updateCustomConditions","currentCategory","getVisiblePosts","lastNavigatedTo","isOpen","selectedItem","updateBuilder","postCount","HTMLButtonElement","lastNavigatedToIndex","commentNavToggle","choices","keepSelected","konami","createKonami","$baconBit","konamiActive","almostThere","prepattern","automatic","hideNested","initialHide","toggleAllButton","addToggleChildrenButton","addToggleAllButton","includeChildren","toggleAll","returnToPrevPage","autoLoad","pauseAfterEvery","showPauseButton","reversePauseIcon","showServerInfo","dupeSet","pauseReasonStorage","pauseReason","nextPageUrl","retrieveNextPageUrl","loadReturnToPrevPage","initiateReturnToPrevPage","setPause","distanceFromBottom","prefetchNextPage","loadNextPage","prepareNextPageLoad","getLastSiteTable","getNextPrevLinks","getNextPageUrl","refreshAutoLoad","displayEndBanner","endNER","pauseAfterPages","startPromise","donePromise","loadPage","createLoaderWidget","pauseButton","isNerUrl","setReturnToPage","$earlierMarkers","marker","ner","loadPromise","setLoaderWidgetActionText","scrollToLoadWidget","prefetchIo","displayPauseReason","pauseReasonIo","loadNextPageIo","updateWidget","fetchPage","attachPromise","newSiteTable","noresults","pageMarker","firstLen","lastLen","class","moreinfo","disableVoteButtons","disableCommentTextarea","evenIfSubscriber","escapeNP","isNpHostname","boilerplateNotificationText","noParticipationActive","removeNpFromLink","isNPIrrelevant","notifyNpIrrelevant","applyNoParticipationMode","isSubscriber","isVotingBlocked","nonNpLocation","nonNpUrl","notifyNpActive","votedOnButtons","notifyNoVote","voteButton","canUndoVote","revertVote","notifyNoComment","watchForVote","voteButtons","savedCommentStorage","saveElement","drawSavedComments","saveComment","getCommentContent","permaLink","timeSaved","savedCommentsTemplate","keyNavTip","moduleDescription","keyNavHash","savePostKey","saveCommentKey","saveRESKey","dateTime","timeAgo","savedComments","KeyboardNav","savePost","saveRES","unsaveid","showEducationalNotification","showCommentHover","startHover","voteClasses","$targetButton","removeClickHandlers","$midcol","startDir","newDir","$parents","topParentURL","topParentId","openOrder","hideLEC","openFrontpage","openBackground","invokeOnPostMap","frontpageLink","ordered","focused","linearScrollStyle","nonLinearScrollStyle","linkNumbers","linkNumberPosition","linkToggleExpando","linkNumberAltModeModifier","linkNewTab","onHideMoveDown","onVoteMoveDown","onVoteCommentMoveDown","followLinkNewTabFocus","toggleHelp","toggleKeyNavHelp","toggleCmdLine","requiresModules","enterFilterCommandLine","hideLink","moveUp","moveDown","moveDownFallback","moveUpComment","moveDownComment","moveTop","moveBottom","moveUpSibling","moveDownSibling","moveDownParentSibling","moveUpThread","moveDownThread","moveToTopComment","moveToParent","undoMove","showParents","ShowParent","getSelected","assertElement","followLink","followLinkNewTab","toggleExpando","scrollOnExpando","imageSizeUp","imageResize","factor","imageSizeDown","imageSizeUpFine","imageSizeDownFine","imageSizeAnyHeight","removeHeightRestriction","imageMoveUp","imageMoveDown","imageMoveLeft","imageMoveRight","previousGalleryImage","navigateGallery","nextGalleryImage","scrollOnGalleryNavigate","toggleViewImages","toggleChildren","followComments","followCommentsNewTab","followLinkAndCommentsNewTab","SingleClick","followLinkAndCommentsNewTabBG","upVote","mustBeLoggedIn","vote","downVote","upVoteWithoutToggling","downVoteWithoutToggling","getFirstElementInThingByQuery","ASSERT","SaveComments","reply","edit","showChildComments","HideChildComments","showAllChildComments","followPermalink","followPermalinkNewTab","followSubreddit","followSubredditNewTab","followProfile","followProfileNewTab","toggleCommentNavigator","commentNavigatorMoveUp","commentNavigatorMoveDown","focusOnSearchBox","useGoMode","goMode","toggleGoMode","leaveNP","inboxNewTab","newWindow","modmail","modmailNewTab","profileNewTab","frontPage","slashAll","subredditFrontPage","nextPage","NeverEndingReddit","prevPage","overviewLegacy","profileView","updateLinkAnnotations","handleKeyPress","annotation","linkAnnotations","followLinkByRank","slideSpeed","drawHelp","getActiveCommandOptions","getLinkKeys","altModeModifier","addKey","_commandLookup","lookup","EasterEgg","hasDefaultBehavior","goModeActive","handleCallbacks","shortcut","promptUniqueShortcut","optionButtons","followUp","preservedOption","NOASSERT","assertExistance","getElementsInThingByQuery","assertLength","getMostVisibleElementInThingByQuery","mostVisible","gallery","way","preventToggle","NoParticipation","$target","goModePanel","goModes","handleGoModeEscapeKey","bump","altMode","dailyTip","newFeatureTips","featureTipsStorage","lastTooltipStorage","showOrdinaryTip","allowFeatureTips","featureTipReadyPromise","showsDailyTip","newFeatureTipsCheckbox","addFeatureTip","tips","showFeatureTip","Element","showTip","lastCheck","PenaltyBox","generateContent","keyboard","keyboardTable","generateContentKeyboard","optionTable","generateContentOption","keyboardNavOption","dailyTipsCheckbox","lastTip","currTipIndex","guiderObj","origGuiderObj","upcomingId","nextTip","toggleIncreasedZIndex","presets","backup","searchSettings","announcements","donate","suggestions","faq","contributors","privacy","license","viewUrl","markedReadDate","lastUnreadDate","lastID","archiveAfter","pizzazzAfter","recheckPostAfter","biff","setMarkedRead","postForNotification","getLatestPost","cacheLatestPost","shouldNotify","createdDate","isPostRelevant","withPizzazz","addAnnouncementBiff","hasSeenNotification","mustBeVisibleDuration","hidePost","ThingHide","pending","SCHEMA_VERSION","deserialize","encoded","Provider","write","notifyBackupDone","supportsAutomaticBackups","File","accept","loading","reader","FileReader","readAsText","blob","Blob","getUTCFullYear","FILE","FOLDER","GoogleDrive","accessToken","googleLoginHint","getExistingFile","spaces","getOrCreateFile","existingFile","uploadType","OneDrive","getMetadata","Dropbox","mode","mute","Providers","getProvider","restore","reloadWarning","automaticBackups","lastCheckStorage","handleAutomaticSync","warnBeforeAutomaticRestore","googleAccount","providerClass","lastModifiedStorage","automaticProviderKey","provider","remoteBackup","lastModifiedKey","alertType","isAutomatic","backupDate","NumberFormat","notation","unitDisplay","postRestore","subredditShortcut","shortcutsPerAccount","alwaysApplySuffixToMulti","dropdownEditButton","shortcutDropdownDelay","shortcutEditDropdownDelay","allowLowercase","linkDashboard","linkAll","linkFront","linkPopular","linkProfilePosts","linkRandom","linkMyRandom","linkRandNSFW","linkUsers","linkFriends","linkMod","linkModqueue","linkSaved","buttonEdit","lastUpdate","storeSubredditVisit","storeSubredditVisitIncognito","dragDropDelete","displayMultiCounts","shortcutsContainer","$subredditGroupDropdown","subredditGroupDropdownUL","subredditGroupDropdownRefItem","$editShortcutDialog","deleteButton","mySubredditShortcuts","subredditsLastViewedStorage","subredditShortcutsStorage","loadShortcuts","initialShortcutsLoad","createSubredditBar","createSidebarShortcutToggle","titleElement","createShortcutToggleButton","setLastViewtime","subButtons","subButton","thisSubredditFragment","isMulti","$subButtonsWrapper","getMultiCounts","multiCount","theWrap","$subButtons","addSubredditShortcut","removeSubredditShortcut","redrawShortcuts","hideSubredditGroupDropdownTimer","showSubredditGroupDropdownTimer","currentSub","isCurrent","sortedSubs","thisShortCut","displayName","followSubredditShortcut","hideSubredditGroupDropdown","editSubredditShortcut","showSubredditGroupDropdown","subredditDragStart","subredditDragEnter","subredditDragOver","subredditDragLeave","subredditDrop","subredditDragEnd","sep","textTransform","cleanSubreddits","_showSubredditGroupDropdown","$rows","$collection","$thisLI","unsortable","thisForm","displayNameInput","saveSubredditShortcut","sortSubmenu","inputEl","currStr","ascArr","ascStr","descArr","descStr","btnTxt","thisLeft","addedDate","saveLatestShortcuts","dragSrcEl","srDataTransfer","addTrashBin","theData","srcOrderIndex","srcSubreddit","destOrderIndex","destSubreddit","rearranged","rearrangedI","removeTrashBin","headerContents","originalShortcuts","myRandom","myRandomGold","originalFrontpage","originalPopular","originalProfilePosts","staticShortcutsHTML","toggleSubredditDropdown","choice","shortcutsEditContainer","sortMenu","toggleShortCutsAddForm","leftButton","containerMargin","shiftWidth","rightButton","trashBin","$title","$trashZone","shortCutsTrash","$wrapper","shortCutsAddFormContainer","shortCutsAddFormField","shortCutsAddFormFieldDisplayName","shortCutsAddForm","displayname","trashOpenLink","$pageOverlay","srHeaderArea","lastField","sameField","sortShortcuts","srList","getMySubredditsTable","lastVisited","shortcutToggle","mySubreddits","display_name","subredditsLastViewed","lv","last_visited","theLV","dateVisited","multis","subredditObj","subscribeToSubreddit","subredditName","mySubredditList","mySubredditListCachedObject","mySubredditListCached","_lastUpdate","inactiveThreshold","cachedObject","commentsLinksNewTabs","fixHideLinks","hideLinkInstant","hideLinkFadeDelay","videoTimes","videoUploaded","videoViewed","pinHeader","showLastEditedTimestamp","scoreHiddenTimeLeft","showTimestampPosts","showTimestampComments","showTimestampSidebar","showTimestampWiki","showTimestampModerationLog","restoreSavedTab","doNoCtrlF","showHiddenSortOptions","truncateLongLinks","commentCollapseInInbox","restrictScrollEvents","applyNoCtrlF","fetchVideoData","showVideoData","scr","timeNode","scoreHiddenDuration","minutesLeft","pinSubredditBar","pinUserBar","rel","clickedLink","Youtube","uploaded","titleHasTimeRegex","getYoutubeStartTimeRegex","titleMatch","seconds","fromYoutubeTimecodeToSeconds","tc","timeSeconds","tcobj","sm","SubredditManager","sb","paddingTop","paddingBottom","pinCommonElements","userbar","headerHeight","defaultCommentDepth","defaultMinimumComments","commentPermalinks","commentPermalinksContext","subredditCommentDepths","commentDepth","minimumComments","minimumCount","COLLAPSE_REASON","collapsedThings","listenToCommentCollapse","collapsed","currentCollapseReason","enableBigEditor","swapBigEditorLayout","openBigEditor","draftStyle","enableForComments","enableForPosts","enableForWiki","enableForSubredditConfig","enableForBanMessages","sidebarPreview","subredditImages","isWiki","isBan","initWikiImages","showBigEditor","attachWikiPreview","addBigEditorButton","attachPreview","markdownToHTML","generateBanMessage","$doc","imgKey","resolvedSrc","tocDiv","$parent","aid","idNum","thisLevel","$newUL","bigEditorButton","makePreviewBox","onTextareaInput","markdownText","createBigEditor","$editor","$left","$contents","$textarea","$foot","hideBigEditor","$right","$preview","$bigTextTarget","$baseText","hideCommentsOnHeaderDoubleClick","toggleCommentsOnClickLeftEdge","leftEdgeColor","leftEdgeHoverColor","leftEdgeCollapsedColor","leftEdgeWidth","hideCollapseButton","scrollOnCollapse","_base","commentBoxes","commentRounded","commentHoverBorder","commentIndent","continuity","viewFullContext","defaultContext","addViewFullContext","setDefaultContext","pInfobar","contextDepth","defaultPosts","defaultSort","defaultSortSearch","dashboardShortcut","initialWidgetLoad","getLatestWidgets","dashboardUrl","addDashboardShortcuts","MAX_ROWS","dashboardStorage","widgets","attachAddComponent","attachEditComponent","initUpdateQueue","addWidget","saveOrder","updateQueue","updateQueueTimer","addToUpdateQueue","updateFunction","processUpdateQueue","thisUpdate","newOrder","basePath","widgetBeingEdited","$dashboardEditComponent","thisBasePath","formerBasePath","widgetEle","showEditForm","eleTop","eleWidth","$dashboardUL","$tabPage","$dashboardAddComponent","thisDisplayName","optionsObject","exists","thisWidget","WidgetObject","saveWidget","removeWidget","widgetOptions","numPosts","sortSearchBy","minimized","sortControls","sortSearchControls","sortChange","stateControls","sortPath","scrim","$widgetContent","$thisWidgetContents","$noResults","createSubredditToggleButton","HTMLScriptElement","redditLogoDestination","customDestination","redditLogoNode","getLogoLinkUrl","destination","getListFragment","doStyleSheetCheck","keyNav","nightmode","$stylesheetTextarea","createTipPane","addTipToPane","keyNavIdx","keyNavRule","thisChar","$tipPane","$tipPaneHeader","$tipPaneContents","$tipPaneList","$sheetsDiv","toggleTipPane","$tipPaneCloseButton","hideTipPane","$tipPaneHeaderSpan","openTipPaneContents","closeTipPaneContents","tipText","$tip","sectionMenu","sectionLinks","loadChildComments","visibleLoaders","loadFirst","loader","updateNotification","patchUpdateNotification","betaUpdateNotification","highestVersionStorage","highestVersion","infoTypes","notificationOption","openMailInNewTab","updateCurrentTab","showFloatingEnvelope","retroUnreadCount","showUnreadCountInTitle","faviconUseLegacy","showUnreadCountInFavicon","faviconNotificationBGColor","faviconNotificationTextColor","resetFaviconOnLeave","unreadLinksToInbox","hideEmptyMail","hideModMail","hideEmptyModMail","hideNewModMail","hideEmptyNewModMail","setupFavicon","floatingButtons","$orangeredElements","updateFromPage","debuginfoElement","timestampRegex","setUnreadCount","getUnreadCount","lastCount","_setUnreadCount","updateFaviconBadge","updateTitle","updateInboxElements","updateMailCountElements","nativeInboxButton","$floatingInboxButton","orangeredElements","getInboxLink","nativeInboxCount","$floatingInboxCount","favicons","selectedFavicon","legacyFavicon","favicon","nativeButtons","modmailButtonSelector","$all","BetteReddit","havemail","mailCount","toTop","toComment","showLink","showLinkNewTab","showLinkTitle","backToNewCommentArea","backToTop","showLinkTitleTemplate","thumbnailSrc","linkId","settingsHash","linkHref","domainHref","authorHref","commentArea","submissionThing","$widget","belowSubmission","baseHeight","hoverHeight","showWidget","hideWidget","renderWidget","scrollingUp","clearCache","clearTags","resetToFactory","disableRES","breakpoint","testEnvironment","testNotifications","toDelete","testMulticast","testKey","lite","confirmPreset","toggleModules","cleanSlate","noPopups","toggleOptions","Troubleshooter","confirmation","shouldReload","sanitizeModulesList","unsanitized","sanitized","allModules","requestEnable","requestDisable","setOptionValue","optName","fromLandingPage","customFromLandingPage","currentSection","preferredSection","hideFlair","hideQuarantinedInSub","hideAuthorTooltip","getManifest","optional_permissions","PRESERVE_SPACES","drawSearchResults","sanitizedQuery","sanitizeString","queryTerms","searchDomain","rankModule","rankOption","rankString","indexesOfSearchTermsInString","weighted","matchedIndex","needles","haystack","needle","preserveSpaces","replaceSpacesWith","onSearchResultSelected","$resultsContainer","handleSearchResultClick","advancedResults","plural","resultsList","drawSearchResultItem","searchResultTemplate","copybutton","onSearchResultCopy","makeOptionSearchResultLink","optionLinkTemplate","settingsUrl","moduleUrl","optionUrl","addSearchOptions","defaultSortOption","defaultTimeOption","legacySearch","toggleSearchOptions","hideSearchOptions","userFilterBySubreddit","searchByFlair","searchPageTabs","defaultSearchTab","transitionSearchTabs","searchBySubreddit","searchExpando","searchOptionsHtml","userProfile","referrer","previousPage","isLegacySearch","$searchTabsEle","searchHeader","searchForm","moreSearchInfo","searchFacets","$searchOptions","subredditResultListing","searchTabs","facets","searchTab","$searchTabLi","searchTabToggle","restrictSearch","transitionSpd","sourceParent","tab","activeClass","openClass","autoSelectOnScroll","addLine","setColors","backgroundColorNight","textColorNight","outlineStyle","outlineStyleNight","styleLine","styleColor","styleOutline","showCommentKarma","separator","useCommas","updateKarmaDiv","displayGold","karmaDiv","userSpan","today","expDate","attachViewSourceButton","sourceButton","viewSource","$buttonList","$userTextForm","sourceText","replies","addSpamButton","authorElement","authorName","spam","transition","navTop","disableAnimations","visitedStyle","showExpandos","hideUnvotable","showFullLinkFlair","highlightEditedTime","colorBlindFriendly","scrollSubredditDropdown","highlightTopLevel","highlightTopLevelColor","highlightTopLevelSize","floatingSideBar","postTitleCapitalization","hideDomainLink","flairEmojiAsText","redditThemes","loadStylesheets","snippets","bodyClasses","subredditClass","multiredditClass","usernameClass","loggedInUserClass","applySubredditClass","applyUsernameClass","applyMultiredditClass","applyStyles","applyBodyClasses","applyCssSnippets","applyLoggedInUserClass","addClasses","shouldApply","removeClasses","subredditNameRegexp","urlRegexp","sanitizeStylesheetUrls","subredditMatch","stylesheetUrls","stylesheetManager","sync","stylesheetElementManager","snippetManager","generateElement","wantedKeys","currentKeys","warnAlreadySubmitted","uncheckSendRepliesToInbox","focusFormOnLoad","$repostWarning","urlField","srField","implementOptions","urlFieldDiv","updateRepostWarning","linkButton","textButton","sendReplies","trailingUrl","cliParams","commandLineParameters","urlResult","redirect","showRepostWarning","hideRepostWarning","stripUrlRe","userUrl","restrict_sr","requireDirectLink","linkSelector","showSubredditInfo","jsonData","user_is_subscriber","subscribers","over18","Dashboard","subReddits","SRTDoesntContain","SRTTagWith","doesntContain","tagWith","scanTitle","tagToAdd","tagText","hasTag","thisSubReddit","thisString","setupMenu","mutateChoice","removeListener","appendTemporaryButton","form","userbarState","toggleButtonState","$userbarToggle","userbarHider","addToggleButton","updateUserBar","toggleUserBar","userbarHidden","updateToggleButton","toggleUserbarElementsDisplay","concurrentInstallWiki","addVersionClasses","reportVersion","avoidConcurrentInstalls","versionComponents","installs","concurrentInstalls","highlightScores","colorLinkScore","userDefinedLinkColoration","colorCommentScore","userDefinedCommentColoration","interpolateScoreColor","highlightControversial","highlightControversialColor","applyLinkScoreColor","applyCommentScoreColor","defaultColor","augmented","lowBound","lowColor","highBound","highColor","lowVal","highVal","getLinkScoreColor","getCommentScoreColor","rankEle","background","createLinks","xpostRe","xpostFromRe","subredditRe","parseSubreddit","xpostString","appendToTagline","modules","__modules","allowedModules","_loadModulePrefs","storedPrefs","ERRORED_KEY","_runModuleStage","stage","skipEnabledCheck","isRunning","getUnchecked","getByCategory","sortComparison","_loadModuleOptions","shouldPrunePromise","storedOptions","storedValue","should","prune","_addModuleBodyClasses","optId","sourceLoaded","loadI18n","loadOptions","addModuleBodyClasses","Context","FontFace","weight","fonts","blockers"],"mappings":"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","file":"foreground.entry.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 242);\n","/*!\n * jQuery JavaScript Library v3.5.0\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2020-04-10T15:07Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar flat = arr.flat ? function( array ) {\n\treturn arr.flat.call( array );\n} : function( array ) {\n\treturn arr.concat.apply( [], array );\n};\n\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n      // Support: Chrome <=57, Firefox <=52\n      // In some browsers, typeof returns \"function\" for HTML <object> elements\n      // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n      // We don't want to classify *any* DOM node as a function.\n      return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\nvar document = window.document;\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.5.0\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teven: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn ( i + 1 ) % 2;\n\t\t} ) );\n\t},\n\n\todd: function() {\n\t\treturn this.pushStack( jQuery.grep( this, function( _elem, i ) {\n\t\t\treturn i % 2;\n\t\t} ) );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a provided context; falls back to the global one\n\t// if not specified.\n\tglobalEval: function( code, options, doc ) {\n\t\tDOMEval( code, { nonce: options && options.nonce }, doc );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn flat( ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( _i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.5\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2020-03-14\n */\n( function( window ) {\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ( {} ).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpushNative = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[ i ] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|\" +\n\t\t\"ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// https://www.w3.org/TR/css-syntax-3/#ident-token-diagram\n\tidentifier = \"(?:\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace +\n\t\t\"?|\\\\\\\\[^\\\\r\\\\n\\\\f]|[\\\\w-]|[^\\0-\\\\x7f])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\n\t\t// \"Attribute values must be CSS identifiers [capture 5]\n\t\t// or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" +\n\t\twhitespace + \"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" +\n\t\twhitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace +\n\t\t\"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" +\n\t\t\twhitespace + \"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" +\n\t\t\twhitespace + \"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace +\n\t\t\t\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" + whitespace +\n\t\t\t\"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\[\\\\da-fA-F]{1,6}\" + whitespace + \"?|\\\\\\\\([^\\\\r\\\\n\\\\f])\", \"g\" ),\n\tfunescape = function( escape, nonHex ) {\n\t\tvar high = \"0x\" + escape.slice( 1 ) - 0x10000;\n\n\t\treturn nonHex ?\n\n\t\t\t// Strip the backslash prefix from a non-hex escape sequence\n\t\t\tnonHex :\n\n\t\t\t// Replace a hexadecimal escape sequence with the encoded Unicode code point\n\t\t\t// Support: IE <=11+\n\t\t\t// For values outside the Basic Multilingual Plane (BMP), manually construct a\n\t\t\t// surrogate pair\n\t\t\thigh < 0 ?\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" +\n\t\t\t\tch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t( arr = slice.call( preferredDoc.childNodes ) ),\n\t\tpreferredDoc.childNodes\n\t);\n\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\t// eslint-disable-next-line no-unused-expressions\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpushNative.apply( target, slice.call( els ) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( ( target[ j++ ] = els[ i++ ] ) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\t\tsetDocument( context );\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && ( match = rquickExpr.exec( selector ) ) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( ( m = match[ 1 ] ) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( ( elem = context.getElementById( m ) ) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && ( elem = newContext.getElementById( m ) ) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[ 2 ] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( ( m = match[ 3 ] ) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t( !rbuggyQSA || !rbuggyQSA.test( selector ) ) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t( nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\" ) ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// The technique has to be used as well when a leading combinator is used\n\t\t\t\t// as such selectors are not recognized by querySelectorAll.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 &&\n\t\t\t\t\t( rdescend.test( selector ) || rcombinators.test( selector ) ) ) {\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\n\t\t\t\t\t// We can use :scope instead of the ID hack if the browser\n\t\t\t\t\t// supports it & if we're not changing the context.\n\t\t\t\t\tif ( newContext !== context || !support.scope ) {\n\n\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\t\tif ( ( nid = context.getAttribute( \"id\" ) ) ) {\n\t\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcontext.setAttribute( \"id\", ( nid = expando ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[ i ] = ( nid ? \"#\" + nid : \":scope\" ) + \" \" +\n\t\t\t\t\t\t\ttoSelector( groups[ i ] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn ( cache[ key + \" \" ] = value );\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement( \"fieldset\" );\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch ( e ) {\n\t\treturn false;\n\t} finally {\n\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split( \"|\" ),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[ i ] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( ( cur = cur.nextSibling ) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn ( name === \"input\" || name === \"button\" ) && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction( function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction( function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ ( j = matchIndexes[ i ] ) ] ) {\n\t\t\t\t\tseed[ j ] = !( matches[ j ] = seed[ j ] );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} );\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem.namespaceURI,\n\t\tdocElem = ( elem.ownerDocument || elem ).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( doc == document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( preferredDoc != document &&\n\t\t( subWindow = document.defaultView ) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t// Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,\n\t// Safari 4 - 5 only, Opera <=11.6 - 12.x only\n\t// IE/Edge & older browsers don't support the :scope pseudo-class.\n\t// Support: Safari 6.0 only\n\t// Safari 6.0 supports :scope but it's an alias of :root there.\n\tsupport.scope = assert( function( el ) {\n\t\tdocElem.appendChild( el ).appendChild( document.createElement( \"div\" ) );\n\t\treturn typeof el.querySelectorAll !== \"undefined\" &&\n\t\t\t!el.querySelectorAll( \":scope fieldset div\" ).length;\n\t} );\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert( function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute( \"className\" );\n\t} );\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert( function( el ) {\n\t\tel.appendChild( document.createComment( \"\" ) );\n\t\treturn !el.getElementsByTagName( \"*\" ).length;\n\t} );\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert( function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t} );\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[ \"ID\" ] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute( \"id\" ) === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[ \"ID\" ] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode( \"id\" );\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[ \"ID\" ] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( ( elem = elems[ i++ ] ) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode( \"id\" );\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[ \"TAG\" ] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[ \"CLASS\" ] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( ( support.qsa = rnative.test( document.querySelectorAll ) ) ) {\n\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert( function( el ) {\n\n\t\t\tvar input;\n\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll( \"[msallowcapture^='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll( \"[selected]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"~=\" );\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 15 - 18+\n\t\t\t// IE 11/Edge don't find elements on a `[name='']` query in some cases.\n\t\t\t// Adding a temporary attribute to the document before the selection works\n\t\t\t// around the issue.\n\t\t\t// Interestingly, IE 10 & older don't seem to have the issue.\n\t\t\tinput = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"name\", \"\" );\n\t\t\tel.appendChild( input );\n\t\t\tif ( !el.querySelectorAll( \"[name='']\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*name\" + whitespace + \"*=\" +\n\t\t\t\t\twhitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll( \":checked\" ).length ) {\n\t\t\t\trbuggyQSA.push( \":checked\" );\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push( \".#.+[+~]\" );\n\t\t\t}\n\n\t\t\t// Support: Firefox <=3.6 - 5 only\n\t\t\t// Old Firefox doesn't throw on a badly-escaped identifier.\n\t\t\tel.querySelectorAll( \"\\\\\\f\" );\n\t\t\trbuggyQSA.push( \"[\\\\r\\\\n\\\\f]\" );\n\t\t} );\n\n\t\tassert( function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement( \"input\" );\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll( \"[name=d]\" ).length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll( \":enabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll( \":disabled\" ).length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: Opera 10 - 11 only\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll( \"*,:x\" );\n\t\t\trbuggyQSA.push( \",.*:\" );\n\t\t} );\n\t}\n\n\tif ( ( support.matchesSelector = rnative.test( ( matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector ) ) ) ) {\n\n\t\tassert( function( el ) {\n\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t} );\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join( \"|\" ) );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join( \"|\" ) );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t) );\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( ( b = b.parentNode ) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t// two documents; shallow comparisons work.\n\t\t// eslint-disable-next-line eqeqeq\n\t\tcompare = ( a.ownerDocument || a ) == ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t( !support.sortDetached && b.compareDocumentPosition( a ) === compare ) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( a == document || a.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, a ) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif ( b == document || b.ownerDocument == preferredDoc &&\n\t\t\t\tcontains( preferredDoc, b ) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\treturn a == document ? -1 :\n\t\t\t\tb == document ? 1 :\n\t\t\t\t/* eslint-enable eqeqeq */\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( ( cur = cur.parentNode ) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[ i ] === bp[ i ] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[ i ], bp[ i ] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t// two documents; shallow comparisons work.\n\t\t\t/* eslint-disable eqeqeq */\n\t\t\tap[ i ] == preferredDoc ? -1 :\n\t\t\tbp[ i ] == preferredDoc ? 1 :\n\t\t\t/* eslint-enable eqeqeq */\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\tsetDocument( elem );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\n\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t// fragment in IE 9\n\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch ( e ) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( context.ownerDocument || context ) != document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\n\t// Set document vars if needed\n\t// Support: IE 11+, Edge 17 - 18+\n\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t// two documents; shallow comparisons work.\n\t// eslint-disable-next-line eqeqeq\n\tif ( ( elem.ownerDocument || elem ) != document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( ( elem = results[ i++ ] ) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( ( node = elem[ i++ ] ) ) {\n\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[ 1 ] = match[ 1 ].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[ 3 ] = ( match[ 3 ] || match[ 4 ] ||\n\t\t\t\tmatch[ 5 ] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[ 2 ] === \"~=\" ) {\n\t\t\t\tmatch[ 3 ] = \" \" + match[ 3 ] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[ 1 ] = match[ 1 ].toLowerCase();\n\n\t\t\tif ( match[ 1 ].slice( 0, 3 ) === \"nth\" ) {\n\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[ 3 ] ) {\n\t\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[ 4 ] = +( match[ 4 ] ?\n\t\t\t\t\tmatch[ 5 ] + ( match[ 6 ] || 1 ) :\n\t\t\t\t\t2 * ( match[ 3 ] === \"even\" || match[ 3 ] === \"odd\" ) );\n\t\t\t\tmatch[ 5 ] = +( ( match[ 7 ] + match[ 8 ] ) || match[ 3 ] === \"odd\" );\n\n\t\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[ 3 ] ) {\n\t\t\t\tSizzle.error( match[ 0 ] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[ 6 ] && match[ 2 ];\n\n\t\t\tif ( matchExpr[ \"CHILD\" ].test( match[ 0 ] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[ 3 ] ) {\n\t\t\t\tmatch[ 2 ] = match[ 4 ] || match[ 5 ] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t( excess = tokenize( unquoted, true ) ) &&\n\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t( excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length ) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[ 0 ] = match[ 0 ].slice( 0, excess );\n\t\t\t\tmatch[ 2 ] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() {\n\t\t\t\t\treturn true;\n\t\t\t\t} :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t( pattern = new RegExp( \"(^|\" + whitespace +\n\t\t\t\t\t\")\" + className + \"(\" + whitespace + \"|$)\" ) ) && classCache(\n\t\t\t\t\t\tclassName, function( elem ) {\n\t\t\t\t\t\t\treturn pattern.test(\n\t\t\t\t\t\t\t\ttypeof elem.className === \"string\" && elem.className ||\n\t\t\t\t\t\t\t\ttypeof elem.getAttribute !== \"undefined\" &&\n\t\t\t\t\t\t\t\t\telem.getAttribute( \"class\" ) ||\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t} );\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\t/* eslint-disable max-len */\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t\t/* eslint-enable max-len */\n\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, _argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( ( node = node[ dir ] ) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || ( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( ( node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t( diff = nodeIndex = 0 ) || start.pop() ) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( node[ expando ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t( outerCache[ node.uniqueID ] = {} );\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction( function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[ i ] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[ i ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} ) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction( function( selector ) {\n\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction( function( seed, matches, _context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\t\t\t\t\tseed[ i ] = !( matches[ i ] = elem );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} ) :\n\t\t\t\tfunction( elem, _context, xml ) {\n\t\t\t\t\tinput[ 0 ] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[ 0 ] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t} ),\n\n\t\t\"has\": markFunction( function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t} ),\n\n\t\t\"contains\": markFunction( function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t} ),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test( lang || \"\" ) ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( ( elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute( \"xml:lang\" ) || elem.getAttribute( \"lang\" ) ) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( ( elem = elem.parentNode ) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t} ),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement &&\n\t\t\t\t( !document.hasFocus || document.hasFocus() ) &&\n\t\t\t\t!!( elem.type || elem.href || ~elem.tabIndex );\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn ( nodeName === \"input\" && !!elem.checked ) ||\n\t\t\t\t( nodeName === \"option\" && !!elem.selected );\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\t// eslint-disable-next-line no-unused-expressions\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[ \"empty\" ]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( ( attr = elem.getAttribute( \"type\" ) ) == null ||\n\t\t\t\t\tattr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo( function() {\n\t\t\treturn [ 0 ];\n\t\t} ),\n\n\t\t\"last\": createPositionalPseudo( function( _matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t} ),\n\n\t\t\"eq\": createPositionalPseudo( function( _matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t} ),\n\n\t\t\"even\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"odd\": createPositionalPseudo( function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"lt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} ),\n\n\t\t\"gt\": createPositionalPseudo( function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t} )\n\t}\n};\n\nExpr.pseudos[ \"nth\" ] = Expr.pseudos[ \"eq\" ];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || ( match = rcomma.exec( soFar ) ) ) {\n\t\t\tif ( match ) {\n\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[ 0 ].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( ( tokens = [] ) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( ( match = rcombinators.exec( soFar ) ) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push( {\n\t\t\t\tvalue: matched,\n\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[ 0 ].replace( rtrim, \" \" )\n\t\t\t} );\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( ( match = matchExpr[ type ].exec( soFar ) ) && ( !preFilters[ type ] ||\n\t\t\t\t( match = preFilters[ type ]( match ) ) ) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push( {\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t} );\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[ i ].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( ( elem = elem[ dir ] ) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || ( elem[ expando ] = {} );\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] ||\n\t\t\t\t\t\t\t( outerCache[ elem.uniqueID ] = {} );\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( ( oldCache = uniqueCache[ key ] ) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn ( newCache[ 2 ] = oldCache[ 2 ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( ( newCache[ 2 ] = matcher( elem, context, xml ) ) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[ i ]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[ 0 ];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[ i ], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( elem = unmatched[ i ] ) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction( function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts(\n\t\t\t\tselector || \"*\",\n\t\t\t\tcontext.nodeType ? [ context ] : context,\n\t\t\t\t[]\n\t\t\t),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( ( elem = temp[ i ] ) ) {\n\t\t\t\t\tmatcherOut[ postMap[ i ] ] = !( matcherIn[ postMap[ i ] ] = elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) ) {\n\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( ( matcherIn[ i ] = elem ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, ( matcherOut = [] ), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( ( elem = matcherOut[ i ] ) &&\n\t\t\t\t\t\t( temp = postFinder ? indexOf( seed, elem ) : preMap[ i ] ) > -1 ) {\n\n\t\t\t\t\t\tseed[ temp ] = !( results[ temp ] = elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t} );\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[ 0 ].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[ \" \" ],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t( checkContext = context ).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( ( matcher = Expr.relative[ tokens[ i ].type ] ) ) {\n\t\t\tmatchers = [ addCombinator( elementMatcher( matchers ), matcher ) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[ i ].type ].apply( null, tokens[ i ].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[ j ].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\n\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\ttokens\n\t\t\t\t\t\t.slice( 0, i - 1 )\n\t\t\t\t\t\t.concat( { value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" } )\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( ( tokens = tokens.slice( j ) ) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[ \"TAG\" ]( \"*\", outermost ),\n\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = ( dirruns += contextBackup == null ? 1 : Math.random() || 0.1 ),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\n\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\toutermostContext = context == document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\n\t\t\t\t\t// Support: IE 11+, Edge 17 - 18+\n\t\t\t\t\t// IE/Edge sometimes throw a \"Permission denied\" error when strict-comparing\n\t\t\t\t\t// two documents; shallow comparisons work.\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\t\t\tif ( !context && elem.ownerDocument != document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( ( matcher = elementMatchers[ j++ ] ) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( ( elem = !matcher && elem ) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( ( matcher = setMatchers[ j++ ] ) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !( unmatched[ i ] || setMatched[ i ] ) ) {\n\t\t\t\t\t\t\t\tsetMatched[ i ] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[ i ] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache(\n\t\t\tselector,\n\t\t\tmatcherFromGroupMatchers( elementMatchers, setMatchers )\n\t\t);\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( ( selector = compiled.selector || selector ) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[ 0 ] = match[ 0 ].slice( 0 );\n\t\tif ( tokens.length > 2 && ( token = tokens[ 0 ] ).type === \"ID\" &&\n\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[ 1 ].type ] ) {\n\n\t\t\tcontext = ( Expr.find[ \"ID\" ]( token.matches[ 0 ]\n\t\t\t\t.replace( runescape, funescape ), context ) || [] )[ 0 ];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[ \"needsContext\" ].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[ i ];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ ( type = token.type ) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( ( find = Expr.find[ type ] ) ) {\n\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( ( seed = find(\n\t\t\t\t\ttoken.matches[ 0 ].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[ 0 ].type ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext\n\t\t\t\t) ) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split( \"\" ).sort( sortOrder ).join( \"\" ) === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert( function( el ) {\n\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement( \"fieldset\" ) ) & 1;\n} );\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert( function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute( \"href\" ) === \"#\";\n} ) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert( function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n} ) ) {\n\taddHandle( \"value\", function( elem, _name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t} );\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert( function( el ) {\n\treturn el.getAttribute( \"disabled\" ) == null;\n} ) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t( val = elem.getAttributeNode( name ) ) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\t\tnull;\n\t\t}\n\t} );\n}\n\nreturn Sizzle;\n\n} )( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n};\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, _i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( elem.contentDocument != null &&\n\n\t\t\t// Support: IE 11+\n\t\t\t// <object> elements with no `data` attribute has an object\n\t\t\t// `contentDocument` with a `null` prototype.\n\t\t\tgetProto( elem.contentDocument ) ) {\n\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( _i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, _key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( _all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = Object.create( null );\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n\n\t// Support: IE <=9 only\n\t// IE <=9 replaces <option> tags with their contents when inserted outside of\n\t// the select element.\n\tdiv.innerHTML = \"<option></option>\";\n\tsupport.option = !!div.lastChild;\n} )();\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: IE <=9 only\nif ( !support.option ) {\n\twrapMap.optgroup = wrapMap.option = [ 1, \"<select multiple='multiple'>\", \"</select>\" ];\n}\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Only attach events to objects that accept data\n\t\tif ( !acceptData( elem ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = Object.create( null );\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\n\t\t\t// Make a writable jQuery.Event from the native event object\n\t\t\tevent = jQuery.event.fix( nativeEvent ),\n\n\t\t\thandlers = (\n\t\t\t\t\tdataPriv.get( this, \"events\" ) || Object.create( null )\n\t\t\t\t)[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\treturn result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.get( src );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdataPriv.remove( dest, \"handle events\" );\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = flat( args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t}, doc );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html;\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar swap = function( elem, options, callback ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.call( elem );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableTrDimensionsVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t},\n\n\t\t// Support: IE 9 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Behavior in IE 9 is more subtle than in newer versions & it passes\n\t\t// some versions of this test; make sure not to make it pass there!\n\t\treliableTrDimensions: function() {\n\t\t\tvar table, tr, trChild, trStyle;\n\t\t\tif ( reliableTrDimensionsVal == null ) {\n\t\t\t\ttable = document.createElement( \"table\" );\n\t\t\t\ttr = document.createElement( \"tr\" );\n\t\t\t\ttrChild = document.createElement( \"div\" );\n\n\t\t\t\ttable.style.cssText = \"position:absolute;left:-11111px\";\n\t\t\t\ttr.style.height = \"1px\";\n\t\t\t\ttrChild.style.height = \"9px\";\n\n\t\t\t\tdocumentElement\n\t\t\t\t\t.appendChild( table )\n\t\t\t\t\t.appendChild( tr )\n\t\t\t\t\t.appendChild( trChild );\n\n\t\t\t\ttrStyle = window.getComputedStyle( tr );\n\t\t\t\treliableTrDimensionsVal = parseInt( trStyle.height ) > 3;\n\n\t\t\t\tdocumentElement.removeChild( table );\n\t\t\t}\n\t\t\treturn reliableTrDimensionsVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( _elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Support: IE 9 - 11 only\n\t// Use offsetWidth/offsetHeight for when box sizing is unreliable.\n\t// In those cases, the computed value can be trusted to be border-box.\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\n\t\t// Support: IE 10 - 11+, Edge 15 - 18+\n\t\t// IE/Edge misreport `getComputedStyle` of table rows with width/height\n\t\t// set in CSS while `offset*` properties report correct values.\n\t\t// Interestingly, in some cases IE 9 doesn't suffer from this issue.\n\t\t!support.reliableTrDimensions() && nodeName( elem, \"tr\" ) ||\n\n\t\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t\t// This happens for inline elements with no explicit setting (gh-3571)\n\t\tval === \"auto\" ||\n\n\t\t// Support: Android <=4.1 - 4.3 only\n\t\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\n\t\t// Make sure the element is visible & connected\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( _i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( _i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( _i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = classesToArray( value );\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = (\n\t\t\t\t\tdataPriv.get( cur, \"events\" ) || Object.create( null )\n\t\t\t\t)[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\n\t\t\t\t// Handle: regular nodes (via `this.ownerDocument`), window\n\t\t\t\t// (via `this.document`) & document (via `this`).\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this.document || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = { guid: Date.now() };\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( _i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce.guid++ ) +\n\t\t\t\t\tuncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Use a noop converter for missing script\n\t\t\tif ( !isSuccess && jQuery.inArray( \"script\", s.dataTypes ) > -1 ) {\n\t\t\t\ts.converters[ \"text script\" ] = function() {};\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( _i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\njQuery.ajaxPrefilter( function( s ) {\n\tvar i;\n\tfor ( i in s.headers ) {\n\t\tif ( i.toLowerCase() === \"content-type\" ) {\n\t\t\ts.contentType = s.headers[ i ] || \"\";\n\t\t}\n\t}\n} );\n\n\njQuery._evalUrl = function( url, options, doc ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options, doc );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce.guid++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tif ( typeof props.top === \"number\" ) {\n\t\t\t\tprops.top += \"px\";\n\t\t\t}\n\t\t\tif ( typeof props.left === \"number\" ) {\n\t\t\t\tprops.left += \"px\";\n\t\t\t}\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( _i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( _i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t},\n\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( _i, name ) {\n\n\t\t// Handle event binding\n\t\tjQuery.fn[ name ] = function( data, fn ) {\n\t\t\treturn arguments.length > 0 ?\n\t\t\t\tthis.on( name, null, data, fn ) :\n\t\t\t\tthis.trigger( name );\n\t\t};\n\t} );\n\n\n\n\n// Support: Android <=4.0 only\n// Make sure we trim BOM and NBSP\nvar rtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\njQuery.trim = function( text ) {\n\treturn text == null ?\n\t\t\"\" :\n\t\t( text + \"\" ).replace( rtrim, \"\" );\n};\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( typeof noGlobal === \"undefined\" ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","var before = require('./before');\n\n/**\n * Creates a function that is restricted to invoking `func` once. Repeat calls\n * to the function return the value of the first invocation. The `func` is\n * invoked with the `this` binding and arguments of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var initialize = _.once(createApplication);\n * initialize();\n * initialize();\n * // => `createApplication` is invoked once\n */\nfunction once(func) {\n  return before(2, func);\n}\n\nmodule.exports = once;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var baseRest = require('./_baseRest'),\n    pullAll = require('./pullAll');\n\n/**\n * Removes all given values from `array` using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n * to remove elements from an array by predicate.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {...*} [values] The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pull(array, 'a', 'c');\n * console.log(array);\n * // => ['b', 'b']\n */\nvar pull = baseRest(pullAll);\n\nmodule.exports = pull;\n","var convert = require('./convert'),\n    func = convert('flow', require('../flow'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.dayjs=n()}(this,function(){\"use strict\";var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,D:\"date\",h:r,m:e,s:n,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i}return!e&&r&&(l=r),r||!e&&l},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u,$offset:n.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return\"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:h[o]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=M(t,n,!0);return r&&(e.$L=r),e},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var convert = require('./convert'),\n    func = convert('map', require('../map'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","/**\n * The default argument placeholder value for methods.\n *\n * @type {Object}\n */\nmodule.exports = {};\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","var baseConvert = require('./_baseConvert'),\n    util = require('./_util');\n\n/**\n * Converts `func` of `name` to an immutable auto-curried iteratee-first data-last\n * version with conversion `options` applied. If `name` is an object its methods\n * will be converted.\n *\n * @param {string} name The name of the function to wrap.\n * @param {Function} [func] The function to wrap.\n * @param {Object} [options] The options object. See `baseConvert` for more details.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction convert(name, func, options) {\n  return baseConvert(util, name, func, options);\n}\n\nmodule.exports = convert;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","const { hasOwnProperty, setPrototypeOf, isFrozen, keys: objectKeys } = Object;\n\nlet { freeze, seal } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!apply) {\n  apply = function(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\nif (!freeze) {\n  freeze = function(x) {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function(x) {\n    return x;\n  };\n}\n\nif (!construct) {\n  construct = function(Func, args) {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayJoin = unapply(Array.prototype.join);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst regExpTest = unapply(RegExp.prototype.test);\nconst regExpCreate = unconstruct(RegExp);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\nexport function unapply(func) {\n  return (thisArg, ...args) => apply(func, thisArg, args);\n}\n\nexport function unconstruct(func) {\n  return (...args) => construct(func, args);\n}\n\n/* Add properties to a lookup table */\nexport function addToSet(set, array) {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = stringToLowerCase(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/* Shallow clone an object */\nexport function clone(object) {\n  const newObject = {};\n\n  let property;\n  for (property in object) {\n    if (apply(hasOwnProperty, object, [property])) {\n      newObject[property] = object[property];\n    }\n  }\n\n  return newObject;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayJoin,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  // Object\n  freeze,\n  hasOwnProperty,\n  isFrozen,\n  objectKeys,\n  setPrototypeOf,\n  seal,\n  // RegExp\n  regExpCreate,\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n};\n","import { freeze } from './utils';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n]);\n\n// SVG\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'audio',\n  'canvas',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'video',\n  'view',\n  'vkern',\n]);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n]);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n]);\n\nexport const text = freeze(['#text']);\n","import { freeze } from './utils';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocomplete',\n  'background',\n  'bgcolor',\n  'border',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'default',\n  'dir',\n  'disabled',\n  'download',\n  'enctype',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'integrity',\n  'ismap',\n  'label',\n  'lang',\n  'list',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'name',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'pattern',\n  'placeholder',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'xmlns',\n]);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'tabindex',\n  'targetx',\n  'targety',\n  'transform',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n]);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n]);\n","import { seal } from './utils';\n\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\s\\S]*|[\\s\\S]*%>/gm);\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g // eslint-disable-line no-control-regex\n);\n","import * as TAGS from './tags';\nimport * as ATTRS from './attrs';\nimport * as EXPRESSIONS from './regexp';\nimport {\n  addToSet,\n  clone,\n  freeze,\n  objectKeys,\n  arrayForEach,\n  arrayIndexOf,\n  arrayJoin,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  regExpCreate,\n  typeErrorCreate,\n} from './utils';\n\nconst getGlobal = () => (typeof window === 'undefined' ? null : window);\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {Document} document The document object (to determine policy name suffix)\n * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported).\n */\nconst _createTrustedTypesPolicy = function(trustedTypes, document) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (\n    document.currentScript &&\n    document.currentScript.hasAttribute(ATTR_NAME)\n  ) {\n    suffix = document.currentScript.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n    });\n  } catch (error) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nfunction createDOMPurify(window = getGlobal()) {\n  const DOMPurify = root => createDOMPurify(root);\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = VERSION;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n\n  if (!window || !window.document || window.document.nodeType !== 9) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  const originalDocument = window.document;\n  let useDOMParser = false;\n  let removeTitle = false;\n\n  let { document } = window;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    Text,\n    Comment,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  const trustedTypesPolicy = _createTrustedTypesPolicy(\n    trustedTypes,\n    originalDocument\n  );\n  const emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    getElementsByTagName,\n    createDocumentFragment,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    implementation &&\n    typeof implementation.createHTMLDocument !== 'undefined' &&\n    document.documentMode !== 9;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Output should be safe for jQuery's $() factory? */\n  let SAFE_FOR_JQUERY = false;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n   * `Node` is imported into the current `Document`. If this flag is not enabled the\n   * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n   * DOMPurify. */\n  let RETURN_DOM_IMPORT = false;\n\n  /* Try to return a Trusted Type object instead of a string, retrun a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks? */\n  let SANITIZE_DOM = true;\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  const FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  const DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function(cfg) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS =\n      'ALLOWED_TAGS' in cfg\n        ? addToSet({}, cfg.ALLOWED_TAGS)\n        : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR =\n      'ALLOWED_ATTR' in cfg\n        ? addToSet({}, cfg.ALLOWED_ATTR)\n        : DEFAULT_ALLOWED_ATTR;\n    URI_SAFE_ATTRIBUTES =\n      'ADD_URI_SAFE_ATTR' in cfg\n        ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR)\n        : DEFAULT_URI_SAFE_ATTRIBUTES;\n    FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n    FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n    USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    SAFE_FOR_JQUERY = cfg.SAFE_FOR_JQUERY || false; // Default false\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, [...TAGS.text]);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  const _forceRemove = function(node) {\n    arrayPush(DOMPurify.removed, { element: node });\n    try {\n      node.parentNode.removeChild(node);\n    } catch (error) {\n      node.outerHTML = emptyHTML;\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  const _removeAttribute = function(name, node) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: node.getAttributeNode(name),\n        from: node,\n      });\n    } catch (error) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: node,\n      });\n    }\n\n    node.removeAttribute(name);\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  const _initDocument = function(dirty) {\n    /* Create a HTML document */\n    let doc;\n    let leadingWhitespace;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\s]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /* Use DOMParser to workaround Firefox bug (see comment below) */\n    if (useDOMParser) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, 'text/html');\n      } catch (error) {}\n    }\n\n    /* Remove title to fix a mXSS bug in older MS Edge */\n    if (removeTitle) {\n      addToSet(FORBID_TAGS, ['title']);\n    }\n\n    /* Otherwise use createHTMLDocument, because DOMParser is unsafe in\n    Safari (see comment below) */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createHTMLDocument('');\n      const { body } = doc;\n      body.parentNode.removeChild(body.parentNode.firstElementChild);\n      body.outerHTML = dirtyPayload;\n    }\n\n    if (dirty && leadingWhitespace) {\n      doc.body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        doc.body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n  };\n\n  // Firefox uses a different parser for innerHTML rather than\n  // DOMParser (see https://bugzilla.mozilla.org/show_bug.cgi?id=1205631)\n  // which means that you *must* use DOMParser, otherwise the output may\n  // not be safe if used in a document.write context later.\n  //\n  // So we feature detect the Firefox bug and use the DOMParser if necessary.\n  //\n  // Chrome 77 and other versions ship an mXSS bug that caused a bypass to\n  // happen. We now check for the mXSS trigger and react accordingly.\n  if (DOMPurify.isSupported) {\n    (function() {\n      try {\n        const doc = _initDocument(\n          '<svg><p><textarea><img src=\"</textarea><img src=x abc=1//\">'\n        );\n        if (doc.querySelector('svg img')) {\n          useDOMParser = true;\n        }\n      } catch (error) {}\n    })();\n\n    (function() {\n      try {\n        const doc = _initDocument('<x/><title>&lt;/title&gt;&lt;img&gt;');\n        if (regExpTest(/<\\/title/, doc.querySelector('title').innerHTML)) {\n          removeTitle = true;\n        }\n      } catch (error) {}\n    })();\n  }\n\n  /**\n   * _createIterator\n   *\n   * @param  {Document} root document/fragment to create iterator for\n   * @return {Iterator} iterator instance\n   */\n  const _createIterator = function(root) {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT,\n      () => {\n        return NodeFilter.FILTER_ACCEPT;\n      },\n      false\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  const _isClobbered = function(elm) {\n    if (elm instanceof Text || elm instanceof Comment) {\n      return false;\n    }\n\n    if (\n      typeof elm.nodeName !== 'string' ||\n      typeof elm.textContent !== 'string' ||\n      typeof elm.removeChild !== 'function' ||\n      !(elm.attributes instanceof NamedNodeMap) ||\n      typeof elm.removeAttribute !== 'function' ||\n      typeof elm.setAttribute !== 'function' ||\n      typeof elm.namespaceURI !== 'string'\n    ) {\n      return true;\n    }\n\n    return false;\n  };\n\n  /**\n   * _isNode\n   *\n   * @param  {Node} obj object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  const _isNode = function(obj) {\n    return typeof Node === 'object'\n      ? obj instanceof Node\n      : obj &&\n          typeof obj === 'object' &&\n          typeof obj.nodeType === 'number' &&\n          typeof obj.nodeName === 'string';\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  const _executeHook = function(entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    arrayForEach(hooks[entryPoint], hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  // eslint-disable-next-line complexity\n  const _sanitizeElements = function(currentNode) {\n    let content;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = stringToLowerCase(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Take care of an mXSS pattern using p, br inside svg, math */\n    if (\n      (tagName === 'svg' || tagName === 'math') &&\n      currentNode.querySelectorAll('p, br').length !== 0\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Keep content except for black-listed elements */\n      if (\n        KEEP_CONTENT &&\n        !FORBID_CONTENTS[tagName] &&\n        typeof currentNode.insertAdjacentHTML === 'function'\n      ) {\n        try {\n          const htmlToInsert = currentNode.innerHTML;\n          currentNode.insertAdjacentHTML(\n            'AfterEnd',\n            trustedTypesPolicy\n              ? trustedTypesPolicy.createHTML(htmlToInsert)\n              : htmlToInsert\n          );\n        } catch (error) {}\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove in case a noscript/noembed XSS is suspected */\n    if (\n      tagName === 'noscript' &&\n      regExpTest(/<\\/noscript/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    if (\n      tagName === 'noembed' &&\n      regExpTest(/<\\/noembed/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Convert markup to cover jQuery behavior */\n    if (\n      SAFE_FOR_JQUERY &&\n      !currentNode.firstElementChild &&\n      (!currentNode.content || !currentNode.content.firstElementChild) &&\n      regExpTest(/</g, currentNode.textContent)\n    ) {\n      arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n      if (currentNode.innerHTML) {\n        currentNode.innerHTML = stringReplace(\n          currentNode.innerHTML,\n          /</g,\n          '&lt;'\n        );\n      } else {\n        currentNode.innerHTML = stringReplace(\n          currentNode.textContent,\n          /</g,\n          '&lt;'\n        );\n      }\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      content = stringReplace(content, MUSTACHE_EXPR, ' ');\n      content = stringReplace(content, ERB_EXPR, ' ');\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && regExpTest(DATA_ATTR, lcName)) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      return false;\n\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n      // eslint-disable-next-line no-negated-condition\n    } else if (!value) {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    } else {\n      return false;\n    }\n\n    return true;\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  // eslint-disable-next-line complexity\n  const _sanitizeAttributes = function(currentNode) {\n    let attr;\n    let value;\n    let lcName;\n    let idAttr;\n    let l;\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    let { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n    };\n    l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      attr = attributes[l];\n      const { name, namespaceURI } = attr;\n      value = stringTrim(attr.value);\n      lcName = stringToLowerCase(name);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Remove attribute */\n      // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n      // remove a \"name\" attribute from an <img> tag that has an \"id\"\n      // attribute at the time.\n      if (\n        lcName === 'name' &&\n        currentNode.nodeName === 'IMG' &&\n        attributes.id\n      ) {\n        idAttr = attributes.id;\n        attributes = arraySlice(attributes, []);\n        _removeAttribute('id', currentNode);\n        _removeAttribute(name, currentNode);\n        if (arrayIndexOf(attributes, idAttr) > l) {\n          currentNode.setAttribute('id', idAttr.value);\n        }\n      } else if (\n        // This works around a bug in Safari, where input[type=file]\n        // cannot be dynamically set after type has been removed\n        currentNode.nodeName === 'INPUT' &&\n        lcName === 'type' &&\n        value === 'file' &&\n        hookEvent.keepAttr &&\n        (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])\n      ) {\n        continue;\n      } else {\n        // This avoids a crash in Safari v9.0 with double-ids.\n        // The trick is to first set the id to be empty and then to\n        // remove the attribute\n        if (name === 'id') {\n          currentNode.setAttribute(name, '');\n        }\n\n        _removeAttribute(name, currentNode);\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (SAFE_FOR_JQUERY && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Take care of an mXSS pattern using namespace switches */\n      if (\n        regExpTest(/svg|math/i, currentNode.namespaceURI) &&\n        regExpTest(\n          regExpCreate(\n            '</(' + arrayJoin(objectKeys(FORBID_CONTENTS), '|') + ')',\n            'i'\n          ),\n          value\n        )\n      ) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        value = stringReplace(value, MUSTACHE_EXPR, ' ');\n        value = stringReplace(value, ERB_EXPR, ' ');\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = currentNode.nodeName.toLowerCase();\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        arrayPop(DOMPurify.removed);\n      } catch (error) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function(fragment) {\n    let shadowNode;\n    const shadowIterator = _createIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} configuration object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function(dirty, cfg) {\n    let body;\n    let importedNode;\n    let currentNode;\n    let oldNode;\n    let returnNode;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    if (!dirty) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      // eslint-disable-next-line no-negated-condition\n      if (typeof dirty.toString !== 'function') {\n        throw typeErrorCreate('toString is not a function');\n      } else {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      }\n    }\n\n    /* Check we can run. Otherwise fall back or ignore */\n    if (!DOMPurify.isSupported) {\n      if (\n        typeof window.toStaticHTML === 'object' ||\n        typeof window.toStaticHTML === 'function'\n      ) {\n        if (typeof dirty === 'string') {\n          return window.toStaticHTML(dirty);\n        }\n\n        if (_isNode(dirty)) {\n          return window.toStaticHTML(dirty.outerHTML);\n        }\n      }\n\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* No special handling necessary for in-place sanitization */\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!-->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        RETURN_TRUSTED_TYPE &&\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : emptyHTML;\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Fix IE's strange behavior with manipulated textNodes #89 */\n      if (currentNode.nodeType === 3 && currentNode === oldNode) {\n        continue;\n      }\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n\n      oldNode = currentNode;\n    }\n\n    oldNode = null;\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (RETURN_DOM_IMPORT) {\n        /* AdoptNode() is not used because internal state is not reset\n               (e.g. the past names map of a HTMLFormElement), this is safe\n               in theory but we would rather not risk another attack vector.\n               The state that is cloned by importNode() is explicitly defined\n               by the specs. */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR, ' ');\n      serializedHTML = stringReplace(serializedHTML, ERB_EXPR, ' ');\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function(cfg) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function() {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {string} tag Tag name of containing element.\n   * @param  {string} attr Attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function(tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = stringToLowerCase(tag);\n    const lcName = stringToLowerCase(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function(entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   */\n  DOMPurify.removeHook = function(entryPoint) {\n    if (hooks[entryPoint]) {\n      arrayPop(hooks[entryPoint]);\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function(entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   *\n   */\n  DOMPurify.removeAllHooks = function() {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var baseRest = require('./_baseRest'),\n    unzipWith = require('./unzipWith');\n\n/**\n * This method is like `_.zip` except that it accepts `iteratee` to specify\n * how grouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  grouped values.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n *   return a + b + c;\n * });\n * // => [111, 222]\n */\nvar zipWith = baseRest(function(arrays) {\n  var length = arrays.length,\n      iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n  iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n  return unzipWith(arrays, iteratee);\n});\n\nmodule.exports = zipWith;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var convert = require('./convert'),\n    func = convert('keyBy', require('../keyBy'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var toString = require('./toString');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n    reHasRegExpChar = RegExp(reRegExpChar.source);\n\n/**\n * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = toString(string);\n  return (string && reHasRegExpChar.test(string))\n    ? string.replace(reRegExpChar, '\\\\$&')\n    : string;\n}\n\nmodule.exports = escapeRegExp;\n","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var isArray = require('./isArray');\n\n/**\n * Casts `value` as an array if it's not one.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Lang\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast array.\n * @example\n *\n * _.castArray(1);\n * // => [1]\n *\n * _.castArray({ 'a': 1 });\n * // => [{ 'a': 1 }]\n *\n * _.castArray('abc');\n * // => ['abc']\n *\n * _.castArray(null);\n * // => [null]\n *\n * _.castArray(undefined);\n * // => [undefined]\n *\n * _.castArray();\n * // => []\n *\n * var array = [1, 2, 3];\n * console.log(_.castArray(array) === array);\n * // => true\n */\nfunction castArray() {\n  if (!arguments.length) {\n    return [];\n  }\n  var value = arguments[0];\n  return isArray(value) ? value : [value];\n}\n\nmodule.exports = castArray;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_RIGHT_FLAG = 16;\n\n/**\n * This method is like `_.curry` except that arguments are applied to `func`\n * in the manner of `_.partialRight` instead of `_.partial`.\n *\n * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curryRight(abc);\n *\n * curried(3)(2)(1);\n * // => [1, 2, 3]\n *\n * curried(2, 3)(1);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(3)(1, _)(2);\n * // => [1, 2, 3]\n */\nfunction curryRight(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curryRight.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurryRight.placeholder = {};\n\nmodule.exports = curryRight;\n","var baseIteratee = require('./_baseIteratee'),\n    basePullAt = require('./_basePullAt');\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nmodule.exports = remove;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","var convert = require('./convert'),\n    func = convert('filter', require('../filter'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var createAggregator = require('./_createAggregator');\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nmodule.exports = partition;\n","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var arrayFilter = require('./_arrayFilter'),\n    arrayMap = require('./_arrayMap'),\n    baseProperty = require('./_baseProperty'),\n    baseTimes = require('./_baseTimes'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.zip` except that it accepts an array of grouped\n * elements and creates an array regrouping the elements to their pre-zip\n * configuration.\n *\n * @static\n * @memberOf _\n * @since 1.2.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n *\n * _.unzip(zipped);\n * // => [['a', 'b'], [1, 2], [true, false]]\n */\nfunction unzip(array) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var length = 0;\n  array = arrayFilter(array, function(group) {\n    if (isArrayLikeObject(group)) {\n      length = nativeMax(group.length, length);\n      return true;\n    }\n  });\n  return baseTimes(length, function(index) {\n    return arrayMap(array, baseProperty(index));\n  });\n}\n\nmodule.exports = unzip;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n","var convert = require('./convert'),\n    func = convert('once', require('../once'), require('./_falseOptions'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    keysIn = require('./keysIn');\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\nmodule.exports = assignIn;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","(function() {\n  'use strict';\n  \n  var collator;\n  try {\n    collator = (typeof Intl !== \"undefined\" && typeof Intl.Collator !== \"undefined\") ? Intl.Collator(\"generic\", { sensitivity: \"base\" }) : null;\n  } catch (err){\n    console.log(\"Collator could not be initialized and wouldn't be used\");\n  }\n  // arrays to re-use\n  var prevRow = [],\n    str2Char = [];\n  \n  /**\n   * Based on the algorithm at http://en.wikipedia.org/wiki/Levenshtein_distance.\n   */\n  var Levenshtein = {\n    /**\n     * Calculate levenshtein distance of the two strings.\n     *\n     * @param str1 String the first string.\n     * @param str2 String the second string.\n     * @param [options] Additional options.\n     * @param [options.useCollator] Use `Intl.Collator` for locale-sensitive string comparison.\n     * @return Integer the levenshtein distance (0 and above).\n     */\n    get: function(str1, str2, options) {\n      var useCollator = (options && collator && options.useCollator);\n      \n      var str1Len = str1.length,\n        str2Len = str2.length;\n      \n      // base cases\n      if (str1Len === 0) return str2Len;\n      if (str2Len === 0) return str1Len;\n\n      // two rows\n      var curCol, nextCol, i, j, tmp;\n\n      // initialise previous row\n      for (i=0; i<str2Len; ++i) {\n        prevRow[i] = i;\n        str2Char[i] = str2.charCodeAt(i);\n      }\n      prevRow[str2Len] = str2Len;\n\n      var strCmp;\n      if (useCollator) {\n        // calculate current row distance from previous row using collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = 0 === collator.compare(str1.charAt(i), String.fromCharCode(str2Char[j]));\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      else {\n        // calculate current row distance from previous row without collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = str1.charCodeAt(i) === str2Char[j];\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      return nextCol;\n    }\n\n  };\n\n  // amd\n  if (typeof define !== \"undefined\" && define !== null && define.amd) {\n    define(function() {\n      return Levenshtein;\n    });\n  }\n  // commonjs\n  else if (typeof module !== \"undefined\" && module !== null && typeof exports !== \"undefined\" && module.exports === exports) {\n    module.exports = Levenshtein;\n  }\n  // web worker\n  else if (typeof self !== \"undefined\" && typeof self.postMessage === 'function' && typeof self.importScripts === 'function') {\n    self.Levenshtein = Levenshtein;\n  }\n  // browser main thread\n  else if (typeof window !== \"undefined\" && window !== null) {\n    window.Levenshtein = Levenshtein;\n  }\n}());\n\n","/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nmodule.exports = fromPairs;\n","var baseRandom = require('./_baseRandom'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseFloat = parseFloat;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min,\n    nativeRandom = Math.random;\n\n/**\n * Produces a random number between the inclusive `lower` and `upper` bounds.\n * If only one argument is provided a number between `0` and the given number\n * is returned. If `floating` is `true`, or either `lower` or `upper` are\n * floats, a floating-point number is returned instead of an integer.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @memberOf _\n * @since 0.7.0\n * @category Number\n * @param {number} [lower=0] The lower bound.\n * @param {number} [upper=1] The upper bound.\n * @param {boolean} [floating] Specify returning a floating-point number.\n * @returns {number} Returns the random number.\n * @example\n *\n * _.random(0, 5);\n * // => an integer between 0 and 5\n *\n * _.random(5);\n * // => also an integer between 0 and 5\n *\n * _.random(5, true);\n * // => a floating-point number between 0 and 5\n *\n * _.random(1.2, 5.2);\n * // => a floating-point number between 1.2 and 5.2\n */\nfunction random(lower, upper, floating) {\n  if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n    upper = floating = undefined;\n  }\n  if (floating === undefined) {\n    if (typeof upper == 'boolean') {\n      floating = upper;\n      upper = undefined;\n    }\n    else if (typeof lower == 'boolean') {\n      floating = lower;\n      lower = undefined;\n    }\n  }\n  if (lower === undefined && upper === undefined) {\n    lower = 0;\n    upper = 1;\n  }\n  else {\n    lower = toFinite(lower);\n    if (upper === undefined) {\n      upper = lower;\n      lower = 0;\n    } else {\n      upper = toFinite(upper);\n    }\n  }\n  if (lower > upper) {\n    var temp = lower;\n    lower = upper;\n    upper = temp;\n  }\n  if (floating || lower % 1 || upper % 1) {\n    var rand = nativeRandom();\n    return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n  }\n  return baseRandom(lower, upper);\n}\n\nmodule.exports = random;\n","var baseIteratee = require('./_baseIteratee'),\n    negate = require('./negate'),\n    pickBy = require('./pickBy');\n\n/**\n * The opposite of `_.pickBy`; this method creates an object composed of\n * the own and inherited enumerable string keyed properties of `object` that\n * `predicate` doesn't return truthy for. The predicate is invoked with two\n * arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omitBy(object, _.isNumber);\n * // => { 'b': '2' }\n */\nfunction omitBy(object, predicate) {\n  return pickBy(object, negate(baseIteratee(predicate)));\n}\n\nmodule.exports = omitBy;\n","module.exports = \"data:image/png;base64,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\"","var baseIteratee = require('./_baseIteratee'),\n    baseWhile = require('./_baseWhile');\n\n/**\n * Creates a slice of `array` excluding elements dropped from the beginning.\n * Elements are dropped until `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.dropWhile(users, function(o) { return !o.active; });\n * // => objects for ['pebbles']\n *\n * // The `_.matches` iteratee shorthand.\n * _.dropWhile(users, { 'user': 'barney', 'active': false });\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.dropWhile(users, ['active', false]);\n * // => objects for ['pebbles']\n *\n * // The `_.property` iteratee shorthand.\n * _.dropWhile(users, 'active');\n * // => objects for ['barney', 'fred', 'pebbles']\n */\nfunction dropWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3), true)\n    : [];\n}\n\nmodule.exports = dropWhile;\n","var convert = require('./convert'),\n    func = convert('slice', require('../slice'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var convert = require('./convert'),\n    func = convert('mapValues', require('../mapValues'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseRest = require('./_baseRest'),\n    unzip = require('./unzip');\n\n/**\n * Creates an array of grouped elements, the first of which contains the\n * first elements of the given arrays, the second of which contains the\n * second elements of the given arrays, and so on.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n */\nvar zip = baseRest(unzip);\n\nmodule.exports = zip;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","/*\n (c) 2011-2015, Vladimir Agafonkin\n SunCalc is a JavaScript library for calculating sun/moon position and light phases.\n https://github.com/mourner/suncalc\n*/\n\n(function () { 'use strict';\n\n// shortcuts for easier to read formulas\n\nvar PI   = Math.PI,\n    sin  = Math.sin,\n    cos  = Math.cos,\n    tan  = Math.tan,\n    asin = Math.asin,\n    atan = Math.atan2,\n    acos = Math.acos,\n    rad  = PI / 180;\n\n// sun calculations are based on http://aa.quae.nl/en/reken/zonpositie.html formulas\n\n\n// date/time constants and conversions\n\nvar dayMs = 1000 * 60 * 60 * 24,\n    J1970 = 2440588,\n    J2000 = 2451545;\n\nfunction toJulian(date) { return date.valueOf() / dayMs - 0.5 + J1970; }\nfunction fromJulian(j)  { return new Date((j + 0.5 - J1970) * dayMs); }\nfunction toDays(date)   { return toJulian(date) - J2000; }\n\n\n// general calculations for position\n\nvar e = rad * 23.4397; // obliquity of the Earth\n\nfunction rightAscension(l, b) { return atan(sin(l) * cos(e) - tan(b) * sin(e), cos(l)); }\nfunction declination(l, b)    { return asin(sin(b) * cos(e) + cos(b) * sin(e) * sin(l)); }\n\nfunction azimuth(H, phi, dec)  { return atan(sin(H), cos(H) * sin(phi) - tan(dec) * cos(phi)); }\nfunction altitude(H, phi, dec) { return asin(sin(phi) * sin(dec) + cos(phi) * cos(dec) * cos(H)); }\n\nfunction siderealTime(d, lw) { return rad * (280.16 + 360.9856235 * d) - lw; }\n\nfunction astroRefraction(h) {\n    if (h < 0) // the following formula works for positive altitudes only.\n        h = 0; // if h = -0.08901179 a div/0 would occur.\n\n    // formula 16.4 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n    // 1.02 / tan(h + 10.26 / (h + 5.10)) h in degrees, result in arc minutes -> converted to rad:\n    return 0.0002967 / Math.tan(h + 0.00312536 / (h + 0.08901179));\n}\n\n// general sun calculations\n\nfunction solarMeanAnomaly(d) { return rad * (357.5291 + 0.98560028 * d); }\n\nfunction eclipticLongitude(M) {\n\n    var C = rad * (1.9148 * sin(M) + 0.02 * sin(2 * M) + 0.0003 * sin(3 * M)), // equation of center\n        P = rad * 102.9372; // perihelion of the Earth\n\n    return M + C + P + PI;\n}\n\nfunction sunCoords(d) {\n\n    var M = solarMeanAnomaly(d),\n        L = eclipticLongitude(M);\n\n    return {\n        dec: declination(L, 0),\n        ra: rightAscension(L, 0)\n    };\n}\n\n\nvar SunCalc = {};\n\n\n// calculates sun position for a given date and latitude/longitude\n\nSunCalc.getPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c  = sunCoords(d),\n        H  = siderealTime(d, lw) - c.ra;\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: altitude(H, phi, c.dec)\n    };\n};\n\n\n// sun times configuration (angle, morning name, evening name)\n\nvar times = SunCalc.times = [\n    [-0.833, 'sunrise',       'sunset'      ],\n    [  -0.3, 'sunriseEnd',    'sunsetStart' ],\n    [    -6, 'dawn',          'dusk'        ],\n    [   -12, 'nauticalDawn',  'nauticalDusk'],\n    [   -18, 'nightEnd',      'night'       ],\n    [     6, 'goldenHourEnd', 'goldenHour'  ]\n];\n\n// adds a custom time to the times config\n\nSunCalc.addTime = function (angle, riseName, setName) {\n    times.push([angle, riseName, setName]);\n};\n\n\n// calculations for sun times\n\nvar J0 = 0.0009;\n\nfunction julianCycle(d, lw) { return Math.round(d - J0 - lw / (2 * PI)); }\n\nfunction approxTransit(Ht, lw, n) { return J0 + (Ht + lw) / (2 * PI) + n; }\nfunction solarTransitJ(ds, M, L)  { return J2000 + ds + 0.0053 * sin(M) - 0.0069 * sin(2 * L); }\n\nfunction hourAngle(h, phi, d) { return acos((sin(h) - sin(phi) * sin(d)) / (cos(phi) * cos(d))); }\n\n// returns set time for the given sun altitude\nfunction getSetJ(h, lw, phi, dec, n, M, L) {\n\n    var w = hourAngle(h, phi, dec),\n        a = approxTransit(w, lw, n);\n    return solarTransitJ(a, M, L);\n}\n\n\n// calculates sun times for a given date and latitude/longitude\n\nSunCalc.getTimes = function (date, lat, lng) {\n\n    var lw = rad * -lng,\n        phi = rad * lat,\n\n        d = toDays(date),\n        n = julianCycle(d, lw),\n        ds = approxTransit(0, lw, n),\n\n        M = solarMeanAnomaly(ds),\n        L = eclipticLongitude(M),\n        dec = declination(L, 0),\n\n        Jnoon = solarTransitJ(ds, M, L),\n\n        i, len, time, Jset, Jrise;\n\n\n    var result = {\n        solarNoon: fromJulian(Jnoon),\n        nadir: fromJulian(Jnoon - 0.5)\n    };\n\n    for (i = 0, len = times.length; i < len; i += 1) {\n        time = times[i];\n\n        Jset = getSetJ(time[0] * rad, lw, phi, dec, n, M, L);\n        Jrise = Jnoon - (Jset - Jnoon);\n\n        result[time[1]] = fromJulian(Jrise);\n        result[time[2]] = fromJulian(Jset);\n    }\n\n    return result;\n};\n\n\n// moon calculations, based on http://aa.quae.nl/en/reken/hemelpositie.html formulas\n\nfunction moonCoords(d) { // geocentric ecliptic coordinates of the moon\n\n    var L = rad * (218.316 + 13.176396 * d), // ecliptic longitude\n        M = rad * (134.963 + 13.064993 * d), // mean anomaly\n        F = rad * (93.272 + 13.229350 * d),  // mean distance\n\n        l  = L + rad * 6.289 * sin(M), // longitude\n        b  = rad * 5.128 * sin(F),     // latitude\n        dt = 385001 - 20905 * cos(M);  // distance to the moon in km\n\n    return {\n        ra: rightAscension(l, b),\n        dec: declination(l, b),\n        dist: dt\n    };\n}\n\nSunCalc.getMoonPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c = moonCoords(d),\n        H = siderealTime(d, lw) - c.ra,\n        h = altitude(H, phi, c.dec),\n        // formula 14.1 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n        pa = atan(sin(H), tan(phi) * cos(c.dec) - sin(c.dec) * cos(H));\n\n    h = h + astroRefraction(h); // altitude correction for refraction\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: h,\n        distance: c.dist,\n        parallacticAngle: pa\n    };\n};\n\n\n// calculations for illumination parameters of the moon,\n// based on http://idlastro.gsfc.nasa.gov/ftp/pro/astro/mphase.pro formulas and\n// Chapter 48 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n\nSunCalc.getMoonIllumination = function (date) {\n\n    var d = toDays(date || new Date()),\n        s = sunCoords(d),\n        m = moonCoords(d),\n\n        sdist = 149598000, // distance from Earth to Sun in km\n\n        phi = acos(sin(s.dec) * sin(m.dec) + cos(s.dec) * cos(m.dec) * cos(s.ra - m.ra)),\n        inc = atan(sdist * sin(phi), m.dist - sdist * cos(phi)),\n        angle = atan(cos(s.dec) * sin(s.ra - m.ra), sin(s.dec) * cos(m.dec) -\n                cos(s.dec) * sin(m.dec) * cos(s.ra - m.ra));\n\n    return {\n        fraction: (1 + cos(inc)) / 2,\n        phase: 0.5 + 0.5 * inc * (angle < 0 ? -1 : 1) / Math.PI,\n        angle: angle\n    };\n};\n\n\nfunction hoursLater(date, h) {\n    return new Date(date.valueOf() + h * dayMs / 24);\n}\n\n// calculations for moon rise/set times are based on http://www.stargazing.net/kepler/moonrise.html article\n\nSunCalc.getMoonTimes = function (date, lat, lng, inUTC) {\n    var t = new Date(date);\n    if (inUTC) t.setUTCHours(0, 0, 0, 0);\n    else t.setHours(0, 0, 0, 0);\n\n    var hc = 0.133 * rad,\n        h0 = SunCalc.getMoonPosition(t, lat, lng).altitude - hc,\n        h1, h2, rise, set, a, b, xe, ye, d, roots, x1, x2, dx;\n\n    // go in 2-hour chunks, each time seeing if a 3-point quadratic curve crosses zero (which means rise or set)\n    for (var i = 1; i <= 24; i += 2) {\n        h1 = SunCalc.getMoonPosition(hoursLater(t, i), lat, lng).altitude - hc;\n        h2 = SunCalc.getMoonPosition(hoursLater(t, i + 1), lat, lng).altitude - hc;\n\n        a = (h0 + h2) / 2 - h1;\n        b = (h2 - h0) / 2;\n        xe = -b / (2 * a);\n        ye = (a * xe + b) * xe + h1;\n        d = b * b - 4 * a * h1;\n        roots = 0;\n\n        if (d >= 0) {\n            dx = Math.sqrt(d) / (Math.abs(a) * 2);\n            x1 = xe - dx;\n            x2 = xe + dx;\n            if (Math.abs(x1) <= 1) roots++;\n            if (Math.abs(x2) <= 1) roots++;\n            if (x1 < -1) x1 = x2;\n        }\n\n        if (roots === 1) {\n            if (h0 < 0) rise = i + x1;\n            else set = i + x1;\n\n        } else if (roots === 2) {\n            rise = i + (ye < 0 ? x2 : x1);\n            set = i + (ye < 0 ? x1 : x2);\n        }\n\n        if (rise && set) break;\n\n        h0 = h2;\n    }\n\n    var result = {};\n\n    if (rise) result.rise = hoursLater(t, rise);\n    if (set) result.set = hoursLater(t, set);\n\n    if (!rise && !set) result[ye > 0 ? 'alwaysUp' : 'alwaysDown'] = true;\n\n    return result;\n};\n\n\n// export as Node module / AMD module / browser variable\nif (typeof exports === 'object' && typeof module !== 'undefined') module.exports = SunCalc;\nelse if (typeof define === 'function' && define.amd) define(SunCalc);\nelse window.SunCalc = SunCalc;\n\n}());\n","/**\n * @license MIT\n * @fileOverview Favico animations\n * @author Miroslav Magda, http://blog.ejci.net\n * @version 0.3.10\n */\n\n/**\n * Create new favico instance\n * @param {Object} Options\n * @return {Object} Favico object\n * @example\n * var favico = new Favico({\n *    bgColor : '#d00',\n *    textColor : '#fff',\n *    fontFamily : 'sans-serif',\n *    fontStyle : 'bold',\n *    position : 'down',\n *    type : 'circle',\n *    animation : 'slide',\n *    dataUrl: function(url){},\n *    win: top\n * });\n */\n(function () {\n\n\tvar Favico = (function (opt) {\n\t\t'use strict';\n\t\topt = (opt) ? opt : {};\n\t\tvar _def = {\n\t\t\tbgColor: '#d00',\n\t\t\ttextColor: '#fff',\n\t\t\tfontFamily: 'sans-serif', //Arial,Verdana,Times New Roman,serif,sans-serif,...\n\t\t\tfontStyle: 'bold', //normal,italic,oblique,bold,bolder,lighter,100,200,300,400,500,600,700,800,900\n\t\t\ttype: 'circle',\n\t\t\tposition: 'down', // down, up, left, leftup (upleft)\n\t\t\tanimation: 'slide',\n\t\t\telementId: false,\n\t\t\tdataUrl: false,\n\t\t\twin: window\n\t\t};\n\t\tvar _opt, _orig, _h, _w, _canvas, _context, _img, _ready, _lastBadge, _running, _readyCb, _stop, _browser, _animTimeout, _drawTimeout, _doc;\n\n\t\t_browser = {};\n\t\t_browser.ff = typeof InstallTrigger != 'undefined';\n\t\t_browser.chrome = !!window.chrome;\n\t\t_browser.opera = !!window.opera || navigator.userAgent.indexOf('Opera') >= 0;\n\t\t_browser.ie = /*@cc_on!@*/false;\n\t\t_browser.safari = Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n\t\t_browser.supported = (_browser.chrome || _browser.ff || _browser.opera);\n\n\t\tvar _queue = [];\n\t\t_readyCb = function () {\n\t\t};\n\t\t_ready = _stop = false;\n\t\t/**\n\t\t * Initialize favico\n\t\t */\n\t\tvar init = function () {\n\t\t\t//merge initial options\n\t\t\t_opt = merge(_def, opt);\n\t\t\t_opt.bgColor = hexToRgb(_opt.bgColor);\n\t\t\t_opt.textColor = hexToRgb(_opt.textColor);\n\t\t\t_opt.position = _opt.position.toLowerCase();\n\t\t\t_opt.animation = (animation.types['' + _opt.animation]) ? _opt.animation : _def.animation;\n\n\t\t\t_doc = _opt.win.document;\n\n\t\t\tvar isUp = _opt.position.indexOf('up') > -1;\n\t\t\tvar isLeft = _opt.position.indexOf('left') > -1;\n\n\t\t\t//transform animation\n\t\t\tif (isUp || isLeft) {\n\t\t\t\tfor (var i = 0; i < animation.types['' + _opt.animation].length; i++) {\n\t\t\t\t\tvar step = animation.types['' + _opt.animation][i];\n\n\t\t\t\t\tif (isUp) {\n\t\t\t\t\t\tif (step.y < 0.6) {\n\t\t\t\t\t\t\tstep.y = step.y - 0.4;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstep.y = step.y - 2 * step.y + (1 - step.w);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isLeft) {\n\t\t\t\t\t\tif (step.x < 0.6) {\n\t\t\t\t\t\t\tstep.x = step.x - 0.4;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstep.x = step.x - 2 * step.x + (1 - step.h);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tanimation.types['' + _opt.animation][i] = step;\n\t\t\t\t}\n\t\t\t}\n\t\t\t_opt.type = (type['' + _opt.type]) ? _opt.type : _def.type;\n\n\t\t\t_orig = link.getIcon();\n\t\t\t//create temp canvas\n\t\t\t_canvas = document.createElement('canvas');\n\t\t\t//create temp image\n\t\t\t_img = document.createElement('img');\n\t\t\tif (_orig.hasAttribute('href')) {\n\t\t\t\t_img.setAttribute('crossOrigin', 'anonymous');\n\t\t\t\t//get width/height\n\t\t\t\t_img.onload = function () {\n\t\t\t\t\t_h = (_img.height > 0) ? _img.height : 32;\n\t\t\t\t\t_w = (_img.width > 0) ? _img.width : 32;\n\t\t\t\t\t_canvas.height = _h;\n\t\t\t\t\t_canvas.width = _w;\n\t\t\t\t\t_context = _canvas.getContext('2d');\n\t\t\t\t\ticon.ready();\n\t\t\t\t};\n\t\t\t\t_img.setAttribute('src', _orig.getAttribute('href'));\n\t\t\t} else {\n\t\t\t\t_img.onload = function () {\n\t\t\t\t\t_h = 32;\n\t\t\t\t\t_w = 32;\n\t\t\t\t\t_img.height = _h;\n\t\t\t\t\t_img.width = _w;\n\t\t\t\t\t_canvas.height = _h;\n\t\t\t\t\t_canvas.width = _w;\n\t\t\t\t\t_context = _canvas.getContext('2d');\n\t\t\t\t\ticon.ready();\n\t\t\t\t};\n\t\t\t\t_img.setAttribute('src', '');\n\t\t\t}\n\n\t\t};\n\t\t/**\n\t\t * Icon namespace\n\t\t */\n\t\tvar icon = {};\n\t\t/**\n\t\t * Icon is ready (reset icon) and start animation (if ther is any)\n\t\t */\n\t\ticon.ready = function () {\n\t\t\t_ready = true;\n\t\t\ticon.reset();\n\t\t\t_readyCb();\n\t\t};\n\t\t/**\n\t\t * Reset icon to default state\n\t\t */\n\t\ticon.reset = function () {\n\t\t\t//reset\n\t\t\tif (!_ready) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_queue = [];\n\t\t\t_lastBadge = false;\n\t\t\t_running = false;\n\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t_context.drawImage(_img, 0, 0, _w, _h);\n\t\t\t//_stop=true;\n\t\t\tlink.setIcon(_canvas);\n\t\t\t//webcam('stop');\n\t\t\t//video('stop');\n\t\t\twindow.clearTimeout(_animTimeout);\n\t\t\twindow.clearTimeout(_drawTimeout);\n\t\t};\n\t\t/**\n\t\t * Start animation\n\t\t */\n\t\ticon.start = function () {\n\t\t\tif (!_ready || _running) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar finished = function () {\n\t\t\t\t_lastBadge = _queue[0];\n\t\t\t\t_running = false;\n\t\t\t\tif (_queue.length > 0) {\n\t\t\t\t\t_queue.shift();\n\t\t\t\t\ticon.start();\n\t\t\t\t} else {\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_queue.length > 0) {\n\t\t\t\t_running = true;\n\t\t\t\tvar run = function () {\n\t\t\t\t\t// apply options for this animation\n\t\t\t\t\t['type', 'animation', 'bgColor', 'textColor', 'fontFamily', 'fontStyle'].forEach(function (a) {\n\t\t\t\t\t\tif (a in _queue[0].options) {\n\t\t\t\t\t\t\t_opt[a] = _queue[0].options[a];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tanimation.run(_queue[0].options, function () {\n\t\t\t\t\t\tfinished();\n\t\t\t\t\t}, false);\n\t\t\t\t};\n\t\t\t\tif (_lastBadge) {\n\t\t\t\t\tanimation.run(_lastBadge.options, function () {\n\t\t\t\t\t\trun();\n\t\t\t\t\t}, true);\n\t\t\t\t} else {\n\t\t\t\t\trun();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Badge types\n\t\t */\n\t\tvar type = {};\n\t\tvar options = function (opt) {\n\t\t\topt.n = ((typeof opt.n) === 'number') ? Math.abs(opt.n | 0) : opt.n;\n\t\t\topt.x = _w * opt.x;\n\t\t\topt.y = _h * opt.y;\n\t\t\topt.w = _w * opt.w;\n\t\t\topt.h = _h * opt.h;\n\t\t\topt.len = (\"\" + opt.n).length;\n\t\t\treturn opt;\n\t\t};\n\t\t/**\n\t\t * Generate circle\n\t\t * @param {Object} opt Badge options\n\t\t */\n\t\ttype.circle = function (opt) {\n\t\t\topt = options(opt);\n\t\t\tvar more = false;\n\t\t\tif (opt.len === 2) {\n\t\t\t\topt.x = opt.x - opt.w * 0.4;\n\t\t\t\topt.w = opt.w * 1.4;\n\t\t\t\tmore = true;\n\t\t\t} else if (opt.len >= 3) {\n\t\t\t\topt.x = opt.x - opt.w * 0.65;\n\t\t\t\topt.w = opt.w * 1.65;\n\t\t\t\tmore = true;\n\t\t\t}\n\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t_context.drawImage(_img, 0, 0, _w, _h);\n\t\t\t_context.beginPath();\n\t\t\t_context.font = _opt.fontStyle + \" \" + Math.floor(opt.h * (opt.n > 99 ? 0.85 : 1)) + \"px \" + _opt.fontFamily;\n\t\t\t_context.textAlign = 'center';\n\t\t\tif (more) {\n\t\t\t\t_context.moveTo(opt.x + opt.w / 2, opt.y);\n\t\t\t\t_context.lineTo(opt.x + opt.w - opt.h / 2, opt.y);\n\t\t\t\t_context.quadraticCurveTo(opt.x + opt.w, opt.y, opt.x + opt.w, opt.y + opt.h / 2);\n\t\t\t\t_context.lineTo(opt.x + opt.w, opt.y + opt.h - opt.h / 2);\n\t\t\t\t_context.quadraticCurveTo(opt.x + opt.w, opt.y + opt.h, opt.x + opt.w - opt.h / 2, opt.y + opt.h);\n\t\t\t\t_context.lineTo(opt.x + opt.h / 2, opt.y + opt.h);\n\t\t\t\t_context.quadraticCurveTo(opt.x, opt.y + opt.h, opt.x, opt.y + opt.h - opt.h / 2);\n\t\t\t\t_context.lineTo(opt.x, opt.y + opt.h / 2);\n\t\t\t\t_context.quadraticCurveTo(opt.x, opt.y, opt.x + opt.h / 2, opt.y);\n\t\t\t} else {\n\t\t\t\t_context.arc(opt.x + opt.w / 2, opt.y + opt.h / 2, opt.h / 2, 0, 2 * Math.PI);\n\t\t\t}\n\t\t\t_context.fillStyle = 'rgba(' + _opt.bgColor.r + ',' + _opt.bgColor.g + ',' + _opt.bgColor.b + ',' + opt.o + ')';\n\t\t\t_context.fill();\n\t\t\t_context.closePath();\n\t\t\t_context.beginPath();\n\t\t\t_context.stroke();\n\t\t\t_context.fillStyle = 'rgba(' + _opt.textColor.r + ',' + _opt.textColor.g + ',' + _opt.textColor.b + ',' + opt.o + ')';\n\t\t\t//_context.fillText((more) ? '9+' : opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\tif ((typeof opt.n) === 'number' && opt.n > 999) {\n\t\t\t\t_context.fillText(((opt.n > 9999) ? 9 : Math.floor(opt.n / 1000)) + 'k+', Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.2));\n\t\t\t} else {\n\t\t\t\t_context.fillText(opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\t}\n\t\t\t_context.closePath();\n\t\t};\n\t\t/**\n\t\t * Generate rectangle\n\t\t * @param {Object} opt Badge options\n\t\t */\n\t\ttype.rectangle = function (opt) {\n\t\t\topt = options(opt);\n\t\t\tvar more = false;\n\t\t\tif (opt.len === 2) {\n\t\t\t\topt.x = opt.x - opt.w * 0.4;\n\t\t\t\topt.w = opt.w * 1.4;\n\t\t\t\tmore = true;\n\t\t\t} else if (opt.len >= 3) {\n\t\t\t\topt.x = opt.x - opt.w * 0.65;\n\t\t\t\topt.w = opt.w * 1.65;\n\t\t\t\tmore = true;\n\t\t\t}\n\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t_context.drawImage(_img, 0, 0, _w, _h);\n\t\t\t_context.beginPath();\n\t\t\t_context.font = _opt.fontStyle + \" \" + Math.floor(opt.h * (opt.n > 99 ? 0.9 : 1)) + \"px \" + _opt.fontFamily;\n\t\t\t_context.textAlign = 'center';\n\t\t\t_context.fillStyle = 'rgba(' + _opt.bgColor.r + ',' + _opt.bgColor.g + ',' + _opt.bgColor.b + ',' + opt.o + ')';\n\t\t\t_context.fillRect(opt.x, opt.y, opt.w, opt.h);\n\t\t\t_context.fillStyle = 'rgba(' + _opt.textColor.r + ',' + _opt.textColor.g + ',' + _opt.textColor.b + ',' + opt.o + ')';\n\t\t\t//_context.fillText((more) ? '9+' : opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\tif ((typeof opt.n) === 'number' && opt.n > 999) {\n\t\t\t\t_context.fillText(((opt.n > 9999) ? 9 : Math.floor(opt.n / 1000)) + 'k+', Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.2));\n\t\t\t} else {\n\t\t\t\t_context.fillText(opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\t}\n\t\t\t_context.closePath();\n\t\t};\n\n\t\t/**\n\t\t * Set badge\n\t\t */\n\t\tvar badge = function (number, opts) {\n\t\t\topts = ((typeof opts) === 'string' ? {\n\t\t\t\tanimation: opts\n\t\t\t} : opts) || {};\n\t\t\t_readyCb = function () {\n\t\t\t\ttry {\n\t\t\t\t\tif (typeof (number) === 'number' ? (number > 0) : (number !== '')) {\n\t\t\t\t\t\tvar q = {\n\t\t\t\t\t\t\ttype: 'badge',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tn: number\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif ('animation' in opts && animation.types['' + opts.animation]) {\n\t\t\t\t\t\t\tq.options.animation = '' + opts.animation;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ('type' in opts && type['' + opts.type]) {\n\t\t\t\t\t\t\tq.options.type = '' + opts.type;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t['bgColor', 'textColor'].forEach(function (o) {\n\t\t\t\t\t\t\tif (o in opts) {\n\t\t\t\t\t\t\t\tq.options[o] = hexToRgb(opts[o]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t['fontStyle', 'fontFamily'].forEach(function (o) {\n\t\t\t\t\t\t\tif (o in opts) {\n\t\t\t\t\t\t\t\tq.options[o] = opts[o];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_queue.push(q);\n\t\t\t\t\t\tif (_queue.length > 100) {\n\t\t\t\t\t\t\tthrow new Error('Too many badges requests in queue.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ticon.start();\n\t\t\t\t\t} else {\n\t\t\t\t\t\ticon.reset();\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new Error('Error setting badge. Message: ' + e.message);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_ready) {\n\t\t\t\t_readyCb();\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Set image as icon\n\t\t */\n\t\tvar image = function (imageElement) {\n\t\t\t_readyCb = function () {\n\t\t\t\ttry {\n\t\t\t\t\tvar w = imageElement.width;\n\t\t\t\t\tvar h = imageElement.height;\n\t\t\t\t\tvar newImg = document.createElement('img');\n\t\t\t\t\tvar ratio = (w / _w < h / _h) ? (w / _w) : (h / _h);\n\t\t\t\t\tnewImg.setAttribute('crossOrigin', 'anonymous');\n\t\t\t\t\tnewImg.onload=function(){\n\t\t\t\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t\t\t\t_context.drawImage(newImg, 0, 0, _w, _h);\n\t\t\t\t\t\tlink.setIcon(_canvas);\n\t\t\t\t\t};\n\t\t\t\t\tnewImg.setAttribute('src', imageElement.getAttribute('src'));\n\t\t\t\t\tnewImg.height = (h / ratio);\n\t\t\t\t\tnewImg.width = (w / ratio);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new Error('Error setting image. Message: ' + e.message);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_ready) {\n\t\t\t\t_readyCb();\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t * Set video as icon\n\t\t */\n\t\tvar video = function (videoElement) {\n\t\t\t_readyCb = function () {\n\t\t\t\ttry {\n\t\t\t\t\tif (videoElement === 'stop') {\n\t\t\t\t\t\t_stop = true;\n\t\t\t\t\t\ticon.reset();\n\t\t\t\t\t\t_stop = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t//var w = videoElement.width;\n\t\t\t\t\t//var h = videoElement.height;\n\t\t\t\t\t//var ratio = (w / _w < h / _h) ? (w / _w) : (h / _h);\n\t\t\t\t\tvideoElement.addEventListener('play', function () {\n\t\t\t\t\t\tdrawVideo(this);\n\t\t\t\t\t}, false);\n\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new Error('Error setting video. Message: ' + e.message);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_ready) {\n\t\t\t\t_readyCb();\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t * Set video as icon\n\t\t */\n\t\tvar webcam = function (action) {\n\t\t\t//UR\n\t\t\tif (!window.URL || !window.URL.createObjectURL) {\n\t\t\t\twindow.URL = window.URL || {};\n\t\t\t\twindow.URL.createObjectURL = function (obj) {\n\t\t\t\t\treturn obj;\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (_browser.supported) {\n\t\t\t\tvar newVideo = false;\n\t\t\t\tnavigator.getUserMedia = navigator.getUserMedia || navigator.oGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia || navigator.webkitGetUserMedia;\n\t\t\t\t_readyCb = function () {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (action === 'stop') {\n\t\t\t\t\t\t\t_stop = true;\n\t\t\t\t\t\t\ticon.reset();\n\t\t\t\t\t\t\t_stop = false;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewVideo = document.createElement('video');\n\t\t\t\t\t\tnewVideo.width = _w;\n\t\t\t\t\t\tnewVideo.height = _h;\n\t\t\t\t\t\tnavigator.getUserMedia({\n\t\t\t\t\t\t\tvideo: true,\n\t\t\t\t\t\t\taudio: false\n\t\t\t\t\t\t}, function (stream) {\n\t\t\t\t\t\t\tnewVideo.src = URL.createObjectURL(stream);\n\t\t\t\t\t\t\tnewVideo.play();\n\t\t\t\t\t\t\tdrawVideo(newVideo);\n\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tthrow new Error('Error setting webcam. Message: ' + e.message);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (_ready) {\n\t\t\t\t\t_readyCb();\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\t/**\n\t\t * Draw video to context and repeat :)\n\t\t */\n\t\tfunction drawVideo(video) {\n\t\t\tif (video.paused || video.ended || _stop) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//nasty hack for FF webcam (Thanks to Julian wirko, kontakt@redsunmedia.pl)\n\t\t\ttry {\n\t\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t\t_context.drawImage(video, 0, 0, _w, _h);\n\t\t\t} catch (e) {\n\n\t\t\t}\n\t\t\t_drawTimeout = setTimeout(function () {\n\t\t\t\tdrawVideo(video);\n\t\t\t}, animation.duration);\n\t\t\tlink.setIcon(_canvas);\n\t\t}\n\n\t\tvar link = {};\n\t\t/**\n\t\t * Get icon from HEAD tag or create a new <link> element\n\t\t */\n\t\tlink.getIcon = function () {\n\t\t\tvar elm = false;\n\t\t\t//get link element\n\t\t\tvar getLink = function () {\n\t\t\t\tvar link = _doc.getElementsByTagName('head')[0].getElementsByTagName('link');\n\t\t\t\tfor (var l = link.length, i = (l - 1); i >= 0; i--) {\n\t\t\t\t\tif ((/(^|\\s)icon(\\s|$)/i).test(link[i].getAttribute('rel'))) {\n\t\t\t\t\t\treturn link[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tif (_opt.element) {\n\t\t\t\telm = _opt.element;\n\t\t\t} else if (_opt.elementId) {\n\t\t\t\t//if img element identified by elementId\n\t\t\t\telm = _doc.getElementById(_opt.elementId);\n\t\t\t\telm.setAttribute('href', elm.getAttribute('src'));\n\t\t\t} else {\n\t\t\t\t//if link element\n\t\t\t\telm = getLink();\n\t\t\t\tif (elm === false) {\n\t\t\t\t\telm = _doc.createElement('link');\n\t\t\t\t\telm.setAttribute('rel', 'icon');\n\t\t\t\t\t_doc.getElementsByTagName('head')[0].appendChild(elm);\n\t\t\t\t}\n\t\t\t}\n\t\t\telm.setAttribute('type', 'image/png');\n\t\t\treturn elm;\n\t\t};\n\t\tlink.setIcon = function (canvas) {\n\t\t\tvar url = canvas.toDataURL('image/png');\n\t\t\tif (_opt.dataUrl) {\n\t\t\t\t//if using custom exporter\n\t\t\t\t_opt.dataUrl(url);\n\t\t\t}\n\t\t\tif (_opt.element) {\n\t\t\t\t_opt.element.setAttribute('href', url);\n\t\t\t\t_opt.element.setAttribute('src', url);\n\t\t\t} else if (_opt.elementId) {\n\t\t\t\t//if is attached to element (image)\n\t\t\t\tvar elm = _doc.getElementById(_opt.elementId);\n\t\t\t\telm.setAttribute('href', url);\n\t\t\t\telm.setAttribute('src', url);\n\t\t\t} else {\n\t\t\t\t//if is attached to fav icon\n\t\t\t\tif (_browser.ff || _browser.opera) {\n\t\t\t\t\t//for FF we need to \"recreate\" element, atach to dom and remove old <link>\n\t\t\t\t\t//var originalType = _orig.getAttribute('rel');\n\t\t\t\t\tvar old = _orig;\n\t\t\t\t\t_orig = _doc.createElement('link');\n\t\t\t\t\t//_orig.setAttribute('rel', originalType);\n\t\t\t\t\tif (_browser.opera) {\n\t\t\t\t\t\t_orig.setAttribute('rel', 'icon');\n\t\t\t\t\t}\n\t\t\t\t\t_orig.setAttribute('rel', 'icon');\n\t\t\t\t\t_orig.setAttribute('type', 'image/png');\n\t\t\t\t\t_doc.getElementsByTagName('head')[0].appendChild(_orig);\n\t\t\t\t\t_orig.setAttribute('href', url);\n\t\t\t\t\tif (old.parentNode) {\n\t\t\t\t\t\told.parentNode.removeChild(old);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_orig.setAttribute('href', url);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t//http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb#answer-5624139\n\t\t//HEX to RGB convertor\n\t\tfunction hexToRgb(hex) {\n\t\t\tvar shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\t\t\thex = hex.replace(shorthandRegex, function (m, r, g, b) {\n\t\t\t\treturn r + r + g + g + b + b;\n\t\t\t});\n\t\t\tvar result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\t\t\treturn result ? {\n\t\t\t\tr: parseInt(result[1], 16),\n\t\t\t\tg: parseInt(result[2], 16),\n\t\t\t\tb: parseInt(result[3], 16)\n\t\t\t} : false;\n\t\t}\n\n\t\t/**\n\t\t * Merge options\n\t\t */\n\t\tfunction merge(def, opt) {\n\t\t\tvar mergedOpt = {};\n\t\t\tvar attrname;\n\t\t\tfor (attrname in def) {\n\t\t\t\tmergedOpt[attrname] = def[attrname];\n\t\t\t}\n\t\t\tfor (attrname in opt) {\n\t\t\t\tmergedOpt[attrname] = opt[attrname];\n\t\t\t}\n\t\t\treturn mergedOpt;\n\t\t}\n\n\t\t/**\n\t\t * Cross-browser page visibility shim\n\t\t * http://stackoverflow.com/questions/12536562/detect-whether-a-window-is-visible\n\t\t */\n\t\tfunction isPageHidden() {\n\t\t\treturn _doc.hidden || _doc.msHidden || _doc.webkitHidden || _doc.mozHidden;\n\t\t}\n\n\t\t/**\n\t\t * @namespace animation\n\t\t */\n\t\tvar animation = {};\n\t\t/**\n\t\t * Animation \"frame\" duration\n\t\t */\n\t\tanimation.duration = 40;\n\t\t/**\n\t\t * Animation types (none,fade,pop,slide)\n\t\t */\n\t\tanimation.types = {};\n\t\tanimation.types.fade = [{\n\t\t\tx: 0.4,\n\t\t\ty: 0.4,\n\t\t\tw: 0.6,\n\t\t\th: 0.6,\n\t\t\to: 0.0\n\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.2\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.3\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.4\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.5\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.6\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.7\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.8\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.9\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1.0\n\t\t\t}];\n\t\tanimation.types.none = [{\n\t\t\tx: 0.4,\n\t\t\ty: 0.4,\n\t\t\tw: 0.6,\n\t\t\th: 0.6,\n\t\t\to: 1\n\t\t}];\n\t\tanimation.types.pop = [{\n\t\t\tx: 1,\n\t\t\ty: 1,\n\t\t\tw: 0,\n\t\t\th: 0,\n\t\t\to: 1\n\t\t}, {\n\t\t\t\tx: 0.9,\n\t\t\t\ty: 0.9,\n\t\t\t\tw: 0.1,\n\t\t\t\th: 0.1,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.8,\n\t\t\t\ty: 0.8,\n\t\t\t\tw: 0.2,\n\t\t\t\th: 0.2,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.7,\n\t\t\t\ty: 0.7,\n\t\t\t\tw: 0.3,\n\t\t\t\th: 0.3,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.6,\n\t\t\t\ty: 0.6,\n\t\t\t\tw: 0.4,\n\t\t\t\th: 0.4,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.5,\n\t\t\t\ty: 0.5,\n\t\t\t\tw: 0.5,\n\t\t\t\th: 0.5,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}];\n\t\tanimation.types.popFade = [{\n\t\t\tx: 0.75,\n\t\t\ty: 0.75,\n\t\t\tw: 0,\n\t\t\th: 0,\n\t\t\to: 0\n\t\t}, {\n\t\t\t\tx: 0.65,\n\t\t\t\ty: 0.65,\n\t\t\t\tw: 0.1,\n\t\t\t\th: 0.1,\n\t\t\t\to: 0.2\n\t\t\t}, {\n\t\t\t\tx: 0.6,\n\t\t\t\ty: 0.6,\n\t\t\t\tw: 0.2,\n\t\t\t\th: 0.2,\n\t\t\t\to: 0.4\n\t\t\t}, {\n\t\t\t\tx: 0.55,\n\t\t\t\ty: 0.55,\n\t\t\t\tw: 0.3,\n\t\t\t\th: 0.3,\n\t\t\t\to: 0.6\n\t\t\t}, {\n\t\t\t\tx: 0.50,\n\t\t\t\ty: 0.50,\n\t\t\t\tw: 0.4,\n\t\t\t\th: 0.4,\n\t\t\t\to: 0.8\n\t\t\t}, {\n\t\t\t\tx: 0.45,\n\t\t\t\ty: 0.45,\n\t\t\t\tw: 0.5,\n\t\t\t\th: 0.5,\n\t\t\t\to: 0.9\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}];\n\t\tanimation.types.slide = [{\n\t\t\tx: 0.4,\n\t\t\ty: 1,\n\t\t\tw: 0.6,\n\t\t\th: 0.6,\n\t\t\to: 1\n\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.9,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.9,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.8,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.7,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.6,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.5,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}];\n\t\t/**\n\t\t * Run animation\n\t\t * @param {Object} opt Animation options\n\t\t * @param {Object} cb Callabak after all steps are done\n\t\t * @param {Object} revert Reverse order? true|false\n\t\t * @param {Object} step Optional step number (frame bumber)\n\t\t */\n\t\tanimation.run = function (opt, cb, revert, step) {\n\t\t\tvar animationType = animation.types[isPageHidden() ? 'none' : _opt.animation];\n\t\t\tif (revert === true) {\n\t\t\t\tstep = (typeof step !== 'undefined') ? step : animationType.length - 1;\n\t\t\t} else {\n\t\t\t\tstep = (typeof step !== 'undefined') ? step : 0;\n\t\t\t}\n\t\t\tcb = (cb) ? cb : function () {\n\t\t\t};\n\t\t\tif ((step < animationType.length) && (step >= 0)) {\n\t\t\t\ttype[_opt.type](merge(opt, animationType[step]));\n\t\t\t\t_animTimeout = setTimeout(function () {\n\t\t\t\t\tif (revert) {\n\t\t\t\t\t\tstep = step - 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstep = step + 1;\n\t\t\t\t\t}\n\t\t\t\t\tanimation.run(opt, cb, revert, step);\n\t\t\t\t}, animation.duration);\n\n\t\t\t\tlink.setIcon(_canvas);\n\t\t\t} else {\n\t\t\t\tcb();\n\t\t\t\treturn;\n\t\t\t}\n\t\t};\n\t\t//auto init\n\t\tinit();\n\t\treturn {\n\t\t\tbadge: badge,\n\t\t\tvideo: video,\n\t\t\timage: image,\n\t\t\twebcam: webcam,\n\t\t\treset: icon.reset,\n\t\t\tbrowser: {\n\t\t\t\tsupported: _browser.supported\n\t\t\t}\n\t\t};\n\t});\n\n\t// AMD / RequireJS\n\tif (typeof define !== 'undefined' && define.amd) {\n\t\tdefine([], function () {\n\t\t\treturn Favico;\n\t\t});\n\t}\n\t// CommonJS\n\telse if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = Favico;\n\t}\n\t// included directly via <script> tag\n\telse {\n\t\tthis.Favico = Favico;\n\t}\n\n})();\n","module.exports = \"data:image/png;base64,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\"","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","module.exports = require('./head');\n","var mapping = require('./_mapping'),\n    fallbackHolder = require('./placeholder');\n\n/** Built-in value reference. */\nvar push = Array.prototype.push;\n\n/**\n * Creates a function, with an arity of `n`, that invokes `func` with the\n * arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} n The arity of the new function.\n * @returns {Function} Returns the new function.\n */\nfunction baseArity(func, n) {\n  return n == 2\n    ? function(a, b) { return func.apply(undefined, arguments); }\n    : function(a) { return func.apply(undefined, arguments); };\n}\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments, ignoring\n * any additional arguments.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @param {number} n The arity cap.\n * @returns {Function} Returns the new function.\n */\nfunction baseAry(func, n) {\n  return n == 2\n    ? function(a, b) { return func(a, b); }\n    : function(a) { return func(a); };\n}\n\n/**\n * Creates a clone of `array`.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the cloned array.\n */\nfunction cloneArray(array) {\n  var length = array ? array.length : 0,\n      result = Array(length);\n\n  while (length--) {\n    result[length] = array[length];\n  }\n  return result;\n}\n\n/**\n * Creates a function that clones a given object using the assignment `func`.\n *\n * @private\n * @param {Function} func The assignment function.\n * @returns {Function} Returns the new cloner function.\n */\nfunction createCloner(func) {\n  return function(object) {\n    return func({}, object);\n  };\n}\n\n/**\n * A specialized version of `_.spread` which flattens the spread array into\n * the arguments of the invoked `func`.\n *\n * @private\n * @param {Function} func The function to spread arguments over.\n * @param {number} start The start position of the spread.\n * @returns {Function} Returns the new function.\n */\nfunction flatSpread(func, start) {\n  return function() {\n    var length = arguments.length,\n        lastIndex = length - 1,\n        args = Array(length);\n\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var array = args[start],\n        otherArgs = args.slice(0, start);\n\n    if (array) {\n      push.apply(otherArgs, array);\n    }\n    if (start != lastIndex) {\n      push.apply(otherArgs, args.slice(start + 1));\n    }\n    return func.apply(this, otherArgs);\n  };\n}\n\n/**\n * Creates a function that wraps `func` and uses `cloner` to clone the first\n * argument it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} cloner The function to clone arguments.\n * @returns {Function} Returns the new immutable function.\n */\nfunction wrapImmutable(func, cloner) {\n  return function() {\n    var length = arguments.length;\n    if (!length) {\n      return;\n    }\n    var args = Array(length);\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var result = args[0] = cloner.apply(undefined, args);\n    func.apply(undefined, args);\n    return result;\n  };\n}\n\n/**\n * The base implementation of `convert` which accepts a `util` object of methods\n * required to perform conversions.\n *\n * @param {Object} util The util object.\n * @param {string} name The name of the function to convert.\n * @param {Function} func The function to convert.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.cap=true] Specify capping iteratee arguments.\n * @param {boolean} [options.curry=true] Specify currying.\n * @param {boolean} [options.fixed=true] Specify fixed arity.\n * @param {boolean} [options.immutable=true] Specify immutable operations.\n * @param {boolean} [options.rearg=true] Specify rearranging arguments.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction baseConvert(util, name, func, options) {\n  var isLib = typeof name == 'function',\n      isObj = name === Object(name);\n\n  if (isObj) {\n    options = func;\n    func = name;\n    name = undefined;\n  }\n  if (func == null) {\n    throw new TypeError;\n  }\n  options || (options = {});\n\n  var config = {\n    'cap': 'cap' in options ? options.cap : true,\n    'curry': 'curry' in options ? options.curry : true,\n    'fixed': 'fixed' in options ? options.fixed : true,\n    'immutable': 'immutable' in options ? options.immutable : true,\n    'rearg': 'rearg' in options ? options.rearg : true\n  };\n\n  var defaultHolder = isLib ? func : fallbackHolder,\n      forceCurry = ('curry' in options) && options.curry,\n      forceFixed = ('fixed' in options) && options.fixed,\n      forceRearg = ('rearg' in options) && options.rearg,\n      pristine = isLib ? func.runInContext() : undefined;\n\n  var helpers = isLib ? func : {\n    'ary': util.ary,\n    'assign': util.assign,\n    'clone': util.clone,\n    'curry': util.curry,\n    'forEach': util.forEach,\n    'isArray': util.isArray,\n    'isError': util.isError,\n    'isFunction': util.isFunction,\n    'isWeakMap': util.isWeakMap,\n    'iteratee': util.iteratee,\n    'keys': util.keys,\n    'rearg': util.rearg,\n    'toInteger': util.toInteger,\n    'toPath': util.toPath\n  };\n\n  var ary = helpers.ary,\n      assign = helpers.assign,\n      clone = helpers.clone,\n      curry = helpers.curry,\n      each = helpers.forEach,\n      isArray = helpers.isArray,\n      isError = helpers.isError,\n      isFunction = helpers.isFunction,\n      isWeakMap = helpers.isWeakMap,\n      keys = helpers.keys,\n      rearg = helpers.rearg,\n      toInteger = helpers.toInteger,\n      toPath = helpers.toPath;\n\n  var aryMethodKeys = keys(mapping.aryMethod);\n\n  var wrappers = {\n    'castArray': function(castArray) {\n      return function() {\n        var value = arguments[0];\n        return isArray(value)\n          ? castArray(cloneArray(value))\n          : castArray.apply(undefined, arguments);\n      };\n    },\n    'iteratee': function(iteratee) {\n      return function() {\n        var func = arguments[0],\n            arity = arguments[1],\n            result = iteratee(func, arity),\n            length = result.length;\n\n        if (config.cap && typeof arity == 'number') {\n          arity = arity > 2 ? (arity - 2) : 1;\n          return (length && length <= arity) ? result : baseAry(result, arity);\n        }\n        return result;\n      };\n    },\n    'mixin': function(mixin) {\n      return function(source) {\n        var func = this;\n        if (!isFunction(func)) {\n          return mixin(func, Object(source));\n        }\n        var pairs = [];\n        each(keys(source), function(key) {\n          if (isFunction(source[key])) {\n            pairs.push([key, func.prototype[key]]);\n          }\n        });\n\n        mixin(func, Object(source));\n\n        each(pairs, function(pair) {\n          var value = pair[1];\n          if (isFunction(value)) {\n            func.prototype[pair[0]] = value;\n          } else {\n            delete func.prototype[pair[0]];\n          }\n        });\n        return func;\n      };\n    },\n    'nthArg': function(nthArg) {\n      return function(n) {\n        var arity = n < 0 ? 1 : (toInteger(n) + 1);\n        return curry(nthArg(n), arity);\n      };\n    },\n    'rearg': function(rearg) {\n      return function(func, indexes) {\n        var arity = indexes ? indexes.length : 0;\n        return curry(rearg(func, indexes), arity);\n      };\n    },\n    'runInContext': function(runInContext) {\n      return function(context) {\n        return baseConvert(util, runInContext(context), options);\n      };\n    }\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Casts `func` to a function with an arity capped iteratee if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCap(name, func) {\n    if (config.cap) {\n      var indexes = mapping.iterateeRearg[name];\n      if (indexes) {\n        return iterateeRearg(func, indexes);\n      }\n      var n = !isLib && mapping.iterateeAry[name];\n      if (n) {\n        return iterateeAry(func, n);\n      }\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to a curried function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCurry(name, func, n) {\n    return (forceCurry || (config.curry && n > 1))\n      ? curry(func, n)\n      : func;\n  }\n\n  /**\n   * Casts `func` to a fixed arity function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the cast function.\n   */\n  function castFixed(name, func, n) {\n    if (config.fixed && (forceFixed || !mapping.skipFixed[name])) {\n      var data = mapping.methodSpread[name],\n          start = data && data.start;\n\n      return start  === undefined ? ary(func, n) : flatSpread(func, start);\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to an rearged function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castRearg(name, func, n) {\n    return (config.rearg && n > 1 && (forceRearg || !mapping.skipRearg[name]))\n      ? rearg(func, mapping.methodRearg[name] || mapping.aryRearg[n])\n      : func;\n  }\n\n  /**\n   * Creates a clone of `object` by `path`.\n   *\n   * @private\n   * @param {Object} object The object to clone.\n   * @param {Array|string} path The path to clone by.\n   * @returns {Object} Returns the cloned object.\n   */\n  function cloneByPath(object, path) {\n    path = toPath(path);\n\n    var index = -1,\n        length = path.length,\n        lastIndex = length - 1,\n        result = clone(Object(object)),\n        nested = result;\n\n    while (nested != null && ++index < length) {\n      var key = path[index],\n          value = nested[key];\n\n      if (value != null &&\n          !(isFunction(value) || isError(value) || isWeakMap(value))) {\n        nested[key] = clone(index == lastIndex ? value : Object(value));\n      }\n      nested = nested[key];\n    }\n    return result;\n  }\n\n  /**\n   * Converts `lodash` to an immutable auto-curried iteratee-first data-last\n   * version with conversion `options` applied.\n   *\n   * @param {Object} [options] The options object. See `baseConvert` for more details.\n   * @returns {Function} Returns the converted `lodash`.\n   */\n  function convertLib(options) {\n    return _.runInContext.convert(options)(undefined);\n  }\n\n  /**\n   * Create a converter function for `func` of `name`.\n   *\n   * @param {string} name The name of the function to convert.\n   * @param {Function} func The function to convert.\n   * @returns {Function} Returns the new converter function.\n   */\n  function createConverter(name, func) {\n    var realName = mapping.aliasToReal[name] || name,\n        methodName = mapping.remap[realName] || realName,\n        oldOptions = options;\n\n    return function(options) {\n      var newUtil = isLib ? pristine : helpers,\n          newFunc = isLib ? pristine[methodName] : func,\n          newOptions = assign(assign({}, oldOptions), options);\n\n      return baseConvert(newUtil, realName, newFunc, newOptions);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee, with up to `n`\n   * arguments, ignoring any additional arguments.\n   *\n   * @private\n   * @param {Function} func The function to cap iteratee arguments for.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeAry(func, n) {\n    return overArg(func, function(func) {\n      return typeof func == 'function' ? baseAry(func, n) : func;\n    });\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee with arguments\n   * arranged according to the specified `indexes` where the argument value at\n   * the first index is provided as the first argument, the argument value at\n   * the second index is provided as the second argument, and so on.\n   *\n   * @private\n   * @param {Function} func The function to rearrange iteratee arguments for.\n   * @param {number[]} indexes The arranged argument indexes.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeRearg(func, indexes) {\n    return overArg(func, function(func) {\n      var n = indexes.length;\n      return baseArity(rearg(baseAry(func, n), indexes), n);\n    });\n  }\n\n  /**\n   * Creates a function that invokes `func` with its first argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function() {\n      var length = arguments.length;\n      if (!length) {\n        return func();\n      }\n      var args = Array(length);\n      while (length--) {\n        args[length] = arguments[length];\n      }\n      var index = config.rearg ? 0 : (length - 1);\n      args[index] = transform(args[index]);\n      return func.apply(undefined, args);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` and applys the conversions\n   * rules by `name`.\n   *\n   * @private\n   * @param {string} name The name of the function to wrap.\n   * @param {Function} func The function to wrap.\n   * @returns {Function} Returns the converted function.\n   */\n  function wrap(name, func, placeholder) {\n    var result,\n        realName = mapping.aliasToReal[name] || name,\n        wrapped = func,\n        wrapper = wrappers[realName];\n\n    if (wrapper) {\n      wrapped = wrapper(func);\n    }\n    else if (config.immutable) {\n      if (mapping.mutate.array[realName]) {\n        wrapped = wrapImmutable(func, cloneArray);\n      }\n      else if (mapping.mutate.object[realName]) {\n        wrapped = wrapImmutable(func, createCloner(func));\n      }\n      else if (mapping.mutate.set[realName]) {\n        wrapped = wrapImmutable(func, cloneByPath);\n      }\n    }\n    each(aryMethodKeys, function(aryKey) {\n      each(mapping.aryMethod[aryKey], function(otherName) {\n        if (realName == otherName) {\n          var data = mapping.methodSpread[realName],\n              afterRearg = data && data.afterRearg;\n\n          result = afterRearg\n            ? castFixed(realName, castRearg(realName, wrapped, aryKey), aryKey)\n            : castRearg(realName, castFixed(realName, wrapped, aryKey), aryKey);\n\n          result = castCap(realName, result);\n          result = castCurry(realName, result, aryKey);\n          return false;\n        }\n      });\n      return !result;\n    });\n\n    result || (result = wrapped);\n    if (result == func) {\n      result = forceCurry ? curry(result, 1) : function() {\n        return func.apply(this, arguments);\n      };\n    }\n    result.convert = createConverter(realName, func);\n    result.placeholder = func.placeholder = placeholder;\n\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  if (!isObj) {\n    return wrap(name, func, defaultHolder);\n  }\n  var _ = func;\n\n  // Convert methods by ary cap.\n  var pairs = [];\n  each(aryMethodKeys, function(aryKey) {\n    each(mapping.aryMethod[aryKey], function(key) {\n      var func = _[mapping.remap[key] || key];\n      if (func) {\n        pairs.push([key, wrap(key, func, _)]);\n      }\n    });\n  });\n\n  // Convert remaining methods.\n  each(keys(_), function(key) {\n    var func = _[key];\n    if (typeof func == 'function') {\n      var length = pairs.length;\n      while (length--) {\n        if (pairs[length][0] == key) {\n          return;\n        }\n      }\n      func.convert = createConverter(key, func);\n      pairs.push([key, func]);\n    }\n  });\n\n  // Assign to `_` leaving `_.prototype` unchanged to allow chaining.\n  each(pairs, function(pair) {\n    _[pair[0]] = pair[1];\n  });\n\n  _.convert = convertLib;\n  _.placeholder = _;\n\n  // Assign aliases.\n  each(keys(_), function(key) {\n    each(mapping.realToAlias[key] || [], function(alias) {\n      _[alias] = _[key];\n    });\n  });\n\n  return _;\n}\n\nmodule.exports = baseConvert;\n","/** Used to map aliases to their real names. */\nexports.aliasToReal = {\n\n  // Lodash aliases.\n  'each': 'forEach',\n  'eachRight': 'forEachRight',\n  'entries': 'toPairs',\n  'entriesIn': 'toPairsIn',\n  'extend': 'assignIn',\n  'extendAll': 'assignInAll',\n  'extendAllWith': 'assignInAllWith',\n  'extendWith': 'assignInWith',\n  'first': 'head',\n\n  // Methods that are curried variants of others.\n  'conforms': 'conformsTo',\n  'matches': 'isMatch',\n  'property': 'get',\n\n  // Ramda aliases.\n  '__': 'placeholder',\n  'F': 'stubFalse',\n  'T': 'stubTrue',\n  'all': 'every',\n  'allPass': 'overEvery',\n  'always': 'constant',\n  'any': 'some',\n  'anyPass': 'overSome',\n  'apply': 'spread',\n  'assoc': 'set',\n  'assocPath': 'set',\n  'complement': 'negate',\n  'compose': 'flowRight',\n  'contains': 'includes',\n  'dissoc': 'unset',\n  'dissocPath': 'unset',\n  'dropLast': 'dropRight',\n  'dropLastWhile': 'dropRightWhile',\n  'equals': 'isEqual',\n  'identical': 'eq',\n  'indexBy': 'keyBy',\n  'init': 'initial',\n  'invertObj': 'invert',\n  'juxt': 'over',\n  'omitAll': 'omit',\n  'nAry': 'ary',\n  'path': 'get',\n  'pathEq': 'matchesProperty',\n  'pathOr': 'getOr',\n  'paths': 'at',\n  'pickAll': 'pick',\n  'pipe': 'flow',\n  'pluck': 'map',\n  'prop': 'get',\n  'propEq': 'matchesProperty',\n  'propOr': 'getOr',\n  'props': 'at',\n  'symmetricDifference': 'xor',\n  'symmetricDifferenceBy': 'xorBy',\n  'symmetricDifferenceWith': 'xorWith',\n  'takeLast': 'takeRight',\n  'takeLastWhile': 'takeRightWhile',\n  'unapply': 'rest',\n  'unnest': 'flatten',\n  'useWith': 'overArgs',\n  'where': 'conformsTo',\n  'whereEq': 'isMatch',\n  'zipObj': 'zipObject'\n};\n\n/** Used to map ary to method names. */\nexports.aryMethod = {\n  '1': [\n    'assignAll', 'assignInAll', 'attempt', 'castArray', 'ceil', 'create',\n    'curry', 'curryRight', 'defaultsAll', 'defaultsDeepAll', 'floor', 'flow',\n    'flowRight', 'fromPairs', 'invert', 'iteratee', 'memoize', 'method', 'mergeAll',\n    'methodOf', 'mixin', 'nthArg', 'over', 'overEvery', 'overSome','rest', 'reverse',\n    'round', 'runInContext', 'spread', 'template', 'trim', 'trimEnd', 'trimStart',\n    'uniqueId', 'words', 'zipAll'\n  ],\n  '2': [\n    'add', 'after', 'ary', 'assign', 'assignAllWith', 'assignIn', 'assignInAllWith',\n    'at', 'before', 'bind', 'bindAll', 'bindKey', 'chunk', 'cloneDeepWith',\n    'cloneWith', 'concat', 'conformsTo', 'countBy', 'curryN', 'curryRightN',\n    'debounce', 'defaults', 'defaultsDeep', 'defaultTo', 'delay', 'difference',\n    'divide', 'drop', 'dropRight', 'dropRightWhile', 'dropWhile', 'endsWith', 'eq',\n    'every', 'filter', 'find', 'findIndex', 'findKey', 'findLast', 'findLastIndex',\n    'findLastKey', 'flatMap', 'flatMapDeep', 'flattenDepth', 'forEach',\n    'forEachRight', 'forIn', 'forInRight', 'forOwn', 'forOwnRight', 'get',\n    'groupBy', 'gt', 'gte', 'has', 'hasIn', 'includes', 'indexOf', 'intersection',\n    'invertBy', 'invoke', 'invokeMap', 'isEqual', 'isMatch', 'join', 'keyBy',\n    'lastIndexOf', 'lt', 'lte', 'map', 'mapKeys', 'mapValues', 'matchesProperty',\n    'maxBy', 'meanBy', 'merge', 'mergeAllWith', 'minBy', 'multiply', 'nth', 'omit',\n    'omitBy', 'overArgs', 'pad', 'padEnd', 'padStart', 'parseInt', 'partial',\n    'partialRight', 'partition', 'pick', 'pickBy', 'propertyOf', 'pull', 'pullAll',\n    'pullAt', 'random', 'range', 'rangeRight', 'rearg', 'reject', 'remove',\n    'repeat', 'restFrom', 'result', 'sampleSize', 'some', 'sortBy', 'sortedIndex',\n    'sortedIndexOf', 'sortedLastIndex', 'sortedLastIndexOf', 'sortedUniqBy',\n    'split', 'spreadFrom', 'startsWith', 'subtract', 'sumBy', 'take', 'takeRight',\n    'takeRightWhile', 'takeWhile', 'tap', 'throttle', 'thru', 'times', 'trimChars',\n    'trimCharsEnd', 'trimCharsStart', 'truncate', 'union', 'uniqBy', 'uniqWith',\n    'unset', 'unzipWith', 'without', 'wrap', 'xor', 'zip', 'zipObject',\n    'zipObjectDeep'\n  ],\n  '3': [\n    'assignInWith', 'assignWith', 'clamp', 'differenceBy', 'differenceWith',\n    'findFrom', 'findIndexFrom', 'findLastFrom', 'findLastIndexFrom', 'getOr',\n    'includesFrom', 'indexOfFrom', 'inRange', 'intersectionBy', 'intersectionWith',\n    'invokeArgs', 'invokeArgsMap', 'isEqualWith', 'isMatchWith', 'flatMapDepth',\n    'lastIndexOfFrom', 'mergeWith', 'orderBy', 'padChars', 'padCharsEnd',\n    'padCharsStart', 'pullAllBy', 'pullAllWith', 'rangeStep', 'rangeStepRight',\n    'reduce', 'reduceRight', 'replace', 'set', 'slice', 'sortedIndexBy',\n    'sortedLastIndexBy', 'transform', 'unionBy', 'unionWith', 'update', 'xorBy',\n    'xorWith', 'zipWith'\n  ],\n  '4': [\n    'fill', 'setWith', 'updateWith'\n  ]\n};\n\n/** Used to map ary to rearg configs. */\nexports.aryRearg = {\n  '2': [1, 0],\n  '3': [2, 0, 1],\n  '4': [3, 2, 0, 1]\n};\n\n/** Used to map method names to their iteratee ary. */\nexports.iterateeAry = {\n  'dropRightWhile': 1,\n  'dropWhile': 1,\n  'every': 1,\n  'filter': 1,\n  'find': 1,\n  'findFrom': 1,\n  'findIndex': 1,\n  'findIndexFrom': 1,\n  'findKey': 1,\n  'findLast': 1,\n  'findLastFrom': 1,\n  'findLastIndex': 1,\n  'findLastIndexFrom': 1,\n  'findLastKey': 1,\n  'flatMap': 1,\n  'flatMapDeep': 1,\n  'flatMapDepth': 1,\n  'forEach': 1,\n  'forEachRight': 1,\n  'forIn': 1,\n  'forInRight': 1,\n  'forOwn': 1,\n  'forOwnRight': 1,\n  'map': 1,\n  'mapKeys': 1,\n  'mapValues': 1,\n  'partition': 1,\n  'reduce': 2,\n  'reduceRight': 2,\n  'reject': 1,\n  'remove': 1,\n  'some': 1,\n  'takeRightWhile': 1,\n  'takeWhile': 1,\n  'times': 1,\n  'transform': 2\n};\n\n/** Used to map method names to iteratee rearg configs. */\nexports.iterateeRearg = {\n  'mapKeys': [1],\n  'reduceRight': [1, 0]\n};\n\n/** Used to map method names to rearg configs. */\nexports.methodRearg = {\n  'assignInAllWith': [1, 0],\n  'assignInWith': [1, 2, 0],\n  'assignAllWith': [1, 0],\n  'assignWith': [1, 2, 0],\n  'differenceBy': [1, 2, 0],\n  'differenceWith': [1, 2, 0],\n  'getOr': [2, 1, 0],\n  'intersectionBy': [1, 2, 0],\n  'intersectionWith': [1, 2, 0],\n  'isEqualWith': [1, 2, 0],\n  'isMatchWith': [2, 1, 0],\n  'mergeAllWith': [1, 0],\n  'mergeWith': [1, 2, 0],\n  'padChars': [2, 1, 0],\n  'padCharsEnd': [2, 1, 0],\n  'padCharsStart': [2, 1, 0],\n  'pullAllBy': [2, 1, 0],\n  'pullAllWith': [2, 1, 0],\n  'rangeStep': [1, 2, 0],\n  'rangeStepRight': [1, 2, 0],\n  'setWith': [3, 1, 2, 0],\n  'sortedIndexBy': [2, 1, 0],\n  'sortedLastIndexBy': [2, 1, 0],\n  'unionBy': [1, 2, 0],\n  'unionWith': [1, 2, 0],\n  'updateWith': [3, 1, 2, 0],\n  'xorBy': [1, 2, 0],\n  'xorWith': [1, 2, 0],\n  'zipWith': [1, 2, 0]\n};\n\n/** Used to map method names to spread configs. */\nexports.methodSpread = {\n  'assignAll': { 'start': 0 },\n  'assignAllWith': { 'start': 0 },\n  'assignInAll': { 'start': 0 },\n  'assignInAllWith': { 'start': 0 },\n  'defaultsAll': { 'start': 0 },\n  'defaultsDeepAll': { 'start': 0 },\n  'invokeArgs': { 'start': 2 },\n  'invokeArgsMap': { 'start': 2 },\n  'mergeAll': { 'start': 0 },\n  'mergeAllWith': { 'start': 0 },\n  'partial': { 'start': 1 },\n  'partialRight': { 'start': 1 },\n  'without': { 'start': 1 },\n  'zipAll': { 'start': 0 }\n};\n\n/** Used to identify methods which mutate arrays or objects. */\nexports.mutate = {\n  'array': {\n    'fill': true,\n    'pull': true,\n    'pullAll': true,\n    'pullAllBy': true,\n    'pullAllWith': true,\n    'pullAt': true,\n    'remove': true,\n    'reverse': true\n  },\n  'object': {\n    'assign': true,\n    'assignAll': true,\n    'assignAllWith': true,\n    'assignIn': true,\n    'assignInAll': true,\n    'assignInAllWith': true,\n    'assignInWith': true,\n    'assignWith': true,\n    'defaults': true,\n    'defaultsAll': true,\n    'defaultsDeep': true,\n    'defaultsDeepAll': true,\n    'merge': true,\n    'mergeAll': true,\n    'mergeAllWith': true,\n    'mergeWith': true,\n  },\n  'set': {\n    'set': true,\n    'setWith': true,\n    'unset': true,\n    'update': true,\n    'updateWith': true\n  }\n};\n\n/** Used to map real names to their aliases. */\nexports.realToAlias = (function() {\n  var hasOwnProperty = Object.prototype.hasOwnProperty,\n      object = exports.aliasToReal,\n      result = {};\n\n  for (var key in object) {\n    var value = object[key];\n    if (hasOwnProperty.call(result, value)) {\n      result[value].push(key);\n    } else {\n      result[value] = [key];\n    }\n  }\n  return result;\n}());\n\n/** Used to map method names to other names. */\nexports.remap = {\n  'assignAll': 'assign',\n  'assignAllWith': 'assignWith',\n  'assignInAll': 'assignIn',\n  'assignInAllWith': 'assignInWith',\n  'curryN': 'curry',\n  'curryRightN': 'curryRight',\n  'defaultsAll': 'defaults',\n  'defaultsDeepAll': 'defaultsDeep',\n  'findFrom': 'find',\n  'findIndexFrom': 'findIndex',\n  'findLastFrom': 'findLast',\n  'findLastIndexFrom': 'findLastIndex',\n  'getOr': 'get',\n  'includesFrom': 'includes',\n  'indexOfFrom': 'indexOf',\n  'invokeArgs': 'invoke',\n  'invokeArgsMap': 'invokeMap',\n  'lastIndexOfFrom': 'lastIndexOf',\n  'mergeAll': 'merge',\n  'mergeAllWith': 'mergeWith',\n  'padChars': 'pad',\n  'padCharsEnd': 'padEnd',\n  'padCharsStart': 'padStart',\n  'propertyOf': 'get',\n  'rangeStep': 'range',\n  'rangeStepRight': 'rangeRight',\n  'restFrom': 'rest',\n  'spreadFrom': 'spread',\n  'trimChars': 'trim',\n  'trimCharsEnd': 'trimEnd',\n  'trimCharsStart': 'trimStart',\n  'zipAll': 'zip'\n};\n\n/** Used to track methods that skip fixing their arity. */\nexports.skipFixed = {\n  'castArray': true,\n  'flow': true,\n  'flowRight': true,\n  'iteratee': true,\n  'mixin': true,\n  'rearg': true,\n  'runInContext': true\n};\n\n/** Used to track methods that skip rearranging arguments. */\nexports.skipRearg = {\n  'add': true,\n  'assign': true,\n  'assignIn': true,\n  'bind': true,\n  'bindKey': true,\n  'concat': true,\n  'difference': true,\n  'divide': true,\n  'eq': true,\n  'gt': true,\n  'gte': true,\n  'isEqual': true,\n  'lt': true,\n  'lte': true,\n  'matchesProperty': true,\n  'merge': true,\n  'multiply': true,\n  'overArgs': true,\n  'partial': true,\n  'partialRight': true,\n  'propertyOf': true,\n  'random': true,\n  'range': true,\n  'rangeRight': true,\n  'subtract': true,\n  'zip': true,\n  'zipObject': true,\n  'zipObjectDeep': true\n};\n","module.exports = {\n  'ary': require('../ary'),\n  'assign': require('../_baseAssign'),\n  'clone': require('../clone'),\n  'curry': require('../curry'),\n  'forEach': require('../_arrayEach'),\n  'isArray': require('../isArray'),\n  'isError': require('../isError'),\n  'isFunction': require('../isFunction'),\n  'isWeakMap': require('../isWeakMap'),\n  'iteratee': require('../iteratee'),\n  'keys': require('../_baseKeys'),\n  'rearg': require('../rearg'),\n  'toInteger': require('../toInteger'),\n  'toPath': require('../toPath')\n};\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_ARY_FLAG = 128;\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments,\n * ignoring any additional arguments.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to cap arguments for.\n * @param {number} [n=func.length] The arity cap.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new capped function.\n * @example\n *\n * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n * // => [6, 8, 10]\n */\nfunction ary(func, n, guard) {\n  n = guard ? undefined : n;\n  n = (func && n == null) ? func.length : n;\n  return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n}\n\nmodule.exports = ary;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8;\n\n/**\n * Creates a function that accepts arguments of `func` and either invokes\n * `func` returning its result, if at least `arity` number of arguments have\n * been provided, or returns a function that accepts the remaining `func`\n * arguments, and so on. The arity of `func` may be specified if `func.length`\n * is not sufficient.\n *\n * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curry(abc);\n *\n * curried(1)(2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(1)(_, 3)(2);\n * // => [1, 2, 3]\n */\nfunction curry(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curry.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurry.placeholder = {};\n\nmodule.exports = curry;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike'),\n    isPlainObject = require('./isPlainObject');\n\n/** `Object#toString` result references. */\nvar domExcTag = '[object DOMException]',\n    errorTag = '[object Error]';\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  if (!isObjectLike(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == errorTag || tag == domExcTag ||\n    (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n}\n\nmodule.exports = isError;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar weakMapTag = '[object WeakMap]';\n\n/**\n * Checks if `value` is classified as a `WeakMap` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n * @example\n *\n * _.isWeakMap(new WeakMap);\n * // => true\n *\n * _.isWeakMap(new Map);\n * // => false\n */\nfunction isWeakMap(value) {\n  return isObjectLike(value) && getTag(value) == weakMapTag;\n}\n\nmodule.exports = isWeakMap;\n","var baseClone = require('./_baseClone'),\n    baseIteratee = require('./_baseIteratee');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1;\n\n/**\n * Creates a function that invokes `func` with the arguments of the created\n * function. If `func` is a property name, the created function returns the\n * property value for a given element. If `func` is an array or object, the\n * created function returns `true` for elements that contain the equivalent\n * source properties, otherwise it returns `false`.\n *\n * @static\n * @since 4.0.0\n * @memberOf _\n * @category Util\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @returns {Function} Returns the callback.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, _.iteratee(['user', 'fred']));\n * // => [{ 'user': 'fred', 'age': 40 }]\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, _.iteratee('user'));\n * // => ['barney', 'fred']\n *\n * // Create custom iteratee shorthands.\n * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n *     return func.test(string);\n *   };\n * });\n *\n * _.filter(['abc', 'def'], /ef/);\n * // => ['def']\n */\nfunction iteratee(func) {\n  return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n}\n\nmodule.exports = iteratee;\n","var createWrap = require('./_createWrap'),\n    flatRest = require('./_flatRest');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a function that invokes `func` with arguments arranged according\n * to the specified `indexes` where the argument value at the first index is\n * provided as the first argument, the argument value at the second index is\n * provided as the second argument, and so on.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to rearrange arguments for.\n * @param {...(number|number[])} indexes The arranged argument indexes.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var rearged = _.rearg(function(a, b, c) {\n *   return [a, b, c];\n * }, [2, 0, 1]);\n *\n * rearged('b', 'c', 'a')\n * // => ['a', 'b', 'c']\n */\nvar rearg = flatRest(function(func, indexes) {\n  return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n});\n\nmodule.exports = rearg;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var arrayMap = require('./_arrayMap'),\n    copyArray = require('./_copyArray'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol'),\n    stringToPath = require('./_stringToPath'),\n    toKey = require('./_toKey'),\n    toString = require('./toString');\n\n/**\n * Converts `value` to a property path array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {*} value The value to convert.\n * @returns {Array} Returns the new property path array.\n * @example\n *\n * _.toPath('a.b.c');\n * // => ['a', 'b', 'c']\n *\n * _.toPath('a[0].b.c');\n * // => ['a', '0', 'b', 'c']\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return arrayMap(value, toKey);\n  }\n  return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n}\n\nmodule.exports = toPath;\n","var toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that invokes `func`, with the `this` binding and arguments\n * of the created function, while it's called less than `n` times. Subsequent\n * calls to the created function return the result of the last `func` invocation.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {number} n The number of calls at which `func` is no longer invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * jQuery(element).on('click', _.before(5, addContactToList));\n * // => Allows adding up to 4 contacts to the list.\n */\nfunction before(n, func) {\n  var result;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n}\n\nmodule.exports = before;\n","module.exports = {\n  'cap': false,\n  'curry': false,\n  'fixed': false,\n  'immutable': false,\n  'rearg': false\n};\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var createFlow = require('./_createFlow');\n\n/**\n * Creates a function that returns the result of invoking the given functions\n * with the `this` binding of the created function, where each successive\n * invocation is supplied the return value of the previous.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {...(Function|Function[])} [funcs] The functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flowRight\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flow([_.add, square]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flow = createFlow();\n\nmodule.exports = flow;\n","var LodashWrapper = require('./_LodashWrapper'),\n    flatRest = require('./_flatRest'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    isArray = require('./isArray'),\n    isLaziable = require('./_isLaziable');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a `_.flow` or `_.flowRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new flow function.\n */\nfunction createFlow(fromRight) {\n  return flatRest(function(funcs) {\n    var length = funcs.length,\n        index = length,\n        prereq = LodashWrapper.prototype.thru;\n\n    if (fromRight) {\n      funcs.reverse();\n    }\n    while (index--) {\n      var func = funcs[index];\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n        var wrapper = new LodashWrapper([], true);\n      }\n    }\n    index = wrapper ? index : length;\n    while (++index < length) {\n      func = funcs[index];\n\n      var funcName = getFuncName(func),\n          data = funcName == 'wrapper' ? getData(func) : undefined;\n\n      if (data && isLaziable(data[0]) &&\n            data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n            !data[4].length && data[9] == 1\n          ) {\n        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n      } else {\n        wrapper = (func.length == 1 && isLaziable(func))\n          ? wrapper[funcName]()\n          : wrapper.thru(func);\n      }\n    }\n    return function() {\n      var args = arguments,\n          value = args[0];\n\n      if (wrapper && args.length == 1 && isArray(value)) {\n        return wrapper.plant(value).value();\n      }\n      var index = 0,\n          result = length ? funcs[index].apply(this, args) : value;\n\n      while (++index < length) {\n        result = funcs[index].call(this, result);\n      }\n      return result;\n    };\n  });\n}\n\nmodule.exports = createFlow;\n","/**\n * This method returns an empty string.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {string} Returns the empty string.\n * @example\n *\n * _.times(2, _.stubString);\n * // => ['', '']\n */\nfunction stubString() {\n  return '';\n}\n\nmodule.exports = stubString;\n","var apply = require('./_apply'),\n    arrayMap = require('./_arrayMap'),\n    unzip = require('./unzip');\n\n/**\n * This method is like `_.unzip` except that it accepts `iteratee` to specify\n * how regrouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  regrouped values.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n * // => [[1, 10, 100], [2, 20, 200]]\n *\n * _.unzipWith(zipped, _.add);\n * // => [3, 30, 300]\n */\nfunction unzipWith(array, iteratee) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var result = unzip(array);\n  if (iteratee == null) {\n    return result;\n  }\n  return arrayMap(result, function(group) {\n    return apply(iteratee, undefined, group);\n  });\n}\n\nmodule.exports = unzipWith;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","var basePullAll = require('./_basePullAll');\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nmodule.exports = pullAll;\n","var arrayMap = require('./_arrayMap'),\n    baseIndexOf = require('./_baseIndexOf'),\n    baseIndexOfWith = require('./_baseIndexOfWith'),\n    baseUnary = require('./_baseUnary'),\n    copyArray = require('./_copyArray');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAll;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOfWith;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var baseUnset = require('./_baseUnset'),\n    isIndex = require('./_isIndex');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      } else {\n        baseUnset(array, index);\n      }\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAt;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],n):e.dayjs_locale_de=n(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var n={name:\"de\",weekdays:\"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag\".split(\"_\"),weekdaysShort:\"So._Mo._Di._Mi._Do._Fr._Sa.\".split(\"_\"),weekdaysMin:\"So_Mo_Di_Mi_Do_Fr_Sa\".split(\"_\"),months:\"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember\".split(\"_\"),monthsShort:\"Jan_Feb_Mrz_Apr_Mai_Juni_Juli_Aug_Sept_Okt_Nov_Dez\".split(\"_\"),ordinal:function(e){return e+\".\"},weekStart:1,formats:{LTS:\"HH:mm:ss\",LT:\"HH:mm\",L:\"DD.MM.YYYY\",LL:\"D. MMMM YYYY\",LLL:\"D. MMMM YYYY HH:mm\",LLLL:\"dddd, D. MMMM YYYY HH:mm\"},relativeTime:{future:\"in %s\",past:\"vor %s\",s:\"wenigen Sekunden\",m:\"einer Minute\",mm:\"%d Minuten\",h:\"einer Stunde\",hh:\"%d Stunden\",d:\"einem Tag\",dd:\"%d Tagen\",M:\"einem Monat\",MM:\"%d Monaten\",y:\"einem Jahr\",yy:\"%d Jahren\"}};return e.locale(n,null,!0),n});\n","!function(_,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],e):_.dayjs_locale_el=e(_.dayjs)}(this,function(_){\"use strict\";_=_&&_.hasOwnProperty(\"default\")?_.default:_;var e={name:\"el\",weekdays:\"______\".split(\"_\"),weekdaysShort:\"______\".split(\"_\"),weekdaysMin:\"______\".split(\"_\"),months:\"___________\".split(\"_\"),monthsShort:\"___________\".split(\"_\"),ordinal:function(_){return _},weekStart:1,relativeTime:{future:\" %s\",past:\" %s\",s:\" \",m:\" \",mm:\"%d \",h:\" \",hh:\"%d \",d:\" \",dd:\"%d \",M:\" \",MM:\"%d \",y:\" \",yy:\"%d \"},formats:{LT:\"h:mm A\",LTS:\"h:mm:ss A\",L:\"DD/MM/YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY h:mm A\",LLLL:\"dddd, D MMMM YYYY h:mm A\"}};return _.locale(e,null,!0),e});\n","!function(e,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=s(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],s):e.dayjs_locale_es=s(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var s={name:\"es\",monthsShort:\"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic\".split(\"_\"),weekdays:\"domingo_lunes_martes_mircoles_jueves_viernes_sbado\".split(\"_\"),weekdaysShort:\"dom._lun._mar._mi._jue._vie._sb.\".split(\"_\"),weekdaysMin:\"do_lu_ma_mi_ju_vi_s\".split(\"_\"),months:\"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre\".split(\"_\"),weekStart:1,formats:{LT:\"H:mm\",LTS:\"H:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY H:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY H:mm\"},relativeTime:{future:\"en %s\",past:\"hace %s\",s:\"unos segundos\",m:\"un minuto\",mm:\"%d minutos\",h:\"una hora\",hh:\"%d horas\",d:\"un da\",dd:\"%d das\",M:\"un mes\",MM:\"%d meses\",y:\"un ao\",yy:\"%d aos\"},ordinal:function(e){return e+\"\"}};return e.locale(s,null,!0),s});\n","!function(Y,M){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=M(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],M):Y.dayjs_locale_he=M(Y.dayjs)}(this,function(Y){\"use strict\";Y=Y&&Y.hasOwnProperty(\"default\")?Y.default:Y;var M={name:\"he\",weekdays:\"______\".split(\"_\"),weekdaysShort:\"______\".split(\"_\"),weekdaysMin:\"______\".split(\"_\"),months:\"___________\".split(\"_\"),monthsShort:\"___________\".split(\"_\"),relativeTime:{future:\" %s\",past:\" %s\",s:\" \",m:\"\",mm:\"%d \",h:\"\",hh:\"%d \",d:\"\",dd:\"%d \",M:\"\",MM:\"%d \",y:\"\",yy:\"%d \"},ordinal:function(Y){return Y},format:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D []MMMM YYYY\",LLL:\"D []MMMM YYYY HH:mm\",LLLL:\"dddd, D []MMMM YYYY HH:mm\",l:\"D/M/YYYY\",ll:\"D MMM YYYY\",lll:\"D MMM YYYY HH:mm\",llll:\"ddd, D MMM YYYY HH:mm\"},formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D []MMMM YYYY\",LLL:\"D []MMMM YYYY HH:mm\",LLLL:\"dddd, D []MMMM YYYY HH:mm\",l:\"D/M/YYYY\",ll:\"D MMM YYYY\",lll:\"D MMM YYYY HH:mm\",llll:\"ddd, D MMM YYYY HH:mm\"}};return Y.locale(M,null,!0),M});\n","!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],o):e.dayjs_locale_it=o(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var o={name:\"it\",weekdays:\"domenica_luned_marted_mercoled_gioved_venerd_sabato\".split(\"_\"),weekdaysShort:\"dom_lun_mar_mer_gio_ven_sab\".split(\"_\"),weekdaysMin:\"do_lu_ma_me_gi_ve_sa\".split(\"_\"),months:\"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre\".split(\"_\"),weekStart:1,monthsShort:\"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic\".split(\"_\"),formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd D MMMM YYYY HH:mm\"},relativeTime:{future:\"tra %s\",past:\"%s fa\",s:\"qualche secondo\",m:\"un minuto\",mm:\"%d minuti\",h:\"un' ora\",hh:\"%d ore\",d:\"un giorno\",dd:\"%d giorni\",M:\"un mese\",MM:\"%d mesi\",y:\"un anno\",yy:\"%d anni\"},ordinal:function(e){return e+\"\"}};return e.locale(o,null,!0),o});\n","!function(e,a){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=a(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],a):e.dayjs_locale_nl=a(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var a={name:\"nl\",weekdays:\"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag\".split(\"_\"),weekdaysShort:\"zo._ma._di._wo._do._vr._za.\".split(\"_\"),weekdaysMin:\"zo_ma_di_wo_do_vr_za\".split(\"_\"),months:\"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december\".split(\"_\"),monthsShort:\"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec\".split(\"_\"),ordinal:function(e){return e+\".\"},weekStart:1,formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD-MM-YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd D MMMM YYYY HH:mm\"},relativeTime:{future:\"over %s\",past:\"%s geleden\",s:\"een paar seconden\",m:\"een minuut\",mm:\"%d minuten\",h:\"een uur\",hh:\"%d uur\",d:\"een dag\",dd:\"%d dagen\",M:\"een maand\",MM:\"%d maanden\",y:\"een jaar\",yy:\"%d jaar\"}};return e.locale(a,null,!0),a});\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],t):e.dayjs_locale_pl=t(e.dayjs)}(this,function(e){\"use strict\";function t(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,i,r){var n=e+\" \";switch(r){case\"m\":return i?\"minuta\":\"minut\";case\"mm\":return n+(t(e)?\"minuty\":\"minut\");case\"h\":return i?\"godzina\":\"godzin\";case\"hh\":return n+(t(e)?\"godziny\":\"godzin\");case\"MM\":return n+(t(e)?\"miesice\":\"miesicy\");case\"yy\":return n+(t(e)?\"lata\":\"lat\")}}e=e&&e.hasOwnProperty(\"default\")?e.default:e;var r={name:\"pl\",weekdays:\"Niedziela_Poniedziaek_Wtorek_roda_Czwartek_Pitek_Sobota\".split(\"_\"),weekdaysShort:\"Ndz_Pon_Wt_r_Czw_Pt_Sob\".split(\"_\"),weekdaysMin:\"Nd_Pn_Wt_r_Cz_Pt_So\".split(\"_\"),months:\"Stycze_Luty_Marzec_Kwiecie_Maj_Czerwiec_Lipiec_Sierpie_Wrzesie_Padziernik_Listopad_Grudzie\".split(\"_\"),monthsShort:\"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru\".split(\"_\"),ordinal:function(e){return e+\".\"},weekStart:1,relativeTime:{future:\"za %s\",past:\"%s temu\",s:\"kilka sekund\",m:i,mm:i,h:i,hh:i,d:\"1 dzie\",dd:\"%d dni\",M:\"miesic\",MM:i,y:\"rok\",yy:i},formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD.MM.YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd, D MMMM YYYY HH:mm\"}};return e.locale(r,null,!0),r});\n","!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],o):e.dayjs_locale_pt_br=o(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var o={name:\"pt-br\",weekdays:\"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado\".split(\"_\"),weekdaysShort:\"Dom_Seg_Ter_Qua_Qui_Sex_Sb\".split(\"_\"),weekdaysMin:\"Do_2_3_4_5_6_S\".split(\"_\"),weekStart:1,months:\"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro\".split(\"_\"),monthsShort:\"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez\".split(\"_\"),ordinal:function(e){return e+\"\"},formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY [s] HH:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY [s] HH:mm\"},relativeTime:{future:\"em %s\",past:\"h %s\",s:\"poucos segundos\",m:\"um minuto\",mm:\"%d minutos\",h:\"uma hora\",hh:\"%d horas\",d:\"um dia\",dd:\"%d dias\",M:\"um ms\",MM:\"%d meses\",y:\"um ano\",yy:\"%d anos\"}};return e.locale(o,null,!0),o});\n","!function(e,a){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=a(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],a):e.dayjs_locale_pt=a(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var a={name:\"pt\",weekdays:\"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado\".split(\"_\"),weekdaysShort:\"Dom_Seg_Ter_Qua_Qui_Sex_Sab\".split(\"_\"),weekdaysMin:\"Do_2_3_4_5_6_Sa\".split(\"_\"),months:\"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro\".split(\"_\"),monthsShort:\"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez\".split(\"_\"),ordinal:function(e){return e+\"\"},weekStart:1,formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY [s] HH:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY [s] HH:mm\"},relativeTime:{future:\"em %s\",past:\"h %s\",s:\"alguns segundos\",m:\"um minuto\",mm:\"%d minutos\",h:\"uma hora\",hh:\"%d horas\",d:\"um dia\",dd:\"%d dias\",M:\"um ms\",MM:\"%d meses\",y:\"um ano\",yy:\"%d anos\"}};return e.locale(a,null,!0),a});\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){var n=t.prototype;e.en.relativeTime={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};var o=function(r,t,n,o){for(var d,i,u,a=n.$locale().relativeTime,f=[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],s=f.length,l=0;l<s;l+=1){var h=f[l];h.d&&(d=o?e(r).diff(n,h.d,!0):n.diff(r,h.d,!0));var m=Math.round(Math.abs(d));if(u=d>0,m<=h.r||!h.r){1===m&&l>0&&(h=f[l-1]);var c=a[h.l];i=\"string\"==typeof c?c.replace(\"%d\",m):c(m,t,h.l,u);break}}return t?i:(u?a.future:a.past).replace(\"%s\",i)};n.to=function(r,t){return o(r,t,this,!0)},n.from=function(r,t){return o(r,t,this)};var d=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}});\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.dayjs_plugin_localizedFormat=t()}(this,function(){\"use strict\";return function(e,t,o){var n=t.prototype,r=n.format,M={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};o.en.formats=M;n.format=function(e){void 0===e&&(e=\"YYYY-MM-DDTHH:mm:ssZ\");var t=this.$locale().formats,o=void 0===t?{}:t,n=e.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,t,n){var r=n&&n.toUpperCase();return t||o[n]||M[n]||o[r].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,o){return t||o.slice(1)})});return r.call(this,n)}}});\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeRandom = Math.random;\n\n/**\n * The base implementation of `_.random` without support for returning\n * floating-point numbers.\n *\n * @private\n * @param {number} lower The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the random number.\n */\nfunction baseRandom(lower, upper) {\n  return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n}\n\nmodule.exports = baseRandom;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that negates the result of the predicate `func`. The\n * `func` predicate is invoked with the `this` binding and arguments of the\n * created function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} predicate The predicate to negate.\n * @returns {Function} Returns the new negated function.\n * @example\n *\n * function isEven(n) {\n *   return n % 2 == 0;\n * }\n *\n * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n * // => [1, 3, 5]\n */\nfunction negate(predicate) {\n  if (typeof predicate != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return function() {\n    var args = arguments;\n    switch (args.length) {\n      case 0: return !predicate.call(this);\n      case 1: return !predicate.call(this, args[0]);\n      case 2: return !predicate.call(this, args[0], args[1]);\n      case 3: return !predicate.call(this, args[0], args[1], args[2]);\n    }\n    return !predicate.apply(this, args);\n  };\n}\n\nmodule.exports = negate;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n * without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseWhile(array, predicate, isDrop, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length) &&\n    predicate(array[index], index, array)) {}\n\n  return isDrop\n    ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n    : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n}\n\nmodule.exports = baseWhile;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` from `start` up to, but not including, `end`.\n *\n * **Note:** This method is used instead of\n * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n * returned.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction slice(array, start, end) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n    start = 0;\n    end = length;\n  }\n  else {\n    start = start == null ? 0 : toInteger(start);\n    end = end === undefined ? length : toInteger(end);\n  }\n  return baseSlice(array, start, end);\n}\n\nmodule.exports = slice;\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n","const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n","const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parse = (version, options) => {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","export default __webpack_public_path__ + \"LICENSE\";","/* @flow */\n\nexport const RES_DISABLED_HASH = '#res:disabled';\nexport const RES_SETTINGS_HASH = '#res:settings';\nexport const RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH = '#res:settings-redirect-standalone-options-page';\nexport const RES_NER_PAGE_HASH = '#res:ner-page';\n","/* @flow */\n\nexport const MINUTE = 1000 * 60;\nexport const HOUR = 60 * MINUTE;\nexport const DAY = 24 * HOUR;\nexport const WEEK = 7 * DAY;\n\nexport function fromSecondsToTime(timeInSeconds: number) {\n\tconst seconds = timeInSeconds % 60;\n\tconst minutes = Math.floor(timeInSeconds / 60) % 60;\n\tconst hours = Math.floor(timeInSeconds / 3600);\n\n\tconst time = [minutes, seconds];\n\tif (hours > 0) {\n\t\ttime.unshift(hours);\n\t}\n\n\treturn time.map(part => String(part).padStart(2, '0')).join(':');\n}\n","/* @flow */\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function downcast<From, To: From>(val: From, ty: Class<To>): To;\ndeclare function downcast(val: mixed, ty: 'boolean'): boolean;\ndeclare function downcast(val: mixed, ty: 'number'): number;\ndeclare function downcast(val: mixed, ty: 'string'): string;\n/* eslint-enable no-unused-vars */\n\nexport function downcast(val, ty) {\n\tif (\n\t\t// only perform the check in dev mode, but hide this from Flow\n\t\t/*:: ` */ process.env.NODE_ENV !== 'development' || /*:: ` && */\n\t\t(typeof ty === 'string' ? typeof val === ty : val instanceof ty) // eslint-disable-line valid-typeof\n\t) {\n\t\treturn val;\n\t}\n\n\tthrow new TypeError(`Expected ${val} to be instance of ${ty}.`);\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport _ from 'lodash';\nimport { downcast } from './flow';\n\nexport function waitForEvent(ele: EventTarget, ...events: string[]): Promise<Event> {\n\treturn Promise.race(events.map(event =>\n\t\tnew Promise(resolve => ele.addEventListener(event, function fire(e) {\n\t\t\tele.removeEventListener(event, fire);\n\t\t\tresolve(e);\n\t\t})),\n\t));\n}\n\nexport function waitForChild(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = Array.from(ele.children).find(child => child.matches(selector));\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\tresolve(downcast(node, HTMLElement));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true });\n\t});\n}\n\nexport function watchForChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tfor (const child of Array.from(ele.children).filter(child => child.matches(selector))) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureChildren(ele, selector, callback);\n}\n\nexport function watchForFutureChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tnew MutationObserver(mutations => {\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\tcallback(downcast(node, HTMLElement));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}).observe(ele, { childList: true });\n}\n\nexport function waitForDescendant(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = ele.querySelector(selector);\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForFutureDescendant(ele: Element, selector: string, { added = false, removed = false }: {| added?: boolean, removed?: boolean |} = { added: true, removed: false }): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of [...(added ? mutation.addedNodes : []), ...(removed ? mutation.removedNodes : [])]) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForAttach(parent: HTMLElement, el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\tif (parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function waitForDetach(el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\t// Use `document.documentElement` as parent since using other closer element may not detect removal\n\tconst parent = document.documentElement;\n\n\tif (!parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (!parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function watchForDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tfor (const child of ele.querySelectorAll(selector)) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureDescendants(ele, selector, callback, ignoreChildrenIfAddedNodeMatches);\n}\n\nexport function watchForFutureDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tnew MutationObserver(mutations => {\n\t\t// avoid calling the callback twice if streamed-in children match the same selectors as their parents\n\t\t// i.e. nested comments that are rendered at pageload\n\t\tconst children = new Set();\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t// the node itself may match...\n\t\t\t\t\tif ((node: any).matches(selector)) {\n\t\t\t\t\t\tchildren.add(node);\n\t\t\t\t\t\tif (ignoreChildrenIfAddedNodeMatches) continue;\n\t\t\t\t\t}\n\t\t\t\t\t// ...or some of its children may match\n\t\t\t\t\tfor (const child of (node: any).querySelectorAll(selector)) {\n\t\t\t\t\t\tchildren.add(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const child of children) {\n\t\t\tcallback(downcast(child, HTMLElement));\n\t\t}\n\t}).observe(ele, { childList: true, subtree: true });\n}\n\nexport function empty<T: Element>(parent: T): T {\n\twhile (parent.lastChild) parent.removeChild(parent.lastChild);\n\treturn parent;\n}\n\nexport function click(obj: EventTarget, button: number = 0): void {\n\tobj.dispatchEvent(new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tdetail: 0,\n\t\tscreenX: 1,\n\t\tscreenY: 1,\n\t\tclientX: 1,\n\t\tclientY: 1,\n\t\tbutton,\n\t}));\n}\n\nclick.isProgrammaticEvent = (e: MouseEvent): boolean => e.clientX === 1 && e.clientY === 1;\n\nexport const getViewportSize = _.memoize((): { width: number, height: number } => {\n\twaitForEvent(window, 'resize').then(() => { getViewportSize.cache.clear(); });\n\n\tlet visualViewport;\n\n\tif (window.visualViewport) {\n\t\tvisualViewport = window.visualViewport;\n\t} else {\n\t\tconst viewportSizedElement = document.createElement('div');\n\t\tviewportSizedElement.style.width = viewportSizedElement.style.height = '100%';\n\t\tviewportSizedElement.style.position = 'fixed';\n\t\tdocument.body.appendChild(viewportSizedElement);\n\t\tvisualViewport = viewportSizedElement.getBoundingClientRect();\n\n\t\t// Try less accurate method in case this didn't work (workaround for potensial Firefox issue)\n\t\tif (!visualViewport.height || !visualViewport.width) {\n\t\t\tvisualViewport = document.documentElement.getBoundingClientRect();\n\t\t}\n\n\t\tviewportSizedElement.remove();\n\t}\n\n\treturn _.pick(visualViewport, ['height', 'width']);\n});\n\nexport function elementInViewport(ele: HTMLElement): boolean {\n\tif (!ele || !ele.offsetParent) return false;\n\n\tconst { top, left, bottom, right } = ele.getBoundingClientRect();\n\n\treturn (\n\t\ttop >= 0 &&\n\t\tleft >= 0 &&\n\t\tbottom <= getViewportSize().height &&\n\t\tright <= getViewportSize().width\n\t);\n}\n\nfunction getViewportDimensions() {\n\tconst headerOffset = getHeaderOffset();\n\tconst left = window.pageXOffset;\n\tconst top = window.pageYOffset + headerOffset;\n\tconst width = getViewportSize().width;\n\tconst height = getViewportSize().height - headerOffset;\n\n\treturn {\n\t\tyOffset: headerOffset,\n\t\tleft,\n\t\ttop,\n\t\tbottom: top + height,\n\t\tright: left + width,\n\t\twidth,\n\t\theight,\n\t};\n}\n\n// Returns percentage of the element that is within the viewport along the y-axis\n// Note that it doesn't matter where the element is on the x-axis, it can be totally invisible to the user\n// and this function might still return 1!\nexport function getPercentageVisibleYAxis(obj: Element): number {\n\tconst rect = obj.getBoundingClientRect();\n\tconst top = Math.max(0, rect.bottom - rect.height);\n\tconst bottom = Math.min(getViewportSize().height, rect.bottom);\n\tif (rect.height === 0) {\n\t\treturn 0;\n\t}\n\treturn Math.max(0, (bottom - top) / rect.height);\n}\n\nconst padBottom = _.once(() => {\n\tconst element = document.createElement('div');\n\telement.style.clear = 'both';\n\tconst extraPadding = 50; // In case the body's height reduces\n\treturn (scrollTop, viewportHeight) => {\n\t\tconst currentPadding = element.clientHeight;\n\t\tconst paddingRequired = extraPadding +\n\t\t\t-(document.documentElement.scrollHeight - scrollTop - viewportHeight - currentPadding);\n\t\tif (paddingRequired > 0) document.body.append(element);\n\t\telse element.remove();\n\t\telement.style.height = `${paddingRequired}px`;\n\t};\n});\n\nlet recentScroll = false;\nlet scrollInvokationToken;\n\nexport type ScrollStyle = 'none' | 'top' | 'adopt' | 'middle' | 'page' | 'legacy' | 'directional';\ntype Direction = 'up' | 'down';\ntype Anchor = {| to: number, from?: number |};\n\nexport function scrollToElement(to: HTMLElement, from: ?HTMLElement, {\n\tscrollStyle,\n\trestrictDirectionTo,\n\tdirection: selectedDirection,\n\tanchor,\n\twaitTillVisible,\n}: {|\n\tscrollStyle: ScrollStyle,\n\trestrictDirectionTo?: Direction,\n\tdirection?: Direction,\n\tanchor?: Anchor,\n\twaitTillVisible?: boolean,\n|}): void | Promise<void> {\n\tconst _scrollInvokationToken = scrollInvokationToken = {}; // Unique object in order to check whether invokation with `waitTillVisible` has been superseded\n\n\tif (waitTillVisible && !to.offsetParent) {\n\t\t// Try again next frame\n\t\treturn new Promise(res => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tif (scrollInvokationToken !== _scrollInvokationToken) return;\n\t\t\t\t(scrollToElement(...arguments) || Promise.resolve()).then(res); // eslint-disable-line prefer-rest-params\n\t\t\t});\n\t\t});\n\t}\n\n\tif (scrollStyle === 'none' && !anchor) {\n\t\treturn;\n\t}\n\n\tif (!to.offsetParent) {\n\t\tconsole.error('Element is not visible.');\n\t\treturn;\n\t}\n\n\tif (scrollStyle === 'none' && anchor) {\n\t\tconst diff = to.getBoundingClientRect().top - anchor.to;\n\t\tif (diff) window.scrollBy(0, diff);\n\t}\n\n\tconst viewport = getViewportDimensions();\n\n\tconst target = _.assignIn({}, to.getBoundingClientRect()); // top, right, bottom, left are relative to viewport\n\ttarget.top -= viewport.yOffset;\n\ttarget.bottom -= viewport.yOffset;\n\n\tconst top = viewport.top + target.top - 5; /* offset */\n\n\tif (scrollStyle === 'middle' && target.height >= viewport.height) {\n\t\tscrollStyle = 'top';\n\t}\n\n\tlet compensateHeader = true;\n\tlet scrollY;\n\n\tif (scrollStyle === 'top') {\n\t\t// Always scroll element to top of page; pad bottom if necessary\n\t\tpadBottom()(top, viewport.height);\n\t\tscrollY = top;\n\t} else if (from && scrollStyle === 'adopt') {\n\t\t// Replace the viewport position of `from` with `element`\n\t\tconst fromTop = anchor && typeof anchor.from === 'number' ?\n\t\t\tanchor.from :\n\t\t\tfrom.getBoundingClientRect().top;\n\t\tlet diff = to.getBoundingClientRect().top - fromTop;\n\n\t\tif (fromTop < 0) {\n\t\t\t// Compensate to show top when it is above viewport\n\t\t\tdiff += fromTop;\n\t\t} else if (fromTop > viewport.height - 60) {\n\t\t\t// Always show at minimum the top 60px of the element\n\t\t\tdiff += fromTop - viewport.height + 60;\n\t\t}\n\n\t\tscrollY = window.scrollY + diff;\n\t\tcompensateHeader = false;\n\t} else if (scrollStyle === 'middle') {\n\t\tconst buffer = (viewport.height - target.height) / 2;\n\t\tconst newScrollY = top - buffer;\n\n\t\tif (elementInViewport(to)) {\n\t\t\tconst viewportDirection = newScrollY >= window.scrollY ? 'down' : 'up';\n\t\t\t// Having these go in opposite directions is jarring\n\t\t\tif (viewportDirection !== selectedDirection) return;\n\t\t}\n\n\t\tscrollY = newScrollY;\n\t} else if (target.top >= 0 && target.bottom <= viewport.height) {\n\t\t// Element is already completely inside viewport\n\t\t// (remember, top and bottom are relative to viewport)\n\t\t// do nothing\n\t} else if (scrollStyle === 'legacy') {\n\t\t// Element not completely in viewport, so scroll to top\n\t\tscrollY = top;\n\t} else if (target.top < viewport.yOffset) {\n\t\t// Element starts above viewport\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t} else if (viewport.height < target.bottom &&\n\t\ttarget.height < viewport.height) {\n\t\t// Visible part of element starts or extends below viewport\n\t\tif (scrollStyle === 'page') {\n\t\t\tscrollY = top;\n\t\t} else {\n\t\t\t// So, align bottom of target to bottom of viewport\n\t\t\tscrollY = viewport.top + target.bottom - viewport.height;\n\t\t}\n\t} else {\n\t\t// Visible part of element below the viewport but it'll fill the viewport, or fallback\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t}\n\n\tif (scrollY !== undefined) {\n\t\tif (compensateHeader) scrollY -= getHeaderOffset();\n\t\tconst scollDirection = scrollY > viewport.top ? 'down' : 'up';\n\t\tif (viewport.top === scrollY || (restrictDirectionTo && restrictDirectionTo !== scollDirection)) return;\n\t\twindow.scrollTo(0, scrollY);\n\t\trecentScroll = true;\n\t\twaitForEvent(window, 'scroll').then(() => { recentScroll = false; });\n\t}\n}\n\nscrollToElement.isProgrammaticEvent = (): boolean => recentScroll;\n\nconst headerIds = { fullWidth: [], partialWidth: [] };\n\nexport function _addHeaderId(elementId: string, partialWidth: boolean = false) {\n\theaderIds[partialWidth ? 'partialWidth' : 'fullWidth'].push(elementId);\n}\n\nexport const getHeaderOffset = _.memoize((includePartialWidthHeaders?: boolean = false): number => {\n\tconst headers = [\n\t\t...headerIds.fullWidth,\n\t\t...(includePartialWidthHeaders ? headerIds.partialWidth : []),\n\t];\n\n\treturn headers\n\t\t.map(id => document.getElementById(id))\n\t\t.reduce((a, b) => a + b.getBoundingClientRect().height, 0);\n});\n\nexport const getD2xBodyOffset = _.memoize(() => {\n\ttry {\n\t\treturn document.getElementById('2x-container').offsetTop;\n\t} catch (e) {\n\t\treturn 65;\n\t}\n});\n\nexport function addCSS(css: string) {\n\tlet style = addStyle(css);\n\treturn {\n\t\tremove() {\n\t\t\tif (!style) return;\n\t\t\tstyle.remove();\n\t\t\tstyle.textContent = '';\n\t\t\tstyle = undefined;\n\t\t},\n\t};\n}\n\nfunction addStyle(css) {\n\tconst style = document.createElement('style');\n\tstyle.textContent = css;\n\n\t(document.head || document.documentElement).appendChild(style);\n\n\treturn style;\n}\n\n// r2 Reddit clone certain elements, e.g. when replying or editing a post\n// This will remove elements that have a specific attribute, but have not been registered\nexport const preventCloning = (() => {\n\t// Prevent breaking ava test\n\tif (typeof window === 'undefined') return (e: *) => e;\n\n\tconst attribute = `res-prevent-cloning-${Date.now()}`; // Prevent the attribute being used in a selector\n\tconst elements = new WeakSet();\n\n\t// Delay adding the observer a little, to not slow down init\n\twaitForEvent(window, 'DOMContentLoaded', 'load').then(() => {\n\t\twatchForFutureDescendants(document.body, `[${attribute}]`, e => {\n\t\t\tif (!elements.has(e)) e.remove();\n\t\t});\n\t});\n\n\treturn (element: HTMLElement) => {\n\t\telement.setAttribute(attribute, '');\n\t\telements.add(element);\n\t\treturn element;\n\t};\n})();\n","/* @flow */\n\nimport _ from 'lodash';\nimport { waitForEvent } from './dom';\n\nexport function matchesPageLocation(includes: Array<PageType | AppType | RegExp>, excludes: Array<PageType | AppType | RegExp> = []): boolean {\n\tconst [includeStrings, includeRegExps]: any = _.partition(includes, (x: string | RegExp): boolean => typeof x === 'string');\n\tconst [excludeStrings, excludeRegExps]: any = _.partition(excludes, (x: string | RegExp): boolean => typeof x === 'string');\n\n\treturn (\n\t\t!excludes.length ||\n\t\t!(isPageType(...excludeStrings) || isAppType(...excludeStrings) || matchesPageRegex(...excludeRegExps))\n\t) && (\n\t\t!includes.length ||\n\t\t(isPageType(...includeStrings) || isAppType(...includeStrings) || matchesPageRegex(...includeRegExps))\n\t);\n}\n\n/* eslint-disable key-spacing */\nexport const regexes: { [string]: RegExp } = {\n\tfrontpage:        /^\\/(?:hot|new|rising|controversial|top)?(?:\\/|$)/i,\n\tcomments:         /^\\/(?:r\\/([\\w\\.]+)\\/|(u(?:ser)?\\/[\\w-]+)\\/)?comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tcommentsLinklist: /^\\/(r\\/[\\w\\.\\+]+\\/|u(?:ser)?\\/[\\w-]+\\/)?comments\\/?$/i,\n\tinbox:            /^\\/(?:r\\/([\\w\\.]+)\\/)?message(?:\\/|$)/i,\n\tprofile:          /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofile2x:        /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofileCommentsPage: /^\\/user\\/([\\w\\-]+)\\/comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tsubmit:           /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?submit(?:\\/|$)/i,\n\tprefs:            /^\\/prefs(?:\\/|$)/i,\n\taccount:          /^\\/account-activity(?:\\/|$)/i,\n\twiki:             /^\\/(?:r\\/([\\w\\.]+)\\/)?wiki(?:\\/|$)/i,\n\tstylesheet:       /^\\/(?:r\\/([\\w\\.]+)\\/)about\\/stylesheet(?:\\/|$)/i,\n\tsearch:           /^\\/(?:r\\/[\\w\\.\\+]+\\/|(?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+\\/|domain\\/[^\\/]+\\/)?search(?:\\/|$)/i,\n\tcommentPermalink: /^\\/(?:r\\/([\\w\\.]+)\\/)?comments\\/([a-z0-9]+)\\/[^\\/]*\\/([a-z0-9]+)(?:\\/|$)/i,\n\tduplicates:       /^\\/r\\/[\\w\\.\\+]+\\/duplicates\\/([a-z0-9]+)/i,\n\tsubreddit:        /^\\/r\\/([\\w\\.\\+]+)(?:\\/|$)/i,\n\tsubredditAbout:   /^\\/r\\/([\\w\\.]+)\\/about(?:\\/(?!modqueue|reports|spam|unmoderated|edited)|$)/i,\n\tmodqueue:         /^\\/(?:r|me\\/f)\\/([\\w\\.\\+]+)\\/about\\/(?:modqueue|reports|spam|unmoderated|edited)(?:\\/|$)/i,\n\tmultireddit:      /^\\/((?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+)(?:\\/|$)/i,\n\tdomain:           /^\\/domain\\/([\\w\\.]+)(?:\\/|$)/i,\n\tcomposeMessage:   /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?message\\/compose(?:\\/|$)/i,\n\tliveThread:       /^\\/live\\/(?!create(?:\\/|$))([a-z0-9]+)(?:\\/|$)/i,\n};\n/* eslint-enable key-spacing */\n\nexport const execRegexes: { [string]: (path: string) => ?string[] } = {\n\tcomments: path => {\n\t\tconst match = regexes.comments.exec(path);\n\t\tif (!match) return match;\n\t\tmatch.splice(1, 2, match[1] || match[2] && match[2].replace(/^u.*\\//, 'u_'));\n\t\treturn match;\n\t},\n};\n\nexport type PageType = 'wiki' | 'search' | 'profile' | 'profile2x' | 'profileCommentsPage' | 'stylesheet' | 'modqueue' | 'subredditAbout' | 'comments' | 'commentsLinklist' | 'liveThread' | 'inbox' | 'submit' | 'account' | 'prefs' | 'linklist';\nexport type AppType = 'r2' | 'd2x' | 'options';\n\nexport const appType = _.once((): AppType => {\n\tif (document.documentElement.hasAttribute('res-options')) {\n\t\treturn 'options';\n\t}\n\tif (document.documentElement.getAttribute('xmlns')) {\n\t\treturn 'r2';\n\t}\n\treturn 'd2x';\n});\n\nexport function isAppType(...types: AppType[]): boolean {\n\tconst thisApp = appType();\n\treturn types.some(type => type === thisApp);\n}\n\nconst appPageTypes: { [AppType]: {| default?: PageType, pageTypes: PageType[] |} } = {\n\tr2: {\n\t\tdefault: 'linklist',\n\t\tpageTypes: ['wiki', 'search', 'stylesheet', 'modqueue', 'subredditAbout', 'comments', 'commentsLinklist', 'profile', 'liveThread', 'inbox', 'submit', 'account', 'prefs'],\n\t},\n\td2x: {\n\t\tpageTypes: ['profile2x', 'profileCommentsPage', 'submit'],\n\t},\n\toptions: {\n\t\tpageTypes: [],\n\t},\n};\n\nexport const pageType = _.memoize((): ?PageType => {\n\twaitForEvent(document, 'reddit.urlChanged').then(() => {\n\t\tpageType.cache.clear();\n\t});\n\tconst spec = appPageTypes[appType()];\n\treturn spec.pageTypes.find(pageType => regexes[pageType].test(location.pathname)) || spec.default;\n});\n\nexport function isPageType(...types: PageType[]): boolean {\n\tconst thisPage = pageType();\n\treturn types.some(type => type === thisPage);\n}\n\nexport function matchesPageRegex(...regexps: RegExp[]): boolean {\n\treturn regexps.some(regex => regex.test(location.pathname));\n}\n\nexport const currentSubreddit = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.subreddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentSubreddit(...subreddits: string[]): boolean {\n\tconst sub = (currentSubreddit() || '').toLowerCase();\n\tif (!sub) return false;\n\treturn subreddits.some(v => v.toLowerCase() === sub);\n}\n\nexport const currentMultireddit = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.multireddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentMultireddit(...multireddits: string[]): boolean {\n\tconst multi = (currentMultireddit() || '').toLowerCase();\n\tif (!multi) return false;\n\treturn multireddits.some(v => v.toLowerCase() === multi);\n}\n\nexport const currentDomain = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.domain);\n\tif (match) return match[1];\n});\n\nexport const currentUserProfile = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.profile);\n\tif (match) return match[1];\n});\n\nexport const fullLocation = (pathname: string = location.pathname) => {\n\tconst regex = Object.keys(regexes).find(key => pathname.match(regexes[key]));\n\tif (!regex) return pathname.toLowerCase();\n\n\t// examples: domain-youtube.com, user-gueor, subreddit-enhancement+resissues\n\treturn [\n\t\tregex,\n\t\t...(pathname.match(regexes[regex]) || []).slice(1), // ignore matched string\n\t]\n\t\t.filter(v => v)\n\t\t.join('-')\n\t\t.toLowerCase();\n};\n\n// A link is a comment code if all these conditions are true:\n// * It has no content (i.e. content.length === 0)\n// * Its href is of the form \"/code\" or \"#code\"\n//\n// In case it's not clear, here is a list of some common comment\n// codes on a specific subreddit:\n// https://www.reddit.com/r/metarage/comments/p3eqe/full_updated_list_of_comment_faces_wcodes/\n// also for CSS hacks to do special formatting, like /r/CSSlibrary\n\nconst COMMENT_CODE_REGEX = /^[\\/#].+$/;\n\nexport function isCommentCode(link: HTMLAnchorElement): boolean {\n\t// don't add annotations for hidden links - these are used as CSS\n\t// hacks on subreddits to do special formatting, etc.\n\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\n\tconst emptyText = link.textContent.length === 0;\n\tconst isCommentCode = COMMENT_CODE_REGEX.test(href);\n\n\treturn emptyText && isCommentCode;\n}\n\nexport function isEmptyLink(link: HTMLAnchorElement): boolean {\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\treturn typeof href !== 'string' || href.startsWith('javascript:') || href === '#'; // eslint-disable-line no-script-url\n}\n\nexport const inQuarantinedSubreddit = _.once(() => document.body.classList.contains('quarantine'));\n","/* @flow */\n\nconst escapeLookups = {\n\t'&': '&amp;',\n\t'\"': '&quot;',\n\t\"'\": '&apos;', // eslint-disable-line quotes\n\t'<': '&lt;',\n\t'>': '&gt;',\n\t'/': '&#47;',\n};\n\nexport function escapeHTML(str: ?string): string {\n\treturn str ?\n\t\tstr.toString().replace(/[&\"'<>\\/]/g, m => escapeLookups[m]) :\n\t\t'';\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { flow } from 'lodash/fp';\nimport levenshtein from 'fast-levenshtein';\nimport { downcast } from './flow';\nimport { escapeHTML } from './html';\nimport type { Iteratee } from './array';\n\ntype StringTagFunction<V, Out> = (s: string[], ...values: V[]) => Out;\n\nfunction stringTagFunction<T>(valueTransform: Iteratee<T, string | void>): StringTagFunction<T, string> {\n\treturn (strings, ...values) =>\n\t\t_.zipWith(\n\t\t\tstrings,\n\t\t\tvalues.map(valueTransform),\n\t\t\t(s, v) => `${s}${v === undefined ? '' : v}`,\n\t\t).join('');\n}\n\nexport const encode: StringTagFunction<string, string> = stringTagFunction(encodeURIComponent);\n\nexport const escape: StringTagFunction<string, string> = stringTagFunction(escapeHTML);\n\ntype OpaqueSafeString = {| __safe__: string |};\n\nexport function safe(str: string): OpaqueSafeString {\n\treturn { __safe__: str };\n}\n\nconst MAX_DISTANCE_RATIO = 0.05;\n\nexport function areSimilar(a: string, b: string): boolean {\n\treturn levenshtein.get(a, b) <= MAX_DISTANCE_RATIO * Math.max(a.length, b.length);\n}\n\nexport const regexRegex = /^\\/(.*)\\/([gimu]+)?$/;\n\nconst htmlTagFunction: StringTagFunction<?false | string | number | OpaqueSafeString | OpaqueSafeString[], string> = stringTagFunction(x => {\n\t// avoid treating 0 as falsy and rendering nothing\n\tif (typeof x === 'number') return String(x);\n\t// falsy values not rendered\n\tif (!x) return '';\n\t// bare strings/numbers are escaped\n\tif (typeof x === 'string') return escapeHTML(x);\n\t// arrays of safe strings\n\tif (Array.isArray(x)) return x.filter(s => s && typeof s.__safe__ === 'string').map(s => s.__safe__).join('');\n\t// safe strings\n\tif (x.hasOwnProperty('__safe__')) return x.__safe__;\n\tthrow new TypeError(`Invalid html template interpolation: ${String(x)}`);\n});\n\n/**\n * Intended for mustache-like HTML templates:\n * - falsy values are not rendered\n * - arrays are joined with the empty string\n * - strings are html-escaped, single element string tuples are not\n */\nexport const html = flow(\n\thtmlTagFunction,\n\tmarkup => {\n\t\t// <template> elements allow out-of-place elements e.g. <tr> without a <table>\n\t\t// but they cause weird issues in Firefox (#4222), and it's unlikely that you'll need\n\t\t// to use <tr>, except embedded in another template with string._html`<tr>...</tr>`,\n\t\t// which doesn't have this limitation.\n\t\tconst template = document.createElement('div');\n\t\ttemplate.innerHTML = markup;\n\t\tif (template.childElementCount !== 1) {\n\t\t\tthrow new Error(`Html template should have exactly one root node, but had ${template.childElementCount}`);\n\t\t}\n\t\tconst child = downcast(template.firstElementChild, HTMLElement);\n\t\tchild.remove();\n\t\treturn child;\n\t},\n);\n\n/**\n * Intended for nested arrays or optional values in HTML templates.\n */\nexport const _html = flow(\n\thtmlTagFunction,\n\tsafe,\n);\n","/* @flow */\n\nimport _ from 'lodash';\nimport { ajax } from '../environment';\nimport type { CurrentRedditUser, RedditAccount } from '../types/reddit';\nimport { MINUTE } from './time';\nimport { isAppType, regexes } from './location';\nimport * as string from './string';\n\nexport const isLoggedIn = _.once(() => {\n\tif (loggedInUser()) {\n\t\treturn true;\n\t} else if (document.querySelector('header a[href^=\"/message/inbox\"]')) {\n\t\treturn true;\n\t}\n});\n\nexport const loggedInUser = _.once((): string | void => documentLoggedInUser(document));\n\nexport const documentLoggedInUser = (document: Document | Element): string | void => {\n\tif (isAppType('d2x')) {\n\t\t// The first text node in the user button contains the username\n\t\tconst findFirstTextNode = e => [...e.childNodes].filter(v => v.nodeType === 3).concat(...[...e.children].map(findFirstTextNode));\n\t\tconst button = document.querySelector('#USER_DROPDOWN_ID > *');\n\t\tconst username = button && findFirstTextNode(button)[0];\n\t\treturn username && username.textContent;\n\t}\n\n\tconst link: ?HTMLAnchorElement = (document.querySelector('#header-bottom-right > span.user > a'): any);\n\tif (!link || link.classList.contains('login-required')) return;\n\tconst profile = regexes.profile.exec(link.pathname);\n\tif (profile) {\n\t\treturn profile[1];\n\t}\n};\n\nexport const isModeratorAnywhere = _.once((): boolean => !!document.getElementById('modmail'));\n\nexport const loggedInUserHash = _.once(async (): Promise<?string> => {\n\tconst hashEle = document.querySelector('[name=uh]');\n\tif (hashEle instanceof HTMLInputElement) {\n\t\treturn hashEle.value;\n\t}\n\n\tconst userInfo = await loggedInUserInfo();\n\treturn userInfo && userInfo.data && userInfo.data.modhash;\n});\n\nexport const loggedInUserInfo = _.once((): Promise<CurrentRedditUser | void> =>\n\t!isLoggedIn() ? Promise.resolve() : ajax({ url: '/api/me.json', type: 'json' })\n\t\t.then(data => data.data && data.data.modhash ? data : undefined));\n\nconst usernameRE = /(?:u|user)\\/([\\w\\-]{3,20}(?![\\w\\-]))/;\n\nexport const usernameSelector = [\n\t'.contents .author',\n\t'p.tagline a.author',\n\t'#friend-table span.user a',\n\t'.sidecontentbox .author',\n\t'div.md a[href^=\"/u/\"]:not([href*=\"/m/\"])',\n\t'div.md a[href*=\"reddit.com/u/\"]:not([href*=\"/m/\"])',\n\t'.usertable a.author',\n\t'.parent > a.author',\n\t'.usertable span.user a',\n\t'div.wiki-page-content .author',\n\t'.Post__authorLink', // Newish profile page\n].join(', ');\n\nexport function getUsernameFromLink(element: HTMLElement): ?string {\n\tif (!(element instanceof HTMLAnchorElement)) return;\n\n\tconst { href, origin } = element;\n\n\t// The link should refer to this site\n\tif (!location.origin.endsWith(origin.split('.').slice(-2).join('.'))) return;\n\n\tconst [, username] = href.match(usernameRE) || [];\n\tif (username) return username;\n}\n\nexport function getUserInfo(username: ?string = loggedInUser()): Promise<RedditAccount> {\n\tif (!username) {\n\t\treturn Promise.reject(new Error('getUserInfo: null/undefined username'));\n\t}\n\n\treturn ajax({\n\t\turl: string.encode`/user/${username}/about.json`,\n\t\ttype: 'json',\n\t\tcacheFor: 10 * MINUTE,\n\t});\n}\n","/* @flow */\n\nimport {\n\tloggedInUser,\n\tloggedInUserHash,\n} from '../../utils/user';\nimport { waitForEvent } from '../../utils/dom';\n\nexport const data: {|\n\tuserHash: ?string,\n\tusername: ?string,\n\torigin: string,\n\tpathname: string,\n|} = {\n\tuserHash: null,\n\tusername: null,\n\torigin: 'https://www.reddit.com',\n\tpathname: location.pathname,\n};\n\nexport function establish(contentStart: *) {\n\tif (!location.protocol.startsWith('http')) return;\n\n\tdata.origin = location.origin;\n\n\tcontentStart.then(() => {\n\t\tdata.username = loggedInUser();\n\t\tloggedInUserHash().then(hash => { data.userHash = hash; });\n\t});\n}\n\nexport function retrieveFromParent() {\n\tif (window === window.parent) return Promise.resolve();\n\n\treturn waitForEvent(window, 'message').then(({ data: { context } }: any) => {\n\t\tObject.assign(data, context);\n\t});\n}\n","/* @flow */\n\ntype MessagePayload = {|\n\ttype: string,\n\tdata?: mixed,\n|};\n\ntype ResponsePayload = {|\n\tdata?: mixed,\n\terror?: {| message: string, stack: string |},\n|};\n\ntype InternalMessageSender<MsgCtx> = (msg: MessagePayload, context: MsgCtx) => Promise<ResponsePayload>;\n\ntype InternalMessageHandler<ListenerCtx> = (msg: MessagePayload, sendResponse: (response: ResponsePayload) => void, context: ListenerCtx) => boolean;\n\nexport type MessageSender<MsgCtx> = (type: string, data: mixed, context: MsgCtx) => Promise<any>;\n\nexport type AddListener<Ctx> = (type: string, callback: ListenerCallback<Ctx>) => void;\n\ntype ListenerCallback<Ctx> = (data: any, context: Ctx) => Promise<mixed> | mixed;\n\nclass MessageHandlerError extends Error {\n\tconstructor(message, stack) {\n\t\tsuper();\n\t\tthis.message = message;\n\t\tthis.stack = stack;\n\t}\n}\n\nexport function createMessageHandler<MsgCtx, ListenerCtx>(_sendMessage: InternalMessageSender<MsgCtx>, errorOnUnrecognizedTypes: boolean = false): {|\n\t_handleMessage: InternalMessageHandler<ListenerCtx>,\n\tsendMessage: MessageSender<MsgCtx>,\n\taddListener: AddListener<ListenerCtx>,\n|} {\n\tconst listeners = new Map();\n\n\tfunction addListener(type, callback) {\n\t\tif (listeners.has(type)) {\n\t\t\tthrow new Error(`Listener for \"${type}\" already exists.`);\n\t\t}\n\t\tlisteners.set(type, callback);\n\t}\n\n\tasync function sendMessage(type, data, context) {\n\t\tconst { data: newData, error } = await _sendMessage({ type, data }, context);\n\t\tif (error) {\n\t\t\tthrow new MessageHandlerError(error.message, `${error.stack}\\n    at target's \"${type}\" handler`);\n\t\t} else {\n\t\t\treturn newData;\n\t\t}\n\t}\n\n\tfunction _handleMessage({ type, data }, sendResponse, context) {\n\t\tconst listener = listeners.get(type);\n\t\tif (!listener) {\n\t\t\tif (errorOnUnrecognizedTypes) {\n\t\t\t\tsendResponse({ error: { message: `Unrecognised message type: ${type}`, stack: '' } });\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tlet response;\n\n\t\ttry {\n\t\t\tresponse = listener(data, context);\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (response instanceof Promise) {\n\t\t\tresponse\n\t\t\t\t.then(\n\t\t\t\t\tdata => sendResponse({ data }),\n\t\t\t\t\te => {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t// true = response will be handled asynchronously (needed for Chrome)\n\t\t\treturn true;\n\t\t} else {\n\t\t\tsendResponse({ data: response });\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn {\n\t\t_handleMessage,\n\t\tsendMessage,\n\t\taddListener,\n\t};\n}\n","/* @flow */\n\nexport function apiToPromise(func: (...args: mixed[]) => void): (...args: mixed[]) => Promise<any> {\n\treturn (...args) =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\tfunc(...args, (...results) => {\n\t\t\t\tif (chrome.runtime.lastError) {\n\t\t\t\t\treject(new Error(chrome.runtime.lastError.message));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(results.length > 1 ? results : results[0]);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n}\n","/* @flow */\n\nimport { createMessageHandler } from '../utils/messaging';\nimport { apiToPromise } from '../utils/api';\n\nconst _sendMessage = apiToPromise(chrome.runtime.sendMessage);\n\nconst {\n\t_handleMessage,\n\tsendMessage,\n\taddListener,\n} = createMessageHandler(obj => _sendMessage(obj));\n\nchrome.runtime.onMessage.addListener((obj, sender, sendResponse) => _handleMessage(obj, sendResponse));\n\nexport {\n\tsendMessage,\n\taddListener,\n};\n","/* @flow */\n\nexport function isPrivateBrowsing(): boolean {\n\treturn chrome.extension.inIncognitoContext;\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport { isPrivateBrowsing } from './privateBrowsing';\n\nexport async function addURLToHistory(url: string): Promise<void> {\n\tif (isPrivateBrowsing()) return;\n\n\tawait sendMessage('addURLToHistory', url);\n}\n\nexport function isURLVisited(url: string): Promise<boolean> {\n\treturn sendMessage('isURLVisited', url);\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('XHRCache', ['set', key, value]);\n}\n\nexport function check(key: string, maxAge?: number /* milliseconds */): Promise<any | void> {\n\treturn sendMessage('XHRCache', ['check', key, maxAge]);\n}\n\nfunction delete_(key: string) {\n\treturn sendMessage('XHRCache', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function clear() {\n\treturn sendMessage('XHRCache', ['clear']);\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { context } from '../../environment';\nimport { sendMessage } from './messaging';\nimport * as XhrCache from './xhrCache';\n\ntype ResponseType = 'text' | 'json' | 'raw';\ntype MethodType = 'GET' | 'HEAD' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\ntype AjaxOptions<Ty: ResponseType | void> = {|\n\tmethod?: MethodType,\n\turl: string,\n\tquery?: { [string]: string | number | boolean },\n\theaders?: { [string]: string },\n\tdata?: string | { [string]: string },\n\ttype?: Ty,\n\tcacheFor?: number,\n\tcredentials?: 'include' | 'omit',\n|};\n\nclass FetchError extends Error {\n\tstatus: number;\n\n\tconstructor(url, status) {\n\t\tsuper(`${url} failed with status ${status}`);\n\t\tthis.status = status;\n\t}\n}\n\n/* eslint-disable no-redeclare */\ndeclare function ajax(opt: AjaxOptions<void>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'text'>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'json'>): Promise<{ [string | number]: any }>;\ndeclare function ajax(opt: AjaxOptions<'raw'>): Promise<{\n\tok: boolean,\n\tstatus: number,\n\theaders: { [string]: string },\n\ttext: string,\n}>;\n\n/**\n * Send a fetch request.\n *\n * `method`, `url`, and `headers` behave in the obvious way.\n * `query` adds query params to `url`.\n * `data` objects will be sent as application/x-www-form-urlencoded.\n * `data` strings will be sent as-is.\n * `type` affects the return type, either 'text' or 'json'.\n * `cacheFor` is a TTL, in milliseconds.\n */\nexport async function ajax(options: AjaxOptions<*>) {\n\tconst { method, url, headers, data, type, cacheFor, sameOrigin, credentials } = buildRequestParams(options);\n\n\tif (cacheFor) {\n\t\tconst cached = await XhrCache.check(url, cacheFor);\n\t\tif (cached) {\n\t\t\treturn processResponse(cached, type);\n\t\t}\n\t}\n\n\tconst response = await (sameOrigin ?\n\t\tfetch(url, {\n\t\t\tmethod,\n\t\t\theaders,\n\t\t\tcredentials,\n\t\t\tbody: data,\n\t\t}).then(async r => ({\n\t\t\tok: r.ok,\n\t\t\tstatus: r.status,\n\t\t\theaders: _.fromPairs(Array.from(r.headers.entries())),\n\t\t\ttext: await r.text(),\n\t\t})) :\n\t\tsendMessage('ajax', { method, url, headers, data, credentials })\n\t);\n\n\tif (!response.ok) {\n\t\tthrow new FetchError(url, response.status);\n\t}\n\n\tif (cacheFor) {\n\t\tXhrCache.set(url, response);\n\t}\n\n\treturn processResponse(response, type);\n}\n/* eslint-enable no-redeclare */\n\najax.invalidate = (options: AjaxOptions<*>) =>\n\tXhrCache.delete(buildRequestParams(options).url);\n\nfunction buildRequestParams({ method = 'GET', url, query = {}, headers = {}, data, type = 'text', credentials, cacheFor = 0 }): {|\n\tmethod: MethodType,\n\turl: string,\n\theaders: { [string]: string },\n\tdata: string | void,\n\ttype: ResponseType,\n\tcacheFor: number,\n\tsameOrigin: boolean,\n\tcredentials: 'omit' | 'include',\n|} {\n\tconst siteOrigin = new URL(context.origin);\n\n\t// Expand relative URLs\n\tconst requestURL = new URL(url, siteOrigin);\n\n\t// Append query string to URL\n\tfor (const [key, val] of Object.entries(query)) {\n\t\trequestURL.searchParams.set(key, String(val));\n\t}\n\n\tconst sameSite = requestURL.hostname.split('.').slice(-2).join('.') === siteOrigin.hostname.split('.').slice(-2).join('.');\n\tif (sameSite) {\n\t\t// Add `app=res` to same-origin request URLs\n\t\trequestURL.searchParams.set('app', 'res');\n\n\t\t// include cookies for same-origin requests (to load correct posts, etc.)\n\t\tif (!credentials) credentials = 'include';\n\n\t\tif (method !== 'GET' && method !== 'HEAD') {\n\t\t\t// Send modhash for same-origin non-GET requests\n\t\t\tif (context.userHash) headers['X-Modhash'] = context.userHash;\n\t\t}\n\n\t\t// new.reddit.com specifically selects the reddit desktop web frontend service.\n\t\t// AJAX requests should be sent to www.reddit.com, which will select the correct\n\t\t// service based on the path.\n\t\trequestURL.hostname = requestURL.hostname.replace(/new\\./, 'www.');\n\t}\n\n\tconst sameOrigin = siteOrigin.origin === requestURL.origin;\n\n\t// Convert plain data objects to application/x-www-form-urlencoded\n\tif (typeof data === 'object') {\n\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t// this needs to be a string because Edge doesn't support sending URlSearchParams\n\t\t// (the fetch polyfill passes it through to XHR, which is correct behaviour)\n\t\tdata = new URLSearchParams(data).toString();\n\t}\n\n\treturn {\n\t\tmethod,\n\t\turl: requestURL.href,\n\t\theaders,\n\t\tdata,\n\t\ttype,\n\t\tcacheFor,\n\t\tcredentials: credentials || 'omit',\n\t\tsameOrigin,\n\t};\n}\n\nfunction processResponse(response, type: ResponseType) {\n\tswitch (type) {\n\t\tcase 'text':\n\t\t\treturn response.text;\n\t\tcase 'json':\n\t\t\treturn JSON.parse(response.text);\n\t\tcase 'raw':\n\t\t\treturn response;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid type: ${type}`);\n\t}\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function download(url: string, filename?: string) {\n\t// Firefox and Chrome <a download> is same-origin only\n\tsendMessage('download', {\n\t\t// resolve relative URLs\n\t\turl: new URL(url, location.href).href,\n\t\tfilename,\n\t});\n}\n","/* @flow */\n\nexport function getExtensionId(): string {\n\treturn chrome.runtime.id;\n}\n\nexport const getURL = chrome.runtime.getURL;\n\nexport const getOptionsURL = (hash: string = '') => new URL(hash, getURL('options.html'));\nexport const isOptionsPage = () => location.origin === getOptionsURL().origin;\n","/* @flow */\n\nexport const CACHED_LANG_KEY = 'RES.i18nCachedLang';\nexport const CACHED_MESSAGES_KEY = 'RES.i18nCachedMessages';\nexport const CACHED_MESSAGES_TOKEN_KEY = 'RES.i18nCachedMessagesToken';\n","export default \"5.18.14\";","/* @flow */\n\nimport { CACHED_LANG_KEY, CACHED_MESSAGES_KEY, CACHED_MESSAGES_TOKEN_KEY } from '../../constants/localStorage';\nimport { sendMessage } from './messaging';\nimport buildToken from 'exec-loader!../../../build/buildToken'; // eslint-disable-line import/no-extraneous-dependencies\n\nconst REDDIT_LANGUAGES = new Set(['en', 'af', 'ar', 'be', 'bg', 'bn-IN', 'bn-bd', 'bs', 'ca', 'cs', 'cy', 'da', 'de', 'el', 'en-au', 'en-ca', 'en-gb', 'en-us', 'eo', 'es', 'es-ar', 'es-mx', 'et', 'eu', 'fa', 'fi', 'fil', 'fr', 'fr-ca', 'fy-NL', 'ga-ie', 'gd', 'gl', 'he', 'hi', 'hr', 'hu', 'hy', 'id', 'is', 'it', 'ja', 'kn_IN', 'ko', 'la', 'leet', 'lol', 'lt', 'lv', 'ms', 'mt-MT', 'nl', 'nn', 'no', 'pir', 'pl', 'pt', 'pt-pt', 'pt_BR', 'ro', 'ru', 'sk', 'sl', 'sr', 'sr-la', 'sv', 'ta', 'th', 'tr', 'uk', 'vi', 'zh', 'zh-cn']);\n// reddit languages which are not valid browser languages\nconst SPECIAL_LANGUAGES = new Set(['leet', 'lol', 'pir']);\n\nexport let locale = navigator.language || 'en'; // May be changed depending on Reddit language\n\nfunction isValidLocale(localeString) {\n\t// there doesn't appear to be a proper way to check if a language tag is valid, so we have to do this\n\ttry {\n\t\treturn typeof (0).toLocaleString(localeString) === 'string';\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n\nfunction getRedditLocale() {\n\tconst redditLocale = typeof document !== 'undefined' && document.documentElement.getAttribute('lang');\n\tif (redditLocale && (REDDIT_LANGUAGES.has(redditLocale))) {\n\t\t// `pt_BR` -> `pt-br`\n\t\tconst locale = redditLocale.toLowerCase().replace('_', '-');\n\t\tif (isValidLocale(locale)) {\n\t\t\trequestIdleCallback(() => { sendMessage('setLastRedditLocale', locale); });\n\t\t\treturn locale;\n\t\t}\n\t}\n\n\treturn sendMessage('getLastRedditLocale');\n}\n\nlet messages;\n\nexport async function _loadI18n(): Promise<void> {\n\tconst redditLocale = await getRedditLocale();\n\tif (redditLocale && !SPECIAL_LANGUAGES.has(redditLocale)) locale = redditLocale;\n\n\t// fast path: i18n dictionary is cached\n\t// should be hit almost every time\n\tif (\n\t\tlocalStorage.getItem(CACHED_LANG_KEY) === redditLocale &&\n\t\tlocalStorage.getItem(CACHED_MESSAGES_TOKEN_KEY) === buildToken\n\t) {\n\t\ttry {\n\t\t\t// eslint-disable-next-line require-atomic-updates\n\t\t\tmessages = JSON.parse(localStorage.getItem(CACHED_MESSAGES_KEY) || '');\n\t\t\treturn;\n\t\t} catch (e) {\n\t\t\tconsole.error('Failed to parse cached i18n', e);\n\t\t}\n\t}\n\n\t// slow path: wait for background page to send new locales\n\t// will be hit the first (ever) pageload on a new domain\n\t// or after clearing localStorage\n\tmessages = await sendMessage('i18n', redditLocale);\n\n\ttry { // Fails if remaining localStorage space is insufficient\n\t\tlocalStorage.setItem(CACHED_MESSAGES_KEY, JSON.stringify(messages));\n\t\tlocalStorage.setItem(CACHED_LANG_KEY, redditLocale);\n\t\tlocalStorage.setItem(CACHED_MESSAGES_TOKEN_KEY, buildToken);\n\t} catch (e) {\n\t\tconsole.error('Could not cache i18n - RES will load VERY slowly', e);\n\t\t// XXX: reddit has a habit of filling up these localstorage keys, so speculatively delete them\n\t\tlocalStorage.removeItem('ads.adserverDownvotePixel');\n\t\tlocalStorage.removeItem('ads.adserverUpvotePixel');\n\t}\n}\n\n// Behaves like https://developer.chrome.com/extensions/i18n#method-getMessage\nexport function i18n(messageName: string, ...substitutions: Array<string | number>): string {\n\tif (!messageName) return '';\n\n\tif (!messages) {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tthrow new Error(`i18n called too early! key: ${messageName}`);\n\t\t} else {\n\t\t\tconsole.error('i18n called too early! key:', messageName);\n\t\t\treturn messageName;\n\t\t}\n\t}\n\n\tconst message = messages[messageName];\n\n\tif (!message) return messageName;\n\n\t// Fast path: avoid running regex when there are no substitutions\n\tif (substitutions.length === 0) return message;\n\n\t// Replace direct references to substitutions, e.g. `First substitution: $1`\n\t// Maximum of 9 substitutions allowed, i.e. only one number after the `$`\n\treturn message.replace(/\\$(\\d)\\b(?!\\$)/g, (match, number) => substitutions[number - 1]);\n\n\t// Chrome also supports named placeholders, e.g. `Error: $error_message$`\n\t// but Transifex does not create the `placeholders` field in exported JSON\n\t// https://developer.chrome.com/extensions/i18n#examples-getMessage\n}\n","/* @flow */\n\nexport function* range(start: number, end: number): Iterable<number> {\n\tfor (let i = start; i < end; ++i) { // eslint-disable-line no-restricted-syntax\n\t\tyield i;\n\t}\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function zip<A>(a: Iterable<A>): Iterable<[A]>;\ndeclare function zip<A, B>(a: Iterable<A>, b: Iterable<B>): Iterable<[A, B]>;\ndeclare function zip<A, B, C>(a: Iterable<A>, b: Iterable<B>, c: Iterable<C>): Iterable<[A, B, C]>;\n/* eslint-enable no-unused-vars */\n\nexport function* zip(...iterables) {\n\tconst generators = iterables.map(it => it[Symbol.iterator]());\n\tlet results;\n\n\twhile ((results = generators.map(gen => gen.next())).some(r => !r.done)) {\n\t\tyield results.map(r => r.value);\n\t}\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport _ from 'lodash';\nimport { zip } from './generator';\n\nexport function waitFor<T>(callback: () => ?T, interval?: number = 1): Promise<T> {\n\treturn new Promise(resolve => {\n\t\t(function repeat() {\n\t\t\tconst val = callback();\n\t\t\tif (!val) {\n\t\t\t\tsetTimeout(repeat, interval);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolve(val);\n\t\t})();\n\t});\n}\n\n/*\n Iterate through an array in chunks, executing a callback on each element.\n Each chunk is handled asynchronously from the others with a delay betwen each batch.\n This will change the timeout dynamically based on current screen performance in an effort\n to work as fast as possibly without blocking the screen.\n */\n\nexport const forEachChunked = (() => {\n\tconst framerate = 30;\n\tconst frameTime = 1000 / framerate;\n\n\tconst queues = [];\n\n\tconst run = frameThrottle(() => {\n\t\tconst start = performance.now();\n\t\tdo {\n\t\t\t_.remove(queues, ({ generator, callback, resolve, reject }): boolean | void => {\n\t\t\t\tconst { value, done } = generator.next();\n\n\t\t\t\tif (done) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tcallback(value);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (generator.return) generator.return();\n\t\t\t\t\treject(e);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// stop if there are no queues left\n\t\t\tif (!queues.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} while (performance.now() - start < frameTime);\n\t\trun();\n\t});\n\n\treturn _.curryRight(<T>(collection: Iterable<T>, callback: (x: T) => void) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tconst iterable = (Symbol.iterator in collection) ? collection : Array.from(collection); // eslint-disable-line no-restricted-syntax\n\t\t\t// $FlowIssue https://github.com/facebook/flow/issues/1163, https://github.com/facebook/flow/issues/1015\n\t\t\tqueues.push({ generator: iterable[Symbol.iterator](), callback, resolve, reject });\n\t\t\trun();\n\t\t}),\n\t);\n})();\n\n/*\n * Will accumulate values until `size` elements are accumulated or `delay` milliseconds pass.\n * `callback` accepts an array of batched values and should return an array of results **in the same order**.\n * If it throws, all promises will be rejected with the same error.\n * If one of the results is an instance of `Error`, the corresponding promise will be rejected with that error.\n */\nexport function batch<T, V>(callback: (xs: T[]) => Promise<Iterable<Error | Promise<V> | V> | void> | void, { size = 100, delay = 50, flushBeforeUnload = false }: {| size?: number, delay?: number, flushBeforeUnload?: boolean |} = {}): (x: T) => Promise<V> {\n\tlet invoke;\n\n\tfunction* batchAccumulator() {\n\t\tconst entries = [];\n\t\tconst promises = [];\n\n\t\tfunction addPromise(): Promise<V> {\n\t\t\tif (entries.length) {\n\t\t\t\treturn new Promise((resolve, reject) => { promises.push({ resolve, reject }); });\n\t\t\t} else {\n\t\t\t\treturn (undefined: any); // dummy - never observed\n\t\t\t}\n\t\t}\n\n\t\tinvoke = _.once(async () => {\n\t\t\tstartNewBatch();\n\t\t\tif (!entries.length) return;\n\t\t\ttry {\n\t\t\t\tconst results = await callback(entries) || [];\n\t\t\t\tfor (const [{ resolve, reject }, result] of zip(promises, results)) {\n\t\t\t\t\tif (result instanceof Error) reject(result);\n\t\t\t\t\telse resolve(result);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tfor (const { reject } of promises) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst timeout = delay ? _.debounce(invoke, delay) : throttle(invoke);\n\n\t\twhile (entries.length < size) {\n\t\t\tconst entry = yield addPromise();\n\t\t\tif (entry === undefined) throw new Error('undefined passed into batch generator');\n\t\t\tentries.push(entry);\n\t\t\ttimeout();\n\t\t}\n\n\t\tconst lastPromise = addPromise();\n\t\tinvoke();\n\t\tyield lastPromise;\n\t}\n\n\tlet currentBatch;\n\n\tfunction startNewBatch() {\n\t\tcurrentBatch = batchAccumulator();\n\t\tcurrentBatch.next(); // prime the generator, so the first `.next(value)` isn't lost\n\t}\n\n\tstartNewBatch();\n\n\tif (flushBeforeUnload) window.addEventListener('beforeunload', () => { invoke(); }, true);\n\n\treturn entry => {\n\t\tconst { value } = currentBatch.next(entry);\n\t\tif (value === undefined) throw new Error('Batch generator was not replaced after completion');\n\t\treturn value;\n\t};\n}\n\nfunction always<T>(promise: Promise<T>, callback: (x: T) => Promise<void> | void): Promise<void> {\n\treturn promise.then(callback, callback);\n}\n\n// Like _asyncToGenerator, but calls back into the generator synchronously if the value is not a promise\n// unless you're certain that you need to avoid asynchronicity at all costs, just use an async function\nexport function fastAsync<A, B, C, D, E, F, G, R>(\n\tcallback: (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => Generator<any, R, any>,\n): (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => R | Promise<R> {\n\treturn function(...args) {\n\t\treturn (function next(generator, arg, throwing) {\n\t\t\tconst { value, done } = !throwing ? generator.next(arg) : generator.throw(arg);\n\n\t\t\tif (done) {\n\t\t\t\treturn value;\n\t\t\t} else if (!(value instanceof Promise)) {\n\t\t\t\treturn next(generator, value, false);\n\t\t\t} else {\n\t\t\t\treturn value.then(\n\t\t\t\t\tval => next(generator, val, false),\n\t\t\t\t\terr => next(generator, err, true),\n\t\t\t\t);\n\t\t\t}\n\t\t})(Reflect.apply(callback, this, args), undefined, false);\n\t};\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function asyncFlow<A1, A2, A3, A4, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | RB>\n\t(f1: F1): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<RA> | RB>\n\t(f1: F1, f2: F2): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, F, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<F> | F, F6: (f: F) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5, f6: F6): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\n\nexport function asyncFlow(firstFn, ...fns) {\n\treturn fastAsync(function*(...args) {\n\t\tlet accum = firstFn(...args);\n\t\tfor (const fn of fns) {\n\t\t\taccum = fn(yield accum);\n\t\t}\n\t\treturn accum;\n\t});\n}\n\n// once the promise has resolved, its value is available synchronously\n// intended for use with fastAsync\nexport function reifyPromise<T>(promise: Promise<T>): { get(): T | Promise<T> } {\n\tlet val = promise;\n\tpromise.then(x => { val = x; });\n\treturn { get: () => val };\n}\n\nexport function keyedMutex<V, T:(...args: any) => Promise<V> | V>(\n\tcallback: T,\n\tkeyResolver?: (...args: any) => mixed = x => x,\n): T {\n\tconst queues = new Map();\n\n\treturn (function(...args) {\n\t\tconst key = keyResolver(...args);\n\n\t\t// https://github.com/facebook/flow/issues/34\n\t\tconst tail = queues.has(key) ?\n\t\t\talways(queues.get(key) /*:: || Promise.resolve() */, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueues.set(key, tail);\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queues.get(key) === tail) queues.delete(key);\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\nexport function mutex<V, T:(...args: any) => Promise<V> | V>(callback: T): T {\n\tlet queue;\n\n\treturn (function(...args) {\n\t\tconst tail = queue ?\n\t\t\talways(queue, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueue = tail;\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queue === tail) queue = undefined;\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\n// `callback` is invoked when the micro task queue is emptied\n// returns a promise that resolves when callback resolves\nexport function throttle(callback: () => void | Promise<void>): () => Promise<void> {\n\tlet promise: ?Promise<*>;\n\n\treturn () => {\n\t\tpromise = promise || Promise.resolve().then(() => {\n\t\t\tpromise = null;\n\t\t\tcallback();\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n// Invokes callback after the returned function has not been invoked for `debounce` number of frames\nexport function frameDebounce(callback: () => any, debounce: number = 1): () => void {\n\tlet remaining: number;\n\n\tconst update = frameThrottle(() => {\n\t\tif (remaining) requestAnimationFrame(() => { update(); });\n\t\telse callback();\n\t\tremaining -= 1;\n\t});\n\n\treturn () => {\n\t\tremaining = debounce;\n\t\trequestAnimationFrame(() => { update(); });\n\t};\n}\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will invoke `callback` at most once per frame.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function frameThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n/*\n * Similar to throttle, but callbacks are ordered:\n * When the returned wrapper function is invoked, `callback` will be placed last in the execution queue\n */\nexport const throttleQueuePositionReset = (() => {\n\tlet queues = [];\n\n\tconst run = throttle(() => {\n\t\tfor (const fn of queues) {\n\t\t\ttry {\n\t\t\t\tfn();\n\t\t\t} catch (e) { /* empty */ }\n\t\t}\n\t\tqueues = [];\n\t});\n\n\treturn function(callback: () => void) {\n\t\tlet args = [];\n\t\tlet queued = false;\n\n\t\tfunction runCallback() {\n\t\t\tqueued = false;\n\t\t\tcallback();\n\t\t}\n\n\t\treturn (...a: Array<*>) => {\n\t\t\targs = a;\n\n\t\t\tif (queued) {\n\t\t\t\t_.pull(queues, callback);\n\t\t\t} else {\n\t\t\t\tqueued = true;\n\t\t\t}\n\n\t\t\tqueues.push(callback);\n\t\t\trun();\n\t\t};\n\t};\n})();\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will only invoke the latest `callback` in the next upcoming idle period.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function idleThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestIdleCallback(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { mutex } from '../../utils/async';\nimport { sendMessage } from './messaging';\n\ntype Perms = Array<string>;\n\nfunction filterPerms(perms) {\n\tconst permissions = perms.filter(p => !p.includes('://') && p !== '<all_urls>');\n\tconst origins = perms.filter(p => p.includes('://') || p === '<all_urls>');\n\treturn { permissions, origins };\n}\n\n/**\n * @param {Array<string>} perms Permissions to check if granted\n * @returns {Promise<boolean>}\n */\nexport const has = _.memoize(\n\t(perms: Perms) => sendMessage('permissions', { operation: 'contains', ...filterPerms(perms) }),\n\tperms => perms.join(','),\n);\n\n/**\n * @param {Array<string>} perms Optional Chrome permissions to request.\n * @param {string} perms Name of site to request permission for\n * @returns {Promise<void, *>} Resolves if the permissions are granted, rejects otherwise.\n */\nexport const request = mutex(async (perms: Perms) => {\n\tif (await has(perms)) return;\n\n\tconst { permissions, origins } = filterPerms(perms);\n\n\tconst granted = await sendMessage('permissions', { operation: 'request', permissions, origins });\n\tif (granted) {\n\t\thas.cache.set(perms.join(','), true);\n\t} else {\n\t\tthrow new Error(`Permission not granted for: ${perms.join(', ')}`);\n\t}\n});\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport * as Permissions from './permissions';\n\nexport async function launchAuthFlow({\n\tdomain,\n\tclientId,\n\tscope = '',\n\tpermissions,\n}: {|\n\tdomain: string,\n\tclientId: string,\n\tscope?: string,\n\tpermissions: Array<string>,\n|}, warnUserInteraction: (message: string) => Promise<void>): Promise<string> {\n\tif (permissions.length && !await Permissions.has(permissions)) {\n\t\tconst resAuth = 'https://redditenhancementsuite.com/oauth';\n\t\t// Firefox can use `launchWebAuthFlow` and doesn't need to redirect to our domain\n\t\tif (process.env.BUILD_TARGET !== 'firefox' && !await Permissions.has([resAuth])) {\n\t\t\tpermissions.push(resAuth);\n\t\t}\n\n\t\tawait warnUserInteraction(permissions.includes(resAuth) ? 'You may be redirected to redditenhancementsuite.com to complete the login process.' : '');\n\n\t\tawait Permissions.request(permissions);\n\t}\n\n\tlet responseUrl;\n\ttry {\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: false });\n\t} catch (e) {\n\t\tconsole.error('Noninteractive auth failed:', e);\n\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: true });\n\t}\n\n\tconst hash = new URL(responseUrl).hash.slice(1);\n\tconst token = new URLSearchParams(hash).get('access_token');\n\n\tif (!token) throw new Error('No token found in response.');\n\n\treturn token;\n}\n","/* @flow */\n\nimport { addListener, sendMessage } from './messaging';\n\nconst callbacks = new Map();\n\naddListener('multicast', ({ name, args }) => {\n\tconst callback = callbacks.get(name);\n\t// Not every foreground pages subscribes to every multicast\n\tif (callback) return callback(...args);\n});\n\n/*\n * Creates a wrapper function that will invoke `callback` in all other tabs.\n */\nexport function multicast<T:(...args: any) => any>(callback: T, { name, local = true, crossContext = true }: {| name: string, local?: boolean, crossContext?: boolean |}): T {\n\tif (callbacks.has(name)) {\n\t\tthrow new Error(`Multicast handler with name \"${name}\" exists.`);\n\t}\n\n\tcallbacks.set(name, callback);\n\n\tfunction localOnly(...args) {\n\t\tcallback(...args);\n\t}\n\n\tconst invoke: any = (...args) => {\n\t\tsendMessage('multicast', { name, args, crossContext });\n\n\t\tif (local) {\n\t\t\tlocalOnly(...args);\n\t\t}\n\t};\n\n\tinvoke.local = localOnly;\n\n\treturn invoke;\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function openNewTab(url: string, focus?: boolean = true) {\n\treturn openNewTabs(focus, url);\n}\n\ntype Focus = 'first' | 'last' | 'none' | boolean;\n\nexport function openNewTabs(focus: Focus, ...urls: string[]) {\n\tlet focusIndex;\n\n\tif (typeof focus !== 'string') focus = !!focus;\n\n\tswitch (focus) {\n\t\tcase 'first':\n\t\t\tfocusIndex = 0;\n\t\t\tbreak;\n\t\tcase true:\n\t\tcase 'last':\n\t\t\tfocusIndex = urls.length - 1;\n\t\t\tbreak;\n\t\tcase false:\n\t\tcase 'none':\n\t\t\tfocusIndex = -1;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid focus specified: ${focus}`);\n\t}\n\n\t// Expand relative URLs\n\turls = urls.map(url => new URL(url, location.href).href);\n\n\treturn sendMessage('openNewTabs', { urls, focusIndex });\n}\n","/* @flow */\n\nimport { frameThrottle } from '../../utils/async';\nimport { addListener, sendMessage } from './messaging';\n\nconst clickListeners = [];\n\nexport function onClick(callback: () => void) {\n\tclickListeners.push(callback);\n}\n\naddListener('pageActionClick', () => { for (const fn of clickListeners) fn(); });\n\n// Don't update before page is visible, as Firefox (buggily?) ignores pageAction updates to hidden pages\nconst update = frameThrottle(value => sendMessage('pageAction', value));\n\nexport function show(state?: boolean = false) {\n\treturn update({ operation: 'show', state });\n}\n\nexport function hide() {\n\treturn update({ operation: 'hide' });\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function get(key: string): Promise<any | void> {\n\treturn sendMessage('session', ['get', key]);\n}\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('session', ['set', key, value]);\n}\n\nexport function delete_(key: string) {\n\treturn sendMessage('session', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function has(key: string): Promise<boolean> {\n\treturn sendMessage('session', ['has', key]);\n}\n\nexport function clear() {\n\treturn sendMessage('session', ['clear']);\n}\n","/* @flow */\n\n/*\n * Roughly equivalent to `$.extend(true, target, source)`\n * Unfortunately lodash does not seem to offer any function that does this:\n * _.assign/_.extend/Object.assign are not recursive\n * _.merge and _.defaultsDeep ignore undefined values\n */\nexport function extendDeep(target: { [string]: mixed }, source: { [string]: mixed }): { [string]: mixed } {\n\tfor (const key of Object.keys(source)) {\n\t\tif (\n\t\t\ttarget[key] && source[key] &&\n\t\t\ttypeof target[key] === 'object' && typeof source[key] === 'object' &&\n\t\t\t!Array.isArray(source[key]) && !Array.isArray(target[key])\n\t\t) {\n\t\t\textendDeep(target[key], source[key]);\n\t\t} else {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { extendDeep } from '../../utils/object';\nimport { batch, keyedMutex } from '../../utils/async';\nimport { apiToPromise } from '../utils/api';\nimport { sendMessage } from './messaging';\n\nconst __set = apiToPromise((items, callback) => chrome.storage.local.set(items, callback));\nconst _set = (key, value) => __set({ [key]: value });\nconst __get = apiToPromise((keys, callback) => chrome.storage.local.get(keys, callback));\nconst _get = async (key, defaultValue = null) => (await __get({ [key]: defaultValue }))[key];\nconst _delete = apiToPromise((keys, callback) => chrome.storage.local.remove(keys, callback));\nconst _clear = apiToPromise(callback => chrome.storage.local.clear(callback));\n\nconst withLockOn = keyedMutex(<T>(key: string, fn: () => T): T => fn());\n\nexport function get(key: string): Promise<any | null> {\n\treturn withLockOn(key, () => _get(key, null));\n}\n\nexport function getAll(): Promise<{ [string]: mixed }> {\n\treturn __get(null);\n}\n\nexport function getMultiple<T: string>(keys: T[]): Promise<{ [T]: any | null }> {\n\tconst defaults = {};\n\tfor (const k of keys) {\n\t\tdefaults[k] = null;\n\t}\n\treturn __get(defaults);\n}\n\nexport function set(key: string, value: mixed): Promise<void> {\n\treturn withLockOn(key, () => _set(key, value));\n}\n\nexport function setMultiple(valueMap: { +[string]: mixed }): Promise<void> {\n\treturn __set(valueMap);\n}\n\nfunction compareAndSet(key: string, defaultValue: mixed, oldValue: mixed, newValue: mixed): Promise<boolean> {\n\t// Redirect to the background instance as it allows for a common mutex,\n\t// preventing race conditions when several tabs invokes this function around the same time\n\treturn sendMessage('storage-cas', [key, defaultValue, oldValue, newValue]);\n}\n\n/*\n * Deeply patches an object in storage, like extendDeep().\n */\nfunction patch(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = extendDeep(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Shallowly patches an object in storage, like Object.assign().\n */\nfunction patchShallow(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = Object.assign(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Deletes a property on a value in storage.\n * i.e. `deletePath('userTaggerStorageKey', 'username', 'tag')`\n * will `delete userTaggerStoredValue.username.tag`\n */\nfunction deletePaths(key: string, paths: string[][]): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst stored = await _get(key);\n\t\tif (!stored) return;\n\t\tfor (const path of paths) {\n\t\t\tpath.reduce((obj, key, i, { length }) => {\n\t\t\t\tif (!obj) return;\n\t\t\t\tif (i < length - 1) return obj[key];\n\t\t\t\tdelete obj[key];\n\t\t\t}, stored);\n\t\t}\n\t\treturn _set(key, stored);\n\t});\n}\n\nfunction delete_(key: string): Promise<void> {\n\treturn withLockOn(key, () => _delete(key));\n}\nexport { delete_ as delete };\n\nexport function deleteMultiple(keys: string[]): Promise<void> {\n\treturn _delete(keys);\n}\n\nexport function has(key: string): Promise<boolean> {\n\treturn withLockOn(key, async () => {\n\t\tconst sentinel = Math.random();\n\t\treturn (await _get(key, sentinel)) !== sentinel;\n\t});\n}\n\nexport async function keys(): Promise<string[]> {\n\treturn Object.keys(await __get(null));\n}\n\nexport function clear(): Promise<void> {\n\treturn _clear();\n}\n\nclass Wrapper<T> {\n\t_key: () => string;\n\t_default: T;\n\n\tconstructor(key: $PropertyType<this, '_key'>, def: T) {\n\t\tthis._key = key;\n\t\tthis._default = def;\n\t}\n\n\tget(): Promise<T> {\n\t\treturn get(this._key()).then(val => (val === null ? this._default : val));\n\t}\n\n\tset(value: T): Promise<void> {\n\t\treturn set(this._key(), value);\n\t}\n\n\tpatch(value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._key(), (value: any));\n\t}\n\n\tcompareAndSet(oldValue: T, newValue: T): Promise<boolean> {\n\t\treturn compareAndSet(this._key(), this._default, oldValue, newValue);\n\t}\n\n\tdeletePath(...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._key(), [path]);\n\t}\n\n\tdelete(): Promise<void> {\n\t\treturn delete_(this._key());\n\t}\n\n\thas(): Promise<boolean> {\n\t\treturn has(this._key());\n\t}\n}\n\nexport function wrap<T>(key: string | () => string /* pure */, defaultValue: T): Wrapper<T> {\n\tconst keyGenerator = typeof key === 'string' ? () => key : _.once(key);\n\t// $FlowIssue\n\treturn new Wrapper(keyGenerator, defaultValue);\n}\n\nclass PrefixWrapper<T> {\n\t_prefix: string;\n\t_keyMapper: (key: string) => string;\n\t_default: () => T;\n\t_get: *;\n\n\tconstructor(prefix: string, def: () => T, keyMapper: (key: string) => string, batching: boolean) {\n\t\tthis._prefix = prefix;\n\t\tthis._default = def;\n\t\tthis._keyMapper = keyMapper;\n\n\t\tif (batching) {\n\t\t\tthis._get = batch(async keys => {\n\t\t\t\tconst v = await this.getMultipleNullable(keys);\n\t\t\t\treturn keys.map(key => v[this._keyMapper(key)]);\n\t\t\t}, { size: Infinity, delay: 0 });\n\t\t} else {\n\t\t\tthis._get = key => get(this._keyGen(key));\n\t\t}\n\t}\n\n\t_keyGen(key: string): string {\n\t\treturn this._prefix + this._keyMapper(key);\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn this._get(key).then(val => (val === null ? this._default() : val));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn this._get(key);\n\t}\n\n\tasync getAll(): Promise<{ [string]: T }> {\n\t\tconst everything = await getAll();\n\t\treturn _.transform(everything, (acc, v, k) => {\n\t\t\tif (k.startsWith(this._prefix)) {\n\t\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t\t}\n\t\t}, {});\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn _.transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = (v === null ? this._default() : v);\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn _.transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn set(this._keyGen(key), value);\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._keyGen(key), (value: any));\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._keyGen(key), [path]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn delete_(this._keyGen(key));\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deleteMultiple(keys.map(k => this._keyGen(k)));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn has(this._keyGen(key));\n\t}\n}\n\nexport function wrapPrefix<T>(prefix: string, defaultValue: () => T, destructiveKeyMapper: (key: string) => string = x => x, batching: boolean = false): PrefixWrapper<T> {\n\treturn new PrefixWrapper(prefix, defaultValue, destructiveKeyMapper, batching);\n}\n\nclass BlobWrapper<T> {\n\t_rootKey: string;\n\t_default: () => T;\n\n\tconstructor(rootKey: string, def: () => T) {\n\t\tthis._rootKey = rootKey;\n\t\tthis._default = def;\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? this._default() : val[key]\n\t\t));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? null : val[key]\n\t\t));\n\t}\n\n\tgetAll(): Promise<{ [string]: T }> {\n\t\treturn get(this._rootKey).then(val => (val === null ? {} : val));\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn _.transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? this._default() : rawValues[key];\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn _.transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? null : rawValues[key];\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn patchShallow(this._rootKey, { [key]: value });\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._rootKey, { [key]: value });\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key, ...path]]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key]]);\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, keys.map(k => [k]));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn get(this._rootKey).then(val => (val !== null && val[key] !== undefined));\n\t}\n\n\tclear(): Promise<void> {\n\t\treturn delete_(this._rootKey);\n\t}\n}\n\nexport function wrapBlob<T>(rootKey: string, defaultValue: () => T): BlobWrapper<T> {\n\treturn new BlobWrapper(rootKey, defaultValue);\n}\n","/* @flow */\n\nexport { data as context } from './foreground/context';\nexport { addURLToHistory, isURLVisited } from './foreground/history';\nexport { ajax } from './foreground/ajax';\nexport { download } from './foreground/download';\nexport { getExtensionId, getURL, isOptionsPage, getOptionsURL } from './foreground/id';\nexport { locale, i18n, _loadI18n } from './foreground/i18n';\nexport { isPrivateBrowsing } from './foreground/privateBrowsing';\nexport { launchAuthFlow } from './foreground/auth';\nexport { multicast } from './foreground/multicast';\nexport { openNewTab, openNewTabs } from './foreground/tabs';\nexport * as PageAction from './foreground/pageAction';\nexport * as Permissions from './foreground/permissions';\nexport * as Session from './foreground/session';\nexport * as Storage from './foreground/storage';\nexport * as XhrCache from './foreground/xhrCache';\n","/* @flow */\n\nexport class LRUCache<K, V> {\n\tmap: Map<K, {\n\t\tvalue: V,\n\t\tcreateTime: number,\n\t\thitTime: number,\n\t}>;\n\n\tcapacity: number;\n\n\tconstructor(capacity: number) {\n\t\tthis.map = new Map();\n\t\tthis.capacity = capacity;\n\t}\n\n\tget(key: K, maxAge: number = Infinity): V | void {\n\t\tconst now = Date.now();\n\t\tconst entry = this.map.get(key);\n\t\tif (entry && (now - entry.createTime < maxAge)) {\n\t\t\tentry.hitTime = now;\n\t\t\treturn entry.value;\n\t\t}\n\t}\n\n\tset(key: K, value: V): this {\n\t\tconst now = Date.now();\n\t\tthis.map.set(key, { value, createTime: now, hitTime: now });\n\n\t\tif (this.map.size > this.capacity) {\n\t\t\t// Evict least-recently used (hit)\n\t\t\tArray.from(this.map.entries())\n\t\t\t\t.sort(([, a], [, b]) => b.hitTime - a.hitTime)\n\t\t\t\t.slice((this.capacity / 2) | 0)\n\t\t\t\t.forEach(([key]) => this.map.delete(key));\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tdelete(key: K): boolean {\n\t\treturn this.map.delete(key);\n\t}\n\n\tclear(): void {\n\t\tthis.map.clear();\n\t}\n}\n","/* @flow */\nimport _ from 'lodash';\nimport { fastAsync } from './async';\n\nexport type Iteratee<T, R> = (e: T, i: number, a: T[]) => R;\n\n/*\n * If `callback` returns a promise, waits for the promise to resolve before advancing to the next item.\n */\nexport async function forEachSeq<T>(iterable: Iterable<T>, callback: (x: T) => ?Promise<void>): Promise<void> {\n\tfor (const val of iterable) {\n\t\tawait callback(val); // eslint-disable-line no-await-in-loop\n\t}\n}\n\nexport async function asyncFilter<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<T[]> {\n\tconst shouldKeep = await Promise.all(array.map(predicate));\n\treturn array.filter((e, i) => shouldKeep[i]);\n}\n\nexport async function asyncReduce<T, V>(iterable: Iterable<T>, callback: (acc: V, e: T) => Promise<V>, initialValue: V): Promise<V> {\n\tlet accumulator = initialValue;\n\n\tfor (const val of iterable) {\n\t\taccumulator = await callback(accumulator, val); // eslint-disable-line no-await-in-loop\n\t}\n\n\treturn accumulator;\n}\n\nexport const asyncFind = fastAsync(function* asyncFind<T>(iterable: Iterable<T>, predicate: (x: T) => Promise<mixed> | mixed) {\n\tfor (const val of iterable) {\n\t\tif (yield predicate(val)) return val;\n\t}\n});\n\n/**\n * @template T, V\n * @param {Promise<T>[]} array\n * @param {function(V, T): V} reduce\n * @param {V} initialValue\n * @param {V} baseCase\n * @returns {Promise<T>}\n */\nfunction concurrentFold<T, V>(array: Promise<T>[], reduce: (a: V, b: T) => V, initialValue: V, baseCase: V): Promise<V> {\n\tif (!array.length) return Promise.resolve(initialValue);\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet remaining = array.length;\n\t\tlet accum = initialValue;\n\n\t\tfunction onResolve(x) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\taccum = reduce(accum, x);\n\n\t\t\tif (accum === baseCase || --remaining === 0) {\n\t\t\t\tremaining = 0;\n\t\t\t\tresolve(accum);\n\t\t\t}\n\t\t}\n\n\t\tfunction onReject(err) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\tremaining = 0;\n\t\t\treject(err);\n\t\t}\n\n\t\tarray.forEach(promise => promise.then(onResolve, onReject));\n\t});\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.some`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `true` even if some of the promises reject.\n */\nexport function asyncSome<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a || !!b, false, true);\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.every`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `false` even if some of the promises reject.\n */\nexport function asyncEvery<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a && !!b, true, false);\n}\n\n// Flow doesn't understand `Array.prototype.filter` refining types (yet https://github.com/facebook/flow/issues/34)\n// so this is necessary if you want to do `arr.filter(...).map(...)`\nexport const filterMap = _.curryRight(<T, V>(iterable: Iterable<T>, callback: (x: T) => ?[V]): V[] => {\n\tconst mapped = [];\n\tfor (const x of iterable) {\n\t\tconst result = callback(x);\n\t\tif (result) mapped.push(result[0]);\n\t}\n\treturn mapped;\n});\n","/* @flow */\n\nimport _ from 'lodash';\nimport { filterMap } from './array';\nimport { throttleQueuePositionReset } from './async';\nimport { click, getPercentageVisibleYAxis, scrollToElement, waitForFutureDescendant } from './dom';\nimport { downcast } from './flow';\nimport { currentSubreddit, regexes } from './location';\n\nconst elementMap = new WeakMap();\nconst things = new Set();\nconst SECRET_TOKEN = new class {}();\n// This query may be expensive and performed fairly often\nconst thingElementsCached = _.memoize(doc => {\n\twaitForFutureDescendant(doc, Thing.thingSelector, { added: true, removed: true }).then(() => thingElementsCached.cache.delete(doc));\n\treturn Array.from(doc.querySelectorAll(Thing.thingSelector));\n});\n\n/**\n * Wrapper class around reddit's concept of a \"Thing\".\n * Use Thing.from or Thing.checkedFrom (fallible/infallible respectively) to construct a Thing.\n * Uniqueness is guaranteed, i.e. `Thing.from(element) === Thing.from(element)`.\n */\nexport class Thing {\n\tstatic thingSelector = '.listing .thing, .linklisting .thing, .nestedlisting .thing, .search-result-link';\n\tstatic entrySelector = '.entry';\n\n\tstatic thingElements(doc: * = document.body): HTMLElement[] {\n\t\tconst eles = thingElementsCached(doc);\n\n\t\t// Check if the last element (tree?) is incomplete\n\t\t// in which case, delete it and clear the cache\n\t\tlet last = eles.slice(-1)[0];\n\t\tif (last) {\n\t\t\tdo {\n\t\t\t\tif (last.nextElementSibling) break;\n\t\t\t} while ((last = last.parentElement));\n\n\t\t\t// If there's no element in the DOM after the last thing, its DOM is likely to not be completed\n\t\t\tif (!last) eles.pop();\n\t\t}\n\n\t\treturn eles;\n\t}\n\n\tstatic things(doc: *): Thing[] {\n\t\treturn Thing.thingElements(doc).map(e => Thing.checkedFrom(e));\n\t}\n\n\tstatic visibleThingElements(doc: *): HTMLElement[] {\n\t\treturn Thing.thingElements(doc).filter(v => v.offsetParent);\n\t}\n\n\tstatic visibleThings(doc: *): Thing[] {\n\t\treturn filterMap(Thing.visibleThingElements(doc), ele => {\n\t\t\tconst thing = Thing.from(ele);\n\t\t\tif (thing) return [thing];\n\t\t});\n\t}\n\n\tstatic registeredThings = (doc: * = document.body) => Array.from(things).filter(thing => doc.contains(thing.element));\n\n\tstatic runTasksRange(a: ?Thing, b: ?Thing, marginTop: number, marginBottom: number, stopAfterCls?: string) {\n\t\tlet top, bottom;\n\t\tif (a && b) {\n\t\t\t[top, bottom] = a.getDirectionOf(b) === 'down' ? [a, b] : [b, a];\n\t\t} else if (a || b) {\n\t\t\ttop = bottom = downcast(a || b, Thing);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tconst thingElements = Thing.thingElements();\n\t\tlet tidx = thingElements.indexOf(top.element);\n\t\tlet bidx = thingElements.indexOf(bottom.element);\n\n\t\tlet thing;\n\n\t\tfor (const e of thingElements.slice(tidx, bidx + 1)) {\n\t\t\tthing = Thing.checkedFrom(e);\n\t\t\tif (thing.tasks.completed) continue;\n\t\t\tif (thing.isVisible()) thing.runTasks();\n\t\t}\n\n\t\t// Prcoss `marginTop` upwards and `marginBottom` downwards\n\t\t// If a thing is contained by a parent, the whole tree is processed\n\n\t\twhile (\n\t\t\t(thing = Thing.from(thingElements[--tidx])) &&\n\t\t\t(marginTop > 0 || thing.parent)\n\t\t) {\n\t\t\tif (thing.tasks.completed || thing.isVisible()) {\n\t\t\t\tmarginTop--;\n\t\t\t\tthing.runTasks();\n\t\t\t}\n\t\t}\n\n\t\twhile (\n\t\t\t(thing = Thing.from(thingElements[++bidx])) &&\n\t\t\t!(stopAfterCls && thing.element.classList.contains(stopAfterCls)) && // eslint-disable-line no-unmodified-loop-condition\n\t\t\t(marginBottom > 0 || thing.parent)\n\t\t) {\n\t\t\tif (thing.tasks.completed || thing.isVisible()) {\n\t\t\t\tmarginBottom--;\n\t\t\t\tthing.runTasks();\n\t\t\t}\n\t\t}\n\t}\n\n\telement: HTMLElement;\n\tentry: HTMLElement;\n\n\tparent: ?Thing;\n\tchildren = new Set();\n\n\t// Tasks are added and generally executed by watchers\n\ttasks: {| completed: boolean, visible: Array<() => any>, immediate: Array<() => any>, byId: Map<mixed, () => any> |} =\n\t\t{ completed: false, visible: [], immediate: [], byId: new Map() };\n\n\tstatic checkedFrom(element: HTMLElement | Thing): Thing {\n\t\tconst thing = Thing.from(element);\n\t\tif (!thing) {\n\t\t\tthrow new Error(`Could not construct Thing from ${String(element)}`);\n\t\t}\n\t\treturn thing;\n\t}\n\n\tstatic from(element: ?HTMLElement | Thing): ?Thing {\n\t\tif (!element) return null;\n\n\t\tif (element instanceof Thing) return element;\n\n\t\tconst thingElement = element.closest(Thing.thingSelector);\n\t\tif (!thingElement) return null;\n\n\t\tif (elementMap.has(thingElement)) return elementMap.get(thingElement);\n\n\t\tconst entry = thingElement.querySelector(Thing.entrySelector) || thingElement;\n\t\tconst thing = new Thing(SECRET_TOKEN, downcast(thingElement, HTMLElement), entry);\n\n\t\telementMap.set(thingElement, thing);\n\t\tthings.add(thing);\n\n\t\treturn thing;\n\t}\n\n\tconstructor(token: typeof SECRET_TOKEN, thing: HTMLElement, entry: HTMLElement) {\n\t\tif (token !== SECRET_TOKEN) {\n\t\t\tthrow new Error('Use Thing.from() or Thing.checkedFrom() instead of new Thing()');\n\t\t}\n\n\t\tthis.element = thing;\n\t\tthis.entry = entry;\n\n\t\tconst _p = this.element.parentElement;\n\t\tthis.parent = _p && Thing.from((_p: any).closest('.thing'));\n\t\tif (this.parent) this.parent.children.add(this);\n\t}\n\n\trunTasks() {\n\t\tif (this.tasks.completed) return;\n\t\tthis.tasks.immediate.map(fn => fn());\n\t\tthis.tasks.visible.map(fn => fn());\n\t}\n\n\tanchor() {\n\t\t// Keep the viewport anchored relative to this thing if it is in the viewport\n\t\tconst anchor = getPercentageVisibleYAxis(this.entry) && { to: this.entry.getBoundingClientRect().top };\n\t\tif (!anchor) return;\n\t\trequestAnimationFrame(() => {\n\t\t\tif (!this.entry.offsetParent) return;\n\t\t\tscrollToElement(this.entry, undefined, { scrollStyle: 'none', anchor });\n\t\t});\n\t}\n\n\tsetHideFilter(match: *) {\n\t\tthis.element.classList.toggle('res-thing-filter-hide', !!match);\n\n\t\tif (this.isComment()) {\n\t\t\tthis.refreshPartialVisibility();\n\t\t\tfor (const p of this.getParents()) p.refreshPartialVisibility();\n\t\t}\n\t}\n\n\tsetFilterReasons(elements: Array<HTMLElement>) {\n\t\tfor (const old of this.element.querySelectorAll('.res-thing-filter-remove-matching-entry')) old.remove();\n\t\tthis.element.prepend(...elements);\n\t}\n\n\t// `throttleQueuePositionReset` ensures that children will be evaluated first\n\t// Class is applied when a thing is hidden by a filter, but may have descendants that are not\n\trefreshPartialVisibility = throttleQueuePositionReset(() => {\n\t\tthis.element.classList.toggle('res-thing-partial', this.isHiddenByFilter(true) && (\n\t\t\t// Comment has unloaded comments whose state is still not known\n\t\t\t// TODO If clicking this causes the comment to disappear, notify!\n\t\t\tthis.element.matches('.morerecursion, .morechildren') ||\n\t\t\t// Comment has unfilter children\n\t\t\tArray.from(this.children).some(v => !v.isHiddenByFilter())\n\t\t));\n\t});\n\n\tgetDirectionOf(other: Thing): ?('down' | 'up') {\n\t\tif (!this.isVisible() || !other.isVisible()) return;\n\t\treturn (other.entry.compareDocumentPosition(this.entry) & Node.DOCUMENT_POSITION_FOLLOWING) ? 'up' : 'down';\n\t}\n\n\tgetThreadTop(): Thing {\n\t\tlet thing = this; // eslint-disable-line consistent-this\n\n\t\tlet current = this.element;\n\t\twhile ((current = current.parentElement)) {\n\t\t\tif (current.matches(Thing.thingSelector)) thing = downcast(current, HTMLElement);\n\t\t}\n\n\t\treturn Thing.checkedFrom(thing);\n\t}\n\n\tgetParents(): Thing[] {\n\t\tconst parents = [];\n\t\tlet level = this; // eslint-disable-line consistent-this\n\t\twhile ((level = level.parent)) parents.push(level);\n\t\treturn parents;\n\t}\n\n\tgetNext({ direction = 'down', excludeMoreChildren = false }: {| direction?: 'up' | 'down', excludeMoreChildren?: boolean |} = {}, things: HTMLElement[] = Thing.thingElements()): ?Thing {\n\t\tlet index = things.indexOf(this.element);\n\t\tlet target;\n\n\t\tdo {\n\t\t\tindex += direction === 'down' ? 1 : -1;\n\t\t\tconst _target = things[index];\n\t\t\ttarget = _target;\n\t\t\tif (!target) return null;\n\t\t\tif (excludeMoreChildren && target.matches('.morechildren')) continue;\n\t\t} while (!target.offsetParent);\n\n\t\treturn Thing.from(target);\n\t}\n\n\tgetNextSibling(options: *): ?Thing {\n\t\tif (!this.element.parentElement) return null;\n\n\t\tconst things = Array.from(this.element.parentElement.children)\n\t\t\t.filter(e => e.matches(Thing.thingSelector));\n\n\t\treturn this.getNext(options, things);\n\t}\n\n\tgetClosest(func: (...args: any) => ?Thing, ...args: mixed[]): ?Thing {\n\t\tconst target = Reflect.apply(func, this, args);\n\t\tif (target) {\n\t\t\treturn target;\n\t\t} else {\n\t\t\tif (this.parent) return this.parent.getClosest(func, ...args);\n\t\t}\n\t}\n\n\tgetClosestVisible(options: * = { excludeMoreChildren: true }): ?Thing {\n\t\tif (this.element.offsetParent) return this;\n\t\treturn this.getNext({ direction: 'down', ...options }) || this.getNext({ direction: 'up', ...options });\n\t}\n\n\tisMessage(): boolean {\n\t\treturn this.element.classList.contains('message');\n\t}\n\n\tisSubreddit(): boolean {\n\t\treturn this.element.classList.contains('subreddit');\n\t}\n\n\tisPost(): boolean {\n\t\treturn this.element.classList.contains('link') || this.element.classList.contains('search-result-link');\n\t}\n\n\tisLinkPost(): boolean {\n\t\tif (!this.isPost()) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.element.classList.contains('search-result-link')) {\n\t\t\treturn !this.element.querySelector('a').classList.contains('self');\n\t\t} else {\n\t\t\treturn !this.element.classList.contains('self');\n\t\t}\n\t}\n\n\tisSelfPost(): boolean {\n\t\tif (!this.isPost()) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.element.classList.contains('search-result-link')) {\n\t\t\treturn this.element.querySelector('a').classList.contains('self');\n\t\t} else {\n\t\t\treturn this.element.classList.contains('self');\n\t\t}\n\t}\n\n\tisComment(): boolean {\n\t\treturn this.element.classList.contains('comment') || this.element.classList.contains('was-comment');\n\t}\n\n\tisTopLevelComment(): boolean {\n\t\treturn this.isComment() && !!this.element.parentElement && this.element.parentElement.classList.contains('nestedlisting');\n\t}\n\n\tgetTitle(): string {\n\t\tconst element = this.getTitleElement();\n\t\treturn element && element.textContent || '';\n\t}\n\n\tgetTitleElement(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('a.title, a.search-title') ||\n\t\t\tthis.entry.querySelector('.title'): any);\n\t}\n\n\tgetTitleUrl(): string {\n\t\tconst element = this.getTitleElement();\n\t\tif (element) {\n\t\t\treturn element.href;\n\t\t}\n\t\treturn '';\n\t}\n\n\tgetPostLink(): HTMLAnchorElement {\n\t\treturn downcast(this.entry.querySelector('a.title, a.search-link'), HTMLAnchorElement);\n\t}\n\n\tgetPostUrl(): string {\n\t\treturn this.element.dataset.url || this.getPostLink().href;\n\t}\n\n\tgetTextBody(): HTMLElement {\n\t\treturn this.entry.querySelector('.md');\n\t}\n\n\tgetCommentsLink(): ?HTMLAnchorElement {\n\t\tconst a = this.entry.querySelector('a.comments, a.search-comments');\n\t\treturn a instanceof HTMLAnchorElement ? a : undefined;\n\t}\n\n\tgetCommentPermalink(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('a.bylink'): any);\n\t}\n\n\tgetHideElement(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('.hide-button a, .unhide-button a'): any);\n\t}\n\n\tgetButtons(): HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('.flat-list.buttons'): any);\n\t}\n\n\tgetNumberOfChildren(): number {\n\t\t// Parse the text, since all children elements may not be loaded\n\t\tconst numChildrenElem = this.element.querySelector('.numchildren');\n\t\tconst match = numChildrenElem && (/(\\d+)/).exec(numChildrenElem.textContent);\n\t\treturn match && parseInt(match[1], 10) || 0;\n\t}\n\n\tstatic _parseScore(scoreEle: HTMLElement): number {\n\t\treturn parseInt(scoreEle.title || scoreEle.textContent, 10) || 0;\n\t}\n\n\tgetScore(): ?number {\n\t\tconst element = this._getActiveScoreElement();\n\t\t// parseInt() strips off the ' points' from comments\n\t\treturn element && Thing._parseScore(element);\n\t}\n\n\t_getActiveScoreElement(): ?HTMLElement {\n\t\tif (this.isPost()) {\n\t\t\treturn this.element.querySelector([\n\t\t\t\t'.midcol.unvoted > .score.unvoted',\n\t\t\t\t'.midcol.likes > .score.likes',\n\t\t\t\t'.midcol.dislikes > .score.dislikes',\n\t\t\t\t'.search-score',\n\t\t\t].join(', '));\n\t\t} else { // if (this.isComment()) {\n\t\t\treturn this.entry.querySelector('.tagline > .score');\n\t\t}\n\t}\n\n\tgetAllScoreElements(): Array<[HTMLElement, number]> {\n\t\tconst toScoreTuple = ele => [ele, Thing._parseScore(ele)];\n\t\tif (this.isPost()) {\n\t\t\treturn Array.from(this.element.querySelectorAll('.midcol > .score, .search-score')).map(toScoreTuple);\n\t\t} else { // if (this.isComment()) {\n\t\t\treturn Array.from(this.entry.querySelectorAll('.tagline > .score')).map(toScoreTuple);\n\t\t}\n\t}\n\n\tgetAuthor(): ?string {\n\t\tconst data = this.element.getAttribute('data-author');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\t\tconst element = this.getAuthorElement();\n\t\tif (element) {\n\t\t\tconst match = regexes.profile.exec(element.pathname);\n\t\t\tif (match) {\n\t\t\t\treturn match[1];\n\t\t\t}\n\t\t}\n\t}\n\n\tgetAuthorUrl(): string {\n\t\tconst author = this.getAuthor();\n\t\tif (author) {\n\t\t\treturn `/user/${author}/`;\n\t\t}\n\t\treturn '';\n\t}\n\n\tgetAuthorElement(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('.tagline a.author, .search-author .author'): any);\n\t}\n\n\tgetSubreddit(): ?string {\n\t\tconst data = this.element.getAttribute('data-subreddit');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\t\tconst element = this.getSubredditLink();\n\t\tif (element) {\n\t\t\tconst match = regexes.subreddit.exec(element.pathname);\n\t\t\tif (match) {\n\t\t\t\treturn match[1];\n\t\t\t}\n\t\t} else {\n\t\t\treturn currentSubreddit();\n\t\t}\n\t}\n\n\tgetSubredditLink(): ?HTMLAnchorElement {\n\t\tif (this.isPost()) {\n\t\t\treturn (this.entry.querySelector('.tagline a.subreddit, a.search-subreddit-link'): any);\n\t\t} else if (this.isComment()) {\n\t\t\t// TODO: does .parent a.subreddit work?\n\t\t\treturn (this.entry.querySelector('.parent a.subreddit, .tagline .subreddit a'): any);\n\t\t}\n\t}\n\n\tgetPostDomain(): string {\n\t\tconst data = this.element.getAttribute('data-domain');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\n\t\tconst element = this.getPostDomainLink();\n\t\tif (element) {\n\t\t\treturn element.textContent;\n\t\t}\n\n\t\tconst text = this.getPostDomainText();\n\t\tif (text) {\n\t\t\treturn text;\n\t\t}\n\n\t\tconst subreddit = this.getSubreddit();\n\t\tif (subreddit) {\n\t\t\treturn `self.${subreddit}`;\n\t\t}\n\n\t\treturn 'reddit.com';\n\t}\n\n\tgetPostDomainUrl(): string {\n\t\tconst link = this.getPostDomainLink();\n\t\tif (link) {\n\t\t\treturn link.href;\n\t\t}\n\t\treturn `/domain/${this.getPostDomain()}/`;\n\t}\n\n\tgetPostDomainLink(): ?HTMLAnchorElement {\n\t\treturn (this.element.querySelector('.domain a'): any);\n\t}\n\n\tgetPostDomainText(): string {\n\t\tconst data = this.element.getAttribute('data-domain');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\n\t\tconst element = this.element.querySelector('.domain');\n\t\tif (!element) return '';\n\t\tconst text = element.textContent || '';\n\t\treturn text.replace(/[\\(\\)\\s]/g, '');\n\t}\n\n\tgetCommentCount(): ?number {\n\t\tconst element = this.getCommentCountElement();\n\t\tif (!element) return;\n\t\treturn parseInt((/\\d+/).exec(\n\t\t\telement.textContent ||\n\t\t\telement.getAttribute('data-text'), // In case noCtrlF is applied\n\t\t), 10) || 0;\n\t}\n\n\tgetCommentCountElement(): ?HTMLElement {\n\t\tif (this.isPost()) {\n\t\t\treturn this.element.querySelector('.buttons .comments');\n\t\t} else if (this.isComment()) {\n\t\t\treturn this.element.querySelector('.buttons a.full-comments');\n\t\t}\n\t}\n\n\tgetPostThumbnailUrl(): string {\n\t\tconst thumbnail = this.getPostThumbnailElement();\n\t\tif (!thumbnail) return '';\n\t\treturn thumbnail.src || '';\n\t}\n\n\tgetPostThumbnailElement(): ?HTMLImageElement {\n\t\treturn (this.element.querySelector('.thumbnail img'): any);\n\t}\n\n\tgetPostFlairText(): string {\n\t\tconst element = this.getPostFlairElement();\n\t\treturn element && element.textContent || '';\n\t}\n\n\tgetPostFlairElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.title > .linkflairlabel');\n\t}\n\n\tgetUserFlairText(): string {\n\t\tconst element = this.getUserFlairElement();\n\t\treturn element && element.textContent || '';\n\t}\n\n\tgetUserFlairElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.tagline > .flair');\n\t}\n\n\tgetCrosspostBadgeElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.crosspost-badge');\n\t}\n\n\tgetUpvoteButton(): ?HTMLElement {\n\t\treturn this._getVoteButton('div.up, div.upmod');\n\t}\n\n\tgetDownvoteButton(): ?HTMLElement {\n\t\treturn this._getVoteButton('div.down, div.downmod');\n\t}\n\n\t_getVoteButton(selector: string): ?HTMLElement {\n\t\tconst previousSibling: HTMLElement = (this.entry.previousSibling: any);\n\t\tif (previousSibling.tagName === 'A') {\n\t\t\treturn (previousSibling.previousSibling: any).querySelector(selector);\n\t\t} else {\n\t\t\treturn previousSibling.querySelector(selector);\n\t\t}\n\t}\n\n\tgetTimestamp(): ?Date {\n\t\tconst element = this.getTimestampElement();\n\t\treturn element && new Date(element.getAttribute('datetime'));\n\t}\n\n\tgetTimestampElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('time');\n\t}\n\n\tgetPostEditTimestamp(): number {\n\t\tconst element = this.getPostEditTimestampElement();\n\t\treturn element && (Date.parse(element.getAttribute('datetime')) / 1000) || 0;\n\t}\n\n\tgetPostEditTimestampElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('time.edited-timestamp');\n\t}\n\n\tgetFullname(): string {\n\t\treturn this.element.getAttribute('data-fullname') || '';\n\t}\n\n\tgetUserattrsElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.userattrs');\n\t}\n\n\tgetRank(): ?number {\n\t\tconst rank = parseInt(this.element.getAttribute('data-rank'), 10);\n\t\tif (!isNaN(rank)) return rank;\n\t}\n\n\tgetRankElement(): ?HTMLElement {\n\t\tif (!this.isPost()) return;\n\t\treturn this.element.querySelector('.rank');\n\t}\n\n\tgetTaglineElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.tagline');\n\t}\n\n\tgetCommentCollapseToggleElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.expand');\n\t}\n\n\tsetCommentCollapse(state: boolean, reason: string, openOnlyWhenSameReason: boolean = false): ?HTMLElement {\n\t\tconst toggle = this.getCommentCollapseToggleElement();\n\t\tif (!toggle) return;\n\t\tif (state) toggle.setAttribute('collapse-reason', reason);\n\t\tif (this.isCollapsed() === state) return;\n\t\tif (!state && openOnlyWhenSameReason && toggle.getAttribute('collapse-reason') !== reason) return;\n\t\tif (!state) toggle.removeAttribute('collapse-reason');\n\t\tclick(toggle); // Simulate a click, so that the event bubbles\n\t}\n\n\tgetPostTime(): string {\n\t\tconst element = this.getPostTimeElement();\n\t\tif (element) {\n\t\t\treturn element.textContent;\n\t\t}\n\t\treturn '';\n\t}\n\n\tgetPostTimeElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.tagline time');\n\t}\n\n\tisNSFW(): boolean {\n\t\treturn this.element.classList.contains('over18') || !!this.entry.querySelector('.nsfw-stamp');\n\t}\n\n\tisSpoiler(): boolean {\n\t\tif (this.element.classList.contains('search-result')) {\n\t\t\treturn !!this.entry.querySelector('.spoiler-stamp');\n\t\t}\n\t\treturn this.element.classList.contains('spoiler');\n\t}\n\n\tisCrosspost(): boolean {\n\t\treturn !!this.getCrosspostBadgeElement();\n\t}\n\n\tisLocked(): boolean {\n\t\tif (this.element.classList.contains('search-result')) {\n\t\t\treturn this.element.classList.contains('linkflair-locked');\n\t\t}\n\t\treturn this.element.classList.contains('locked');\n\t}\n\n\tisDeleted(): boolean {\n\t\treturn this.element.classList.contains('deleted');\n\t}\n\n\tisHiddenByFilter(partialAsFiltered: boolean = false): boolean {\n\t\t// Keep in sync with the CSS rules\n\t\tif (this.element.matches('body.hideOver18 .over18:not(.allowOver18)')) return true;\n\t\tif (!this.element.classList.contains('res-thing-filter-hide')) return false;\n\t\tif (this.element.classList.contains('res-filterline-highlight-match')) return false;\n\t\tif (partialAsFiltered) {\n\t\t\tif (this.element.classList.contains('res-thing-partial') && this.element.classList.contains('res-selected')) return false;\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif (this.element.classList.contains('res-thing-hide-children')) return true;\n\t\t\treturn !this.element.classList.contains('res-thing-partial');\n\t\t}\n\t}\n\n\tisCollapsed(): boolean {\n\t\treturn this.element.classList.contains('collapsed');\n\t}\n\n\t// Should be equivalent to `this.element.offsetParent !== null`\n\tisVisible(): boolean {\n\t\t// Promoted (ads) are often hidden by adblockers, so just assume that they're not visible\n\t\tif (this.element.classList.contains('promoted')) return false;\n\n\t\tif (!document.body.classList.contains('res-filters-disabled') && this.isHiddenByFilter()) return false;\n\t\tconst { parent } = this;\n\t\tif (parent) {\n\t\t\tif (parent.isCollapsed()) return false;\n\t\t\tif (parent.element.classList.contains('res-children-hidden')) return false; // `hideChildComments` module\n\t\t\tif (!parent.isVisible()) return false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tisContentVisible(): boolean {\n\t\treturn !(\n\t\t\tthis.element.classList.contains('res-thing-has-placeholder') ||\n\t\t\t(!document.body.classList.contains('res-filters-disabled') && this.isHiddenByFilter(true)) ||\n\t\t\tthis.isCollapsed() ||\n\t\t\t!this.isVisible()\n\t\t);\n\t}\n\n\tisSelected() {\n\t\treturn this.element.classList.contains('res-selected');\n\t}\n\n\tisUpvoted() {\n\t\treturn this.entry.classList.contains('likes');\n\t}\n\n\tisDownvoted() {\n\t\treturn this.entry.classList.contains('dislikes');\n\t}\n\n\tisUnvoted() {\n\t\treturn this.entry.classList.contains('unvoted');\n\t}\n}\n\nif (process.env.NODE_ENV === 'development') {\n\t// for debugging only! do not use `getThingIsVisibleInconsistencies` in any committed code\n\twindow.getThingIsVisibleInconsistencies = () => Array.from(things).filter(v => v.isVisible() === !v.element.offsetParent);\n}\n","/* @flow */\n\nimport { ajax } from '../environment';\nimport type { RedditLink, RedditListing } from '../types/reddit'; // eslint-disable-line no-unused-vars\nimport { batch } from './async';\n\nexport const getPostMetadata = batch(async (requests: { id: string }[]): Promise<$PropertyType<RedditLink, 'data'>[]> => {\n\tconst byId = requests\n\t\t.map(r => r.id)\n\t\t.map(id => `t3_${id}`)\n\t\t.join(',');\n\n\tconst { data: { children } } = (await ajax({\n\t\turl: `/by_id/${byId}.json`,\n\t\tquery: { limit: 100, raw_json: 1 },\n\t\ttype: 'json',\n\t}): RedditListing<RedditLink>);\n\n\treturn children.map(c => c.data);\n}, { size: 100 });\n","/* @flow */\n\nimport tinycolor from 'tinycolor2';\n\nexport function colorToArray(colorString: string): [number, number, number] {\n\tconst { r, g, b } = tinycolor(colorString).toRgb();\n\treturn [r, g, b];\n}\n\nexport function colorFromArray([r, g, b]: number[]): string {\n\treturn tinycolor({ r, g, b }).toHexString();\n}\n","/* @flow */\n\nimport {\n\tCreateElement,\n\tBodyClasses,\n\tisCurrentSubreddit,\n\tstring,\n} from './';\n\nconst initialTabID = location.hash.replace('#', '') || 'dashboardContents';\nlet selectedTabMenuItem;\n\nexport function addDashboardTab(tabID: string, tabName: string, moduleId?: string, callback: HTMLElement => any) {\n\tif (!isCurrentSubreddit('dashboard')) return;\n\n\tBodyClasses.add('res-dashboard');\n\n\tlet tabPage;\n\n\tconst tabMenuItem = CreateElement.tabMenuItem({\n\t\ttext: tabName,\n\t\tclassName: 'res-dashboard-tab',\n\t\torder: -1,\n\t\tonChange: active => {\n\t\t\tconst container = document.querySelector('#siteTable.linklisting');\n\t\t\tif (!container) return;\n\n\t\t\tif (active) {\n\t\t\t\tif (selectedTabMenuItem) selectedTabMenuItem.click();\n\t\t\t\tselectedTabMenuItem = tabMenuItem;\n\t\t\t\ttabPage = string.html`<div class=\"dashboardPane\"></div>`;\n\t\t\t\tcontainer.append(tabPage);\n\t\t\t\tcallback(tabPage);\n\t\t\t\tlocation.hash = tabID;\n\t\t\t} else {\n\t\t\t\ttabPage.remove();\n\t\t\t}\n\t\t},\n\t});\n\n\tif (moduleId) {\n\t\t// Add a link to the relevant settings\n\t\ttabMenuItem.after(string.html`<a class=\"gearIcon\" href=\"#res:settings/${moduleId}\"></a>`);\n\t}\n\n\tif (tabID === initialTabID) tabMenuItem.click();\n}\n","/* @flow */\n\nimport { waitFor } from './async';\nimport { waitForChild, waitForEvent, waitForDescendant } from './dom';\nimport { isPageType } from './location';\n\nexport const bodyStart: Promise<*> = waitForChild(document.documentElement, 'body')\n\t// `document.body === null` at this point has been reported for users of Firefox and Chrome,\n\t// so wait till the reference has been updated before progressing\n\t.then(() => waitFor(() => document.body, 10));\n\nexport const sitetableStarted: Promise<*> = bodyStart\n\t.then(() => Promise.race([\n\t\twaitForDescendant(document.body, isPageType('comments') ? '.sitetable.nestedlisting' : '#siteTable'),\n\t\tcontentLoaded,\n\t]));\n\nexport const contentLoaded: Promise<*> = bodyStart\n\t.then(() => Promise.race([\n\t\twaitForEvent(window, 'DOMContentLoaded', 'load'),\n\t\twaitFor(() => document.readyState === 'interactive' || document.readyState === 'complete', 500),\n\t]));\n\nexport const loadComplete: Promise<*> = bodyStart\n\t.then(() => Promise.race([\n\t\twaitForEvent(window, 'load'),\n\t\twaitFor(() => document.readyState === 'complete', 500),\n\t]));\n\n","/* @flow */\n\nimport _ from 'lodash';\nimport { getD2xBodyOffset, getHeaderOffset } from './dom';\nimport * as PagePhases from './pagePhases';\nimport { frameThrottle } from './async';\nimport { isAppType } from './location';\nimport { html } from './string';\n\nclass Container {\n\tstatic isAvailable() { return true; }\n\tstatic fallback: ?$Keys<typeof containers>;\n\tstatic phase: Promise<any> = PagePhases.loadComplete;\n\tstatic useList: boolean = true;\n\n\telement: HTMLElement = document.createElement('div');\n\tlist: HTMLElement = html`<ul class=\"res-floater-list\"></ul>`;\n\n\tconstructor() {\n\t\tif (this.constructor.useList) this.element.append(this.list);\n\t\tthis.constructor.phase.then(() => this.go());\n\t}\n\n\tgo() {}\n\n\tadd(element: HTMLElement, { separate, order }: {| separate: boolean, order: number |}) {\n\t\tif (separate || !this.constructor.useList) {\n\t\t\telement.style.order = String(order);\n\t\t\tthis.element.append(element);\n\t\t} else {\n\t\t\tif (element instanceof HTMLLIElement) {\n\t\t\t\tthis.list.append(element);\n\t\t\t} else {\n\t\t\t\tconst li = html`<li style=\"order: ${order}\"></li>`;\n\t\t\t\tli.append(element);\n\t\t\t\tthis.list.append(li);\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst containers = {\n\tinNavbar: class extends Container {\n\t\tstatic isAvailable() { return isAppType('d2x') && !!document.querySelector('.header-user-dropdown'); }\n\t\tstatic fallback = 'userMenu';\n\t\tstatic phase = PagePhases.sitetableStarted;\n\n\t\tgo() {\n\t\t\tthis.element.classList.add('res-floater-inNavbar');\n\t\t\tdocument.body.append(this.element);\n\t\t\tthis.updateHeaderWidth();\n\t\t}\n\n\t\tadd(element: *, opts: *) {\n\t\t\tsuper.add(element, opts);\n\t\t\tthis.updateHeaderWidth();\n\t\t}\n\n\t\tupdateHeaderWidth = frameThrottle(() => {\n\t\t\tconst { width } = this.element.getBoundingClientRect();\n\t\t\tconst headerButton = document.querySelector('.header-user-dropdown');\n\t\t\theaderButton.style.marginRight = `${width}px`;\n\t\t});\n\t},\n\n\tuserMenu: class extends Container {\n\t\tstatic isAvailable() { return isAppType('r2'); }\n\t\tstatic phase = PagePhases.sitetableStarted;\n\t\tstatic useList = false;\n\n\t\tgo() {\n\t\t\tconst element = document.body.querySelector('#header-bottom-right ul');\n\t\t\t// Items may have been added already\n\t\t\telement.append(...this.element.children);\n\t\t\tthis.element = element;\n\t\t}\n\n\t\tadd(element) {\n\t\t\tthis.element.append(html`<span class=\"separator\">|</span>`, element);\n\t\t}\n\t},\n\n\tbelowFixedNavbar: class extends Container {\n\t\tstatic isAvailable() { return isAppType('d2x'); }\n\n\t\tgo() {\n\t\t\tthis.element.classList.add('res-floater-belowNavbar');\n\t\t\tthis.element.style.top = `${5 + getD2xBodyOffset()}px`;\n\t\t\tdocument.body.append(this.element);\n\t\t}\n\t},\n\n\tvisibleAfterScroll: class extends Container {\n\t\tstatic isAvailable() { return !isAppType('d2x'); }\n\t\tstatic fallback = 'belowFixedNavbar';\n\n\t\tgo() {\n\t\t\tthis.element.classList.add('res-floater-visibleAfterScroll');\n\t\t\tdocument.body.append(this.element);\n\t\t\tthis.element.style.top = `${8 + getHeaderOffset(true)}px`;\n\n\t\t\tif (!document.querySelector('#RESPinnedHeaderSpacer')) { // No need to hide the floater if whole header is pinned\n\t\t\t\tthis.element.hidden = true;\n\t\t\t\t// $FlowIssue https://github.com/facebook/flow/pull/4664\n\t\t\t\tnew IntersectionObserver(entries => {\n\t\t\t\t\tthis.element.hidden = entries[0].isIntersecting;\n\t\t\t\t}).observe(document.querySelector('#header'));\n\t\t\t}\n\t\t}\n\t},\n\n\ttabMenu: class extends Container {\n\t\tstatic isAvailable() { return isAppType('r2'); }\n\t\tstatic fallback = 'belowFixedNavbar';\n\t\tstatic phase = PagePhases.sitetableStarted;\n\t\tstatic useList = false;\n\n\t\tgo() {\n\t\t\tlet menu = document.querySelector('#header-bottom-left ul.tabmenu');\n\t\t\tif (menu) {\n\t\t\t\t/* no-op */\n\t\t\t} else if (document.querySelector('#header-bottom-left')) {\n\t\t\t\tmenu = html`<ul class=\"tabmenu\" />`;\n\t\t\t\tdocument.querySelector('#header-bottom-left').append(menu);\n\t\t\t} else {\n\t\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t\tconsole.warn('Could not find tab menu');\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Items may have been added already\n\t\t\tmenu.append(...this.element.children);\n\t\t\tthis.element = menu;\n\t\t}\n\t},\n\n\tinert: Container,\n};\n\nconst getContainer: * => Container = _.memoize((name: $Keys<typeof containers>) => {\n\tlet container;\n\tif (containers[name].isAvailable()) {\n\t\tcontainer = new containers[name]();\n\t} else if (containers[name].fallback) {\n\t\tcontainer = getContainer(containers[name].fallback);\n\t\t// If a stack trace overflow gets thrown from here, check\n\t\t// container[name].fallback for circular dependencies.\n\t}\n\n\tif (container) {\n\t\treturn container;\n\t} else {\n\t\tconst InertContainer = containers.inert;\n\t\treturn new InertContainer();\n\t}\n});\n\nexport function addFloater(\n\telement: HTMLElement,\n\t{\n\t\tcontainer: containerName = ['inNavbar', 'belowFixedNavbar', 'visibleAfterScroll'].find(name => containers[name].isAvailable()) || 'inert',\n\t\tseparate = false,\n\t\torder = 0,\n\t}: {|\n\t\tcontainer?: $Keys<typeof containers>,\n\t\tseparate?: boolean,\n\t\torder?: number,\n\t|} = {},\n) {\n\tgetContainer(containerName).add(element, { separate, order });\n}\n","/* @flow */\n\nimport { range } from './generator';\n\nconst chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\nexport function randomHash(len: number = 5): string {\n\tconst arr = new Array(len);\n\tfor (const i of range(0, len)) {\n\t\tarr[i] = chars.charAt(Math.random() * chars.length | 0);\n\t}\n\treturn arr.join('');\n}\n\nexport function hashCode(str: string): number {\n\tlet hash = 0;\n\tfor (const char of str) {\n\t\thash = (((hash << 5) - hash) + char.charCodeAt(0)) | 0;\n\t}\n\treturn hash;\n}\n","/* @flow */\n\nimport { ajax } from '../environment';\nimport type { Thing } from './Thing';\nimport { batch } from './async';\nimport { filterMap } from './array';\nimport { isLoggedIn } from './user';\n\nconst hideEndpoint = '/api/hide';\nconst unhideEndpoint = '/api/unhide';\nexport const [HIDE, UNHIDE] = ['hide', 'unhide'];\n\nexport const send = async (state: 'hide' | 'unhide', things: Thing[]) => {\n\tif (!isLoggedIn()) throw new Error('Not logged in');\n\n\tconst values = filterMap(things, thing => {\n\t\tconst id = thing.getFullname();\n\t\tconst element = thing.getHideElement();\n\t\treturn id && element && element.dataset.eventAction === state ? [{ id, element }] : undefined;\n\t});\n\n\tif (!values.length) return;\n\n\tconst updateElements = (action, text) => {\n\t\tfor (const { element } of values) {\n\t\t\tif (action) element.dataset.eventAction = action;\n\t\t\tif (element.classList.contains('noCtrlF')) element.dataset.text = text;\n\t\t\telse element.textContent = text;\n\t\t}\n\t};\n\n\tupdateElements(state === HIDE ? UNHIDE : HIDE, state === HIDE ? 'hiding...' : 'unhiding...');\n\n\ttry {\n\t\tawait ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: state === HIDE ? hideEndpoint : unhideEndpoint,\n\t\t\tdata: { id: values.map(({ id }) => id).join(',') },\n\t\t\ttype: 'json',\n\t\t});\n\t\tupdateElements(undefined, state === HIDE ? UNHIDE : HIDE);\n\t} catch (e) {\n\t\tupdateElements(state, state);\n\t\tthrow e;\n\t}\n};\n\nexport const hide = batch(things => send(HIDE, things), { size: 50 });\nexport const unhide = batch(things => send(UNHIDE, things), { size: 50 });\n","/* @flow */\n\nimport _ from 'lodash';\nimport { range } from './generator';\n\nexport const NAMED_KEYS = {\n\tBackspace: 'Backspace',\n\tTab: 'Tab',\n\tEnter: 'Enter',\n\tEscape: 'Escape',\n\tSpace: ' ',\n\tPageUp: 'PageUp',\n\tPageDown: 'PageDown',\n\tEnd: 'End',\n\tHome: 'Home',\n\tLeft: 'ArrowLeft',\n\tUp: 'ArrowUp',\n\tRight: 'ArrowRight',\n\tDown: 'ArrowDown',\n\tShift: 'Shift',\n\tControl: 'Control',\n\tAlt: 'Alt',\n};\n\nexport type KeyArray = [number, boolean, boolean, boolean, boolean];\n\n/* eslint-disable quote-props */\n// https://github.com/facebook/flow/issues/380\nconst keyCodes = {\n\t'-1': 'none',\n\t'8': 'backspace',\n\t'9': 'tab',\n\t'13': 'enter',\n\t'16': 'shift',\n\t'17': 'ctrl',\n\t'18': 'alt',\n\t'19': 'pause/break',\n\t'20': 'caps lock',\n\t'27': 'escape',\n\t'33': 'page up',\n\t'34': 'page down',\n\t'35': 'end',\n\t'36': 'home',\n\t'37': 'left arrow',\n\t'38': 'up arrow',\n\t'39': 'right arrow',\n\t'40': 'down arrow',\n\t'45': 'insert',\n\t'46': 'delete',\n\t'91': 'left window',\n\t'92': 'right window',\n\t'93': 'select key',\n\t'96': 'numpad 0',\n\t'97': 'numpad 1',\n\t'98': 'numpad 2',\n\t'99': 'numpad 3',\n\t'100': 'numpad 4',\n\t'101': 'numpad 5',\n\t'102': 'numpad 6',\n\t'103': 'numpad 7',\n\t'104': 'numpad 8',\n\t'105': 'numpad 9',\n\t'106': 'multiply',\n\t'107': 'add',\n\t'109': 'subtract',\n\t'110': 'decimal point',\n\t'111': 'divide',\n\t'112': 'F1',\n\t'113': 'F2',\n\t'114': 'F3',\n\t'115': 'F4',\n\t'116': 'F5',\n\t'117': 'F6',\n\t'118': 'F7',\n\t'119': 'F8',\n\t'120': 'F9',\n\t'121': 'F10',\n\t'122': 'F11',\n\t'123': 'F12',\n\t'144': 'num lock',\n\t'145': 'scroll lock',\n\t'186': ';',\n\t'187': '=',\n\t'188': ',',\n\t'189': '-',\n\t'190': '.',\n\t'191': '/',\n\t'192': '`',\n\t'219': '[',\n\t'220': '\\\\',\n\t'221': ']',\n\t'222': '\\'',\n};\n/* eslint-enable quote-props */\n\nexport function niceKeyCode(keyArray: number | string | KeyArray): string {\n\tif (!keyArray && isNaN(keyArray)) {\n\t\treturn '';\n\t}\n\n\tif (typeof keyArray === 'number') {\n\t\tkeyArray = [keyArray, false, false, false, false];\n\t} else if (typeof keyArray === 'string') {\n\t\tconst split = keyArray.split(',');\n\t\tconst code = parseInt(split[0], 10);\n\t\t// AMO API bug: validation crashes when `modifiers` is inlined\n\t\tconst modifiers = [...split.slice(1).map(s => s === 'true'), false, false, false, false];\n\t\tconst [alt, ctrl, shift, meta] = modifiers;\n\t\tkeyArray = [code, alt, ctrl, shift, meta];\n\t}\n\n\tconst [keyCode, ...modifiers] = keyArray;\n\n\tconst keyCombo = _.zipWith(modifiers, ['alt-', 'ctrl-', 'shift-', 'command-'], (predicate, name) => predicate && name)\n\t\t.filter(x => x)\n\t\t.join('');\n\n\tconst keyName = keyCodes[keyCode] || String.fromCharCode(keyCode);\n\n\treturn `${keyCombo}${keyName}`;\n}\n\nexport function checkKeysForEvent(event: KeyboardEvent, keyArray: number | KeyArray): boolean {\n\t// [keycode, alt, ctrl, shift, meta]\n\t// if we've passed in a number, fix that and make it an array with alt, shift and ctrl set to false.\n\tif (typeof keyArray === 'number') {\n\t\tkeyArray = [keyArray, false, false, false, false];\n\t} else if (keyArray.length === 4) {\n\t\t// old option values may have length 4\n\t\t(keyArray: any).push(false);\n\t}\n\n\tconst eventHash = hashKeyEvent(event);\n\tconst arrayHash = hashKeyArray(keyArray);\n\treturn eventHash === arrayHash;\n}\n\nexport function hashKeyEvent(event: KeyboardEvent): number {\n\tconst keyArray = [event.keyCode, event.altKey, event.ctrlKey, event.shiftKey, event.metaKey];\n\n\t// this hack is because Firefox differs from other browsers with keycodes for - and =\n\tif (process.env.BUILD_TARGET === 'firefox') {\n\t\tif (keyArray[0] === 173) {\n\t\t\tkeyArray[0] = 189;\n\t\t}\n\t\tif (keyArray[0] === 61) {\n\t\t\tkeyArray[0] = 187;\n\t\t}\n\t}\n\n\treturn hashKeyArray(keyArray);\n}\n\nexport function hashKeyArray(keyArray: KeyArray): number {\n\tconst length = 5;\n\tlet hash = keyArray[0] * 2 ** length;\n\tfor (const i of range(1, length)) {\n\t\tif (keyArray[i]) {\n\t\t\thash += 2 ** i;\n\t\t}\n\t}\n\treturn hash;\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { locale } from '../environment';\n\n// Avoid initializing dayjs before it's necessary\nconst Dayjs = _.once(() => {\n\tconst dayjs = require('dayjs'); // eslint-disable-line global-require\n\tconst localeCode = locale.toLowerCase();\n\tif (localeCode.startsWith('de')) dayjs.locale(require('dayjs/locale/de')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('el')) dayjs.locale(require('dayjs/locale/el')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('es')) dayjs.locale(require('dayjs/locale/es')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('he')) dayjs.locale(require('dayjs/locale/he')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('it')) dayjs.locale(require('dayjs/locale/it')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('nl')) dayjs.locale(require('dayjs/locale/nl')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('pl')) dayjs.locale(require('dayjs/locale/pl')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('pt-br')) dayjs.locale(require('dayjs/locale/pt-br')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('pt')) dayjs.locale(require('dayjs/locale/pt')); // eslint-disable-line global-require\n\tdayjs.extend(require('dayjs/plugin/relativeTime')); // eslint-disable-line global-require\n\tdayjs.extend(require('dayjs/plugin/localizedFormat')); // eslint-disable-line global-require\n\treturn dayjs;\n});\n\nexport const dayjs = (...args: any) => new Dayjs()(...args);\n\nexport function formatNumber(number: number): string {\n\treturn number.toLocaleString(locale);\n}\n\nexport function formatDate(date?: Date /* = now */): string {\n\treturn dayjs(date).format('L');\n}\n\nexport function formatDateTime(date?: Date /* = now */): string {\n\treturn dayjs(date).format('L LTS');\n}\n\nexport function formatDateDiff(from: Date, to?: Date /* = now */): string {\n\treturn dayjs(to).from(from, true);\n}\n\nexport function formatRelativeTime(from: Date): string {\n\treturn dayjs(from).fromNow();\n}\n","/* @flow */\n\nexport function numericalCompare(op: *, a: number, b: number) {\n\tswitch (op) {\n\t\tcase '==':\treturn a == b; // eslint-disable-line eqeqeq\n\t\tcase '!=':\treturn a != b; // eslint-disable-line eqeqeq\n\t\tcase '>':\treturn a > b;\n\t\tcase '<':\treturn a < b;\n\t\tcase '>=':\treturn a >= b;\n\t\tcase '<=':\treturn a <= b;\n\t\tdefault: throw new Error(`Unhandled operator ${op}`);\n\t}\n}\n\nexport function inverseOperator(op: *) {\n\tswitch (op) {\n\t\tcase '==':\treturn '!=';\n\t\tcase '!=':\treturn '==';\n\t\tcase '>':\treturn '<=';\n\t\tcase '<':\treturn '>=';\n\t\tcase '>=':\treturn '<';\n\t\tcase '<=':\treturn '>';\n\t\tdefault: throw new Error(`Unhandled operator ${op}`);\n\t}\n}\n\nexport function prettyOperator(op: *) {\n\tswitch (op) {\n\t\tcase '==':\treturn '=';\n\t\tcase '!=':\treturn '';\n\t\tcase '>':\treturn '>';\n\t\tcase '<':\treturn '<';\n\t\tcase '>=':\treturn '';\n\t\tcase '<=':\treturn '';\n\t\tdefault: throw new Error(`Unhandled operator ${op}`);\n\t}\n}\n/**\n * Linearly interpolates a value within the interval [low, high].\n * @param {number} low  A number in (-Infinity, high)\n * @param {number} high A number in (low, Infinity)\n * @param {number} frac A number in [0, 1]\n * @returns {number} `value`\n */\nexport function interpolate(low: number, high: number, frac: number): number {\n\treturn (1 - frac) * low + frac * high;\n}\n\n/**\n * Given `low`, `high`, and `value`, returns `frac` such that `interpolate(low, high, frac) === value`.\n * @param {number} low   A number in [-Infinity, high)\n * @param {number} high  A number in (low, Infinity]\n * @param {number} value A number in [low, high]\n * @returns {number} `frac`\n */\nexport function deinterpolate(low: number, high: number, value: number): number {\n\tif (low === -Infinity && high === Infinity) {\n\t\treturn 0.5;\n\t} else if (low === -Infinity) {\n\t\treturn 1;\n\t} else if (high === Infinity) {\n\t\treturn 0;\n\t}\n\treturn (value - low) / (high - low);\n}\n\n/**\n * Projects `value` from the interval [fromLow, fromHigh] into the interval [toLow, toHigh]\n * such that `deinterpolate(fromLow, fromHigh, value) === deinterpolate(toLow, toHigh, <return value>)`.\n * That is, `<return value>` and `value` are in the same position in their respective intervals.\n * `fromLow`, `fromHigh`, `toLow`, and `toHigh` must satisfy the bounds on `deinterpolate` and `interpolate`, respectively.\n * @param {number} fromLow\n * @param {number} fromHigh\n * @param {number} toLow\n * @param {number} toHigh\n * @param {number} value A number in [fromLow, fromHigh]\n * @returns {number}\n */\nexport function projectInto(fromLow: number, fromHigh: number, toLow: number, toHigh: number, value: number): number {\n\treturn interpolate(toLow, toHigh, deinterpolate(fromLow, fromHigh, value));\n}\n\n/*\n * @param {number} a   Dividend\n * @param {number} n   Divisor\n * @returns {number}   Positive reminder\n */\nexport function positiveModulo(a: number, n: number): number {\n\treturn ((a % n) + n) % n;\n}\n","/* @flow */\n\nimport _ from 'lodash';\n// importing core types is okay\nimport type { TableOption } from '../core/module'; // eslint-disable-line\n\nexport function indexOptionTable<T: $ReadOnlyArray<any>, Ctx>(option: TableOption<Ctx, T>, keyIndex: number, keyTransformer: string => string = v => v): { [string]: T[] } {\n\tconst source = option.fields[keyIndex].type === 'list' ?\n\t\tArray.from(expandKeys(option.value)) :\n\t\toption.value;\n\n\treturn _.groupBy(source, arr => keyTransformer(arr[keyIndex]));\n\n\t// allows indexing by multiple keys, e.g. transforms\n\t// [['foo,bar', 'baz']] to\n\t// [['foo', 'baz'], ['bar', 'baz']]\n\tfunction* expandKeys(nestedArray) {\n\t\tfor (const arr of nestedArray) {\n\t\t\tfor (const subKey of arr[keyIndex].split(',')) {\n\t\t\t\tyield [...arr.slice(0, keyIndex), subKey, ...arr.slice(keyIndex + 1)];\n\t\t\t}\n\t\t}\n\t}\n}\n","/* @flow */\n\nlet counter = 0;\nexport function markStart(): string {\n\tconst tag = (++counter).toString();\n\tperformance.mark(tag);\n\treturn tag;\n}\n\nexport function markEnd(tag: string, name: string) {\n\tperformance.measure(name, tag);\n}\n","/* @flow */\n\nimport { Storage } from '../environment';\nimport { DAY, WEEK } from './time';\n\nexport async function maybePruneOldEntries(id: string, entryStorage: *, keepTrackDays: number = 30) {\n\tif (!await shouldPrune(id)) return;\n\n\tconst keepTrackPeriod = DAY * keepTrackDays;\n\tconst now = Date.now();\n\tfor (const [id, data] of Object.entries(await entryStorage.getAll())) {\n\t\tconst { updateTime } = data || {}; // data may not be `undefined` due to some older bug\n\t\tif (!updateTime || (now - updateTime) > keepTrackPeriod) {\n\t\t\tentryStorage.delete(id);\n\t\t}\n\t}\n}\n\nexport async function shouldPrune(id: string, interval: number = WEEK) {\n\tawait new Promise(res => setTimeout(() => requestIdleCallback(res), 10000));\n\tconst lastStorage = Storage.wrap(`last_prune.${id}`, 0);\n\tconst now = Date.now();\n\tif ((now - await lastStorage.get()) < interval) return false;\n\tlastStorage.set(now);\n\treturn true;\n}\n","/* @flow */\n\nexport const fakeSubreddits = [\n\t'mod',\n\t'friends',\n\t'random',\n\t'myrandom',\n\t'all',\n\t'contrib',\n\t'popular',\n];\n\nexport function isFakeSubreddit(subreddit: string): boolean {\n\treturn fakeSubreddits.some(fakeSubreddit => fakeSubreddit === subreddit.toLowerCase());\n}\n","/* @flow */\n\nexport function firstValid(...vals: mixed[]): mixed {\n\treturn vals.find(val =>\n\t\tval !== undefined && val !== null && (typeof val !== 'number' || !isNaN(val)),\n\t);\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Thing } from './Thing';\nimport { filterMap } from './array';\nimport { isPageType } from './location';\nimport { watchForChildren, watchForFutureChildren, watchForFutureDescendants, waitForAttach } from './dom';\n\ntype WatcherOptions = {| immediate?: boolean, id?: mixed |};\n\ntype ElementWatcherType = 'page' | 'selfText';\ntype ElementWatcherCallback = (e: HTMLElement) => any;\n\nconst elementWatchers: {\n\t[ElementWatcherType]: Array<{\n\t\tselector: ?string,\n\t\tcallback: ElementWatcherCallback,\n\t\toptions?: WatcherOptions,\n\t\tregistered: WeakSet<*>,\n\t}>,\n} = {\n\tpage: [],\n\tselfText: [],\n};\n\ntype ThingWatcherType = 'comment' | 'message' | 'post' | 'subreddit';\ntype ThingWatcherCallback = (thing: Thing) => any;\n\nconst thingWatchers: {\n\t[ThingWatcherType]: Array<{\n\t\tcallback: ThingWatcherCallback,\n\t\toptions?: WatcherOptions,\n\t\tregistered: WeakSet<*>,\n\t}>,\n} = {\n\tcomment: [],\n\tmessage: [],\n\tpost: [],\n\tsubreddit: [],\n};\n\n// eslint-disable-next-line no-unused-vars\nconst runCallback = fn => { try { return fn(); } catch (e) { console.error(e); } };\n\nconst addCallback = (callback, actingOnElement, { immediate, id } = {}) => {\n\tconst thing = Thing.from(actingOnElement);\n\tif (thing) {\n\t\t// XXX The callback ought not be wrapped so many times\n\t\tconst task = _.once(() => runCallback(callback));\n\t\tif (id) thing.tasks.byId.set(id, task);\n\t\t(immediate ? thing.tasks.immediate : thing.tasks.visible).push(task);\n\t\tif (immediate || thing.tasks.completed) task();\n\t} else {\n\t\trunCallback(callback);\n\t}\n};\n\nfunction registerElement(type, element) {\n\tfor (const { selector, callback, options, registered } of elementWatchers[type]) {\n\t\tconst elements = selector && !element.matches(selector) ?\n\t\t\tArray.from(element.querySelectorAll(selector)) :\n\t\t\t[element];\n\t\tfor (const e of elements) {\n\t\t\tif (registered.has(e)) continue;\n\t\t\tregistered.add(e);\n\t\t\taddCallback(() => callback(e), e, options);\n\t\t}\n\t}\n}\n\nfunction registerThing(element: HTMLElement) {\n\tconst thing = Thing.checkedFrom(element);\n\n\tconst thingWatcherCallbacks =\n\t\tthing.isPost() && thingWatchers.post ||\n\t\tthing.isComment() && thingWatchers.comment ||\n\t\tthing.isMessage() && thingWatchers.message ||\n\t\tthing.isSubreddit() && thingWatchers.subreddit ||\n\t\t[];\n\n\tfor (const { callback, options, registered } of thingWatcherCallbacks) {\n\t\tif (registered.has(thing)) continue;\n\t\tregistered.add(thing);\n\t\taddCallback(() => callback(thing), thing.element, options);\n\t}\n\n\treturn thing;\n}\n\nexport function watchForThings(types: ?Array<ThingWatcherType>, callback: ThingWatcherCallback, options?: WatcherOptions) {\n\tif (!types) types = Object.keys(thingWatchers);\n\tconst entry = { callback, options, registered: new WeakSet() };\n\tfor (const type of types) thingWatchers[type].push(entry);\n}\n\nexport function watchForElements(types: Array<ElementWatcherType>, selector: ?string, callback: ElementWatcherCallback, options?: WatcherOptions) {\n\tconst entry = { selector, callback, options, registered: new WeakSet() };\n\tfor (const type of types) elementWatchers[type].push(entry);\n}\n\n// Run tasks on a few things manually, since the IntersectionObserver requires at least one paint before invoking callback\n// By running tasks on what is likely to be displayed on first paint, we avoid an extra reflow\nconst _runLikelyVisibleTasks = () => {\n\tlet max: number = Math.ceil(screen.availHeight / 55 /* approx min height of a thing */);\n\tconst queue = [];\n\tlet i = 0;\n\treturn async thing => {\n\t\tconst n = i++;\n\t\t// Whether a thing will be visible, is usually ascertained when the filter task has been completed\n\t\tconst filterTask = thing.tasks.byId.get('filter');\n\t\tawait (filterTask && filterTask());\n\t\tconst check = queue[n] = () => {\n\t\t\tdelete queue[n];\n\t\t\tif (thing.tasks.completed || thing.isVisible()) {\n\t\t\t\tthing.runTasks();\n\t\t\t} else if (n < max) {\n\t\t\t\tmax++;\n\t\t\t\tconst nextCheck = queue.find(Boolean);\n\t\t\t\tif (nextCheck) nextCheck();\n\t\t\t}\n\t\t};\n\t\tif (n < max) check();\n\t};\n};\n\nexport function registerPage(page: HTMLElement, runLikelyVisibleTasks: function = _runLikelyVisibleTasks()) {\n\tconst things = filterMap([\n\t\tpage.matches(Thing.thingSelector) && page,\n\t\t...page.querySelectorAll(Thing.thingSelector),\n\t], e => e instanceof HTMLElement ? [registerThing(e)] : undefined);\n\n\tregisterElement('page', page);\n\n\tthings.forEach(runLikelyVisibleTasks);\n}\n\nconst HIDE_FOLLOWING_CLASS = 'res-hide-following';\n\nexport function r2WatcherSitetableStart() {\n\t// Add selftext observer\n\twatchForThings(['post'], thing => {\n\t\tconst container = thing.entry.querySelector('div.expando');\n\t\tif (!container) return;\n\t\twatchForChildren(container, 'form', () => {\n\t\t\tconst body = thing.getTextBody();\n\t\t\tif (body) registerElement('selfText', body);\n\t\t});\n\t});\n\n\tconst thingElements = Thing.thingElements(document.body);\n\n\tconst runLikelyVisibleVisibleTasks = _runLikelyVisibleTasks();\n\tfor (const e of thingElements) registerPage(e, runLikelyVisibleVisibleTasks);\n\n\tlet last = thingElements.slice(-1)[0];\n\t// Hide the following elements until 'contentLoaded', to prevent them being painted without the 'immediate' watchers having been invoked on them\n\tif (last) {\n\t\tdo { last.classList.add(HIDE_FOLLOWING_CLASS); } while ((last = last.parentElement) && last !== document.body);\n\t}\n}\n\nexport function r2WatcherContentLoaded() {\n\tfor (const ele of document.querySelectorAll(`.${HIDE_FOLLOWING_CLASS}`)) ele.classList.remove(HIDE_FOLLOWING_CLASS);\n\n\t// Execute non-immediate callbacks on things when they become visible\n\tconst io = new IntersectionObserver(entries => {\n\t\tconst intersecting = filterMap(entries, ({ target, isIntersecting }) => isIntersecting && [Thing.from(target)]);\n\t\tif (!intersecting.length) return;\n\n\t\tconst thingElements = Thing.thingElements();\n\t\tconst things = _.sortBy(intersecting, thing => thingElements.indexOf(thing.element));\n\n\t\t// Always run tasks on the intersecting things, in case `Thing#isVisible` or `runTaskRange` breaks\n\t\tfor (const thing of things) thing.runTasks();\n\n\t\t// Also complete a few of the surrounding things in order to reduce the number of mutation instances\n\t\tThing.runTasksRange(things.slice(-1)[0], things[0], 10, 10, HIDE_FOLLOWING_CLASS);\n\t}, { rootMargin: '50%' });\n\n\twatchForThings(null, async thing => {\n\t\t// Starting observing before the Thing is attached (e.g. when invoked via neverEndingReddit), may cause the IO to \"lose\" the element\n\t\tawait waitForAttach(document.body, thing.element);\n\t\tio.observe(thing.element);\n\t\taddCallback(() => {\n\t\t\tio.unobserve(thing.element);\n\t\t\tthing.tasks.completed = true;\n\t\t}, thing.element);\n\t}, { immediate: true });\n\n\t// Things may be edited/loaded using the Reddit interface\n\tif (isPageType('comments')) {\n\t\tconst commentarea = document.body.querySelector('.commentarea');\n\t\tif (commentarea) watchForFutureDescendants(commentarea, '.thing', registerPage, true);\n\t} else {\n\t\tconst watchList = _.memoize(ele => { if (ele) watchForFutureChildren(ele, '.thing', registerPage); });\n\t\twatchForThings(null, thing => { watchList(thing.element.parentElement); });\n\t}\n\n\tregisterPage(document.body);\n}\n","/* @flow */\n\nexport const JSAPI_CONSUMER_NAME = 'reddit-enhancement-suite';\n","// @flow\nimport { JSAPI_CONSUMER_NAME } from '../constants/jsapi';\nimport type {\n\tCommentEventData, // eslint-disable-line no-unused-vars\n\tCommentAuthorEventData, // eslint-disable-line no-unused-vars\n\tPostAuthorEventData, // eslint-disable-line no-unused-vars\n\tPostEventData, // eslint-disable-line no-unused-vars\n\tSubredditEventData, // eslint-disable-line no-unused-vars\n\tUserHovercardEventData, // eslint-disable-line no-unused-vars\n\tPostModToolsEventData, // eslint-disable-line no-unused-vars\n} from '../types/events';\n\nconst callbacks = {\n\tsubreddit: [],\n\tpostAuthor: [],\n\tpost: [],\n};\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function watchForRedditEvents(type: 'comment', callback: (HTMLElement, CommentEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'subreddit', callback: (HTMLElement, SubredditEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'postAuthor', callback: (HTMLElement, PostAuthorEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'post', callback: (HTMLElement, PostEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'userHovercard', callback: (HTMLElement, UserHovercardEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'commentAuthor', callback: (HTMLElement, CommentAuthorEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'postModTools', callback: (HTMLElement, PostModToolsEventData) => void | Promise<void>): void;\n\nexport function watchForRedditEvents(type: $Keys<typeof callbacks>, callback) {\n\tif (!callbacks[type]) {\n\t\tcallbacks[type] = [];\n\t}\n\tcallbacks[type].push(callback);\n}\n/* eslint-enable no-redeclare */\n\nfunction handleRedditEvent(event) {\n\tconst { target, detail: { type, data } } = event;\n\tconst fns = callbacks[type];\n\tif (!fns) {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tconsole.warn('Unhandled reddit event type:', type);\n\t\t}\n\t\treturn;\n\t}\n\n\tlet expandoId = `${type}|`;\n\tswitch (type) {\n\t\tcase 'postAuthor':\n\t\t\texpandoId += data.post.id;\n\t\t\tbreak;\n\t\tcase 'commentAuthor':\n\t\t\texpandoId += data.comment.id;\n\t\t\tbreak;\n\t\tcase 'userHovercard':\n\t\t\texpandoId += `${data.contextId}|${data.user.id}`;\n\t\t\tbreak;\n\t\tcase 'subreddit':\n\t\tcase 'post':\n\t\tcase 'postModTools':\n\t\tdefault:\n\t\t\texpandoId += data.id;\n\t\t\tbreak;\n\t}\n\n\tconst update = target.expando && target.expando._.id === expandoId ?\n\t\t(target.expando._.update || 0) + 1 :\n\t\t0;\n\n\tconst expando = {\n\t\t...data,\n\t\t_: {\n\t\t\tid: expandoId,\n\t\t\ttype,\n\t\t\tupdate,\n\t\t},\n\t};\n\n\ttarget.expando = expando;\n\n\tconst ownedTarget = target.querySelector(`[data-name=\"${JSAPI_CONSUMER_NAME}\"]`);\n\tfor (const fn of fns) {\n\t\ttry {\n\t\t\tfn(ownedTarget, expando);\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t}\n}\n\nexport function initD2xWatcher() {\n\tdocument.addEventListener('reddit', (handleRedditEvent: any), true);\n\tconst meta = document.createElement('meta');\n\tmeta.name = 'jsapi.consumer';\n\tmeta.content = JSAPI_CONSUMER_NAME;\n\tdocument.head.appendChild(meta);\n\tmeta.dispatchEvent(new CustomEvent('reddit.ready'));\n}\n","/* @flow */\n\nimport _ from 'lodash';\n\nconst classes = new Set();\n\nexport const addMissing = () => {\n\tdocument.body.classList.add(..._.difference(Array.from(classes), Array.from(document.body.classList)));\n};\n\nexport function add(...change: string[]) {\n\tfor (const cls of change) classes.add(cls);\n\tif (document.documentElement) document.documentElement.classList.add(...change);\n\tif (document.body) document.body.classList.add(...change);\n}\n\nexport function remove(...change: string[]) {\n\tfor (const cls of change) classes.delete(cls);\n\tif (document.documentElement) document.documentElement.classList.remove(...change);\n\tif (document.body) document.body.classList.remove(...change);\n}\n\nexport function toggle(state: boolean, ...change: string[]) {\n\tif (state) add(...change);\n\telse remove(...change);\n}\n","/* @flow */\n\ntype PropBrowserData = {\n\tidentity: string,\n\tversionSearch?: string,\n\tprop: string,\n\tstring?: void,\n};\n\ntype StringBrowserData = {\n\tidentity: string,\n\tversionSearch?: string,\n\tprop?: void,\n\tstring: string,\n\tsubString: string,\n};\n\ntype BrowserData = StringBrowserData | PropBrowserData;\n\nlet versionSearchString;\nconst searchString = (datas: BrowserData[]): string | void => {\n\tconst data = datas.find(data => {\n\t\tversionSearchString = data.versionSearch || data.identity;\n\t\treturn data.string ? data.string.includes(data.subString) : data.prop;\n\t});\n\n\treturn data ? data.identity : undefined;\n};\n\nconst searchVersion = dataString => {\n\tconst index = dataString.indexOf(versionSearchString);\n\tif (index === -1) {\n\t\treturn;\n\t}\n\treturn parseFloat(dataString.substring(index + versionSearchString.length + 1));\n};\n\nconst hasNavigator = typeof navigator !== 'undefined';\n\nexport const browser = hasNavigator ?\n\tsearchString(dataBrowser()) || 'An unknown browser' :\n\t'An unknown browser without `navigator`';\n\nexport const version = hasNavigator ?\n\tsearchVersion(navigator.userAgent) || searchVersion(navigator.appVersion) || 'an unknown version' :\n\t'an unknown version without `navigator`';\n\nexport const OS = hasNavigator ?\n\tsearchString(dataOS()) || 'an unknown OS' :\n\t'an unknown OS without `navigator`';\n\nfunction dataBrowser() {\n\treturn [\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'OPR/',\n\t\t\tidentity: 'Opera',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Edge',\n\t\t\tidentity: 'Edge Spartan',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Edg',\n\t\t\tversionSearch: 'Edg',\n\t\t\tidentity: 'Edge',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Chrome',\n\t\t\tidentity: 'Chrome',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'OmniWeb',\n\t\t\tversionSearch: 'OmniWeb/',\n\t\t\tidentity: 'OmniWeb',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'Apple',\n\t\t\tidentity: 'Safari',\n\t\t\tversionSearch: 'Version',\n\t\t}, {\n\t\t\tprop: window.opera,\n\t\t\tidentity: 'Opera',\n\t\t\tversionSearch: 'Version',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'iCab',\n\t\t\tidentity: 'iCab',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'KDE',\n\t\t\tidentity: 'Konqueror',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Firefox',\n\t\t\tidentity: 'Firefox',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'Camino',\n\t\t\tidentity: 'Camino',\n\t\t}, { // for newer Netscapes (6+)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Netscape',\n\t\t\tidentity: 'Netscape',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'MSIE',\n\t\t\tidentity: 'Explorer',\n\t\t\tversionSearch: 'MSIE',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Gecko',\n\t\t\tidentity: 'Mozilla',\n\t\t\tversionSearch: 'rv',\n\t\t}, {\n\t\t\t// for older Netscapes (4-)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Mozilla',\n\t\t\tidentity: 'Netscape',\n\t\t\tversionSearch: 'Mozilla',\n\t\t},\n\t];\n}\n\nfunction dataOS() {\n\treturn [\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: 'Win',\n\t\t\tidentity: 'Windows',\n\t\t}, {\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: 'Mac',\n\t\t\tidentity: 'Mac',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'iPhone',\n\t\t\tidentity: 'iPhone/iPod',\n\t\t}, {\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: 'Linux',\n\t\t\tidentity: 'Linux',\n\t\t},\n\t];\n}\n","/* @flow */\n\nimport { i18n } from '../environment';\nimport type { Iteratee } from './array';\nimport { downcast } from './flow';\nimport { addFloater } from './floater';\nimport * as string from './string';\n\nexport function toggleButton(\n\tonClick?: (enabling: boolean) => void = () => {},\n\tfieldID?: ?string,\n\tenabled?: boolean = false,\n\tonText?: string = i18n('toggleOn'),\n\toffText?: string = i18n('toggleOff'),\n\tisTable?: boolean = false,\n\tusesBatch?: boolean = false,\n) {\n\tconst toggle = string.html`\n\t\t<div ${fieldID && string._html`id=\"${fieldID}Container\"`} class=\"toggleButton ${enabled && 'enabled'}\">\n\t\t\t<span class=\"toggleThumb\"></span>\n\t\t\t<div class=\"toggleLabel ${usesBatch && 'res-icon'}\"\n\t\t\t\t${onText && string._html`data-enabled-text=\"${onText}\"`}\n\t\t\t\t${offText && string._html`data-disabled-text=\"${offText}\"`}\n\t\t\t></div>\n\t\t\t<input id=\"${fieldID}\" name=\"${fieldID}\" type=\"checkbox\" ${enabled && 'checked'}\n\t\t\t\t${isTable && string._html`tableOption=\"true\"`}\n\t\t\t/>\n\t\t</div>\n\t`;\n\n\ttoggle.addEventListener('click', () => {\n\t\tconst checkbox = downcast(toggle.querySelector('input[type=checkbox]'), HTMLInputElement);\n\t\tconst enabling = !checkbox.checked;\n\t\tcheckbox.checked = enabling;\n\t\ttoggle.classList.toggle('enabled', enabling);\n\t\tonClick(enabling);\n\t});\n\n\treturn toggle;\n}\n\nexport function icon(charCode: number, tagName?: string = 'span', className?: string = '', title?: string = '') {\n\tconst icon = document.createElement(tagName);\n\ticon.className = className;\n\ticon.classList.add('res-icon');\n\ticon.textContent = String.fromCharCode(charCode);\n\ticon.setAttribute('title', title);\n\treturn icon;\n}\n\nexport function table<T>(items: T | T[], callback: Iteratee<T, string | string[] | false>): string {\n\t// Sanitize single item into items array\n\titems = [].concat(items);\n\n\tconst description = [];\n\tdescription.push('<table>');\n\n\tfor (const item of items.map(callback)) {\n\t\tif (typeof item === 'string') {\n\t\t\tdescription.push(item);\n\t\t} else if (item) {\n\t\t\tdescription.push(...item);\n\t\t}\n\t}\n\n\tdescription.push('</table>');\n\n\treturn description.join('\\n');\n}\n\nexport function tabMenuItem({ text, aftercontent, className, title, checked, onChange, order }: {|\n\ttext: string,\n\taftercontent?: string,\n\tclassName?: string,\n\ttitle?: string,\n\tchecked?: boolean,\n\tonChange: boolean => any,\n\torder?: number,\n|}): HTMLElement {\n\tconst element = string.html`\n\t\t<li class=\"res-tabmenu-button ${checked && 'selected'} ${className}\">\n\t\t\t<a\n\t\t\t\t${title && string._html`title=\"${title}\"`}\n\t\t\t\t${aftercontent && string._html`aftercontent=\"${aftercontent}\"`}\n\t\t\t>${text}</a>\n\t\t</li>\n\t`;\n\n\taddFloater(element, { container: 'tabMenu', order });\n\n\tconst a = element.querySelector('a');\n\ta.addEventListener('click', () => {\n\t\tchecked = !checked;\n\t\telement.classList.toggle('selected', checked);\n\t\tonChange(checked);\n\t});\n\n\treturn a;\n}\n\nexport function fancyToggleButton(text: string, title: string, getState: () => boolean, callback: boolean => any) {\n\tconst element = document.createElement('span');\n\telement.className = 'res-fancy-toggle-button';\n\telement.title = title;\n\n\tlet state;\n\n\tconst refresh = _state => {\n\t\tif (state === _state) return;\n\t\tstate = _state;\n\t\tif (state) {\n\t\t\telement.textContent = `-${text}`;\n\t\t\telement.classList.add('remove');\n\t\t} else {\n\t\t\telement.textContent = `+${text}`;\n\t\t\telement.classList.remove('remove');\n\t\t}\n\t};\n\n\telement.addEventListener('click', () => {\n\t\tcallback(!state);\n\t\trefresh(!state);\n\t});\n\n\telement.addEventListener('refresh', () => { refresh(getState()); });\n\n\trefresh(getState());\n\n\treturn element;\n}\n","/* @flow */\n\nimport { mutex } from './async';\nimport { NAMED_KEYS } from './keycode';\nimport * as string from './string';\n\nexport const open = mutex((content: HTMLElement | string, { cancelable = false }: {| cancelable?: boolean |} = {}): Promise<void> => new Promise((resolve, reject) => {\n\tconst overlay = string.html`<div id=\"alert_message_background\"></div>`;\n\tconst container = string.html`<div id=\"alert_message\"></div>`;\n\tcontainer.append(content instanceof HTMLElement ? content : string.html`<div>${string.safe(content)}</div>`);\n\tdocument.body.append(overlay, container);\n\n\tfunction confirm() {\n\t\tresolve();\n\t\tclose();\n\t}\n\n\tfunction cancel() {\n\t\treject(new Error('User cancelled alert.'));\n\t\tclose();\n\t}\n\n\tfunction close() {\n\t\tdocument.body.removeEventListener('keyup', listenForEscape);\n\t\tcontainer.remove();\n\t\toverlay.remove();\n\t}\n\n\tfunction listenForEscape(e: KeyboardEvent) {\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\tif (cancelable) cancel();\n\t\t\telse confirm();\n\t\t}\n\t}\n\n\tdocument.body.addEventListener('keyup', listenForEscape);\n\n\tif (cancelable) {\n\t\tcontainer.append(\n\t\t\tmakeButton('confirm', 'button-right', confirm),\n\t\t\tmakeButton('cancel', 'button-right', cancel, true),\n\t\t);\n\t} else {\n\t\tcontainer.append(makeButton('ok', undefined, confirm, true));\n\t}\n}));\n\nexport function makeButton(text: string, cls?: string, onClick?: () => void, focus?: boolean) {\n\tconst btn = document.createElement('input');\n\tbtn.setAttribute('type', 'button');\n\tbtn.setAttribute('value', text);\n\tif (onClick) btn.addEventListener('click', onClick);\n\tif (cls) btn.classList.add(cls);\n\tif (focus) requestAnimationFrame(() => { btn.focus(); });\n\treturn btn;\n}\n","/* @flow */\n\nexport const LAST_SELECTED_ENTRY_KEY = 'RES.lastSelectedEntry';\n","/* @flow */\n\nimport _ from 'lodash';\nimport { LAST_SELECTED_ENTRY_KEY } from '../constants/sessionStorage';\nimport type { ScrollStyle } from './dom';\nimport {\n\tThing,\n\tgetPercentageVisibleYAxis,\n\tscrollToElement,\n\twatchForThings,\n\tframeThrottle,\n\tframeDebounce,\n\tidleThrottle,\n} from './';\n\nexport let current: ?Thing;\nlet currentContainer: ?Element;\nlet previous;\n\ntype SelectOptions = {\n\tallowMediaBrowse?: boolean,\n\tscrollStyle: ScrollStyle,\n};\n\ntype SelectOptionsWithDirection = SelectOptions & { direction?: 'down' | 'up' };\n\nconst listeners = { instantly: [], beforePaint: [], idle: [] };\n\nexport function addListener(\n\tcallback: (new_: Thing, old: ?Thing, opt: SelectOptionsWithDirection) => mixed,\n\twhen: $Keys<typeof listeners> = 'idle',\n\tpriority: number = 0,\n): void {\n\tcallback.priority = priority;\n\tlisteners[when].push(callback);\n\tlisteners[when].sort((a, b) => a.priority - b.priority);\n}\n\nconst runCallbacks = (() => {\n\tfunction runListeners(listeners, new_, old, opt) {\n\t\tfor (const listener of listeners) try { listener(new_, old, opt); } catch (e) { console.error(e); }\n\t}\n\n\tfunction throttle(throttler, listeners) {\n\t\tlet oldest: ?Thing; // So that `oldest` will equal `new_` from the previous listener invokation\n\n\t\tconst throttled = throttler((new_: Thing, old: ?Thing, opt: SelectOptionsWithDirection) => {\n\t\t\trunListeners(listeners, new_, oldest, opt);\n\t\t\toldest = null;\n\t\t});\n\n\t\treturn (new_, old, opt) => {\n\t\t\tif (!oldest) oldest = old;\n\t\t\tthrottled(new_, old, opt);\n\t\t};\n\t}\n\n\tconst runBeforePaint = throttle(frameThrottle, listeners.beforePaint);\n\tconst runIdle = throttle(idleThrottle, listeners.idle);\n\n\treturn (new_, old, opt) => {\n\t\tif (listeners.instantly.length) runListeners(listeners.instantly, new_, old, opt);\n\t\tif (listeners.beforePaint.length) runBeforePaint(new_, old, opt);\n\t\tif (listeners.idle.length) runIdle(new_, old, opt);\n\t};\n})();\n\nexport function set(_new: Thing, options: SelectOptions = { scrollStyle: 'none' }, force: boolean = false) {\n\tif (!force && _new === current) return;\n\n\tprevious = current;\n\tcurrent = _new;\n\tcurrentContainer = current.element.closest('.sitetable');\n\n\tconst direction = previous && previous.getDirectionOf(current);\n\trunCallbacks(current, previous, { ...options, ...(direction ? { direction } : undefined) });\n}\n\nexport const selectClosestInView = frameDebounce(() => {\n\tif (current && getPercentageVisibleYAxis(current.entry)) return;\n\n\tconst closestToCurrent = current && current.getClosestVisible();\n\tif (closestToCurrent && getPercentageVisibleYAxis(closestToCurrent.entry)) {\n\t\tset(closestToCurrent);\n\t\treturn;\n\t}\n\n\tconst things = Thing.visibleThings();\n\tconst currentIndex = things.indexOf(current);\n\tconst closestThings = _.sortBy(things.filter(thing => thing.isVisible()), thing => Math.abs(things.indexOf(thing) - currentIndex));\n\tconst closestVisible = _.maxBy(closestThings, ({ entry }) => getPercentageVisibleYAxis(entry));\n\tif (closestVisible) set(closestVisible);\n});\n\nexport function refresh() {\n\tif (!current || current.isVisible()) return;\n\tselectClosestInView();\n}\n\nconst movers = {\n\tclosestVisible: (thing: Thing) => thing.getClosestVisible(),\n\tup: (thing: Thing) => thing.getNext({ direction: 'up' }),\n\tdown: (thing: Thing) => thing.getNext({ direction: 'down' }),\n\ttop: (/*:: thing: Thing */) => Thing.visibleThings()[0],\n\tbottom: (/*:: thing: Thing */) => Thing.visibleThings().slice(-1)[0],\n\tupSibling: (thing: Thing) => thing.getNextSibling({ direction: 'up' }) || thing.parent,\n\tdownSibling: (thing: Thing) => thing.getClosest(thing.getNextSibling, { direction: 'down' }),\n\tdownParentSibling: (thing: Thing) => (thing.parent || thing).getClosest(thing.getNextSibling, { direction: 'down' }),\n\tupThread: (thing: Thing) => thing.getThreadTop().getNextSibling({ direction: 'up' }) || thing.getThreadTop(),\n\tdownThread: (thing: Thing) => thing.getThreadTop().getNextSibling({ direction: 'down' }),\n\ttoTopComment: (thing: Thing) => thing.getThreadTop(),\n\ttoParent: (thing: Thing) => thing.parent,\n\tprevious: (/*:: thing: Thing */) => previous,\n};\n\nexport function move(direction: $Keys<typeof movers>, options?: SelectOptionsWithDirection, fallback?: () => ?*) {\n\tif (!current || !current.element.offsetParent) {\n\t\tselectClosestInView();\n\t\treturn;\n\t}\n\n\tconst targetFn = movers[direction];\n\n\tif (!current && targetFn.length) {\n\t\tif (!fallback || !fallback()) throw new Error('Function only works when an entry is current');\n\t}\n\n\tconst target = targetFn((current: any));\n\n\tif (!target) {\n\t\tif (fallback && fallback()) return;\n\n\t\tif (current) return set(current, { scrollStyle: 'middle' });\n\t\tthrow new Error('Could not find a target');\n\t} else if (current === target) {\n\t\tif (current) return set(current, { scrollStyle: 'middle' });\n\t\tthrow new Error('Target already current');\n\t}\n\n\tset(target, options);\n}\n\nlet anchor;\n// Partially visible comments may change height change depending on whether they are current,\n// so it is necessary to anchor them to avoid having viewport move relative to the current thing\n// XXX Can the native browser scroll anchoring achieve this?\naddListener((current, previous, { scrollStyle }) => {\n\tif (\n\t\tprevious && current !== previous &&\n    (['none', 'adopt']: Array<ScrollStyle>).includes(scrollStyle) &&\n    (current.element.classList.contains('res-thing-partial') || previous.element.classList.contains('res-thing-partial'))\n\t) {\n\t\tanchor = {\n\t\t\tto: current.entry.getBoundingClientRect().top,\n\t\t\tfrom: previous.entry.getBoundingClientRect().top,\n\t\t};\n\t} else {\n\t\tanchor = undefined;\n\t}\n}, 'instantly', -Infinity);\n\naddListener((current, previous, { direction, scrollStyle }) => {\n\tscrollToElement(current.entry, previous && previous.entry, { scrollStyle, direction, anchor, waitTillVisible: true });\n}, 'beforePaint', 9);\n\n// Complete tasks on Things when e.g. using keyboardNav or commentNav, so that RES watcher tasks are run before painting\naddListener((current, previous, { scrollStyle, direction }) => {\n\tif (scrollStyle === 'none') return;\n\t// If direction is down, also run tasks between the `previous` and `current` to avoid scroll anchoring issues\n\tThing.runTasksRange(current, direction === 'down' ? previous : undefined, 10, 10);\n}, 'instantly');\n\n// When loading additonal comments, select the first newly loaded comment\nwatchForThings(['comment'], _.throttle(thing => {\n\tif (!current) return;\n\tif (current && document.contains(current.element)) return;\n\tif (currentContainer && currentContainer !== thing.element.closest('.sitetable')) return;\n\tset(thing);\n}, 100, { leading: true, trailing: false }), { immediate: true });\n\nconst lastSelectedKey = `${LAST_SELECTED_ENTRY_KEY}-${location.pathname}`;\nconst getLastSelectedId = () => sessionStorage[lastSelectedKey];\nlet scrollToSelectedThingOnLoad: boolean = false;\nexport const setScrollToSelectedThingOnLoad = (v: boolean) => { scrollToSelectedThingOnLoad = v; };\n\n// Auto select the previous selected thing this session, or the first thing\nconst lastSelectedId = getLastSelectedId();\nwatchForThings(null, thing => {\n\tif (current) return;\n\tif (!lastSelectedId) return set(thing);\n\tif (thing.getFullname() !== lastSelectedId) return;\n\tif (scrollToSelectedThingOnLoad) history.scrollRestoration = 'manual';\n\tset(thing, { scrollStyle: history.scrollRestoration === 'manual' ? 'legacy' : 'none' });\n}, { immediate: true });\n\naddListener(current => {\n\tconst id = current.getFullname();\n\tif (!id) return;\n\tsessionStorage[lastSelectedKey] = id;\n}, 'beforePaint');\n\naddListener((current, previous) => {\n\tif (previous) {\n\t\tprevious.entry.classList.remove('res-selected');\n\t\tprevious.element.classList.remove('res-selected');\n\t}\n\tif (current) {\n\t\tcurrent.entry.classList.add('res-selected');\n\t\tcurrent.element.classList.add('res-selected');\n\t}\n}, 'instantly');\n","/* @flow */\n\nimport _ from 'lodash';\nimport { downcast, empty, frameThrottle, positiveModulo, string } from '../utils';\n\nconst RESTables = new Map();\n\nexport class RESTable {\n\t_data: Array<{ [id: string]: HTMLElement | mixed }>;\n\tgetRow: mixed => {};\n\tpage: number = 0;\n\tpageSize: number = 100;\n\ttbody: HTMLTableSectionElement;\n\telement: HTMLTableElement;\n\tcolumns = []; // columns in shown order\n\tfilters = [];\n\tonRowsChanges = [];\n\tsortBy: string;\n\tsortDirection: 'asc' | 'desc' = 'asc';\n\n\tdata = _.memoize(() => {\n\t\tconst data = this._data.filter(v => this.filters.every(filter => filter(v)));\n\n\t\tif (this.sortBy) {\n\t\t\tconst getValue = _.memoize(r => {\n\t\t\t\tconst v = this.getRow(r)[this.sortBy];\n\t\t\t\treturn v instanceof HTMLElement ?\n\t\t\t\t\t(v.hasAttribute('sort-value') ? v.getAttribute('sort-value') : v.textContent) :\n\t\t\t\t\tString(v);\n\t\t\t});\n\t\t\tdata.sort((a, b) => getValue(a).localeCompare(getValue(b), undefined, { numeric: true }));\n\t\t}\n\n\t\tif (this.sortDirection === 'desc') {\n\t\t\tdata.reverse();\n\t\t}\n\n\t\treturn data;\n\t});\n\n\tconstructor(headers: { [id: string]: string }, data: *, getRow: *, opts: *) {\n\t\tthis._data = data;\n\t\tthis.getRow = getRow;\n\t\tObject.assign(this, opts);\n\n\t\tconst table = this.element = document.createElement('table');\n\t\ttable.style.width = '100%';\n\n\t\tconst thead = document.createElement('thead');\n\t\tconst tbody = this.tbody = downcast(document.createElement('tbody'), HTMLTableSectionElement);\n\t\ttable.append(thead, tbody);\n\n\t\tconst tr = document.createElement('tr');\n\t\tthead.append(tr);\n\n\t\tfor (const [id, label] of Object.entries(headers)) {\n\t\t\tconst th = document.createElement('th');\n\t\t\tth.addEventListener('click', sortByColumn);\n\t\t\tth.style.cursor = 'pointer';\n\t\t\tth.textContent = label;\n\t\t\tthis.columns.push(id);\n\t\t\ttr.append(th);\n\n\t\t\tif (this.sortBy === id) th.classList.add(`sort-${this.sortDirection}`);\n\t\t}\n\n\t\tRESTables.set(table, this);\n\n\t\tthis.start();\n\t}\n\n\tstart() {\n\t\tthis.page = 0;\n\t\tthis.data.cache.clear();\n\t\tthis.updatePage();\n\t}\n\n\tupdatePage = frameThrottle(() => {\n\t\tthis.page = positiveModulo(this.page, Math.ceil(this.data().length / this.pageSize)) || 0;\n\t\tconst start = this.page * this.pageSize || 0;\n\t\tempty(this.tbody);\n\t\tfor (const rawRow of this.data().slice(start, start + this.pageSize)) {\n\t\t\tconst tr = document.createElement('tr');\n\t\t\tthis.tbody.append(tr);\n\t\t\tconst row = this.getRow(rawRow);\n\n\t\t\tfor (const id of this.columns) {\n\t\t\t\tconst td = document.createElement('td');\n\t\t\t\tconst content = (row[id]: any);\n\t\t\t\tif (content instanceof HTMLElement) td.append(content);\n\t\t\t\telse td.textContent = content;\n\t\t\t\ttr.append(td);\n\t\t\t}\n\t\t}\n\n\t\tfor (const observer of this.onRowsChanges) observer();\n\t});\n\n\tcreateSearchElement(valueGetter: * => string, placeholder: string, focus: boolean) {\n\t\tconst search = document.createElement('input');\n\n\t\tsearch.setAttribute('placeholder', placeholder);\n\n\t\t// focus on open (delay to allow render)\n\t\tif (focus) requestAnimationFrame(() => { search.focus(); });\n\n\t\tlet lastFilter;\n\t\t// Filter subreddit list\n\t\tsearch.addEventListener('input', () => {\n\t\t\tlet regex;\n\t\t\tif (string.regexRegex.test(search.value)) {\n\t\t\t\tconst [, str, flags = ''] = (string.regexRegex.exec(search.value): any); // guaranteed to match due to `.test()` above\n\t\t\t\tregex = new RegExp(str, flags);\n\t\t\t} else {\n\t\t\t\tregex = new RegExp(_.escapeRegExp(search.value), 'i');\n\t\t\t}\n\n\t\t\tif (lastFilter) _.pull(this.filters, lastFilter);\n\t\t\tif (search.value) this.filters.push(lastFilter = (data: *) => regex.test(valueGetter(data)));\n\t\t\tthis.start();\n\t\t});\n\n\t\treturn search;\n\t}\n\n\tcreateSelectFilters(filters: *) {\n\t\tconst ele = string.html`<div>\n\t\t\tShow only:\n\t\t\t<select>${filters.map(({ name, initialSelected }) => string._html`<option ${initialSelected ? 'selected' : ''}>${name}</option>`)}</select>\n\t\t</div>`;\n\t\tconst filterSelect = downcast(ele.querySelector('select'), HTMLSelectElement);\n\n\t\tlet lastFilter;\n\t\tthis.filters.push(lastFilter = filters[filterSelect.selectedIndex].filter);\n\n\t\tfilterSelect.addEventListener('change', () => {\n\t\t\t_.pull(this.filters, lastFilter);\n\t\t\tconst filter = filters[filterSelect.selectedIndex].filter;\n\t\t\tthis.filters.push(lastFilter = filter);\n\t\t\tthis.start();\n\t\t});\n\n\t\treturn ele;\n\t}\n\n\tcreatePaginationElement() {\n\t\tconst ele = string.html`<div class=\"res-step-container\">\n\t\t\t<div class=\"res-step res-step-previous\"></div>\n\t\t\t<div class=\"res-step-progress\">\n\t\t\t\t<span class=\"res-step-position\"></span> of <span class=\"res-step-total\"></span>\n\t\t\t</div>\n\t\t\t<div class=\"res-step res-step-next\"></div>\n\t\t</div>`;\n\n\t\tele.querySelector('.res-step-previous').addEventListener('click', () => { this.page--; this.updatePage(); });\n\t\tele.querySelector('.res-step-next').addEventListener('click', () => { this.page++; this.updatePage(); });\n\n\t\tconst position = ele.querySelector('.res-step-position');\n\t\tconst total = ele.querySelector('.res-step-total');\n\n\t\tconst refresh = () => {\n\t\t\tconst pages = Math.ceil(this.data().length / this.pageSize);\n\t\t\tele.setAttribute('first-piece', String(this.page === 0));\n\t\t\tele.setAttribute('last-piece', String(this.page === pages - 1));\n\n\t\t\tposition.textContent = String(this.page + 1);\n\t\t\ttotal.textContent = String(pages || 1);\n\t\t};\n\n\t\tthis.onRowsChanges.push(refresh);\n\n\t\treturn ele;\n\t}\n\n\tsort(by: string | number, reverseCurrent: boolean) {\n\t\tthis.sortBy = typeof by === 'number' ? this.columns[by] : by;\n\t\tthis.sortDirection = reverseCurrent ? (this.sortDirection === 'asc' ? 'desc' : 'asc') : 'asc';\n\t\tthis.start();\n\t}\n}\n\nexport function sortByColumn({ target: sortColumn }: MouseEvent) {\n\tconst table = downcast(sortColumn.closest('table'), HTMLTableElement);\n\n\tconst reverseCurrent = sortColumn.classList.contains('sort-asc') || sortColumn.classList.contains('sort-asc');\n\n\tconst tableRES = RESTables.get(table);\n\tif (tableRES) {\n\t\tconst index = [...downcast(sortColumn.parentElement, HTMLElement).children].indexOf(sortColumn);\n\t\ttableRES.sort(index, reverseCurrent);\n\t} else {\n\t\tconst tbody = table.querySelector('tbody');\n\t\tconst columns = Array.from(table.querySelectorAll('thead th'));\n\t\tconst rows = Array.from(tbody.querySelectorAll('tr'));\n\n\t\tif (reverseCurrent) {\n\t\t\trows.reverse();\n\t\t} else {\n\t\t\tconst index = columns.indexOf(sortColumn);\n\t\t\tconst getCellValue = _.memoize(row => { const cell = row.querySelectorAll('td')[index]; return cell.textContent; });\n\t\t\trows.sort((rowA, rowB) => getCellValue(rowA).localeCompare(getCellValue(rowB), undefined, { numeric: true }));\n\t\t}\n\n\t\ttbody.append(...rows);\n\t}\n\n\tif (reverseCurrent) {\n\t\tsortColumn.classList.toggle('sort-asc');\n\t\tsortColumn.classList.toggle('sort-desc');\n\t} else {\n\t\tconst previous = table.querySelector('.sort-asc, .sort-desc');\n\t\tif (previous) previous.classList.remove('sort-asc');\n\t\tif (previous) previous.classList.remove('sort-desc');\n\t\tsortColumn.classList.add('sort-asc');\n\t}\n}\n","/**!\n * Sortable 1.10.2\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.10.2\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\r\n * Returns the \"bounding client rect\" of given element\r\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\r\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\r\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\r\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\r\n * @param  {[HTMLElement]} container              The parent the element will be placed in\r\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\r\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Checks if a side of an element is scrolled past a side of its parents\r\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\r\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\r\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\r\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\r\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\r\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\r\n * and non-draggable elements\r\n * @param  {HTMLElement} el       The parent element\r\n * @param  {Number} childNum      The index of the child\r\n * @param  {Object} options       Parent Sortable's options\r\n * @return {HTMLElement}          The child at index childNum, or null if not found\r\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\r\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\r\n * @param  {HTMLElement} el       Parent element\r\n * @param  {selector} selector    Any other elements that should be ignored\r\n * @return {HTMLElement}          The last child, ignoring ghostEl\r\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\r\n * Returns the index of an element within its parent for a selected set of\r\n * elements\r\n * @param  {HTMLElement} el\r\n * @param  {selector} selector\r\n * @return {number}\r\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\r\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\r\n * The value is returned in real pixels.\r\n * @param  {HTMLElement} el\r\n * @return {Array}             Offsets in the format of [left, top]\r\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\r\n * Returns the index of the object within the given array\r\n * @param  {Array} arr   Array that may or may not hold the object\r\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\r\n * @return {Number}      The index of the object in the array, or -1\r\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar OnSpill = [Remove, Revert];\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nexport default Sortable;\nexport { AutoScrollPlugin as AutoScroll, MultiDragPlugin as MultiDrag, OnSpill, Sortable, SwapPlugin as Swap };\n","/* @flow */\n\n// Import only the functionality of sortablejs which is needed\nimport Sortable, { AutoScroll } from 'sortablejs/modular/sortable.core.esm';\n\nSortable.mount(new AutoScroll());\nexport { Sortable };\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Sortable } from '../vendor';\nimport { i18n } from '../environment';\nimport { downcast, string } from './';\n\nexport function drawOptionBuilder(options: *, mod: *, optionName: *) {\n\tconst option = options[optionName];\n\tconst $addRowButton = $('<button class=\"addRowButton\">');\n\tconst $itemContainer = $('<div class=\"optionBuilder\">');\n\n\t$itemContainer.attr({\n\t\t'data-module-id': mod.moduleID,\n\t\t'data-option-name': optionName,\n\t});\n\t$addRowButton\n\t\t.text(i18n(option.addItemText) || '+add item')\n\t\t.on('click', function() {\n\t\t\tconst $newBody = drawBuilderItem(option.defaultTemplate(), option.customOptionsFields, option.cases);\n\t\t\t$(this).siblings('.optionBuilder:first').trigger('change').append($newBody);\n\t\t\tconst firstText = $newBody.find('input[type=text], textarea')[0];\n\t\t\tif (firstText) {\n\t\t\t\tsetTimeout(() => firstText.focus(), 200);\n\t\t\t}\n\t\t});\n\toption.value.forEach(item => drawBuilderItem(item, option.customOptionsFields, option.cases).appendTo($itemContainer));\n\n\tSortable.create($itemContainer.get(0), { handle: '.handle' });\n\n\treturn $('<div>').append($itemContainer, $addRowButton)[0];\n}\n\nfunction drawBuilderItem(data: *, customOptionsFields: * = [], cases: *) {\n\tconst $editButton = $('<div>')\n\t\t.addClass('res-icon-button res-icon builderControls builderTrailingControls')\n\t\t.html('&#xF061;')\n\t\t.attr('title', 'copy and share, or update your settings with a new version')\n\t\t.on('click', function() {\n\t\t\tconst $item = $(this).closest('.builderItem');\n\t\t\tconst data = readBuilderItem($item, customOptionsFields, cases);\n\t\t\tconst json = prompt(\n\t\t\t\t'Copy this and share it, or paste a new version and update your settings',\n\t\t\t\tJSON.stringify(data),\n\t\t\t);\n\t\t\tif (json !== null) {\n\t\t\t\tconst newData = JSON.parse(json);\n\t\t\t\t$item.trigger('change').replaceWith(drawBuilderItem(newData, customOptionsFields, cases));\n\t\t\t}\n\t\t});\n\n\tconst $deleteButton = drawDeleteButton()\n\t\t.addClass('builderTrailingControls')\n\t\t.on('click', function() {\n\t\t\tif (confirm('Are you sure you want remove this filter?')) {\n\t\t\t\t$(this).trigger('change');\n\t\t\t\t$(this).closest('.builderItem').trigger('change').remove();\n\t\t\t}\n\t\t});\n\n\tconst customOptions = string.html`<ul class=\"builderCustomOptions\"></ul>`;\n\tfor (const fields of customOptionsFields) {\n\t\tconst li = document.createElement('li');\n\t\t$(li).append(drawFields(fields, data.opts || {}));\n\t\tcustomOptions.append(li);\n\t}\n\n\tconst $header = $('<div class=\"builderItemControls\">')\n\t\t.append(\n\t\t\tdrawHandle(),\n\t\t\t$('<textarea name=\"builderNote\" rows=\"2\" cols=\"40\" placeholder=\"Write a description/note for this\">').val(data.note),\n\t\t\t$('<input type=\"hidden\" name=\"version\">').val(data.ver),\n\t\t\t$('<input type=\"hidden\" name=\"id\">').val(data.id),\n\t\t\tcustomOptions,\n\t\t\t$editButton,\n\t\t\t$deleteButton,\n\t\t);\n\n\tconst $body = drawBuilderBlock(data.body, cases, false);\n\n\treturn $('<div class=\"builderItem\">').append($header, $body);\n}\n\nfunction drawHandle() {\n\treturn $('<div>')\n\t\t.addClass('res-icon-button res-icon handle builderControls')\n\t\t.html('&#xF0AA;')\n\t\t.attr('title', 'drag and drop to move this condition');\n}\n\nfunction drawDeleteButton() {\n\treturn $('<div>')\n\t\t.addClass('res-icon-button res-icon builderControls')\n\t\t.html('&#xF056;')\n\t\t.attr('title', 'remove this condition');\n}\n\nexport function drawBuilderBlock(data: *, cases: *, addBaseControls: boolean = true) {\n\tif (!cases.hasOwnProperty(data.type)) {\n\t\tconsole.error(`Case type ${data.type} is not available. Ignoring block.`, data);\n\t\t// This also prevents the data from being read, i.e. it will be trashed\n\t\treturn $();\n\t}\n\n\tconst $block = $('<div class=\"builderBlock\">')\n\t\t.attr('data-type', data.type)\n\t\t.append(drawFields(cases[data.type].fields, data, cases));\n\n\tif (!addBaseControls) return $block;\n\n\tconst $deleteButton = drawDeleteButton()\n\t\t.addClass('builderTrailingControls')\n\t\t.on('click', function() {\n\t\t\tif (confirm('Are you sure you want to delete this condition?')) {\n\t\t\t\t$(this).trigger('change');\n\t\t\t\t$(this).closest('.builderWrap').parent('li').remove();\n\t\t\t}\n\t\t});\n\n\treturn $('<div class=\"builderWrap\">')\n\t\t.append(\n\t\t\tdrawHandle(),\n\t\t\t$block,\n\t\t\t$deleteButton,\n\t\t);\n}\n\nexport function readBuilderItem(item: *, customOptionsFields: * = [], cases: *) {\n\tconst $firstBlock = $(item).find('> .builderBlock');\n\tconst $header = $(item).find('.builderItemControls');\n\n\treturn {\n\t\tnote: $header.find('textarea[name=builderNote]').val(),\n\t\tver: parseInt($header.find('input[name=version]').val(), 10),\n\t\tid: $header.find('input[name=id]').val(),\n\t\tbody: readBuilderBlock($firstBlock, cases),\n\t\topts: readFields($header.find('.builderCustomOptions li'), _.flatten(customOptionsFields), cases),\n\t};\n}\n\nexport function readBuilderBlock($element: *, cases: *) {\n\tconst type = $element.attr('data-type');\n\tconst BlockClass = cases[type];\n\n\tconst data = { type, ...readFields($element, BlockClass.fields, cases) };\n\n\tconst multiType = BlockClass.fields.find(({ type }) => type === 'multi');\n\tif (!multiType) { // `multi`-types cannot have errors, so avoid duplicating error messages by not validating them\n\t\ttry {\n\t\t\tBlockClass.validate(data);\n\t\t\t$element.removeClass('builderBlock-error');\n\t\t} catch (e) {\n\t\t\t$element\n\t\t\t\t.attr('error', e.message)\n\t\t\t\t.addClass('builderBlock-error');\n\t\t\tthrow e;\n\t\t}\n\t}\n\n\treturn data;\n}\n\nfunction readFields($element, fields, cases) {\n\treturn fields.reduce((acc, field) => {\n\t\tif (typeof field === 'string') return acc;\n\t\tconst $fieldElem = $element.find(`> [name=${field.id}]`);\n\t\tconst fieldModule = builderFields[field.type];\n\t\tif (fieldModule && typeof fieldModule.read === 'function') {\n\t\t\tacc[field.id] = fieldModule.read($fieldElem, field, cases);\n\t\t} else {\n\t\t\tacc[field.id] = $fieldElem.val();\n\t\t}\n\t\treturn acc;\n\t}, {});\n}\n\nfunction drawFields(fields, data, cases) {\n\treturn fields.map(field => {\n\t\tif (typeof field === 'string') return field;\n\n\t\tconst fieldModule = builderFields[field.type];\n\t\tif (fieldModule) {\n\t\t\treturn fieldModule.draw(data, field, cases);\n\t\t} else {\n\t\t\treturn $(`<input type=\"${field.type}\">`)\n\t\t\t\t.attr('name', field.id)\n\t\t\t\t.val(data[field.id]);\n\t\t}\n\t});\n}\n\nconst builderFields = {\n\tmulti: {\n\t\tdraw(data, field, cases = {}) {\n\t\t\tconst $rowWrapper = $('<ul class=\"builderMulti\">').attr('name', field.id);\n\t\t\tconst addItem = itemData => drawBuilderBlock(itemData, cases).appendTo($rowWrapper).wrap('<li>');\n\n\t\t\tconst items = data[field.id];\n\t\t\titems.forEach(addItem);\n\n\t\t\tconst addCaseSelect = downcast(string.html`\n\t\t\t\t<select class=\"addBuilderBlock\">\n\t\t\t\t\t<option>+ add a condition</option>\n\t\t\t\t\t${Object.entries(cases).map(([key, { text }]) => string._html`\n\t\t\t\t\t\t<option value=\"${key}\">${text}</option>\n\t\t\t\t\t`)}\n\t\t\t\t</select>\n\t\t\t`, HTMLSelectElement);\n\t\t\taddCaseSelect.addEventListener('change', () => {\n\t\t\t\tconst type = addCaseSelect.value;\n\t\t\t\tif (type !== '' && cases.hasOwnProperty(type)) {\n\t\t\t\t\taddItem({ type, ...cases[type].defaultConditions })\n\t\t\t\t\t\t.find('input[type=text], input[type=number], textarea').focus();\n\t\t\t\t}\n\n\t\t\t\taddCaseSelect.selectedIndex = 0;\n\t\t\t});\n\n\t\t\tSortable.create($rowWrapper.get(0), { group: 'block', handle: '.handle' });\n\n\t\t\treturn $rowWrapper.add(addCaseSelect);\n\t\t},\n\t\tread($elem, fields, cases) {\n\t\t\treturn $elem.find('> li > .builderWrap > .builderBlock').map(function() {\n\t\t\t\treturn readBuilderBlock($(this), cases);\n\t\t\t}).get();\n\t\t},\n\t},\n\thidden: {\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\treturn $('<input type=\"hidden\">').attr('name', id).val(data[id]);\n\t\t},\n\t},\n\tnumber: {\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\treturn $('<input type=\"number\">').attr('name', id).val(data[id]);\n\t\t},\n\t\tread($elem) {\n\t\t\treturn parseInt($elem.val(), 10);\n\t\t},\n\t},\n\tcheck: {\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\tconst $input = $('<input type=\"checkbox\">').prop('checked', data[id]);\n\t\t\treturn $('<label>').attr('name', id).text(field.label).prepend($input);\n\t\t},\n\t\tread($elem) {\n\t\t\treturn $elem.find('input').get(0).checked;\n\t\t},\n\t},\n\tcheckset: {\n\t\tuid: 0,\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\tconst prefixId = this.uid++;\n\t\t\tconst $wrap = $('<span class=\"checkset\">').attr('name', field.id);\n\t\t\tfield.items.forEach((e, idx) => {\n\t\t\t\tconst itemId = `checkset-${prefixId}-${idx}X`;\n\t\t\t\tconst $box = $('<input type=\"checkbox\" />')\n\t\t\t\t\t.attr('id', itemId)\n\t\t\t\t\t.attr('name', e);\n\t\t\t\tif (data.hasOwnProperty(id) && data[id].includes(e)) {\n\t\t\t\t\t$box.prop('checked', true);\n\t\t\t\t}\n\t\t\t\tconst $label = $('<label>')\n\t\t\t\t\t.attr('for', itemId)\n\t\t\t\t\t.text(e);\n\t\t\t\t$wrap.append($box, $label);\n\t\t\t});\n\t\t\treturn $wrap;\n\t\t},\n\t\tread($elem, fields) {\n\t\t\treturn fields.items.filter(e => $elem.children(`[name=\"${e}\"]`).prop('checked'));\n\t\t},\n\t},\n\tduration: {\n\t\tdraw(data, field) {\n\t\t\t// Store as milliseconds like JavaScript Date\n\t\t\tlet durr = data[field.id];\n\t\t\tdurr /= 60 * 1000;\n\t\t\tconst minutes = durr % 60;\n\t\t\tdurr = (durr - minutes) / 60;\n\t\t\tconst hours = durr % 24;\n\t\t\tdurr = (durr - hours) / 24;\n\t\t\tconst days = durr;\n\n\t\t\treturn $('<span class=\"durationField\">')\n\t\t\t\t.attr('name', field.id)\n\t\t\t\t.append([\n\t\t\t\t\t$('<input type=\"number\" name=\"days\" />').val(days), ' days ',\n\t\t\t\t\t$('<input type=\"number\" name=\"hours\" />').val(hours), ' hours ',\n\t\t\t\t\t$('<input type=\"number\" name=\"minutes\" />').val(minutes), ' minutes ',\n\t\t\t\t]);\n\t\t},\n\t\tread($elem) {\n\t\t\tconst days = parseFloat($elem.children('[name=days]').val()) || 0;\n\t\t\tconst hours = parseFloat($elem.children('[name=hours]').val()) || 0;\n\t\t\tconst minutes = parseFloat($elem.children('[name=minutes]').val()) || 0;\n\n\t\t\t// Store as milliseconds like JavaScript Date\n\t\t\tlet duration = 0;\n\t\t\tduration += days * 24 * 60 * 60;\n\t\t\tduration += hours * 60 * 60;\n\t\t\tduration += minutes * 60;\n\t\t\tduration *= 1000;\n\n\t\t\treturn duration;\n\t\t},\n\t},\n\tselect: {\n\t\tdraw(data, field) {\n\t\t\tconst value = data[field.id];\n\t\t\tlet entries = field.options;\n\n\t\t\tif (typeof entries === 'string') {\n\t\t\t\tentries = this.getPredefinedChoices(entries);\n\t\t\t}\n\n\t\t\tconst $dropdown = $('<select>').attr('name', field.id);\n\t\t\tentries.forEach(row => {\n\t\t\t\tlet label, value;\n\t\t\t\tif (typeof row === 'string') {\n\t\t\t\t\tlabel = value = row;\n\t\t\t\t} else {\n\t\t\t\t\tlabel = row[0];\n\t\t\t\t\tvalue = row[1];\n\t\t\t\t}\n\t\t\t\t$('<option>').text(label).val(value).appendTo($dropdown);\n\t\t\t});\n\t\t\t$dropdown.val(value);\n\t\t\treturn $dropdown;\n\t\t},\n\t\tgetPredefinedChoices(name) {\n\t\t\tif (name === 'COMPARISON') {\n\t\t\t\treturn [\n\t\t\t\t\t['exactly', '=='],\n\t\t\t\t\t['not', '!='],\n\t\t\t\t\t['more than', '>'],\n\t\t\t\t\t['less than', '<'],\n\t\t\t\t\t['at least', '>='],\n\t\t\t\t\t['at most', '<='],\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Option set \"${name}\" is not defined`);\n\t\t\t}\n\t\t},\n\t},\n};\n","/* @flow */\n\nexport {\n\tLRUCache,\n} from './Cache';\n\nexport {\n\tThing,\n} from './Thing';\n\nexport {\n\tgetPostMetadata,\n} from './thingMetadata';\n\nexport {\n\tasyncEvery,\n\tasyncFilter,\n\tasyncFind,\n\tasyncReduce,\n\tasyncSome,\n\tfilterMap,\n\tforEachSeq,\n} from './array';\n\nexport {\n\tasyncFlow,\n\tfastAsync,\n\tbatch,\n\tforEachChunked,\n\tframeDebounce,\n\tframeThrottle,\n\tthrottleQueuePositionReset,\n\tidleThrottle,\n\tthrottle,\n\tkeyedMutex,\n\tmutex,\n\treifyPromise,\n\twaitFor,\n} from './async';\n\nexport {\n\tcolorFromArray,\n\tcolorToArray,\n} from './color';\n\nexport {\n\taddDashboardTab,\n} from './dashboard';\n\nexport {\n\taddCSS,\n\tclick,\n\telementInViewport,\n\tempty,\n\tgetViewportSize,\n\tgetHeaderOffset,\n\tgetD2xBodyOffset,\n\tgetPercentageVisibleYAxis,\n\tpreventCloning,\n\tscrollToElement,\n\twaitForChild,\n\twaitForDescendant,\n\twaitForFutureDescendant,\n\twatchForChildren,\n\twatchForFutureChildren,\n\twatchForDescendants,\n\twatchForFutureDescendants,\n\twaitForEvent,\n\twaitForAttach,\n\twaitForDetach,\n} from './dom';\n\nexport {\n\taddFloater,\n} from './floater';\n\nexport {\n\tdowncast,\n} from './flow';\n\nexport {\n\trange,\n\tzip,\n} from './generator';\n\nexport {\n\thashCode,\n\trandomHash,\n} from './hash';\n\nexport {\n\thide,\n\tunhide,\n} from './thingHide';\n\nexport {\n\tescapeHTML,\n} from './html';\n\nexport {\n\tNAMED_KEYS,\n\tcheckKeysForEvent,\n\thashKeyArray,\n\thashKeyEvent,\n\tniceKeyCode,\n} from './keycode';\n\nexport {\n\tformatDate,\n\tformatDateDiff,\n\tformatDateTime,\n\tformatNumber,\n\tformatRelativeTime,\n} from './localization';\n\nexport {\n\tappType,\n\tcurrentDomain,\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\texecRegexes,\n\tisAppType,\n\tisCommentCode,\n\tisCurrentMultireddit,\n\tisCurrentSubreddit,\n\tisEmptyLink,\n\tisPageType,\n\tmatchesPageLocation,\n\tmatchesPageRegex,\n\tfullLocation,\n\tpageType,\n\tregexes,\n} from './location';\n\nexport {\n\tnumericalCompare,\n\tinverseOperator,\n\tprettyOperator,\n\tdeinterpolate,\n\tinterpolate,\n\tprojectInto,\n\tpositiveModulo,\n} from './math';\n\nexport {\n\textendDeep,\n} from './object';\n\nexport {\n\tindexOptionTable,\n} from './options';\n\nexport {\n\tmarkStart,\n\tmarkEnd,\n} from './profiling';\n\nexport {\n\tmaybePruneOldEntries,\n\tshouldPrune,\n} from './storage';\n\nexport {\n\tfakeSubreddits,\n\tisFakeSubreddit,\n} from './subreddits';\n\nexport {\n\tDAY,\n\tHOUR,\n\tMINUTE,\n\tWEEK,\n\tfromSecondsToTime,\n} from './time';\n\nexport {\n\tisLoggedIn,\n\tgetUserInfo,\n\tisModeratorAnywhere,\n\tloggedInUser,\n\tdocumentLoggedInUser,\n\tloggedInUserHash,\n\tusernameSelector,\n\tgetUsernameFromLink,\n} from './user';\n\nexport {\n\tfirstValid,\n} from './value';\n\nexport {\n\tregisterPage,\n\tr2WatcherContentLoaded,\n\tr2WatcherSitetableStart,\n\twatchForElements,\n\twatchForThings,\n} from './watchers';\n\nexport {\n\tinitD2xWatcher,\n\twatchForRedditEvents,\n} from './watchers_d2x';\n\nexport * as BodyClasses from './bodyClasses';\n\nexport * as BrowserDetect from './browserDetect';\n\nexport * as CreateElement from './createElement';\n\nexport * as Alert from './alert';\n\nexport * as PagePhases from './pagePhases';\n\nexport * as SelectedThing from './selectedThing';\n\nexport * as Table from './table';\n\nexport * as caseBuilder from './caseBuilder';\n\nexport * as string from './string';\n","/* @flow */\n\nimport type { PageType, AppType } from '../utils/location';\nimport type { KeyArray } from '../utils/keycode';\n\n// separate because indexer syntax is not supported in normal (no `declare`) classes\ndeclare class Indexable { // eslint-disable-line no-unused-vars\n\t[Symbol | $Keys<this>]: any;\n}\n\nexport class Module<RawOpt: { [string]: any }, Opt: { [string]: ModuleOption<RawOpt> } = RawOpt> /*:: extends Indexable */ {\n\tmoduleID: string;\n\n\tmoduleName: string;\n\tcategory: string = '';\n\tdescription: string = '';\n\tdescriptionRaw: boolean = false; // Whether the message is HTML and should not be run through i18n / markdown\n\tkeywords: Array<string> = [];\n\tbodyClass: boolean = false;\n\toptions: Opt = ({}: any);\n\tinclude: Array<PageType | AppType | RegExp> = [];\n\texclude: Array<PageType | AppType | RegExp> = [];\n\tshouldRun: () => boolean = () => true;\n\tonToggle: (enabling: boolean) => void = () => {};\n\tonSaveSettings: (changedSettings: any) => void = () => {};\n\n\thidden: boolean = false;\n\tdisabledByDefault: boolean = false;\n\talwaysEnabled: boolean = false;\n\tsort: number = 0;\n\n\t// no default value for cleaner profiling (modules without a stage defined won't be timed)\n\tonInit: (() => Promise<void> | void) | void = undefined;\n\tbeforeLoad: (() => Promise<void> | void) | void = undefined;\n\tcontentStart: (() => Promise<void> | void) | void = undefined;\n\tgo: (() => Promise<void> | void) | void = undefined;\n\tafterLoad: (() => Promise<void> | void) | void = undefined;\n\talways: (() => Promise<void> | void) | void = undefined;\n\n\tpermissions: {|\n\t\trequiredPermissions: Array<string>,\n\t\tmessage?: string,\n\t|} = {\n\t\trequiredPermissions: [],\n\t};\n\n\tconstructor(moduleID: string) {\n\t\t/*:: super(); */\n\t\tthis.moduleID = moduleID;\n\t\tthis.moduleName = moduleID;\n\t}\n}\n\nexport type OpaqueModuleId = string | { moduleID: string, module?: void } | { module: { moduleID: string } };\n\nexport function getModuleId(opaqueId: OpaqueModuleId): string {\n\tif (!opaqueId) {\n\t\tthrow new TypeError(`Expected module, moduleID, or namespace; found: ${opaqueId}`);\n\t}\n\n\tif (typeof opaqueId === 'string') {\n\t\t// raw moduleID\n\t\treturn opaqueId;\n\t} else if (opaqueId.module) {\n\t\t// namespace\n\t\treturn opaqueId.module.moduleID;\n\t} else {\n\t\t// assume module-like object\n\t\treturn opaqueId.moduleID;\n\t}\n}\n\nexport type ModuleOption<Ctx> =\n\t| BooleanOption<Ctx>\n\t| TextOption<Ctx>\n\t| EnumOption<Ctx>\n\t| KeycodeOption<Ctx>\n\t| ListOption<Ctx>\n\t| SelectOption<Ctx>\n\t| TableOption<Ctx, any>\n\t| ButtonOption<Ctx>\n\t| ColorOption<Ctx>\n\t| BuilderOption<Ctx>;\n\ntype CommonOptionProps<Ctx> = {|\n\ttitle: string,\n\tdescription: string,\n\tkeywords?: Array<string>,\n\tdependsOn?: (opt: Ctx) => boolean,\n\tadvanced?: boolean,\n\tnoconfig?: boolean,\n\t// Intentionally do not pass in the new value\n\t// so that it must be read out of `module.options[key].value`\n\t// for easier grepping (and to enforce stricter types where possible).\n\tonChange?: () => void,\n|};\n\nexport type BooleanOption<Ctx> = {|\n\ttype: 'boolean',\n\tvalue: boolean,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TextOption<Ctx> = {|\n\ttype: 'text',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type EnumOption<Ctx> = {|\n\ttype: 'enum',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type KeycodeOption<Ctx> = {|\n\ttype: 'keycode',\n\tvalue: KeyArray,\n\t// special for keyboardNav\n\tgoMode?: boolean,\n\tcallback?: () => void,\n\tinclude?: Array<PageType | AppType | RegExp>,\n\trequiresModules?: Array<OpaqueModuleId>,\n\tmustBeLoggedIn?: boolean,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ListOption<Ctx> = {|\n\ttype: 'list',\n\tlistType: ListType,\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype ListType = 'subreddits';\n\nexport type SelectOption<Ctx> = {|\n\ttype: 'select',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle: string,\n\t}>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TableOption<Ctx, V: $ReadOnlyArray<any>> = {|\n\ttype: 'table',\n\taddRowText?: string,\n\tfields: TableField[],\n\tvalue: V[],\n\tsort?: (a: V, b: V) => number,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype TableField = TextField | BooleanField | ListField | PasswordField | KeycodeField | TextareaField | EnumField | ColorField | SelectField;\n\ntype TextField = {|\n\ttype: 'text',\n\tkey: string,\n\tname: string,\n\tvalue?: string,\n|};\n\ntype BooleanField = {|\n\ttype: 'boolean',\n\tkey: string,\n\tname: string,\n\tvalue: boolean,\n|};\n\ntype ListField = {|\n\ttype: 'list',\n\tkey: string,\n\tname: string,\n\tlistType: ListType,\n|};\n\ntype PasswordField = {|\n\ttype: 'password',\n\tkey: string,\n\tname: string,\n|};\n\ntype KeycodeField = {|\n\ttype: 'keycode',\n\tkey: string,\n\tname: string,\n|};\n\ntype TextareaField = {|\n\ttype: 'textarea',\n\tkey: string,\n\tname: string,\n|};\n\ntype EnumField = {|\n\ttype: 'enum',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n|};\n\ntype ColorField = {|\n\ttype: 'color',\n\tkey: string,\n\tname: string,\n|};\n\ntype SelectField = {|\n\ttype: 'select',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle?: string,\n\t}>,\n|};\n\nexport type ButtonOption<Ctx> = {|\n\ttype: 'button',\n\ttext?: string | HTMLElement,\n\tcallback?: (() => Promise<void> | void) | string | { moduleID: string },\n\tvalues?: Array<{ text: $PropertyType<ButtonOption<Ctx>, 'text'>, callback: $PropertyType<ButtonOption<Ctx>, 'callback'> }>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ColorOption<Ctx> = {|\n\ttype: 'color',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderOption<Ctx> = {|\n\ttype: 'builder',\n\taddItemText: string,\n\tdefaultTemplate: () => BuilderRootValue,\n\tcases: { [string]: BuilderCase<*> },\n\tvalue: BuilderRootValue[],\n\tcustomOptionsFields: Array<Array<BuilderField | string>>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderRootValue = {|\n\tnote: string,\n\tver: number,\n\tid: string,\n\tbody: BuilderValue,\n\topts?: {\n\t\t[string]: mixed,\n\t\t// Some typed (reserved) values in order to simplify type checking\n\t\tname?: string,\n\t},\n|};\n\nexport type BuilderValue = {\n\ttype: string,\n\t[string]: any,\n};\n\ntype BuilderCase = {\n\ttext: string,\n\tfields: Array<BuilderField | string>,\n};\n\ntype BuilderField = BuilderSelectField | BuilderMultiField | BuilderDurationField | BuilderChecksetField | BuilderNumberField | BuilderCheckboxField | BuilderGenericInputField;\n\ntype PredefinedSelectChoice = 'COMPARISON';\n\ntype BuilderSelectField = {|\n\ttype: 'select',\n\toptions: Array<string | [string, string]> | PredefinedSelectChoice,\n\tid: string,\n|};\n\ntype BuilderMultiField = {|\n\ttype: 'multi',\n\tinclude: 'all',\n\tid: string,\n|};\n\ntype BuilderDurationField = {|\n\ttype: 'duration',\n\tid: string,\n|};\n\ntype BuilderChecksetField = {|\n\ttype: 'checkset',\n\titems: string[],\n\tid: string,\n|};\n\ntype BuilderNumberField = {|\n\ttype: 'number',\n\tid: string,\n|};\n\ntype BuilderCheckboxField = {|\n\ttype: 'check',\n\tid: string,\n\tlabel: string,\n|};\n\ntype BuilderGenericInputField = {|\n\ttype: string,\n\tid: string,\n|};\n","/* @flow */\n\nimport { Storage } from '../../environment';\n\nexport const storage = Storage.wrapBlob('RES.modulePrefs',\n\t(): boolean => { throw new Error('Default module enabled state should never be accessed'); });\n\nexport function setEnabled(moduleId: string, enable: boolean) {\n\treturn storage.set(moduleId, enable);\n}\n","import $ from 'jquery';\n\n/**\n * guiders.js\n *\n * version 2.0.0\n *\n * Released under the Apache License 2.0.\n * www.apache.org/licenses/LICENSE-2.0.html\n *\n * Questions about Guiders?\n * Email me (Jeff Pickhardt) at pickhardt@gmail.com\n *\n * Questions about Optimizely? Email one of the following:\n * sales@optimizely.com or support@optimizely.com\n *\n * Enjoy!\n */\n\nexport const guiders = {};\n\n(() => {\n  guiders.version = \"2.0.0\";\n\n  guiders._defaultSettings = {\n    attachTo: null, // Selector of the element to attach to.\n    autoFocus: false, // Determines whether or not the browser scrolls to the element.\n    buttons: [{name: \"Close\"}],\n    buttonCustomHTML: \"\",\n    classString: null,\n    closeOnEscape: false,\n    description: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n    highlight: null,\n    isHashable: true,\n    maxWidth: null,\n    offset: {\n      top: null,\n      left: null\n    },\n    onClose: null,\n    onHide: null,\n    onShow: null,\n    overlay: false,\n    position: 0, // 1-12 follows an analog clock, 0 means centered.\n    shouldSkip: function() {}, // Optional handler allows you to skip a guider if returns true.\n    title: \"Sample title goes here\",\n    width: 400,\n    xButton: false // This places a closer \"x\" button in the top right of the guider.\n  };\n\n  guiders._htmlSkeleton = [\n    \"<div class='guider'>\",\n    \"  <div class='guiders_content'>\",\n    \"    <h1 class='guiders_title'></h1>\",\n    \"    <div class='guiders_close'></div>\",\n    \"    <p class='guiders_description'></p>\",\n    \"    <div class='guiders_buttons_container'>\",\n    \"    </div>\",\n    \"  </div>\",\n    \"  <div class='guiders_arrow'>\",\n    \"  </div>\",\n    \"</div>\"\n  ].join(\"\");\n\n  guiders._arrowSize = 42; // This is the arrow's width and height.\n  guiders._backButtonTitle = \"Back\";\n  guiders._buttonAttributes = {\"href\": \"javascript:void(0);\"};\n  guiders._buttonClassName = \"guiders_button\"; // Override this if you use a different class name for your buttons.\n  guiders._buttonClickEvent = \"click touch\"; // Using click touch allows this to trigger with iPad/iPhone taps, as well as browser clicks\n  guiders._buttonElement = \"<a></a>\"; // Override this if you want to use a different element for your buttons, like spans.\n  guiders._closeButtonTitle = \"Close\";\n  guiders._currentGuiderID = null;\n  guiders._fixedOrAbsolute = \"fixed\";\n  guiders._guiders = {};\n  guiders._lastCreatedGuiderID = null;\n  guiders._nextButtonTitle = \"Next\";\n  guiders._offsetNameMapping = {\n    \"topLeft\": 11,\n    \"top\": 12,\n    \"topRight\": 1,\n    \"rightTop\": 2,\n    \"right\": 3,\n    \"rightBottom\": 4,\n    \"bottomRight\": 5,\n    \"bottom\": 6,\n    \"bottomLeft\": 7,\n    \"leftBottom\": 8,\n    \"left\": 9,\n    \"leftTop\": 10\n  };\n  guiders._windowHeight = 0;\n\n  // Basic IE browser detection\n  var ieBrowserMatch = navigator.userAgent.match(/MSIE\\s([\\d.]+)/);\n  guiders._isIE = ieBrowserMatch && ieBrowserMatch.length > 1;\n  guiders._ieVersion = ieBrowserMatch && ieBrowserMatch.length > 1 ? Number(ieBrowserMatch[1]) : -1;\n\n  guiders._addButtons = function(myGuider) {\n    var guiderButtonsContainer = myGuider.elem.find(\".guiders_buttons_container\");\n\n    if (myGuider.buttons === null || myGuider.buttons.length === 0) {\n      guiderButtonsContainer.remove();\n      return;\n    }\n\n    for (var i = myGuider.buttons.length - 1; i >= 0; i--) {\n      var thisButton = myGuider.buttons[i];\n      var thisButtonElem = $(guiders._buttonElement,\n        $.extend({\"class\" : guiders._buttonClassName, \"html\" : thisButton.name }, guiders._buttonAttributes, thisButton.html || {})\n      );\n\n      if (typeof thisButton.classString !== \"undefined\" && thisButton.classString !== null) {\n        thisButtonElem.addClass(thisButton.classString);\n      }\n\n      guiderButtonsContainer.append(thisButtonElem);\n\n      var thisButtonName = thisButton.name.toLowerCase();\n      if (thisButton.onclick) {\n        thisButtonElem.bind(guiders._buttonClickEvent, thisButton.onclick);\n      } else {\n        switch (thisButtonName) {\n          case guiders._closeButtonTitle.toLowerCase():\n            thisButtonElem.bind(guiders._buttonClickEvent, function () {\n              guiders.hideAll();\n              if (myGuider.onClose) {\n                myGuider.onClose(myGuider, false /* close by button */);\n              }\n              $(\"body\").trigger(\"guidersClose\");\n            });\n            break;\n          case guiders._nextButtonTitle.toLowerCase():\n            thisButtonElem.bind(guiders._buttonClickEvent, function () {\n              !myGuider.elem.data(\"locked\") && guiders.next();\n            });\n            break;\n          case guiders._backButtonTitle.toLowerCase():\n            thisButtonElem.bind(guiders._buttonClickEvent, function () {\n              !myGuider.elem.data(\"locked\") && guiders.prev();\n            });\n            break;\n        }\n      }\n    }\n\n    if (myGuider.buttonCustomHTML !== \"\") {\n      var myCustomHTML = $(myGuider.buttonCustomHTML);\n      myGuider.elem.find(\".guiders_buttons_container\").append(myCustomHTML);\n    }\n\n    if (myGuider.buttons.length === 0) {\n      guiderButtonsContainer.remove();\n    }\n  };\n\n  guiders._addXButton = function(myGuider) {\n    var xButtonContainer = myGuider.elem.find(\".guiders_close\");\n    var xButton = $(\"<div></div>\", {\n      \"class\" : \"guiders_x_button\",\n      \"role\" : \"button\"\n    });\n    xButtonContainer.append(xButton);\n    xButton.click(function() {\n      guiders.hideAll();\n      if (myGuider.onClose) {\n        myGuider.onClose(myGuider, true);\n       }\n       $(\"body\").trigger(\"guidersClose\");\n    });\n  };\n\n  guiders._attach = function(myGuider) {\n    if (typeof myGuider !== 'object') {\n      return;\n    }\n\n    var attachTo = $(myGuider.attachTo);\n\n    var myHeight = myGuider.elem.innerHeight();\n    var myWidth = myGuider.elem.innerWidth();\n\n    if (myGuider.position === 0 || attachTo.length === 0) {\n      var fixedOrAbsolute = \"fixed\";\n      if (guiders._isIE && guiders._ieVersion < 9) {\n        fixedOrAbsolute = \"absolute\";\n      }\n      myGuider.elem.css(\"position\", fixedOrAbsolute);\n      myGuider.elem.css(\"top\", ($(window).height() - myHeight) / 3 + \"px\");\n      myGuider.elem.css(\"left\", ($(window).width() - myWidth) / 2 + \"px\");\n      return;\n    }\n\n    // Otherwise, the guider is positioned relative to the attachTo element.\n    var base = attachTo.offset();\n    var top = base.top;\n    var left = base.left;\n\n    // topMarginOfBody corrects positioning if body has a top margin set on it.\n    var topMarginOfBody = $(\"body\").outerHeight(true) - $(\"body\").outerHeight(false);\n    top -= topMarginOfBody;\n\n    // Now, take into account how the guider should be positioned relative to the attachTo element.\n    // e.g. top left, bottom center, etc.\n    if (guiders._offsetNameMapping[myGuider.position]) {\n      // As an alternative to the clock model, you can also use keywords to position the guider.\n      myGuider.position = guiders._offsetNameMapping[myGuider.position];\n    }\n\n    var attachToHeight = attachTo.innerHeight();\n    var attachToWidth = attachTo.innerWidth();\n    var bufferOffset = 0.9 * guiders._arrowSize;\n\n    // offsetMap follows the form: [height, width]\n    var offsetMap = {\n      1: [-bufferOffset - myHeight, attachToWidth - myWidth],\n      2: [0, bufferOffset + attachToWidth],\n      3: [attachToHeight/2 - myHeight/2, bufferOffset + attachToWidth],\n      4: [attachToHeight - myHeight, bufferOffset + attachToWidth],\n      5: [bufferOffset + attachToHeight, attachToWidth - myWidth],\n      6: [bufferOffset + attachToHeight, attachToWidth/2 - myWidth/2],\n      7: [bufferOffset + attachToHeight, 0],\n      8: [attachToHeight - myHeight, -myWidth - bufferOffset],\n      9: [attachToHeight/2 - myHeight/2, -myWidth - bufferOffset],\n      10: [0, -myWidth - bufferOffset],\n      11: [-bufferOffset - myHeight, 0],\n      12: [-bufferOffset - myHeight, attachToWidth/2 - myWidth/2]\n    };\n\n    var offset = offsetMap[myGuider.position];\n    top += offset[0];\n    left += offset[1];\n\n    var positionType = \"absolute\";\n    // If the element you are attaching to is position: fixed, then we will make the guider\n    // position: fixed as well.\n    if (attachTo.css(\"position\") === \"fixed\" && guiders._fixedOrAbsolute === \"fixed\") {\n      positionType = \"fixed\";\n      top -= $(window).scrollTop();\n      left -= $(window).scrollLeft();\n    }\n\n    // If you specify an additional offset parameter when you create the guider, it gets added here.\n    if (myGuider.offset.top !== null) {\n      top += myGuider.offset.top;\n    }\n    if (myGuider.offset.left !== null) {\n      left += myGuider.offset.left;\n    }\n\n    guiders._styleArrow(myGuider);\n\n    // Finally, set the style of the guider and return it!\n    myGuider.elem.css({\n      \"position\": positionType,\n      \"top\": top,\n      \"left\": left\n    });\n\n    return myGuider;\n  };\n\n  guiders._dehighlightElement = function(selector) {\n    $(selector).removeClass('guiders_highlight');\n  };\n\n  guiders._hideOverlay = function() {\n    $(\"#guiders_overlay\").fadeOut(\"fast\");\n  };\n\n  guiders._highlightElement = function(selector) {\n    $(selector).addClass('guiders_highlight');\n  };\n\n  guiders._initializeOverlay = function() {\n    if ($(\"#guiders_overlay\").length === 0) {\n      $(\"<div id='guiders_overlay'></div>\").hide().appendTo(\"body\");\n    }\n  };\n\n  guiders._showOverlay = function(myGuider) {\n    // This callback is needed to fix an IE opacity bug.\n    // See also:\n    // http://www.kevinleary.net/jquery-fadein-fadeout-problems-in-internet-explorer/\n    $(\"#guiders_overlay\").fadeIn(\"fast\", function(){\n      if (this.style.removeAttribute) {\n        this.style.removeAttribute(\"filter\");\n      }\n    });\n    if (guiders._isIE) {\n      $(\"#guiders_overlay\").css(\"position\", \"absolute\");\n    }\n  };\n\n  guiders._styleArrow = function(myGuider) {\n    var position = myGuider.position || 0;\n    if (!position) {\n      return;\n    }\n    var myGuiderArrow = $(myGuider.elem.find(\".guiders_arrow\"));\n    var newClass = {\n      1: \"guiders_arrow_down\",\n      2: \"guiders_arrow_left\",\n      3: \"guiders_arrow_left\",\n      4: \"guiders_arrow_left\",\n      5: \"guiders_arrow_up\",\n      6: \"guiders_arrow_up\",\n      7: \"guiders_arrow_up\",\n      8: \"guiders_arrow_right\",\n      9: \"guiders_arrow_right\",\n      10: \"guiders_arrow_right\",\n      11: \"guiders_arrow_down\",\n      12: \"guiders_arrow_down\"\n    };\n    myGuiderArrow.addClass(newClass[position]);\n\n    var myHeight = myGuider.elem.innerHeight();\n    var myWidth = myGuider.elem.innerWidth();\n    var arrowOffset = guiders._arrowSize / 2;\n    var positionMap = {\n      1: [\"right\", arrowOffset],\n      2: [\"top\", arrowOffset],\n      3: [\"top\", myHeight/2 - arrowOffset],\n      4: [\"bottom\", arrowOffset],\n      5: [\"right\", arrowOffset],\n      6: [\"left\", myWidth/2 - arrowOffset],\n      7: [\"left\", arrowOffset],\n      8: [\"bottom\", arrowOffset],\n      9: [\"top\", myHeight/2 - arrowOffset],\n      10: [\"top\", arrowOffset],\n      11: [\"left\", arrowOffset],\n      12: [\"left\", myWidth/2 - arrowOffset]\n    };\n    var position = positionMap[myGuider.position];\n    myGuiderArrow.css(position[0], position[1] + \"px\");\n  };\n\n  /**\n   * One way to show a guider to new users is to direct new users to a URL such as\n   * http://www.mysite.com/myapp#guider=welcome\n   *\n   * This can also be used to run guiders on multiple pages, by redirecting from\n   * one page to another, with the guider id in the hash tag.\n   *\n   * Alternatively, if you use a session variable or flash messages after sign up,\n   * you can add selectively add JavaScript to the page: \"guiders.show('first');\"\n   */\n  guiders._showIfHashed = function(myGuider) {\n    var GUIDER_HASH_TAG = \"guider=\";\n    var hashIndex = window.location.hash.indexOf(GUIDER_HASH_TAG);\n    if (hashIndex !== -1) {\n      var hashGuiderId = window.location.hash.substr(hashIndex + GUIDER_HASH_TAG.length);\n      if (myGuider.id.toLowerCase() === hashGuiderId.toLowerCase()) {\n        guiders.show(myGuider.id);\n      }\n    }\n  };\n\n  guiders._updatePositionOnResize = function() {\n    // Change the bubble position after browser gets resized\n    var _resizing = undefined;\n    $(window).resize(function() {\n      if (typeof(_resizing) !== \"undefined\") {\n        clearTimeout(_resizing); // Prevents seizures\n      }\n      _resizing = setTimeout(function() {\n        _resizing = undefined;\n        if (typeof (guiders) !== \"undefined\") {\n          guiders.reposition();\n        }\n      }, 20);\n    });\n  };\n  guiders._updatePositionOnResize();\n\n  guiders._unwireEscape = function (myGuider) {\n    $(document).unbind(\"keydown\");\n  };\n\n  guiders._wireEscape = function (myGuider) {\n    $(document).keydown(function(event) {\n      if (event.keyCode == 27 || event.which == 27) {\n        guiders.hideAll();\n        if (myGuider.onClose) {\n          myGuider.onClose(myGuider, true /*close by X/Escape*/);\n        }\n        $(\"body\").trigger(\"guidersClose\");\n        return false;\n      }\n    });\n  };\n\n  guiders.createGuider = function(passedSettings) {\n    if (passedSettings === null || passedSettings === undefined) {\n      passedSettings = {};\n    }\n\n    // Extend those settings with passedSettings\n    var myGuider = $.extend({}, guiders._defaultSettings, passedSettings);\n    myGuider.id = myGuider.id || \"guider_random_\" + String(Math.floor(Math.random() * 1000));\n\n    var guiderElement = $(\"#\" + myGuider.id);\n    if (!guiderElement.length) {\n      // If the guider already exists in the DOM, use that, as an alternate guider instantiation method.\n      // See the docs and $.fn.guider for more details.\n      // Otherwise, use the html skeleton.\n      guiderElement = $(guiders._htmlSkeleton);\n    }\n\n    myGuider.elem = guiderElement;\n    if (typeof myGuider.classString !== \"undefined\" && myGuider.classString !== null) {\n      myGuider.elem.addClass(myGuider.classString);\n    }\n\n    // You may pass a parameter to width/maxwidth as either a string or a number.\n    // If it's a number then it is assumed to be in px.\n    if (Number(myGuider.width) === myGuider.width) {\n      myGuider.width = String(myGuider.width) + \"px\";\n    }\n    if (Number(myGuider.maxWidth) === myGuider.maxWidth) {\n      myGuider.maxWidth = String(myGuider.maxWidth) + \"px\";\n    }\n    myGuider.elem.css(\"width\", myGuider.width);\n    myGuider.elem.css(\"maxWidth\", myGuider.maxWidth);\n\n    var guiderTitleContainer = guiderElement.find(\".guiders_title\");\n    guiderTitleContainer.html(myGuider.title);\n\n    guiderElement.find(\".guiders_description\").html(myGuider.description);\n\n    guiders._addButtons(myGuider);\n\n    if (myGuider.xButton) {\n        guiders._addXButton(myGuider);\n    }\n\n    guiderElement.hide();\n    guiderElement.appendTo(\"body\");\n    guiderElement.attr(\"id\", myGuider.id);\n\n    // Ensure myGuider.attachTo is a jQuery element.\n    if (typeof myGuider.attachTo !== \"undefined\" && myGuider !== null) {\n      guiders._attach(myGuider);\n    }\n\n    guiders._initializeOverlay();\n\n    guiders._guiders[myGuider.id] = myGuider;\n    if (guiders._lastCreatedGuiderID != null) {\n      myGuider.prev = guiders._lastCreatedGuiderID;\n    }\n    guiders._lastCreatedGuiderID = myGuider.id;\n\n    /**\n     * If the URL of the current window is of the form\n     * http://www.myurl.com/mypage.html#guider=id\n     * then show this guider.\n     */\n    if (myGuider.isHashable) {\n      guiders._showIfHashed(myGuider);\n    }\n\n    return guiders;\n  };\n\n  guiders.get = function(id) {\n    if (typeof guiders._guiders[id] === \"undefined\") {\n      return null;\n    }\n    return guiders._guiders[id] || null;\n  };\n\n  guiders.getCurrentGuider = function() {\n    return guiders._guiders[guiders._currentGuiderID] || null;\n  };\n\n  guiders.hideAll = function(omitHidingOverlay, next) {\n    next = next || false;\n\n    $(\".guider:visible\").each(function(index, elem){\n      var myGuider = guiders.get($(elem).attr('id'));\n      if (myGuider.onHide) {\n        myGuider.onHide(myGuider, next);\n      }\n    });\n    $(\".guider\").fadeOut(\"fast\");\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (currentGuider && currentGuider.highlight) {\n       guiders._dehighlightElement(currentGuider.highlight);\n    }\n    if (typeof omitHidingOverlay !== \"undefined\" && omitHidingOverlay === true) {\n      // do nothing for now\n    } else {\n      guiders._hideOverlay();\n    }\n    return guiders;\n  };\n\n  guiders.next = function() {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (typeof currentGuider === \"undefined\") {\n      return null;\n    }\n    currentGuider.elem.data(\"locked\", true);\n\n    var nextGuiderId = currentGuider.next || null;\n    if (nextGuiderId !== null && nextGuiderId !== \"\") {\n      var nextGuider = guiders.get(nextGuiderId);\n      var omitHidingOverlay = nextGuider.overlay ? true : false;\n      guiders.hideAll(omitHidingOverlay, true);\n      if (currentGuider && currentGuider.highlight) {\n        guiders._dehighlightElement(currentGuider.highlight);\n      }\n\n      if (nextGuider.shouldSkip && nextGuider.shouldSkip()) {\n        guiders._currentGuiderID = nextGuider.id;\n        guiders.next();\n        return guiders.getCurrentGuider();\n      }\n      else {\n        guiders.show(nextGuiderId);\n        return guiders.getCurrentGuider();\n      }\n    }\n  };\n\n  guiders.prev = function () {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (typeof currentGuider === \"undefined\") {\n      // not what we think it is\n      return null;\n    }\n    if (currentGuider.prev === null) {\n      // no previous to look at\n      return null;\n    }\n\n    var prevGuider = guiders._guiders[currentGuider.prev];\n    prevGuider.elem.data(\"locked\", true);\n\n    // Note we use prevGuider.id as \"prevGuider\" is _already_ looking at the previous guider\n    var prevGuiderId = prevGuider.id || null;\n    if (prevGuiderId !== null && prevGuiderId !== \"\") {\n      var myGuider = guiders.get(prevGuiderId);\n      var omitHidingOverlay = myGuider.overlay ? true : false;\n      guiders.hideAll(omitHidingOverlay, true);\n      if (prevGuider && prevGuider.highlight) {\n        guiders._dehighlightElement(prevGuider.highlight);\n      }\n      guiders.show(prevGuiderId);\n      return myGuider;\n    }\n  };\n\n  guiders.reposition = function() {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    guiders._attach(currentGuider);\n  };\n\n  guiders.scrollToCurrent = function() {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (typeof currentGuider === \"undefined\") {\n      return;\n    }\n\n    var windowHeight = guiders._windowHeight;\n    var scrollHeight = $(window).scrollTop();\n    var guiderOffset = currentGuider.elem.offset();\n    var guiderElemHeight = currentGuider.elem.height();\n\n    // Scroll to the guider's position.\n    var scrollToHeight = Math.round(Math.max(guiderOffset.top + (guiderElemHeight / 2) - (windowHeight / 2), 0));\n    window.scrollTo(0, scrollToHeight);\n  };\n\n  guiders.show = function(id) {\n    if (!id && guiders._lastCreatedGuiderID) {\n      id = guiders._lastCreatedGuiderID;\n    }\n\n    var myGuider = guiders.get(id);\n    if (myGuider.overlay) {\n      guiders._showOverlay(myGuider);\n      // if guider is attached to an element, make sure it's visible\n      if (myGuider.highlight && myGuider.attachTo) {\n        guiders._highlightElement(myGuider.attachTo);\n      }\n    }\n\n    if (myGuider.closeOnEscape) {\n      guiders._wireEscape(myGuider);\n    } else {\n      guiders._unwireEscape(myGuider);\n    }\n\n    // You can use an onShow function to take some action before the guider is shown.\n    if (myGuider.onShow) {\n      myGuider.onShow(myGuider);\n    }\n    guiders._attach(myGuider);\n    myGuider.elem.fadeIn(\"fast\").data(\"locked\", false);\n\n    guiders._currentGuiderID = id;\n\n    var windowHeight = guiders._windowHeight = $(window).height();\n    var scrollHeight = $(window).scrollTop();\n    var guiderOffset = myGuider.elem.offset();\n    var guiderElemHeight = myGuider.elem.height();\n\n    var isGuiderBelow = (scrollHeight + windowHeight < guiderOffset.top + guiderElemHeight); /* we will need to scroll down */\n    var isGuiderAbove = (guiderOffset.top < scrollHeight); /* we will need to scroll up */\n\n    if (myGuider.autoFocus && (isGuiderBelow || isGuiderAbove)) {\n      // Sometimes the browser won't scroll if the person just clicked,\n      // so let's do this in a setTimeout.\n      setTimeout(guiders.scrollToCurrent, 10);\n    }\n\n    $(myGuider.elem).trigger(\"guiders.show\");\n\n    return guiders;\n  };\n})();\n","/* @flow */\n\nimport { Storage } from '../../environment';\nimport { getModuleId } from '../module';\nimport type { OpaqueModuleId } from '../module';\n\n// Don't batch in Firefox, as that may make the storage very slow on init\nexport const storage = Storage.wrapPrefix('RESoptions.', (): { [string]: any } => ({}), undefined, process.env.BUILD_TARGET !== 'firefox');\n\nexport const loadRaw = (moduleId: string) => storage.get(moduleId);\n\nexport async function get(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst options = await storage.get(getModuleId(opaqueId));\n\treturn options && options[optionKey];\n}\n\nexport async function getValue(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst option = await get(getModuleId(opaqueId), optionKey);\n\treturn option && option.value;\n}\n\nexport function set(opaqueId: OpaqueModuleId, optionKey: string, value: mixed) {\n\tif ((/_[\\d]+$/).test(optionKey)) {\n\t\toptionKey = optionKey.replace(/_[\\d]+$/, '');\n\t}\n\n\treturn storage.patch(getModuleId(opaqueId), { [optionKey]: { value } });\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport * as Modules from '../modules';\nimport { filterMap } from '../../utils';\n\nfunction getModified() {\n\treturn filterMap(Modules.all(), module => {\n\t\tconst { moduleID, options } = module;\n\n\t\tconst enabledByDefault = !module.disabledByDefault;\n\t\tconst isEnabled = Modules.isEnabled(module);\n\t\tconst moduleStatusChanged = enabledByDefault !== isEnabled;\n\n\t\tconst modifiedOptions = isEnabled ? _.omitBy(options, v => _.isEqual(v.value, v.default)) : {};\n\n\t\tif (!_.isEmpty(modifiedOptions) || moduleStatusChanged) {\n\t\t\treturn [{\n\t\t\t\tmoduleID,\n\t\t\t\tmodifiedOptions,\n\t\t\t\tmoduleStatus: moduleStatusChanged ? `${enabledByDefault ? 'on' : 'off'}  ${isEnabled ? 'on' : 'off'}` : '',\n\t\t\t}];\n\t\t}\n\t});\n}\n\nexport function getModifiedText(types: Array<*> = ['text', 'boolean', 'enum']) {\n\tconst lines = [];\n\tlet optionMaxLength = 0;\n\tlet moduleMaxLength = 0;\n\n\tfor (const { moduleID, modifiedOptions, moduleStatus } of getModified()) {\n\t\tmoduleMaxLength = Math.max(moduleMaxLength, moduleID.length);\n\t\toptionMaxLength = Math.max(optionMaxLength, ...Object.keys(modifiedOptions).map(v => v.length));\n\n\t\tlines.push(() =>\n\t\t\t[\n\t\t\t\t`    ${moduleID.padEnd(moduleMaxLength)} ${moduleStatus}`,\n\t\t\t\t...Object.entries(modifiedOptions)\n\t\t\t\t\t.filter(([, { type }]) => types.includes(type))\n\t\t\t\t\t.map(([key, value]) => (\n\t\t\t\t\t\t`      ${key.padEnd(optionMaxLength)}\\t${JSON.stringify(value.default)}  ${JSON.stringify(value.value)}`\n\t\t\t\t\t)),\n\t\t\t],\n\t\t);\n\t}\n\n\treturn _.flatten(lines.map(v => v())).join('\\n');\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport * as Modules from '../modules';\nimport { save } from './options';\n\nlet stagedOptions;\n\nclearStagedOptions();\n\nexport { stageOption as add };\nfunction stageOption(moduleID: string, optionName: string, optionValue: mixed) {\n\tconst mod = Modules.get(moduleID);\n\n\tstagedOptions[moduleID] = stagedOptions[moduleID] || {};\n\n\tif (!_.isEqual(mod.options[optionName].value, optionValue)) {\n\t\t// new option value, add to stage\n\t\tstagedOptions[moduleID][optionName] = {\n\t\t\tvalue: optionValue,\n\t\t};\n\t} else {\n\t\t// staged value is the same as stored, remove option from stage\n\t\tdelete stagedOptions[moduleID][optionName];\n\t}\n\n\tif (_.isEmpty(stagedOptions[moduleID])) {\n\t\t// no staged options for module, remove module from stage\n\t\tdelete stagedOptions[moduleID];\n\t}\n}\n\nexport { commitStagedOptions as commit };\nfunction commitStagedOptions() {\n\tfor (const [modId, options] of Object.entries(stagedOptions)) {\n\t\tconst module = Modules.get(modId);\n\n\t\tfor (const [optionName, option] of Object.entries(options)) {\n\t\t\tconst _option = module.options[optionName];\n\t\t\t_option.value = option.value;\n\t\t\tsave(_option);\n\t\t}\n\n\t\tmodule.onSaveSettings(options);\n\t}\n\n\tclearStagedOptions();\n}\n\nexport { clearStagedOptions as reset };\nfunction clearStagedOptions() {\n\tstagedOptions = {};\n}\n\nexport { hasStagedOptions as isDirty };\nfunction hasStagedOptions() {\n\treturn !_.isEmpty(stagedOptions);\n}\n\nexport { getStagedOptions as get };\nfunction getStagedOptions(moduleID: string) {\n\treturn stagedOptions[moduleID];\n}\n","/* @flow */\n\nimport * as Modules from '../modules';\nimport { firstValid } from '../../utils';\nimport type { OpaqueModuleId } from '../module';\nimport { set } from './storage';\n\nexport function getMatchingValueOrAdd(\n\topaqueId: OpaqueModuleId,\n\toptionKey: string,\n\tvalueIdentifier: *,\n\t_default?: *,\n) {\n\tconst module = Modules.get(opaqueId);\n\n\tconst option = module.options[optionKey];\n\tif (option.type !== 'table') {\n\t\tthrow new Error(`Tried to save table value to non-table option: modules.${module.moduleID}.options.${optionKey}`);\n\t}\n\n\tlet row = option.value.find(value =>\n\t\toption.fields.every((field, i) => !valueIdentifier.hasOwnProperty(field.key) || value[i] === valueIdentifier[field.key]),\n\t);\n\n\tif (!row) {\n\t\tconst value = { ...valueIdentifier, ..._default };\n\t\trow = option.fields.map(field => firstValid(value[field.key], field.value));\n\t\toption.value.push(row);\n\t\tset(module, optionKey, option.value);\n\t}\n\n\treturn option.fields.reduce((acc, field, i) => {\n\t\tObject.defineProperty(acc, field.key, {\n\t\t\tenumerable: true,\n\t\t\tget: () => row[i],\n\t\t\tset: v => {\n\t\t\t\trow[i] = v;\n\t\t\t\tset(module, optionKey, option.value);\n\t\t\t},\n\t\t});\n\t\treturn acc;\n\t}, {});\n}\n","/* @flow */\n\nexport {\n\tsave,\n} from './options';\n\nexport {\n\tloadRaw,\n\tget,\n\tgetValue,\n\tset,\n\tstorage,\n} from './storage';\n\nexport {\n\tgetModifiedText,\n} from './modified';\n\nexport * as stage from './stage';\n\nexport * as table from './table';\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport { NAMED_KEYS, getViewportSize, frameThrottle, waitForEvent, waitForDetach } from '../utils';\n\nexport const module: Module<*> = new Module('hover');\n\nmodule.moduleName = 'hoverName';\nmodule.category = 'coreCategory';\nmodule.description = 'hoverDesc';\nmodule.alwaysEnabled = true;\n\nmodule.options = {\n\tinstances: {\n\t\tdescription: 'hoverInstancesDesc',\n\t\ttitle: 'hoverInstancesTitle',\n\t\ttype: 'table',\n\t\tvalue: ([]: Array<[string, boolean]>),\n\t\tfields: [{\n\t\t\tkey: 'id',\n\t\t\tname: 'hoverInstancesName',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tname: 'hoverInstancesEnabled',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: true,\n\t\t}],\n\t},\n\topenDelay: {\n\t\ttype: 'text',\n\t\tvalue: '500',\n\t\tdescription: 'hoverOpenDelayDesc',\n\t\ttitle: 'hoverOpenDelayTitle',\n\t},\n\tfadeDelay: {\n\t\ttype: 'text',\n\t\tvalue: '500',\n\t\tdescription: 'hoverFadeDelayDesc',\n\t\ttitle: 'hoverFadeDelayTitle',\n\t},\n\tfadeSpeed: {\n\t\tnoconfig: true, // broken\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'hoverFadeSpeedDesc',\n\t\ttitle: 'hoverFadeSpeedTitle',\n\t},\n\twidth: {\n\t\ttype: 'text',\n\t\tvalue: '512',\n\t\tdescription: 'hoverWidthDesc',\n\t\ttitle: 'hoverWidthTitle',\n\t},\n\tcloseOnMouseOut: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'hoverCloseOnMouseOutDesc',\n\t\ttitle: 'hoverCloseOnMouseOutTitle',\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tHover._defaultOptions = {\n\t\topenDelay: parseFloat(module.options.openDelay.value),\n\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\twidth: parseFloat(module.options.width.value),\n\t\tcloseOnMouseOut: module.options.closeOnMouseOut.value,\n\t\tenabled: true,\n\t};\n};\n\nconst instances: { [string]: Hover } = {};\nconst getInstance = (TypeClass, id) => instances[id] || (instances[id] = new TypeClass(id));\n\nexport const infocard = (name: string) => getInstance(HoverInfoCard, name);\nexport const dropdownList = (name: string) => getInstance(HoverDropdownList, name);\n\nfunction getFixedParent(e: Element): ?Element {\n\tconst p = e.parentElement;\n\treturn p && (window.getComputedStyle(p).position === 'fixed' && e || getFixedParent(p));\n}\n\nexport const pin = {\n\tbottom: 'bottom',\n\tright: 'right',\n};\n\ntype HoverContents = JQuery | HTMLElement | DocumentFragment | string | null;\ntype HoverCallback = (self: Hover) => Promise<HoverContents[]> | HoverContents[];\n\nclass Hover {\n\tstatic _defaultOptions = {};\n\n\ttemplate: string = `\n\t\t<div class=\"RESHover\">\n\t\t\t<div data-hover-element=\"0\" />\n\t\t\t<div data-hover-element=\"1\" />\n\t\t\t<div data-hover-element=\"2\" />\n\t\t\t<div data-hover-element=\"3\" />\n\t\t</div>\n\t`;\n\n\t_options: { [string]: any } = Hover._defaultOptions;\n\tinstanceID: string;\n\n\tvisible: boolean = false;\n\t_hideTimer: TimeoutID | null = null;\n\t_showTimer: TimeoutID | null = null;\n\t_closeFadeTimer: TimeoutID | null = null;\n\t_target: HTMLElement | void;\n\t_callback: HoverCallback | void;\n\t_container: HTMLElement | void;\n\n\t_fixedPosition: boolean = false;\n\n\t_closePromise: Promise<*>;\n\t_closePromiseResolve: () => void;\n\n\tconstructor(id: string) {\n\t\tthis.instanceID = id;\n\t}\n\n\toptions(options: { [string]: mixed }, persistent: boolean = true) {\n\t\tconst persistentOptions = persistent ?\n\t\t\tOptions.table.getMatchingValueOrAdd(module, 'instances', { id: this.instanceID }, { enabled: true }) : undefined;\n\n\t\tthis._options = {\n\t\t\t...this._options,\n\t\t\t...options,\n\t\t\t...persistentOptions,\n\t\t};\n\n\t\treturn this;\n\t}\n\n\ttarget(element: HTMLElement) {\n\t\tif (this._target && this._target !== element) {\n\t\t\tthis.close();\n\t\t}\n\n\t\tthis._target = element;\n\n\t\treturn this;\n\t}\n\n\tgetCheckedTarget(): HTMLElement {\n\t\tif (!this._target || !this._target.offsetParent) {\n\t\t\tthis.close();\n\t\t\tthrow new Error('Cannot show hover without target; closing hover.');\n\t\t}\n\t\treturn this._target;\n\t}\n\n\tpopulateWith(callback: HoverCallback) {\n\t\tthis._callback = callback;\n\n\t\treturn this;\n\t}\n\n\tgetContainer() {\n\t\tconst container = this._container = this._container || this._render();\n\n\t\tif (!document.body.contains(container)) {\n\t\t\tdocument.body.append(container);\n\t\t}\n\n\t\treturn container;\n\t}\n\n\t_render() {\n\t\tconst ele = $(this.template).get(0);\n\t\tthis._addContainerHandlers(ele);\n\t\tif (this._options.className) ele.classList.add(this._options.className);\n\t\treturn ele;\n\t}\n\n\t_checkMouseLeave = frameThrottle(({ target }: MouseEvent) => {\n\t\tif (\n\t\t\tthis.visible &&\n\t\t\tthis._options.closeOnMouseOut &&\n\t\t\t!this.getCheckedTarget().contains(target) &&\n\t\t\t// Also check that the mouse is not in a \"child\" hover (e.g. by opening the user tagger via userInfo)\n\t\t\t!Object.values(instances).some(instance => instance._container && instance._container.contains(target))\n\t\t) this._startHideTimer();\n\t});\n\n\t_addContainerHandlers(ele: HTMLElement) {\n\t\t$(ele)\n\t\t\t.on('mouseenter', () => {\n\t\t\t\tthis._cancelHideTimer();\n\t\t\t\tthis._clearCloseFade();\n\t\t\t})\n\t\t\t.on('mouseleave', this._checkMouseLeave)\n\t\t\t.on('click', '.RESCloseButton', () => this.close())\n\t\t\t.on('keyup', (e: KeyboardEvent) => {\n\t\t\t\tif (e.key === NAMED_KEYS.Escape) this.close();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\t}\n\n\tbegin() {\n\t\tif (!this._options.enabled) return false;\n\n\t\tif (this._options.openDelay) {\n\t\t\tthis._startShowTimer();\n\t\t} else {\n\t\t\tthis.open();\n\t\t}\n\t}\n\n\twatch(selector: string) {\n\t\t$(document.body).on('mouseenter', selector, ({ currentTarget }: MouseEvent) => {\n\t\t\tthis.target(currentTarget).begin();\n\t\t});\n\t}\n\n\topen() {\n\t\tif (!this._options.enabled) return false;\n\n\t\tthis._cancelShowTimer();\n\t\tthis._cancelHideTimer();\n\t\tthis._clearCloseFade();\n\n\t\tconst callback = this._callback;\n\t\tif (!callback) throw new Error();\n\n\t\tif (this._closePromiseResolve) this._closePromiseResolve();\n\t\tthis._closePromise = new Promise(res => { this._closePromiseResolve = res; });\n\n\t\tthis._displayLoadIndicator();\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tthis.populate(await callback(this));\n\t\t\t} catch (e) {\n\t\t\t\tthis.close();\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t})();\n\n\t\t// The element may be removed without the hover being closed first\n\t\twaitForDetach(this.getCheckedTarget(), this._closePromise).then(() => { this.close(); })\n\t\t\t.catch(() => { /* avoid \"uncaught promise rejection\" */ });\n\n\t\tif (this._options.closeOnMouseOut) {\n\t\t\t// `mouseleave` may not be triggered, so add additonal checks\n\t\t\tdocument.body.addEventListener('mousemove', this._checkMouseLeave);\n\t\t\tdocument.body.addEventListener('mouseover', this._checkMouseLeave);\n\t\t}\n\n\t\tthis.visible = true;\n\t}\n\n\t_displayLoadIndicator() {}\n\n\tasync refresh() {\n\t\tconst callback = this._callback;\n\t\tif (callback) this.populate(await callback(this));\n\t}\n\n\tpopulate(items: HoverContents[]) {\n\t\tif (!this._options.enabled) return false;\n\n\t\tconst container = this.getContainer();\n\n\t\titems.forEach((item, i) => {\n\t\t\tif (!item) return;\n\t\t\tconst $element = $(container).find(`[data-hover-element=\"${i}\"]`);\n\t\t\t$element.children().detach(); // allow re-use of elements with jQuery event handlers\n\t\t\t$element.empty().append((item: any)); // The JQuery Flow declaration doesn't allow for `DocumentFragment`\n\t\t});\n\n\t\tconst fixedParent = getFixedParent(this.getCheckedTarget());\n\t\tif (fixedParent) {\n\t\t\tthis._fixedPosition = true;\n\n\t\t\t// If the fixed parent scrolls (e.g. if it has a scrollbar, like in lightboxes), then the container loses\n\t\t\t// position sync with the target.\n\t\t\t// I am not able to figure out a way to keep them together without requiring CSS recalc on each `scroll`\n\t\t\tconst onScroll = () => {\n\t\t\t\tthis.close(false);\n\t\t\t\tfixedParent.removeEventListener('scroll', onScroll, true);\n\t\t\t};\n\t\t\tfixedParent.addEventListener('scroll', onScroll, true);\n\t\t}\n\n\t\tthis._updatePosition();\n\t}\n\n\t_positionContainer({ top = 'auto', right = 'auto', bottom = 'auto', left = 'auto' }: { top?: *, right?: *, bottom?: *, left?: * }) {\n\t\t$(this.getContainer()).css({\n\t\t\tposition: this._fixedPosition ? 'fixed' : 'absolute',\n\t\t\ttop: top !== 'auto' ? top + (this._fixedPosition ? 0 : window.scrollY) : 'auto',\n\t\t\tright: right !== 'auto' ? right + (this._fixedPosition ? 0 : window.scrollX) : 'auto',\n\t\t\tbottom: bottom !== 'auto' ? bottom + (this._fixedPosition ? 0 : window.scrollY) : 'auto',\n\t\t\tleft: left !== 'auto' ? left + (this._fixedPosition ? 0 : window.scrollX) : 'auto',\n\t\t});\n\t}\n\n\t_updatePosition() {\n\t\tconst target = this.getCheckedTarget();\n\t\tconst { top, left } = target.getBoundingClientRect();\n\t\tthis._positionContainer({ top, left });\n\t}\n\n\t// Ensure a stable `this` for timer starters / cancellers, so that they can be referenced when adding / remove event listeners\n\n\t_startShowTimer = () => {\n\t\tif (this._showTimer) return;\n\t\tthis._cancelHideTimer();\n\t\twaitForEvent(this.getCheckedTarget(), 'mouseleave').then(this._cancelShowTimer);\n\t\tthis._showTimer = setTimeout(() => this.open(), this._options.openDelay);\n\t};\n\n\t_cancelShowTimer = () => {\n\t\tif (!this._showTimer) return;\n\t\tclearTimeout(this._showTimer);\n\t\tthis._showTimer = null;\n\t};\n\n\tresetShowTimer() {\n\t\tif (this._showTimer) {\n\t\t\tthis._cancelShowTimer();\n\t\t\tthis._startShowTimer();\n\t\t}\n\t}\n\n\t_startHideTimer = () => {\n\t\tif (this._hideTimer || this._closeFadeTimer) return;\n\t\tthis._cancelShowTimer();\n\t\tthis._hideTimer = setTimeout(() => this.close(true), this._options.fadeDelay);\n\t};\n\n\t_cancelHideTimer = () => {\n\t\tif (!this._hideTimer) return;\n\t\tclearTimeout(this._hideTimer);\n\t\tthis._hideTimer = null;\n\t};\n\n\t_startCloseFade() {\n\t\tif (this._closeFadeTimer) return;\n\t\tthis._closeFadeTimer = setTimeout(() => { this.remove(); }, this._options.fadeSpeed * 1000);\n\t\tthis.getContainer().style.transitionDuration = `${this._options.fadeSpeed}s`;\n\t\tthis.getContainer().classList.add('transitionToTransparent');\n\t}\n\n\t_clearCloseFade() {\n\t\tif (!this._closeFadeTimer) return;\n\t\tclearTimeout(this._closeFadeTimer);\n\t\tthis.getContainer().style.transitionDuration = '';\n\t\tthis.getContainer().classList.remove('transitionToTransparent');\n\t\tthis._closeFadeTimer = null;\n\t}\n\n\tclose(fade: boolean = false) {\n\t\tif (!this._options.enabled) return false;\n\n\t\tthis._cancelShowTimer();\n\t\tthis._cancelHideTimer();\n\n\t\tif (fade) this._startCloseFade();\n\t\telse this.remove();\n\t}\n\n\tremove() {\n\t\tthis._clearCloseFade();\n\t\tthis.getContainer().remove();\n\t\tif (this._closePromiseResolve) this._closePromiseResolve();\n\t\tthis.visible = false;\n\n\t\tif (this._options.closeOnMouseOut) {\n\t\t\tdocument.body.removeEventListener('mousemove', this._checkMouseLeave);\n\t\t\tdocument.body.removeEventListener('mouseover', this._checkMouseLeave);\n\t\t}\n\t}\n}\n\nclass HoverInfoCard extends Hover {\n\ttemplate = `\n\t\t<div class=\"RESHover RESHoverInfoCard RESDialogSmall\">\n\t\t\t<h3 class=\"RESHoverTitle\" data-hover-element=\"0\"></h3>\n\t\t\t<div class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t<div class=\"RESHoverBody RESDialogContents\" data-hover-element=\"1\"></div>\n\t\t</div>\n\t`;\n\n\t_loadIndicator = '<div class=\"RESCenteredLoadIndicator\"><span class=\"RESLoadingSpinner\"></span></div>';\n\n\t_displayLoadIndicator() {\n\t\tthis.populate(['', this._loadIndicator]);\n\t}\n\n\t_updatePosition() {\n\t\tconst target = this.getCheckedTarget();\n\t\tconst { top, left, bottom, right } = target.getBoundingClientRect();\n\t\tconst $container = $(this.getContainer()).removeClass('right below');\n\n\t\tconst tooltipWidth = this._options.width;\n\t\tlet tooltipLeft, tooltipTop;\n\n\t\tif (!this._options.pin && right + tooltipWidth + 25 < getViewportSize().width) {\n\t\t\ttooltipTop = top - 14;\n\t\t\ttooltipLeft = right + 25;\n\t\t} else if (this._options.pin === pin.bottom || left - tooltipWidth - 30 < 0) {\n\t\t\t$container.addClass('below');\n\t\t\ttooltipTop = bottom + 10;\n\t\t\ttooltipLeft = Math.min(Math.max(getViewportSize().width - tooltipWidth, 0), left);\n\t\t} else {\n\t\t\t$container.addClass('right');\n\t\t\ttooltipTop = top - 14;\n\t\t\ttooltipLeft = left - tooltipWidth - 30;\n\t\t}\n\n\t\t$container.get(0).style.width = `${tooltipWidth}px`;\n\t\tthis._positionContainer({ left: tooltipLeft, top: tooltipTop });\n\t}\n}\n\nclass HoverDropdownList extends Hover {\n\ttemplate = `\n\t\t<div class=\"RESHover RESHoverDropdownList RESDropdownList\">\n\t\t\t<ul class=\"RESDropdownOptions\" data-hover-element=\"0\"></ul>\n\t\t</div>\n\t`;\n\n\t_options = {\n\t\t...Hover._defaultOptions,\n\t\tpin: pin.bottom,\n\t\toffsetWidth: 0,\n\t\toffsetHeight: 2,\n\t\tbottomPadding: 10,\n\t};\n\n\t_updatePosition() {\n\t\tconst target = this.getCheckedTarget();\n\t\tconst { top, left, height, width } = target.getBoundingClientRect();\n\t\tconst $container = $(this.getContainer());\n\n\t\tswitch (this._options.pin) {\n\t\t\tcase pin.right:\n\t\t\t\tconst bottomAlign = top + $container.height() + this._options.bottomPadding > getViewportSize().height;\n\t\t\t\tif (bottomAlign) {\n\t\t\t\t\tthis._positionContainer({ left: left + width, bottom: this._options.bottomPadding });\n\t\t\t\t} else {\n\t\t\t\t\tthis._positionContainer({ left: left + width, top: top + this._options.offsetHeight });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase pin.bottom:\n\t\t\t\t// falls through\n\t\t\tdefault:\n\t\t\t\tconst leftAlign = left + $container.outerWidth() < getViewportSize().width;\n\t\t\t\tif (leftAlign) {\n\t\t\t\t\tthis._positionContainer({ left, top: top + height + this._options.offsetHeight });\n\t\t\t\t} else {\n\t\t\t\t\tthis._positionContainer({ right: getViewportSize().width - left - width + this._options.offsetWidth, top: top + height + this._options.offsetHeight });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { sanitize } from 'dompurify';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tNAMED_KEYS,\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tdowncast,\n\tempty,\n\tloggedInUser,\n\tstring,\n} from '../utils';\nimport { Storage, XhrCache, ajax, openNewTab } from '../environment';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('commandLine');\n\nmodule.moduleName = 'commandLineName';\nmodule.description = 'commandLineDesc';\nmodule.category = 'coreCategory';\nmodule.options = {\n\tlaunch: {\n\t\ttitle: 'commandLineLaunchTitle',\n\t\ttype: 'button',\n\t\ttext: 'Launch',\n\t\tdescription: 'commandLineLaunchDesc',\n\t\tcallback() { open(); },\n\t},\n\tmenuItem: {\n\t\ttitle: 'commandLineMenuItemTitle',\n\t\ttype: 'boolean',\n\t\tdescription: 'commandLineMenuItemDesc',\n\t\tvalue: false,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.menuItem.value) {\n\t\taddMenuItem();\n\t}\n};\n\nfunction addMenuItem() {\n\tMenu.addMenuItem(\n\t\t() => string.html`<div>command line <span class=\"RESMenuItemButton res-icon\">\\uF060</span></div>`,\n\t\t() => open(),\n\t);\n}\n\nconst commandLine = _.once(() => {\n\tconst widget = string.html`\n\t\t<div id=\"keyCommandLineWidget\" hidden>\n\t\t\t<div id=\"keyCommandForm\">\n\t\t\t\t<input id=\"keyCommandInput\" type=\"text\" autocomplete=\"off\">\n\t\t\t\ttype a command, ? for help, esc to close\n\t\t\t\t<div id=\"keyCommandInputTip\"></div>\n\t\t\t\t<div id=\"keyCommandInputError\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n\tdocument.body.append(widget);\n\n\tconst input = downcast(widget.querySelector('#keyCommandInput'), HTMLInputElement);\n\n\tconst tip = widget.querySelector('#keyCommandInputTip');\n\tconst error = widget.querySelector('#keyCommandInputError');\n\n\tconst setTip = str => { tip.innerHTML = sanitize(str); };\n\tconst clearTip = () => empty(tip);\n\tconst setError = str => { error.innerHTML = sanitize(str); };\n\tconst clearError = () => empty(error);\n\n\tinput.addEventListener('blur', () => {\n\t\tif (!input.value.length) {\n\t\t\tclose();\n\t\t} else {\n\t\t\tsetError('click into the text input and press escape to close the command line');\n\t\t}\n\t});\n\n\tdocument.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (!widget.hidden && e.key === NAMED_KEYS.Escape) {\n\t\t\tclose();\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\t});\n\n\tinput.addEventListener('input', async () => {\n\t\tclearTip();\n\t\tclearError();\n\t\tconst tip = await getTip(parse(input.value));\n\t\tif (tip) setTip(tip);\n\t});\n\n\tconst commandLineForm = widget.querySelector('#keyCommandForm');\n\tcommandLineForm.addEventListener('keydown', async (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter) {\n\t\t\tconst error = await executeCommand(parse(input.value), e);\n\t\t\tif (error) {\n\t\t\t\tsetError(error);\n\t\t\t} else if (error !== false) {\n\t\t\t\tclose();\n\t\t\t}\n\t\t}\n\t});\n\n\treturn { widget, input };\n});\n\nexport function open(initialCmd: string = '') {\n\tcommandLine().widget.hidden = false;\n\tcommandLine().input.focus();\n\tcommandLine().input.value = initialCmd;\n\tcommandLine().input.dispatchEvent(new Event('input'));\n}\n\nfunction close() {\n\tcommandLine().input.blur();\n\tcommandLine().widget.hidden = true;\n}\n\nexport function toggle() {\n\tif (commandLine().widget.hidden) open();\n\telse close();\n}\n\nfunction navigateTo(url, e) {\n\tif (e.shiftKey) {\n\t\t// background tab if e.altKey\n\t\topenNewTab(url, !e.altKey);\n\t} else {\n\t\tlocation.href = url;\n\t}\n}\n\nconst commands = [];\n\nexport function registerCommand<T>(\n\tcommandPredicate: RegExp | string | (cmd: string, val: string) => false | void | null | T,\n\tdescription: string | string[] | false,\n\tgetTip: (cmd: string, val: string, predResult: T) => string | false | void | null | Promise<string>,\n\texecuteCommand: (cmd: string, val: string, predResult: T, e: KeyboardEvent) => string | false | void | null | Promise<string | void>,\n) {\n\tcommands.push({\n\t\tcommandPredicate,\n\t\tdescription,\n\t\tgetTip,\n\t\texecuteCommand,\n\t});\n}\n\nfunction getCommandSpec(command, val) {\n\tlet result;\n\tcommands.some(commandSpec => {\n\t\tlet predicateResult;\n\t\tif (typeof commandSpec.commandPredicate.exec === 'function') {\n\t\t\tpredicateResult = commandSpec.commandPredicate.exec(command);\n\t\t} else if (typeof commandSpec.commandPredicate === 'string') {\n\t\t\tpredicateResult = commandSpec.commandPredicate === command;\n\t\t} else if (typeof commandSpec.commandPredicate === 'function') {\n\t\t\tpredicateResult = commandSpec.commandPredicate(command, val);\n\t\t}\n\t\tif (predicateResult) {\n\t\t\tresult = {\n\t\t\t\t...commandSpec,\n\t\t\t\tpredicateResult,\n\t\t\t};\n\t\t\treturn true;\n\t\t}\n\t});\n\treturn result;\n}\n\nfunction parse(input) {\n\tconst splitWords = input.split(' ');\n\tconst command = splitWords[0];\n\tconst value = splitWords.slice(1).join(' ');\n\treturn { command, value };\n}\n\nfunction getTip({ command, value }) {\n\tconst matchingCommandSpec = getCommandSpec(command, value);\n\tif (matchingCommandSpec) {\n\t\treturn matchingCommandSpec.getTip(command, value, matchingCommandSpec.predicateResult) ||\n\t\t\tmatchingCommandSpec.description;\n\t}\n}\n\nfunction executeCommand({ command, value }, event) {\n\t// see what kind of input it is:\n\tconst matchingCommandSpec = getCommandSpec(command, value);\n\tif (matchingCommandSpec) {\n\t\treturn matchingCommandSpec.executeCommand(command, value, matchingCommandSpec.predicateResult, event);\n\t} else {\n\t\treturn 'unknown command - type ? for help';\n\t}\n}\n\nregisterCommand(/^\\/?r\\/(.*)/, 'r/[subreddit] - navigates to subreddit',\n\t(command, val, match) => `navigate to subreddit: ${match[1]}`,\n\t(command, val, match, e) => {\n\t\tnavigateTo(`/r/${match[1]}`, e);\n\t},\n);\n\nregisterCommand(/^\\/?m\\/(.*)/, 'm/[multi] - view your multi-reddit [multi]',\n\t(command, val, match) => `navigate to multi-reddit: /me/m/${match[1]}`,\n\t(command, val, match, e) => {\n\t\tnavigateTo(`/me/m/${match[1]}`, e);\n\t},\n);\n\nregisterCommand('m', 'm - go to inbox',\n\t() => 'View messages',\n\t(command, value, match, e) => {\n\t\tnavigateTo('/message/inbox/', e);\n\t},\n);\n\nregisterCommand('mm', 'mm - go to moderator mail',\n\t() => 'View moderator mail',\n\t(command, value, match, e) => {\n\t\tnavigateTo('/message/moderator/', e);\n\t},\n);\n\nregisterCommand('front', 'front - go to frontpage',\n\t() => 'Go to frontpage',\n\t(command, value, match, e) => {\n\t\tnavigateTo('/', e);\n\t},\n);\n\nregisterCommand(/^XHR/, 'XHRCache clear - manipulate the XHR cache',\n\t() => 'clear - clear the cache (use if inline images aren\\'t loading properly)',\n\t(command, value) => {\n\t\tif ((/^\\s*$/).test(value)) {\n\t\t\treturn 'Operation required [clear]';\n\t\t}\n\n\t\tswitch (value) {\n\t\t\tcase 'clear':\n\t\t\t\tXhrCache.clear();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn 'The only accepted operation is <tt>clear</tt>';\n\t\t}\n\t},\n);\n\n\nregisterCommand(/^user$|^u$|^\\/?u(?:ser)?\\/(\\w*((?!\\/m\\/).)*)$/, 'user [username] or u/[username] - view profile for [username]',\n\t(command, val, match) => {\n\t\tval = val || match[1];\n\t\tif (!val && loggedInUser()) {\n\t\t\treturn 'go to profile';\n\t\t} else if (!val) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn `go to profile for: ${val}`;\n\t\t}\n\t},\n\t(command, val, match, e) => {\n\t\tval = val || match[1] || loggedInUser();\n\t\tif (!val) {\n\t\t\treturn 'not logged in';\n\t\t}\n\t\tnavigateTo(`/u/${val}`, e);\n\t},\n);\n\nregisterCommand(/^\\/?u(?:ser)?\\/(\\w+)\\/m(?:\\/(.+))?/, 'u/[username]/m/[multi] - view the multireddit [multi] curated by [username]',\n\t(command, val, match) => `navigate to multi-reddit: /u/${match[1]}/m/${match[2] || ''}`,\n\t(command, val, match, e) => {\n\t\tif (!match[1]) {\n\t\t\treturn 'no multi-reddit specified';\n\t\t}\n\t\tnavigateTo(`/u/${match[1]}/m/${match[2]}`, e);\n\t},\n);\n\nregisterCommand(/^\\/?me(?:\\/?(.*))$/,\n\t[\n\t\t'me - view profile for current user',\n\t\t'me/saved or me/s - view current user\\'s saved links',\n\t\t'me/saved#comments or me/sc - view current user\\'s saved comments',\n\t\t'me/submitted or me/sub - view current user\\'s submitted content',\n\t\t'me/comments or me/c - view current user\\'s comments',\n\t\t'me/gilded or me/g - view current user\\'s gilded content',\n\t\t'me/liked or me/l - view current user\\'s liked content ',\n\t\t'me/disliked or me/d - view current user\\'s disliked content',\n\t\t'me/hidden or me/h - view current user\\'s hidden content',\n\t],\n\t(command, val, match) => {\n\t\tconst loggedIn = loggedInUser();\n\t\tif (!loggedIn) {\n\t\t\treturn 'not logged in';\n\t\t}\n\t\tlet str;\n\t\tswitch (match[1]) {\n\t\t\tcase '':\n\t\t\t\t// go to current user's page\n\t\t\t\tstr = `navigate to user profile: ${loggedIn}`;\n\t\t\t\tbreak;\n\t\t\tcase 'saved':\n\t\t\tcase 's':\n\t\t\t\t// go to current user's saved content\n\t\t\t\tstr = 'navigate to current user\\'s saved content';\n\t\t\t\tbreak;\n\t\t\tcase 'saved#comments':\n\t\t\tcase 'sc':\n\t\t\t\t// go to current RES's saved comments\n\t\t\t\tstr = 'navigate to current RES\\'s saved comments';\n\t\t\t\tbreak;\n\t\t\tcase 'submitted':\n\t\t\tcase 'sub':\n\t\t\t\t// go to current user's submitted content\n\t\t\t\tstr = 'navigate to current user\\'s submitted content';\n\t\t\t\tbreak;\n\t\t\tcase 'comments':\n\t\t\tcase 'c':\n\t\t\t\t// go to current user's comments page\n\t\t\t\tstr = 'navigate to current user\\'s comments';\n\t\t\t\tbreak;\n\t\t\tcase 'gilded':\n\t\t\tcase 'g':\n\t\t\t\t// go to current user's gilded content\n\t\t\t\tstr = 'navigate to current user\\'s gilded content';\n\t\t\t\tbreak;\n\t\t\tcase 'liked':\n\t\t\tcase 'l':\n\t\t\t\t// go to current user's liked content\n\t\t\t\tstr = 'navigate to current user\\'s liked content';\n\t\t\t\tbreak;\n\t\t\tcase 'disliked':\n\t\t\tcase 'd':\n\t\t\t\t// go to current user's disliked content\n\t\t\t\tstr = 'navigate to current user\\'s disliked content';\n\t\t\t\tbreak;\n\t\t\tcase 'hidden':\n\t\t\tcase 'h':\n\t\t\t\t// go to current user's hidden content\n\t\t\t\tstr = 'navigate to current user\\'s hidden content';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tstr = 'navigate to [s]aved, [s]aved[c]omments, [sub]mitted, [c]omments, [g]ilded, [l]iked, [d]isliked, [h]idden';\n\t\t\t\tbreak;\n\t\t}\n\t\treturn str;\n\t},\n\t(command, val, match, e) => {\n\t\tconst currentUser = loggedInUser();\n\t\tif (!currentUser) {\n\t\t\treturn 'not logged in';\n\t\t}\n\t\tswitch (match[1]) {\n\t\t\tcase '':\n\t\t\t\t// go to current user's page\n\t\t\t\tnavigateTo(`/user/${currentUser}`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'saved':\n\t\t\tcase 's':\n\t\t\t\t// go to current user's saved content\n\t\t\t\tnavigateTo(`/user/${currentUser}/saved`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'saved#comments':\n\t\t\tcase 'sc':\n\t\t\t\t// go to current user's saved comments\n\t\t\t\tnavigateTo(`/user/${currentUser}/saved#comments`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'submitted':\n\t\t\tcase 'sub':\n\t\t\t\t// go to current user's submitted content\n\t\t\t\tnavigateTo(`/user/${currentUser}/submitted`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'comments':\n\t\t\tcase 'c':\n\t\t\t\t// go to current user's comments page\n\t\t\t\tnavigateTo(`/user/${currentUser}/comments`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'gilded':\n\t\t\tcase 'g':\n\t\t\t\t// go to current user's gilded content\n\t\t\t\tnavigateTo(`/user/${currentUser}/gilded`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'liked':\n\t\t\tcase 'l':\n\t\t\t\t// go to current user's liked content\n\t\t\t\tnavigateTo(`/user/${currentUser}/liked`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'disliked':\n\t\t\tcase 'd':\n\t\t\t\t// go to current user's disliked content\n\t\t\t\tnavigateTo(`/user/${currentUser}/disliked`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'hidden':\n\t\t\tcase 'h':\n\t\t\t\t// go to current user's hidden content\n\t\t\t\tnavigateTo(`/user/${currentUser}/hidden`, e);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn 'unknown command - type ? for help';\n\t\t}\n\t},\n);\n\nregisterCommand('userinfo', false,\n\t() => {},\n\t(command, val) => {\n\t\t// view JSON data for username (username is required)\n\t\tif (val.length <= 1) {\n\t\t\treturn 'No username specified.';\n\t\t} else {\n\t\t\tajax({ url: string.encode`/user/${val}/about.json` }).then(Alert.open);\n\t\t}\n\t},\n);\n\nregisterCommand('userbadge', false,\n\t() => {},\n\t(command, val) => {\n\t\t// get CSS code for a badge for username (username is required)\n\t\tif (val.length <= 1) {\n\t\t\treturn 'No username specified.';\n\t\t} else {\n\t\t\tajax({\n\t\t\t\turl: string.encode`/user/${val}/about.json`,\n\t\t\t\ttype: 'json',\n\t\t\t}).then(({ data }) => Alert.open(`, .id-t2_${data.id}::before`));\n\t\t}\n\t},\n);\n\n{\n\tconst optionsRegex = /(?:RES)?opt(?:ion)?s?[\\.\\s]+(.*)/i;\n\tconst moduleDataRegex = /(?:RES)?mod(?:ule)?s?[\\.\\s]+(.*)/i;\n\n\tfunction sanitizeStorageKey(key) {\n\t\tlet match;\n\t\tif ((match = optionsRegex.exec(key))) {\n\t\t\tkey = `RESoptions.${match[1]}`;\n\t\t} else if ((match = moduleDataRegex.exec(key))) {\n\t\t\tkey = `RESmodules.${match[1]}`;\n\t\t}\n\n\t\treturn key;\n\t}\n\n\tfunction executeCommand(command, key, value) {\n\t\tif (command === 'get') {\n\t\t\tStorage.get(key).then(value =>\n\t\t\t\tAlert.open(string.escape`Value of RESStorage[${key}]: <br><br><textarea rows=\"5\" cols=\"50\">${JSON.stringify(value)}</textarea>`),\n\t\t\t);\n\t\t} else if (command === 'update') {\n\t\t\tStorage.get(key).then(value => {\n\t\t\t\tconst element = string.html`<div>Value of RESStorage[${key}]: <br><br><textarea rows=\"5\" cols=\"50\">${JSON.stringify(value)}</textarea></div>`;\n\t\t\t\tAlert.open(element, { cancelable: true })\n\t\t\t\t\t.then(() => Storage.set(key, JSON.parse(downcast(element.querySelector('textarea'), HTMLTextAreaElement).value)));\n\t\t\t});\n\t\t} else if (command === 'remove') {\n\t\t\tStorage.delete(key);\n\t\t\tAlert.open(string.escape`RESStorage[${key}] deleted`);\n\t\t} else if (command === 'set') {\n\t\t\tStorage.set(key, JSON.parse(value));\n\t\t\tAlert.open(string.escape`RESStorage[${key}] set to:<br><br><textarea rows=\"5\" cols=\"50\">${value}</textarea>`);\n\t\t} else {\n\t\t\treturn 'You must specify either \"get [key]\" or \"set [key] [value]\"';\n\t\t}\n\t}\n\n\tregisterCommand(/(?:RES)?stor(?:e|age)?/i, 'RESStorage [get|set|update|remove] [key] [value] - For debug use only, you shouldn\\'t mess with this unless you know what you\\'re doing.',\n\t\t() => {\n\t\t},\n\t\t(command, val) => {\n\t\t\t// get or set RESStorage data\n\t\t\tconst splitWords = val.split(' ');\n\t\t\tif (splitWords.length < 2) {\n\t\t\t\treturn 'You must specify \"get [key]\", \"update [key]\" or \"set [key] [value]\"';\n\t\t\t} else {\n\t\t\t\tconst key = sanitizeStorageKey(splitWords[1]);\n\t\t\t\tconst value = splitWords.slice(2).join(' ');\n\n\t\t\t\treturn executeCommand(splitWords[0], key, value);\n\t\t\t}\n\t\t},\n\t);\n}\n\nconst sortTypes = {\n\tn: 'new',\n\tt: 'top',\n\th: 'hot',\n\tr: 'rising',\n\tc: 'controversial',\n\tg: 'gilded',\n\tp: 'ads',\n};\nconst sortTypeRecognizesPeriod = sortType => sortTypes.t === sortType || sortTypes.c === sortType;\nconst periods = ['hour', 'day', 'week', 'month', 'year', 'all'];\nconst getPeriod = val => val && periods.find(period => period.startsWith(val));\n\nregisterCommand(/^\\/([nthrcgp])?/, '/n, /t, /h, /r, /c, /g, or /p - goes to new, top, hot, rising, controversial, gilded, or promoted sort of current subreddit, multireddit or user page',\n\t(command, val, match) => {\n\t\tconst sortType = sortTypes[match[1]];\n\t\tif (sortType) {\n\t\t\treturn sortTypeRecognizesPeriod(sortType) ?\n\t\t\t\t`sort by ${sortType} [(${periods.map(period => getPeriod(val) === period ? `<b>${period}</b>` : period).join('|')})]` :\n\t\t\t\t`sort by ${sortType}`;\n\t\t} else {\n\t\t\treturn 'sort by ([n]ew, [t]op, [h]ot, [r]ising, [c]ontroversial, [g]ilded, [p]romoted)';\n\t\t}\n\t},\n\t(command, val, match, e) => {\n\t\tconst sortType = sortTypes[match[1]];\n\t\tif (!sortType) {\n\t\t\treturn 'invalid sort command - must be one of [n]ew, [t]op, [h]ot, [r]ising, [c]ontroversial, [g]ilded, [p]romoted';\n\t\t}\n\n\t\tfunction _navigateTo(v) {\n\t\t\tconst url = new URL(v, location.href);\n\n\t\t\tconst period = getPeriod(val);\n\t\t\tif (sortTypeRecognizesPeriod(sortType) && period) {\n\t\t\t\turl.searchParams.append('t', period);\n\t\t\t}\n\n\t\t\tnavigateTo(url.href, e);\n\t\t}\n\n\t\tconst currentUser = currentUserProfile();\n\t\tif (currentUser) {\n\t\t\t// Special-case for user pages since they behave a little differently\n\t\t\t// than subreddits/multireddits.\n\t\t\tif (sortType === 'gilded') {\n\t\t\t\t_navigateTo(`/user/${currentUser}/${sortType}`);\n\t\t\t} else if (sortType === 'ads' || sortType === 'rising') {\n\t\t\t\treturn `invalid sort command - \"${sortType}\" is not supported on profile pages`;\n\t\t\t} else {\n\t\t\t\t_navigateTo(`/user/${currentUser}?sort=${sortType}`);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tconst subreddit = currentSubreddit();\n\t\tif (subreddit) {\n\t\t\t_navigateTo(`/r/${subreddit}/${sortType}`);\n\t\t\treturn;\n\t\t}\n\n\t\tconst multi = currentMultireddit();\n\t\tif (multi) {\n\t\t\t_navigateTo(`/${multi}/${sortType}`);\n\t\t} else {\n\t\t\t_navigateTo(`/${sortType}`);\n\t\t}\n\t},\n);\n\nregisterCommand(cmd => ['s', 'search'].includes(cmd), 's[earch] [query] - searches the current subreddit (if any) or all of Reddit',\n\t(command, val) => {\n\t\tconst subreddit = currentSubreddit();\n\t\tif (!subreddit) {\n\t\t\treturn `Search all of Reddit: ${val}`;\n\t\t}\n\t\treturn `Search /r/${subreddit}: ${val}`;\n\t},\n\t(command, val, match, e) => {\n\t\tconst subreddit = currentSubreddit();\n\t\tif (!subreddit) {\n\t\t\tnavigateTo(string.encode`/search?q=${val}`, e);\n\t\t\treturn;\n\t\t}\n\t\tnavigateTo(string.encode`/r/${subreddit}/search?q=${val}&restrict_sr=on`, e);\n\t},\n);\n\nregisterCommand('sr', 'sr [query] - searches all of Reddit',\n\t(command, val) => `Search all of Reddit: ${val}`,\n\t(command, val, match, e) => {\n\t\tnavigateTo(string.encode`/search?q=${val}`, e);\n\t},\n);\n\nregisterCommand('?', false,\n\t() => {\n\t\tconst descriptions = commands\n\t\t\t.map(command => command.description)\n\t\t\t.reduce((a, b) => b ? a.concat(b) : a, []);\n\n\t\tif (descriptions.length) {\n\t\t\treturn `<ul><li>${descriptions.join('</li><li>')}</li></ul>`;\n\t\t}\n\t},\n\t() => false,\n);\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { i18n } from '../environment';\nimport { addFloater, string } from '../utils';\nimport * as Hover from './hover';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as CommandLine from './commandLine';\n\nexport const module: Module<*> = new Module('RESMenu');\n\nmodule.moduleName = 'menuName';\nmodule.category = 'coreCategory';\nmodule.description = 'The <span class=\"gearIcon\"></span> dropdown menu to manage RES settings and quick options';\nmodule.descriptionRaw = true;\nmodule.alwaysEnabled = true;\nmodule.options = {\n\tgearIconClickAction: {\n\t\ttitle: 'menuGearIconClickActionTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'menuGearIconClickActionOpenSettings',\n\t\t\tvalue: 'openSettings',\n\t\t}, {\n\t\t\tname: 'menuGearIconClickActionOpenCommandLine',\n\t\t\tvalue: 'openCommandLine',\n\t\t}, {\n\t\t\tname: 'menuGearIconClickActionToggleMenu',\n\t\t\tvalue: 'toggleMenu',\n\t\t}, {\n\t\t\tname: 'menuGearIconClickActionToggleMenuNoHover',\n\t\t\tvalue: 'toggleMenuNoHover',\n\t\t}],\n\t\tvalue: 'toggleMenuNoHover',\n\t\tdescription: 'menuGearIconClickActionDesc',\n\t\tbodyClass: true,\n\t\tadvanced: true,\n\t},\n};\n\nconst items = [];\nlet gear;\n\nmodule.contentStart = () => {\n\tgear = string.html`<span id=\"RESSettingsButton\" style=\"cursor: pointer\" title=\"${i18n('RESSettings')}\" class=\"gearIcon\"></span>`;\n\n\tif (module.options.gearIconClickAction.value !== 'toggleMenuNoHover') {\n\t\tgear.addEventListener('mouseenter', () => { showDropdown(200); });\n\t}\n\n\tgear.addEventListener('click', () => {\n\t\tif (module.options.gearIconClickAction.value === 'openCommandLine' && Modules.isRunning(CommandLine)) {\n\t\t\tCommandLine.toggle();\n\t\t\thideDropdown();\n\t\t} else if (module.options.gearIconClickAction.value === 'openSettings') {\n\t\t\tSettingsNavigation.open();\n\t\t\thideDropdown();\n\t\t} else {\n\t\t\tshowDropdown(0);\n\t\t}\n\t});\n\n\taddFloater(gear, { order: 5, container: 'inNavbar' });\n};\n\nmodule.afterLoad = () => {\n\trequestAnimationFrame(addLegacyStyling);\n};\n\nfunction showDropdown(openDelay: number) {\n\tHover.dropdownList(module.moduleID)\n\t\t.options({\n\t\t\topenDelay,\n\t\t\tfadeDelay: 200,\n\t\t\tfadeSpeed: 0.2,\n\t\t}, false)\n\t\t.populateWith(() => {\n\t\t\tconst f = document.createDocumentFragment();\n\t\t\tf.append(...items.sort(({ order: a }, { order: b }) => a - b).map(buildItem));\n\t\t\treturn [f];\n\t\t})\n\t\t.target(gear) // workaround subreddit stylings where the container ends up super tall\n\t\t.begin();\n}\n\nfunction hideDropdown() {\n\tHover.dropdownList(module.moduleID).close(true);\n}\n\nexport function addMenuItem(getElement: () => HTMLElement, onClick: (e: Event) => void = () => {}, order: number = 0) {\n\titems.push({ getElement, onClick, order });\n}\n\nfunction buildItem({ getElement, onClick }) {\n\tconst li = document.createElement('li');\n\tli.addEventListener('click', onClick, true);\n\t// Dropdown will be closed on click unless event propagation is stopped\n\tli.addEventListener('click', hideDropdown);\n\tli.append(getElement());\n\treturn li;\n}\n\nfunction addLegacyStyling() {\n\tconst { backgroundImage } = window.getComputedStyle(gear);\n\tif (backgroundImage && backgroundImage !== 'none') {\n\t\tgear.classList.add('res-gearIcon-legacy');\n\t}\n}\n","/* @flow */\n\nimport { RES_SETTINGS_HASH } from '../constants/urlHashes';\nimport { context, isOptionsPage, getOptionsURL, i18n, openNewTab } from '../environment';\nimport { string } from '../utils';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Menu from '../modules/menu';\nimport * as CommandLine from '../modules/commandLine';\n\nexport const module: Module<*> = new Module('settingsNavigation');\n\nmodule.moduleName = 'settingsNavName';\nmodule.category = 'coreCategory';\nmodule.description = 'settingsNavDesc';\nmodule.hidden = true;\nmodule.alwaysEnabled = true;\nmodule.options = {\n\tshowAllOptions: {\n\t\ttitle: 'settingsNavigationShowAllOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'settingsNavigationShowAllOptionsDesc',\n\t\tnoconfig: true,\n\t},\n\tshowAllOptionsAlert: {\n\t\ttitle: 'settingsNavigationShowAllOptionsAlertTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'settingsNavigationShowAllOptionsAlertDesc',\n\t\tnoconfig: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tMenu.addMenuItem(\n\t\t() => string.html`<div id=\"SettingsConsole\">\n\t\t\t${i18n('RESSettingsConsole')}\n\t\t\t<span module=\"search\" class=\"RESMenuItemButton res-icon\" title=\"search settings\">\\uF094</span>\n\t\t</div>`,\n\t\te => open(e.target.getAttribute('module')),\n\t\t-10,\n\t);\n\n\tCommandLine.registerCommand(/^set(?:t?ings?)?$/, 'settings [words to search for]- search RES settings console',\n\t\t(command, val) => `Search RES settings ${val && val.length ? ` for: ${val}` : ''}`,\n\t\t(command, val) => open('search', val),\n\t);\n};\n\nmodule.contentStart = () => {\n\tfunction findModules(val) {\n\t\treturn Modules.all()\n\t\t\t.filter(v => !v.hidden)\n\t\t\t.map(v => v.moduleID)\n\t\t\t.filter(id => id.toLowerCase().match(val.toLowerCase()))\n\t\t\t.sort();\n\t}\n\n\tCommandLine.registerCommand(/^mod(?:ule?)?$/, 'module [name of module] - open module settings',\n\t\t(command, val) => {\n\t\t\tconst matches = findModules(val);\n\t\t\treturn matches.length ? `Open module ${matches[0]}` : 'Could not find any matching module.';\n\t\t},\n\t\t(command, val) => open(findModules(val)[0]),\n\t);\n\n\twindow.addEventListener('popstate', () => { update(); });\n\tupdate();\n\n\t// Open settings links (regardless of hostname)\n\tdocument.body.addEventListener('click', (e: MouseEvent) => {\n\t\tif (e.ctrlKey) return; // Except when intentionally opened in a new tab\n\t\tconst url = e.target instanceof HTMLAnchorElement && new URL(e.target.href, location.origin);\n\t\tif (url && isSettingsUrl(url.href)) {\n\t\t\tupdate(url);\n\t\t\te.stopImmediatePropagation();\n\t\t\te.preventDefault();\n\t\t}\n\t}, true);\n};\n\nexport function makeUrlHashLink(moduleID: string, optionKey?: string, displayText?: string, cssClass?: string): string {\n\tconst mod = Modules.getUnchecked(moduleID);\n\tif (!displayText) {\n\t\tif (mod && optionKey) {\n\t\t\tdisplayText = i18n(mod.options[optionKey].title);\n\t\t} else if (mod) {\n\t\t\tdisplayText = i18n(mod.moduleName);\n\t\t} else {\n\t\t\tdisplayText = 'Settings';\n\t\t}\n\t}\n\n\tlet title = ['RES Settings'];\n\tif (mod) {\n\t\ttitle.push(i18n(mod.moduleName));\n\t}\n\tif (optionKey) {\n\t\ttitle.push(optionKey);\n\t}\n\ttitle = title.join(' &gt; ');\n\n\tconst hash = makeUrlHash(moduleID, optionKey);\n\treturn `<a class=\"${cssClass || ''}\" href=\"${hash}\" title=\"${title}\">${displayText}</a>`;\n}\n\nexport function parseHash(hash: string) {\n\tconst params = hash.match(/\\/(?:\\w|\\s|%20)+/g);\n\treturn {\n\t\tmoduleID: params && params[0] && params[0].substring(1).replace('%20', ' ') || undefined,\n\t\toptionKey: params && params[1] && params[1].substring(1).replace('%20', ' ') || undefined,\n\t};\n}\n\nexport function makeUrlHash(moduleID?: string, optionKey?: string): string {\n\tconst hashComponents = [RES_SETTINGS_HASH];\n\n\tif (moduleID) {\n\t\thashComponents.push(moduleID);\n\t}\n\n\tif (moduleID && optionKey) {\n\t\thashComponents.push(optionKey);\n\t}\n\n\treturn hashComponents.join('/');\n}\n\nexport function isSettingsUrl(href: string): boolean {\n\tconst { origin, hash } = new URL(href, location.origin);\n\n\tconst sameSite = origin === getOptionsURL().origin ||\n\t\torigin.split('.').slice(-2).join('.') === context.origin.split('.').slice(-2).join('.');\n\tif (!sameSite) return false;\n\n\treturn hash.startsWith(RES_SETTINGS_HASH) ||\n\t\thash.startsWith('#!settings'); /* legacy */\n}\n\nexport function setHash(hash: string) {\n\tif (window.top === window) {\n\t\tif (parseHash(location.hash).moduleID === parseHash(hash).moduleID) {\n\t\t\thistory.replaceState(null, '', hash);\n\t\t} else {\n\t\t\thistory.pushState(null, '', hash);\n\t\t}\n\t} else {\n\t\twindow.parent.postMessage({ hash }, '*');\n\t}\n}\n\nlet iframe;\n\nexport function update(url: { href: string, hash: string } = location) {\n\tif (isSettingsUrl(url.href)) {\n\t\tconst { moduleID, optionKey } = parseHash(url.hash);\n\t\topen(moduleID, optionKey);\n\t} else if (iframe) {\n\t\tiframe.contentWindow.postMessage({ close: true }, '*');\n\t}\n}\n\nfunction listener({ origin, data }: MessageEvent) {\n\tif (origin !== getOptionsURL().origin) return;\n\tconst { failedToLoad, hash, closing } = (data: any);\n\tif (failedToLoad) handleEmbedFailure();\n\tif (hash) setHash(hash);\n\tif (closing) close();\n}\n\nfunction handleEmbedFailure() {\n\tconsole.warn('Embed failed. Opening RES settings console in new tab');\n\tif (iframe) openNewTab(iframe.src, true);\n\tclose();\n}\n\nexport function open(moduleID?: string, optionKey?: string) {\n\tif (iframe || isOptionsPage()) {\n\t\t(iframe && iframe.contentWindow || window).postMessage({ load: { moduleID, optionKey } }, '*');\n\t} else {\n\t\tiframe = document.createElement('iframe');\n\t\tiframe.id = 'console-container';\n\t\tiframe.src = getOptionsURL(makeUrlHash(moduleID, optionKey)).href;\n\n\t\twindow.addEventListener('message', listener);\n\t\tiframe.addEventListener('load', () => {\n\t\t\tif (iframe) iframe.contentWindow.postMessage({ context }, '*');\n\n\t\t\t// If the console doesn't progress fast enough (like due to an embedding issue), use fallback\n\t\t\tlet success;\n\t\t\twindow.addEventListener('message', ({ origin, data }: MessageEvent) => {\n\t\t\t\tif (origin === getOptionsURL().origin && (data: any).loadSuccess) success = true;\n\t\t\t});\n\t\t\tsetTimeout(() => { if (!success) handleEmbedFailure(); }, 3000);\n\t\t});\n\n\t\tdocument.body.append(iframe);\n\t\tdocument.body.classList.add('res-console-open');\n\t}\n}\n\nexport function close() {\n\tif (isOptionsPage()) {\n\t\twindow.parent.postMessage({ closing: true }, '*');\n\t\twindow.close();\n\t} else {\n\t\twindow.removeEventListener('message', listener);\n\t\tif (!iframe) return;\n\t\tiframe.remove();\n\t\tiframe = null;\n\t\tdocument.body.classList.remove('res-console-open');\n\t\tif (isSettingsUrl(location.href)) history.pushState(null, '', location.pathname + location.search);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport { Storage, i18n } from '../environment';\nimport { firstValid, hashCode, string, waitForEvent } from '../utils';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('notifications');\n\nmodule.moduleName = 'notificationsName';\nmodule.category = 'coreCategory';\nmodule.description = 'notificationsDesc';\nmodule.options = {\n\tsticky: {\n\t\tdescription: 'notificationStickyDesc',\n\t\ttitle: 'notificationStickyTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'notificationType',\n\t\tvalues: [{\n\t\t\tname: 'notificationsPerNotificationType',\n\t\t\tvalue: 'notificationType',\n\t\t}, {\n\t\t\tname: 'notificationsAlwaysSticky',\n\t\t\tvalue: 'all',\n\t\t}, {\n\t\t\tname: 'notificationsNeverSticky',\n\t\t\tvalue: 'none',\n\t\t}],\n\t},\n\tcloseDelay: {\n\t\ttype: 'text',\n\t\tvalue: '3000',\n\t\tdescription: 'notificationCloseDelayDesc',\n\t\ttitle: 'notificationCloseDelayTitle',\n\t},\n\tfadeOutLength: {\n\t\ttype: 'text',\n\t\tvalue: '3000',\n\t\tdescription: 'notificationFadeOutLengthDesc',\n\t\ttitle: 'notificationFadeOutLengthTitle',\n\t\tadvanced: true,\n\t},\n\tnotificationTypes: {\n\t\tdescription: 'notificationNotificationTypesDesc',\n\t\ttitle: 'notificationNotificationTypesTitle',\n\t\ttype: 'table',\n\t\tadvanced: true,\n\t\taddRowText: 'notificationsAddNotificationType',\n\t\tfields: [{\n\t\t\tkey: 'id',\n\t\t\tname: 'notificationsNotificationID',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tname: 'notificationsEnabled',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: true,\n\t\t}, {\n\t\t\tkey: 'sticky',\n\t\t\tname: 'notificationsSticky',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: false,\n\t\t}],\n\t\tvalue: ([]: Array<[string, boolean, boolean]>),\n\t},\n};\n\nconst notificationsContainer = string.html`<div id=\"RESNotifications\"></div>`;\nconst lastShownStorage = Storage.wrapBlob('notifications.lastShown', (): number => 0);\n\nmodule.go = () => {\n\tdocument.body.append(notificationsContainer);\n};\n\nconst activeNotifications = new Set();\n\ntype NotificationOptions = {|\n\tmessage: string | HTMLElement,\n\tcooldown?: number,\n\theader?: string,\n\tcloseDelay?: number,\n\tnotificationID?: string,\n\tmoduleID?: string,\n\toptionKey?: string,\n\tnoDisable?: boolean,\n|};\n\nexport function showNotification(opts: string | NotificationOptions, _delay?: number): { element: HTMLElement, close(): void } {\n\tconst data: NotificationOptions = typeof opts === 'string' ? { message: opts } : opts;\n\tconst id = `${String(firstValid(data.moduleID, '--'))}-${String(firstValid(data.notificationID, data.optionKey, data.header, hashCode(data.message instanceof HTMLElement ? data.message.outerHTML : data.message)))}`;\n\tconst mod = data.moduleID && Modules.getUnchecked(data.moduleID);\n\n\tconst element = string.html`\n\t\t<div class=\"RESNotification\" data-id=\"${id}\">\n\t\t\t<div class=\"RESNotificationHeader\">\n\t\t\t\t<h3>${data.header || (mod ? i18n(mod.moduleName) : '') || ''}</h3>\n\t\t\t\t${mod && !mod.hidden ?\tstring.safe(SettingsNavigation.makeUrlHashLink(mod.moduleID, data.optionKey, ' ', 'gearIcon')) : ''}\n\t\t\t\t<div class=\"RESCloseButton\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"RESNotificationContent\"></div>\n\t\t\t<div class=\"RESNotificationFooter\" ${data.noDisable ? 'hidden' : ''}>\n\t\t\t\t<label class=\"RESNotificationToggle\" title=\"Show notifications from ${id}\">\n\t\t\t\t\t<input type=\"checkbox\" checked> Always show this type of notification\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n\t$(element.querySelector('.RESNotificationContent')).append(data.message);\n\n\tconst inner = element.innerHTML;\n\tconst existing = [...activeNotifications.values()].find(({ element }) => element.innerHTML === inner);\n\tif (existing) {\n\t\texisting.element.dispatchEvent(new CustomEvent('notification-reset'));\n\t\treturn existing;\n\t}\n\n\tconst close = _.once(() => {\n\t\tactiveNotifications.delete(notification);\n\t\telement.remove();\n\t});\n\n\tconst notification = { element, close };\n\tactiveNotifications.add(notification);\n\n\tconst storage = Options.table.getMatchingValueOrAdd(module, 'notificationTypes', { id }, data);\n\n\telement.querySelector('.RESNotificationToggle input').addEventListener('change', (e: any) => {\n\t\tstorage.enabled = e.currentTarget.checked;\n\t});\n\n\telement.querySelector('.RESCloseButton').addEventListener('click', () => { close(); });\n\n\tconst isSticky = module.options.sticky.value === 'all' ||\n\t\t(module.options.sticky.value === 'notificationType' && storage.sticky);\n\tconst delay = +firstValid(_delay, data.closeDelay, parseInt(module.options.closeDelay.value, 10), (module.options.closeDelay: any).default);\n\tconst fadeDuration = +firstValid(parseInt(module.options.fadeOutLength.value, 10), (module.options.fadeOutLength: any).default);\n\n\tasync function resetCloseTimer() {\n\t\tawait new Promise(requestAnimationFrame); // Only start timer when frame becomes visible\n\t\tif (element.matches(':hover')) await waitForEvent(element, 'mouseleave');\n\n\t\tlet fadeTimer;\n\t\tconst hideTimer = setTimeout(() => {\n\t\t\telement.classList.add('transitionToTransparent');\n\t\t\telement.style.transitionDuration = `${fadeDuration / 1000}s`;\n\t\t\tfadeTimer = setTimeout(() => close(), fadeDuration);\n\t\t}, delay);\n\n\t\tawait waitForEvent(element, 'mouseenter', 'notification-reset');\n\n\t\telement.classList.remove('transitionToTransparent');\n\n\t\tif (fadeTimer) clearTimeout(fadeTimer);\n\t\tif (hideTimer) clearTimeout(hideTimer);\n\n\t\tresetCloseTimer();\n\t}\n\n\t(async () => {\n\t\tif (!storage.enabled || !Modules.isRunning(module)) return;\n\n\t\tif (data.cooldown) {\n\t\t\tif (data.cooldown > Date.now() - await lastShownStorage.get(id)) return;\n\t\t\tlastShownStorage.set(id, Date.now());\n\t\t}\n\n\t\trequestAnimationFrame(() => {\n\t\t\tif (window.getComputedStyle(element).maxHeight === 'initial') return;\n\t\t\telement.style.maxHeight = '100vh';\n\t\t});\n\n\t\tnotificationsContainer.prepend(element);\n\n\t\tif (!isSticky && delay !== Infinity) resetCloseTimer();\n\t})();\n\n\treturn notification;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport * as Options from '../core/options';\nimport * as Modules from '../core/modules';\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('penaltyBox');\nexport const MIN_PENALTY = 1;\nexport const MAX_PENALTY = 100;\n\nmodule.moduleName = 'penaltyBoxName';\nmodule.category = 'coreCategory';\nmodule.description = 'penaltyBoxDesc';\nmodule.options = {\n\tdelayFeatures: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'penaltyBoxDelayFeaturesDesc',\n\t\ttitle: 'penaltyBoxDelayFeaturesTitle',\n\t},\n\tsuspendFeatures: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'penaltyBoxSuspendFeaturesDesc',\n\t\ttitle: 'penaltyBoxSuspendFeaturesTitle',\n\t},\n\tfeatures: {\n\t\tdescription: 'penaltyBoxFeaturesDesc',\n\t\ttitle: 'penaltyBoxFeaturesTitle',\n\t\ttype: 'table',\n\t\tadvanced: true,\n\t\taddRowText: 'penaltyBoxFeaturesAddRowText',\n\t\tfields: [\n\t\t\t{\n\t\t\t\tkey: 'moduleID',\n\t\t\t\tname: 'moduleID',\n\t\t\t\ttype: 'text',\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'optionKey',\n\t\t\t\tname: 'optionKey',\n\t\t\t\ttype: 'text',\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'monitoring',\n\t\t\t\tname: 'penaltyBoxFeaturesMonitoring',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tvalue: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'penalty',\n\t\t\t\tname: 'penaltyBoxFeaturesPenalty',\n\t\t\t\ttype: 'text',\n\t\t\t\tvalue: '0',\n\t\t\t},\n\t\t],\n\t\tvalue: ([]: Array<[string, string, boolean, string]>),\n\t},\n};\n\nexport function alterFeaturePenalty(moduleID: string, optionKey: string, valueDelta: number): number {\n\tif (isNaN(parseInt(valueDelta, 10))) {\n\t\tconsole.warn('Could not alter penalty for', moduleID, optionKey, ' - bad value:', valueDelta);\n\t\treturn MIN_PENALTY;\n\t}\n\tif (!Modules.isEnabled(module)) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\tconst value = getOrAddFeatures(moduleID, optionKey);\n\tif (!value.monitoring) return MIN_PENALTY;\n\n\tvalue.penalty = _.clamp(value.penalty + valueDelta, MIN_PENALTY, MAX_PENALTY);\n\tOptions.save(module.options.features);\n\n\tif (value.penalty >= MAX_PENALTY) {\n\t\tsuspendFeature(moduleID, optionKey);\n\t}\n\n\treturn value.penalty;\n}\n\nfunction stopMonitoringFeature(moduleID, optionKey) {\n\tconst value = getOrAddFeatures(moduleID, optionKey);\n\tvalue.monitoring = false;\n\tvalue.penalty = MIN_PENALTY;\n\tOptions.save(module.options.features);\n}\n\nexport function getFeaturePenalty(moduleID: string, optionKey: string): number {\n\tif (!Modules.isEnabled(module)) {\n\t\treturn MIN_PENALTY;\n\t}\n\tif (!module.options.delayFeatures.value) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\tconst value = getOrAddFeatures(moduleID, optionKey);\n\tif (!value.monitoring) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\tif (!value.penalty || MIN_PENALTY >= value.penalty) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\treturn value.penalty;\n}\n\ntype DelayOption = {\n\tvalue: number | string,\n\tdefault?: number | string,\n\tpenalizedValue?: number,\n};\n\nexport function penalizedDelay(moduleID: string, optionKey: string, delayOption: DelayOption): number {\n\tconst penalty = getFeaturePenalty(moduleID, optionKey);\n\tif (!penalty || penalty === MIN_PENALTY) {\n\t\treturn parseInt(delayOption.value, 10);\n\t}\n\n\tconst max = parseInt(delayOption.penalizedValue || delayOption.value, 10) * 6;\n\tconst initial = parseInt(delayOption.default, 10);\n\tconst position = penalty / 100;\n\n\treturn Math.min(max, (max - initial) * position + initial);\n}\n\nconst getOrAddFeatures = (moduleID, optionKey): {|\n\tmoduleID: string,\n\toptionKey: string,\n\tmonitoring: boolean,\n\tpenalty: number,\n|} => Options.table.getMatchingValueOrAdd(module, 'features', { moduleID, optionKey }, { penalty: 0 });\n\nfunction suspendFeature(moduleID, optionKey) {\n\tconst featureModule = Modules.get(moduleID);\n\tconst option = featureModule.options[optionKey];\n\tif (!option) {\n\t\tconsole.warn('Could not find option', moduleID, optionKey);\n\t\treturn;\n\t}\n\n\tif (option.type !== 'boolean') {\n\t\tconsole.warn(`${module.moduleID} could not disable option`, moduleID, optionKey);\n\t\treturn;\n\t}\n\tconst oldValue = option.value;\n\tconst newValue = !option.value;\n\n\tOptions.set(moduleID, optionKey, newValue);\n\tstopMonitoringFeature(moduleID, optionKey);\n\n\tconst featureOptionLink = SettingsNavigation.makeUrlHashLink(moduleID, optionKey);\n\tconst notification = Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'suspendFeatures',\n\t\theader: i18n('penaltyBoxSuspendFeaturesNotificationHeader'),\n\t\tmessage: `\n\t\t\t${i18n('penaltyBoxSuspendFeaturesNotificationMessage', featureOptionLink)}\n\t\t\t<p><a class=\"RESNotificationButtonBlue\" id=\"penaltyBoxEnableFeature\" href=\"#\">\n\t\t\t\t${i18n('penaltyBoxSuspendFeaturesUndoButton')}\n\t\t\t</a></p>\n\t\t`.trim(),\n\t});\n\n\t$(notification.element).on('click', '#penaltyBoxEnableFeature', (e: MouseEvent) => {\n\t\te.preventDefault();\n\t\tnotification.close();\n\t\tpardonSuspendedFeature(moduleID, optionKey, oldValue);\n\t});\n}\n\nfunction pardonSuspendedFeature(moduleID, optionKey, oldValue) {\n\tOptions.set(moduleID, optionKey, oldValue);\n\tstopMonitoringFeature(moduleID, optionKey);\n\n\tconst featureOptionLink = SettingsNavigation.makeUrlHashLink(moduleID, optionKey);\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'suspendFeatures',\n\t\theader: i18n('penaltyBoxSuspendFeaturesRevertNotificationHeader'),\n\t\tmessage: i18n('penaltyBoxSuspendFeaturesRevertNotificationMessage', featureOptionLink),\n\t});\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Thing, SelectedThing, string } from '../../utils';\nimport type { BuilderValue, BuilderRootValue } from '../../core/module';\nimport * as Cases from './cases';\n\nexport class Case {\n\tstatic type: string;\n\tstatic text: string;\n\n\tstatic +thingToCriterion: ?(thing: Thing) => string | Promise<string>;\n\tstatic +parseCriterion: ?(input: string) => *;\n\n\tstatic async getSelectedEntryValue() {\n\t\tconst selected = SelectedThing.current;\n\t\tif (!selected) throw new Error('No entry is currently selected.');\n\n\t\tlet conditions;\n\t\tif (this.defaultConditions) {\n\t\t\tif (!this.thingToCriterion) throw Error('Case does not have method `thingToCriterion`');\n\t\t\tconditions = this.criterionToConditions(await this.thingToCriterion(selected));\n\t\t}\n\n\t\tconst cased = this.fromConditions(conditions);\n\n\t\tconst state = await cased.evaluate(selected);\n\n\t\tif (typeof state !== 'boolean') throw new Error('Could not evaluate case against selected thing');\n\n\t\treturn { conditions, state };\n\t}\n\n\tstatic criterionToConditions(criterion: string): $Shape<BuilderValue> {\n\t\tconst parse = this.parseCriterion && this.parseCriterion.bind(this);\n\t\tif (!parse) {\n\t\t\tthrow new Error('Does not accept criterion');\n\t\t}\n\n\t\tif (!criterion && this.pattern && !this.pattern.startsWith('[')) {\n\t\t\tthrow new Error('Requires criterion');\n\t\t}\n\n\t\tconst parts = criterion.split(' & ');\n\n\t\tif (this.criterionOperators && criterion && parts.length > 1) {\n\t\t\treturn Cases.getGroup('all', parts.map(v => Cases.getConditions(this.type, parse(v))));\n\t\t} else {\n\t\t\treturn parse(criterion);\n\t\t}\n\t}\n\n\tstatic fromConditions(from: ?$Shape<BuilderValue>, propagateError: boolean = false): Case {\n\t\tlet cased;\n\n\t\tconst conditions = Cases.getConditions(from && from.type || this.type, from);\n\t\tconst type = conditions.type;\n\n\t\ttry {\n\t\t\tconst CaseClass = Cases.get(type);\n\t\t\tif (CaseClass.disabled) throw new Error(`${CaseClass.type} is disabled`);\n\t\t\tcased = new CaseClass(conditions);\n\t\t} catch (e) {\n\t\t\tif (propagateError) throw e;\n\t\t\tconsole.error(`Could not build case: ${e.message}. Ignoring.`, e);\n\t\t\tcased = new Cases.Inert(conditions);\n\t\t}\n\n\t\treturn cased;\n\t}\n\n\tstatic buildRegex(val: string, { fullMatch = true }: {| fullMatch?: boolean |} = {}) {\n\t\tif (!val) throw new Error('Pattern cannot be empty');\n\t\tif (string.regexRegex.test(val)) {\n\t\t\tconst [, str, flags] = (string.regexRegex.exec(val): any); // guaranteed to match due to `.test()` above\n\t\t\treturn new RegExp(str, flags);\n\t\t} else {\n\t\t\tconst patt = _.escapeRegExp(val);\n\t\t\treturn new RegExp(fullMatch ? `^${patt}$` : patt, 'i');\n\t\t}\n\t}\n\n\tstatic +defaultConditions: ?$Shape<BuilderValue>;\n\tstatic fields: *;\n\tstatic slow: number = 0; // Estimated slowness of case; higher value  slower\n\tstatic +reconcile: ?Array<*> => *;\n\tstatic get disabled(): boolean {\n\t\treturn false;\n\t}\n\n\t// Determines where cases are available; usually set by Cases.populate\n\tstatic contexts: Array<'browse' | 'post' | 'comment'>;\n\n\tstatic validate(conditions: BuilderValue) {\n\t\tconst cased = Case.fromConditions(conditions, true);\n\t\tif (!cased.isValid()) throw new Error('Invalid conditions');\n\t\treturn true;\n\t}\n\n\t// For Filterline\n\tstatic unique: boolean = false;\n\tstatic variant: 'basic' | 'ondemand' | 'external' = 'basic';\n\tstatic pattern: string = '';\n\tstatic criterionOperators = false; // Create groups on encountering operators: ' & '  'and'\n\n\tstatic _customFilter: ?BuilderRootValue;\n\tstatic getCustomFilter() { if (this._customFilter) return this._customFilter; throw new Error('Source not found'); }\n\n\t+trueText: ?string;\n\t+falseText: ?string;\n\n\tconstructor(conditions: *) {\n\t\tthis.conditions = this.value = conditions;\n\t}\n\n\tisValid(): boolean { return true; }\n\tisEvaluatable() { return !(this instanceof Cases.Inert || this.constructor.disabled); }\n\n\thasType(type: string): boolean { return this.constructor.type === type; }\n\tconditions: BuilderValue;\n\tvalue: *;\n\tevaluate(thing: ?Thing, values: ?*[]): null | boolean | Promise<null | boolean> { // eslint-disable-line no-unused-vars\n\t\tthrow new Error('evaluate() must be implemented for all Case subclasses');\n\t}\n\n\tobservers: Set<{ refresh: (thing?: Thing) => void }> = new Set();\n\tonObserve(): ?boolean {} // `true`  `refresh` callback registered\n\tobserve(observer: *): ?boolean { // `true`  observer added\n\t\tif (!this.observers.has(observer) && this.onObserve()) {\n\t\t\tthis.observers.add(observer);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\trefresh(thing?: Thing) {\n\t\tfor (const o of this.observers) o.refresh(thing);\n\t}\n}\n\nexport class PatternCase extends Case {\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\tstatic defaultConditions = { patt: '' };\n\tstatic pattern = 'RegEx';\n\n\tstatic reconcile(values: *) {\n\t\t// Variants may have differening conditions other than just `patt`\n\t\t// Group only values with equal (non-`patt`) conditions together\n\t\tconst variants = [];\n\n\t\tfor (const v of values) {\n\t\t\tlet variant;\n\t\t\tvariantLoop: // eslint-disable-line no-labels\n\t\t\tfor (const possibleVariant of variants) {\n\t\t\t\tfor (const key of Object.keys(v)) {\n\t\t\t\t\tif (key === 'patt') continue;\n\t\t\t\t\tif (possibleVariant[key] !== v[key]) continue variantLoop; // eslint-disable-line no-labels\n\t\t\t\t}\n\t\t\t\tvariant = possibleVariant;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (!variant) {\n\t\t\t\tvariant = { ...v, patt: [] };\n\t\t\t\tvariants.push(variant);\n\t\t\t}\n\n\t\t\tvariant.patt.push(v.patt);\n\t\t}\n\n\t\treturn variants;\n\t}\n\n\tbuild(fullMatchDefault: boolean, pattIfEmpty?: string): Array<RegExp> {\n\t\tconst { patt, fullMatch = fullMatchDefault } = this.conditions;\n\t\tconst raw = Array.isArray(patt) ? patt : [patt];\n\t\tconst plain = new Set();\n\t\tconst variants = {};\n\n\t\tfor (let _patt of raw) {\n\t\t\tif (!_patt) {\n\t\t\t\tif (typeof pattIfEmpty === 'string') _patt = pattIfEmpty;\n\t\t\t\telse if (raw.length === 1) throw new Error('Pattern cannot be empty');\n\t\t\t\telse continue;\n\t\t\t}\n\n\t\t\tif (string.regexRegex.test(_patt)) {\n\t\t\t\tconst [, str, flags = ''] = (string.regexRegex.exec(_patt): any); // guaranteed to match due to `.test()` above\n\t\t\t\tif (!variants[flags]) variants[flags] = [];\n\t\t\t\tvariants[flags].push(str);\n\t\t\t} else {\n\t\t\t\tplain.add(_.escapeRegExp(_patt));\n\t\t\t}\n\t\t}\n\n\t\tif (plain.size) {\n\t\t\tconst str = Array.from(plain).join('|');\n\t\t\tif (!variants.i) variants.i = [];\n\t\t\tvariants.i.push(fullMatch ? `^(${str})$` : str);\n\t\t}\n\n\t\treturn Object.entries(variants).map<*>(([flags, sources]) => new RegExp(sources.join('|'), flags));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nexport class CommentCount extends Case {\n\tstatic text = 'Comment count';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic thingToCriterion(thing: *) { return String(thing.getCommentCount() || 0); }\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['post has ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' comments'];\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `comment count ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `comment count ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tevaluate(thing: *) {\n\t\tconst commentCount = thing.getCommentCount();\n\t\tif (isNaN(commentCount)) return null;\n\t\treturn numericalCompare(this.value.op, commentCount, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tDAY,\n\tMINUTE,\n\tTable,\n\tThing,\n\taddDashboardTab,\n\tescapeHTML,\n\tempty,\n\texecRegexes,\n\tformatRelativeTime,\n\tformatDateTime,\n\tgetPostMetadata,\n\tisPageType,\n\tmaybePruneOldEntries,\n\tloggedInUser,\n\tregexes,\n\tstring,\n\twatchForThings,\n\tmutex,\n\twaitForEvent,\n} from '../utils';\nimport { Storage, isPrivateBrowsing } from '../environment';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('newCommentCount');\n\nmodule.moduleName = 'newCommentCountName';\nmodule.category = 'submissionsCategory';\nmodule.description = 'newCommentCountDesc';\nmodule.options = {\n\thideWhenUnchanged: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'newCommentCountHideWhenUnchangedDesc',\n\t\ttitle: 'newCommentCountHideWhenUnchangedTitle',\n\t},\n\tcleanComments: {\n\t\ttype: 'text',\n\t\tvalue: '30',\n\t\tdescription: 'newCommentCountCleanCommentsDesc',\n\t\ttitle: 'newCommentCountCleanCommentsTitle',\n\t\tadvanced: true,\n\t},\n\tsubscriptionLength: {\n\t\ttype: 'text',\n\t\tvalue: '2',\n\t\tdescription: 'newCommentCountSubscriptionLengthDesc',\n\t\ttitle: 'newCommentCountSubscriptionLengthTitle',\n\t},\n\tshowSubscribeButton: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'newCommentCountShowSubscribeButtonDesc',\n\t\ttitle: 'newCommentCountShowSubscribeButtonTitle',\n\t},\n\tnotifyEditedPosts: {\n\t\tdependsOn: options => options.showSubscribeButton.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'newCommentCountNotifyEditedPostsDesc',\n\t\ttitle: 'newCommentCountNotifyEditedPostsTitle',\n\t\tadvanced: true,\n\t},\n\tmonitorPostsVisited: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'newCommentCountMonitorPostsVisitedDesc',\n\t\ttitle: 'newCommentCountMonitorPostsVisitedTitle',\n\t\tadvanced: true,\n\t},\n\tmonitorPostsVisitedIncognito: {\n\t\tdependsOn: options => options.monitorPostsVisited.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'newCommentCountMonitorPostsVisitedIncognitoDesc',\n\t\ttitle: 'newCommentCountMonitorPostsVisitedIncognitoTitle',\n\t\tadvanced: true,\n\t},\n};\n\nconst entryStorage = Storage.wrapPrefix('newCommentCount.', (): {|\n\tcount: number,\n\tupdateTime: number,\n|} => {\n\tthrow new Error('Default value should never be retrieved');\n}, undefined, true);\n\nconst subscriptionStorage = Storage.wrapBlob('RESmodules.newCommentCount.subscriptions', (): {|\n\tcount: number,\n\tsubscriptionDate: number,\n\teditedTime: number,\n\tupdateTime: number,\n\turl: string,\n\ttitle: string,\n|} => { throw new Error('Subscription not found'); });\n\nlet subscriptionButton: ?HTMLElement;\n\nmodule.beforeLoad = () => {\n\tif (isPageType('comments') && module.options.showSubscribeButton.value) {\n\t\tsubscriptionButton = string.html`<span id=\"REScommentSubToggle\" class=\"RESSubscriptionButton\"></span>`;\n\t\trefreshSubscriptionButton();\n\t}\n\n\t// Immediately load data in order to have data ready on mutation\n\twatchForThings(['post'], getNewCount, { immediate: true });\n\n\twatchForThings(['post'], displayNewCommentCount);\n};\n\nmodule.contentStart = () => {\n\tif (subscriptionButton) {\n\t\t$('.commentarea .panestack-title').append(subscriptionButton);\n\t}\n\n\taddDashboardTab('newCommentsContents', 'My Subscriptions', module.moduleID, addDashboardFunctionality);\n\n\tmaybePruneOldEntries('newCommentCount', entryStorage, parseInt(module.options.cleanComments.value, 10));\n};\n\nlet listingThing: ?Thing;\nlet currentCommentCount: ?number;\n\nmodule.afterLoad = () => {\n\t// Avoid missing notifications by only running the check when document is visible\n\tif (!document.hidden) {\n\t\tcheckSubscriptions();\n\t}\n\n\tif (isPageType('comments')) {\n\t\tlistingThing = Thing.from(document.querySelector('#siteTable a.comments'));\n\t\tif (listingThing) {\n\t\t\tcurrentCommentCount = listingThing.getCommentCount();\n\t\t\tif (typeof currentCommentCount === 'number') {\n\t\t\t\t// Save current comment count\n\t\t\t\tsetEntry(getId(listingThing), currentCommentCount);\n\n\t\t\t\t// Increment comment count when posting comment\n\t\t\t\twatchForThings(['comment'], updateCurrentCommentCountFromMyComment);\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst getId = thing => thing.getFullname().split('_').slice(-1)[0];\n\nexport const hasEntry = (thing: Thing) => entryStorage.has(getId(thing));\n\nfunction setEntry(id: string, newCommentCount: number) {\n\tif (!module.options.monitorPostsVisited.value) return false;\n\tif (!module.options.monitorPostsVisitedIncognito.value && isPrivateBrowsing()) return false;\n\n\tentryStorage.set(id, {\n\t\tcount: newCommentCount,\n\t\tupdateTime: Date.now(),\n\t});\n}\n\nexport const getNewCount = _.memoize(async (thing: Thing): Promise<?number> => {\n\tconst currentCount = thing.getCommentCount();\n\tif (typeof currentCount !== 'number') return;\n\n\tconst { count: lastOpenedCount } = await entryStorage.getNullable(getId(thing)) || {};\n\tif (typeof lastOpenedCount !== 'number') return;\n\n\treturn Math.max(currentCount - lastOpenedCount, 0);\n});\n\nasync function displayNewCommentCount(thing) {\n\tconst newCount = await getNewCount(thing);\n\tif (typeof newCount !== 'number') return;\n\tif (!newCount && module.options.hideWhenUnchanged.value) return;\n\n\tif (newCount) thing.element.classList.add('res-hasNewComments');\n\n\t$(thing.getCommentCountElement())\n\t\t.append(`<span class=\"newComments\">&nbsp;(${newCount} new)</span>`);\n}\n\nfunction updateCurrentCommentCountFromMyComment(thing) {\n\tconst timestamp = thing.getTimestamp();\n\tconst isRecent = timestamp && (Date.now() - timestamp.getTime()) < 10000;\n\tconst isMine = loggedInUser() === thing.getAuthor();\n\tif (isRecent && isMine && listingThing && typeof currentCommentCount === 'number') {\n\t\tsetEntry(getId(listingThing), ++currentCommentCount);\n\t}\n}\n\nconst refreshSubscriptionButton = mutex(async () => {\n\tconst id = (execRegexes.comments(location.pathname) || [])[2];\n\tconst button = subscriptionButton;\n\tif (!id || !button) return;\n\n\tconst subscriptions = await subscriptionStorage.getAll();\n\n\tif (subscriptions.hasOwnProperty(id)) {\n\t\t// Unsubscribe.\n\t\t$(button)\n\t\t\t.html('<span class=\"res-icon\">&#xF038;</span> unsubscribe')\n\t\t\t.attr('title', 'stop receiving notifications')\n\t\t\t.addClass('unsubscribe');\n\t\twaitForEvent(button, 'click').then(async () => {\n\t\t\tawait unsubscribe(id);\n\t\t\tNotifications.showNotification({\n\t\t\t\tnotificationID: 'newCommentCountUnsubscribe',\n\t\t\t\tmoduleID: 'newCommentCount',\n\t\t\t\tmessage: 'You are now unsubscribed from this thread.',\n\t\t\t}, 3000);\n\t\t}).then(refreshSubscriptionButton);\n\t} else {\n\t\t// Subscribe.\n\t\t$(button)\n\t\t\t.html('<span class=\"res-icon\">&#xF03B;</span> subscribe')\n\t\t\t.attr('title', 'notify me of new comments')\n\t\t\t.removeClass('unsubscribe');\n\t\twaitForEvent(button, 'click').then(async () => {\n\t\t\tawait subscribe(id, currentCommentCount || 0, listingThing && listingThing.getPostEditTimestamp() || 0);\n\t\t\tNotifications.showNotification({\n\t\t\t\tnotificationID: 'newCommentCountSubscribe',\n\t\t\t\tmoduleID: 'newCommentCount',\n\t\t\t\toptionKey: 'subscriptionLength',\n\t\t\t\tmessage: `\n\t\t\t\t\t<p>\n\t\t\t\t\t\tYou are now subscribed to this thread for ${module.options.subscriptionLength.value} days.\n\t\t\t\t\t\tWhen new comments are posted you'll receive a notification.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><a href=\"/r/Dashboard#newCommentsContents\">Manage subscriptions</a></p>\n\t\t\t\t`,\n\t\t\t}, 5000);\n\t\t}).then(refreshSubscriptionButton);\n\t}\n});\n\nfunction subscribe(id, newCommentCount, newEditedTime) {\n\tconst now = Date.now();\n\treturn subscriptionStorage.set(id, {\n\t\tcount: newCommentCount,\n\t\tsubscriptionDate: now,\n\t\tupdateTime: now,\n\t\teditedTime: newEditedTime,\n\t\turl: location.href.replace(location.hash, ''),\n\t\ttitle: document.title,\n\t});\n}\n\nfunction unsubscribe(id) {\n\treturn subscriptionStorage.delete(id);\n}\n\nasync function checkSubscriptions() {\n\tconst now = Date.now();\n\n\tfor (const [id, subscription] of Object.entries(await subscriptionStorage.getAll())) {\n\t\tconst { subscriptionDate, updateTime } = subscription;\n\t\t// If it's been subscriptionLength days since we've subscribed, we're going to delete this subscription...\n\t\tif ((now - subscriptionDate) > (DAY * parseInt(module.options.subscriptionLength.value, 10))) {\n\t\t\tunsubscribe(id);\n\t\t} else if ((now - updateTime) > (5 * MINUTE)) {\n\t\t\tsubscriptionStorage.patch(id, { updateTime: now });\n\t\t\tcheckThread(id, subscription);\n\t\t}\n\t}\n}\n\nasync function checkThread(id, subscription) {\n\tconst { num_comments: newCount, edited: newEditedTime } = await getPostMetadata({ id });\n\tconst { count, editedTime, url, title } = subscription;\n\n\tif (newCount > count) {\n\t\tsubscriptionStorage.patch(id, { count: newCount });\n\n\t\tconst notification = Notifications.showNotification({\n\t\t\theader: 'New comments',\n\t\t\tnotificationID: 'newCommentCount',\n\t\t\tmoduleID: 'newCommentCount',\n\t\t\tnoDisable: true,\n\t\t\tmessage: `<p><a href=\"${url}\">${escapeHTML(title)}</a></p>`,\n\t\t}, 10000);\n\n\t\t// add button to unsubscribe from within notification.\n\t\t$(notification.element).find('.RESNotificationContent')\n\t\t\t.append(createButton(id, 'unsubscribe', notification.close));\n\t}\n\tif (module.options.notifyEditedPosts.value && newEditedTime > editedTime) {\n\t\tsubscriptionStorage.patch(id, { editedTime: newEditedTime });\n\n\t\tconst notification = Notifications.showNotification({\n\t\t\theader: 'Post edited',\n\t\t\tnotificationID: 'newCommentCount',\n\t\t\tmoduleID: 'newCommentCount',\n\t\t\toptionKey: 'notifyEditedPosts',\n\t\t\tnoDisable: true,\n\t\t\tmessage: `<p><a href=\"${url}\">${escapeHTML(title)}</a></p>`,\n\t\t}, 10000);\n\n\t\t// add button to unsubscribe from within notification.\n\t\t$(notification.element).find('.RESNotificationContent')\n\t\t\t.append(createButton(id, 'unsubscribe', notification.close));\n\t}\n}\n\nfunction createButton(id, type, onClick) {\n\tconst $button = $('<span class=\"RESSubscriptionButton\">');\n\tlet action;\n\n\tswitch (type) {\n\t\tcase 'unsubscribe':\n\t\t\t$button\n\t\t\t\t.html('<span class=\"res-icon\">&#xF038;</span> unsubscribe')\n\t\t\t\t.attr('title', 'stop receiving notifications')\n\t\t\t\t.addClass('unsubscribe');\n\t\t\taction = () => unsubscribe(id);\n\t\t\tbreak;\n\t\tcase 'renew':\n\t\t\t$button\n\t\t\t\t.html('<span class=\"res-icon\">&#xF03B;</span> renew')\n\t\t\t\t.attr('title', `renew for ${module.options.subscriptionLength.value} days`);\n\t\t\taction = async () => {\n\t\t\t\tawait subscriptionStorage.patch(id, { subscriptionDate: Date.now() });\n\n\t\t\t\tNotifications.showNotification({\n\t\t\t\t\tnotificationID: 'newCommentCountRenew',\n\t\t\t\t\tmoduleID: 'newCommentCount',\n\t\t\t\t\toptionKey: 'subscriptionLength',\n\t\t\t\t\tmessage: `Subscription renewed for ${module.options.subscriptionLength.value} days.`,\n\t\t\t\t});\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tconst button = $button.get(0);\n\twaitForEvent(button, 'click').then(action).then(onClick);\n\treturn button;\n}\n\nasync function addDashboardFunctionality(tabPage) {\n\tconst subscriptions = Object.entries(await subscriptionStorage.getAll());\n\n\tconst rows = subscriptions.map(([id, { subscriptionDate, updateTime, url, title }]) => {\n\t\tconst [, subreddit] = url && new URL(url).pathname.match(regexes.subreddit) || [];\n\t\tif (!subreddit) return;\n\n\t\tconst updated = new Date(updateTime);\n\t\tconst expires = new Date(subscriptionDate + (DAY * parseInt(module.options.subscriptionLength.value, 10)));\n\n\t\treturn string._html`\n\t\t\t\t<tr subscription-id=\"${id}\">\n\t\t\t\t\t<td><a href=\"${url}\">${escapeHTML(title)}</a></td>\n\t\t\t\t\t<td><a href=\"/r/${subreddit}\">/r/${subreddit}</a></td>\n\t\t\t\t\t<td><abbr title=\"${formatDateTime(updated)}\">${formatRelativeTime(updated)}</abbr></td>\n\t\t\t\t\t<td><abbr title=\"${formatDateTime(expires)}\">${formatRelativeTime(expires)}</abbr></td>\n\t\t\t\t\t<td></td>\n\t\t\t\t</tr>\n\t\t\t`;\n\t});\n\n\tconst ele = string.html`<div>\n\t\t\t<a href=\"/by_id/${subscriptions.map(([id]) => `t3_${id}`).join(',')}\">as reddit link listing</a>\n\t\t\t<table id=\"newCommentsTable\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Submission</th>\n\t\t\t\t\t\t<th>Subreddit</th>\n\t\t\t\t\t\t<th>Last viewed</th>\n\t\t\t\t\t\t<th>Expires in</th>\n\t\t\t\t\t\t<th>Actions</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t${rows.length ?\n\t\trows :\n\t\tstring._html`<td colspan=\"5\">You are currently not subscribed to any threads. To subscribe to a thread, click the \"subscribe\" button found near the top of the comments page.</td>`\n}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>`;\n\n\t$(ele).on('click', 'th', Table.sortByColumn);\n\n\tfor (const row of ele.querySelectorAll('[subscription-id]')) {\n\t\tconst id = row.getAttribute('subscription-id');\n\t\trow.querySelector('td:last-of-type').append(\n\t\t\tcreateButton(id, 'unsubscribe', () => addDashboardFunctionality(tabPage)),\n\t\t\tcreateButton(id, 'renew', () => addDashboardFunctionality(tabPage)),\n\t\t);\n\t}\n\n\tempty(tabPage);\n\ttabPage.append(ele);\n}\n","/* @flow */\n\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\nimport * as Modules from '../../../core/modules';\nimport * as N from '../../newCommentCount';\nimport { Case } from '../Case';\n\nexport class NewCommentCount extends Case {\n\tstatic text = 'New comment count';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic async thingToCriterion(thing: *) { return String((await N.hasEntry(thing) ? await N.getNewCount(thing) : thing.getCommentCount()) || 0); }\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['has ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' new comments'];\n\n\tstatic slow = 1;\n\tstatic get disabled(): boolean {\n\t\treturn !Modules.isEnabled(N);\n\t}\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `new comments ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `new comments ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return parseInt(this.value.val, 10) >= 0; }\n\n\tasync evaluate(thing: *) {\n\t\tconst newCount = await N.getNewCount(thing);\n\t\tconst count = typeof newCount === 'number' ? newCount : thing.getCommentCount();\n\t\treturn numericalCompare(this.value.op, count, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport { isURLVisited } from '../../../environment';\nimport * as NewCommentCount from '../../newCommentCount';\nimport { Case } from '../Case';\n\nexport class CommentsOpened extends Case {\n\tstatic text = 'Comments opened';\n\n\tstatic fields = ['comments page has been visited'];\n\tstatic slow = 2;\n\n\tstatic unique = true;\n\n\ttrueText = 'comments opened';\n\n\tasync evaluate(thing: *) {\n\t\tif (await NewCommentCount.hasEntry(thing)) return true;\n\n\t\tconst link = thing.getCommentsLink();\n\t\tif (!link) return null;\n\t\treturn isURLVisited(link.href);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class Domain extends PatternCase {\n\tstatic text = 'Link domain name';\n\n\tstatic thingToCriterion(thing: *) { return thing.getPostDomain(); }\n\n\tstatic fields = ['post links to the domain ', { type: 'text', id: 'patt' }];\n\n\ttrueText = `domain ${this.conditions.patt}`;\n\n\tvalue = this.build(true);\n\n\tevaluate(thing: *) {\n\t\tconst domain = thing.getPostDomain();\n\t\tif (!domain) return null;\n\t\treturn this.value.some(v => v.test(domain));\n\t}\n}\n","/* @flow */\n\nimport type { Thing } from '../utils';\nimport type { ModuleOption } from './module'; // eslint-disable-line no-unused-vars\n\nexport class Host<Detect, Opt: { [string]: ModuleOption<any> }> {\n\tmoduleID: string;\n\n\tname: string;\n\tdomains: string[];\n\tpermissions: string[] | void;\n\n\tlogo: string | void;\n\tlandingPage: string | void;\n\tattribution: boolean;\n\n\toptions: Opt | void;\n\n\tdetect: (a: URL, context: ?Thing) => void | null | false | Detect;\n\thandleLink: (href: string, detectResult: Detect) => ExpandoMedia | Promise<ExpandoMedia>;\n\tgetVideoData: void | (id: string) => Promise<?VideoData>;\n\n\tconstructor(moduleID: string, {\n\t\tname,\n\t\tdomains,\n\t\tpermissions,\n\t\tlogo,\n\t\tlandingPage,\n\t\tattribution = true,\n\t\toptions,\n\t\tdetect,\n\t\thandleLink,\n\t\tgetVideoData,\n\t}: {|\n\t\tname: string,\n\t\tdomains: string[],\n\t\tpermissions?: string[],\n\t\tlogo?: string,\n\t\tlandingPage?: string,\n\t\tattribution?: boolean,\n\t\toptions?: Opt,\n\t\tdetect: (a: URL, context: ?Thing) => void | null | false | Detect,\n\t\thandleLink: (href: string, detectResult: Detect) => ExpandoMedia | Promise<ExpandoMedia>,\n\t\tgetVideoData?: (id: string) => Promise<?VideoData>,\n\t|}) {\n\t\tthis.moduleID = moduleID;\n\t\tthis.name = name;\n\t\tthis.domains = domains;\n\t\tthis.permissions = permissions;\n\t\tthis.logo = logo;\n\t\tthis.landingPage = landingPage;\n\t\tthis.attribution = attribution;\n\t\tthis.options = options;\n\t\tthis.detect = detect;\n\t\tthis.handleLink = handleLink;\n\t\tthis.getVideoData = getVideoData;\n\t}\n}\n\ntype VideoData = {|\n  title: string,\n  duration: string,\n  publishedAt: string,\n  viewCount: string,\n|};\n\nexport type ExpandoMedia = GalleryMedia | ImageMedia | VideoMedia | AudioMedia | TextMedia | IframeMedia | GenericMedia;\n\nexport type GalleryMedia = {|\n\ttype: 'GALLERY',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsrc: Array<ImageMedia | VideoMedia | AudioMedia | TextMedia | IframeMedia | GenericMedia>,\n|};\n\nexport type ImageMedia = {|\n\ttype: 'IMAGE',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsrc: string,\n\thref?: string,\n|};\n\nexport type VideoMedia = {|\n\ttype: 'VIDEO',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsources: Array<{|\n\t\tsource: string,\n\t\treverse?: string,\n\t\ttype: string,\n\t|}>,\n\tfallback?: string,\n\thref?: string,\n\tsource?: string,\n\tposter?: string,\n\tmuted?: boolean,\n\tframeRate?: number,\n\tloop?: boolean,\n\tplaybackRate?: number,\n\treversable?: boolean,\n\treversed?: boolean,\n\ttime?: number,\n|};\n\nexport type AudioMedia = {|\n\ttype: 'AUDIO',\n\tautoplay?: boolean,\n\tloop?: boolean,\n\tsources: Array<{|\n\t\tfile: string,\n\t\ttype: string,\n\t|}>,\n|};\n\nexport type TextMedia = {|\n\ttype: 'TEXT',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsrc: string,\n|};\n\nexport type IframeMedia = {|\n\ttype: 'IFRAME',\n\tmuted?: boolean,\n\texpandoClass?: string,\n\tembed: string,\n\tembedAutoplay?: string,\n\twidth?: string,\n\theight?: string,\n\tfixedRatio?: boolean,\n\tpause?: string,\n\tplay?: string,\n|};\n\nexport type GenericMedia = {|\n\ttype: 'GENERIC_EXPANDO',\n\tmuted?: boolean,\n\texpandoClass?: string,\n\tgenerate: () => HTMLElement,\n\tonAttach?: () => void,\n|};\n","/* @flow */\n\nimport { i18n } from '../../environment';\nimport { string } from '../../utils';\n\nexport const audioTemplate = ({ loop, sources }: {| loop?: boolean, sources: Array<{| file: string, type: string |}> |}) => string.html`\n\t<div>\n\t\t<audio controls ${loop && 'loop'}>\n\t\t\t${sources.map(({ file, type }) => string._html`\n\t\t\t\t<source src=\"${file}\" type=\"${type}\">\n\t\t\t`)}\n\t\t</audio>\n\t</div>\n`;\n\nexport const galleryTemplate = <T>({ title, caption, credits, src }: {| title?: string, caption?: string, credits?: string, src: T[] |}) => string.html`\n\t<div class=\"res-gallery\">\n\t\t${title && string._html`\n\t\t<h3 class=\"res-title res-gallery-title\">${title}</h3>\n\t\t`}\n\t\t${caption && string._html`\n\t\t<div class=\"res-caption res-gallery-caption\">${string.safe(caption)}</div>\n\t\t`}\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t\t<div class=\"res-step-container\">\n\t\t\t<div class=\"res-step res-step-previous\"></div>\n\t\t\t<div class=\"res-step-progress\">\n\t\t\t\t<span class=\"res-step-position\">1</span> of ${src.length}\n\t\t\t</div>\n\t\t\t<div class=\"res-step res-step-next\"></div>\n\t\t\t<div class=\"res-gallery-to-filmstrip\" title=\"View as filmstrip\"></div>\n\t\t</div>\n\t\t<div class=\"res-gallery-pieces\"></div>\n\t\t<div class=\"res-gallery-below\">\n\t\t\t<div>\n\t\t\t\t<div class=\"res-expando-siteAttribution\"></div>\n\t\t\t\t<div class=\"res-gallery-increase-concurrent\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nexport const imageTemplate = ({ title, caption, credits, src, href, openInNewWindow }: {| title?: string, caption?: string, credits?: string, src: string, href: string, openInNewWindow: boolean |}) => string.html`\n\t<div class=\"res-image\">\n\t\t${title && string._html`\n\t\t<h4 class=\"res-title\">${title}</h4>\n\t\t`}\n\t\t${caption && string._html`\n\t\t<div class=\"res-caption\">${string.safe(caption)}</div>\n\t\t`}\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t\t<a class=\"res-expando-link noKeyNav\" href=\"${href}\" ${openInNewWindow && string._html`target=\"_blank\" rel=\"noopener noreferrer\"`}>\n\t\t\t<img class=\"res-image-media\" src=\"${src}\">\n\t\t</a>\n\t</div>\n`;\n\nexport const iframeTemplate = ({ url, width, height }: {| url: string, width: string, height: string |}) => string.html`\n\t<div class=\"res-iframe-expando\">\n\t\t<div>\n\t\t\t<iframe src=\"${url}\" style=\"width: ${width}; height: ${height}\" allowFullscreen=\"true\"></iframe>\n\t\t\t<div class=\"res-iframe-expando-drag-handle\">\n\t\t\t\t<div class=\"res-icon\"></div>\n\t\t\t\t<div class=\"res-expando-siteAttribution\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nexport const textTemplate = ({ title, credits, src }: {| title?: string, credits?: string, src: string |}) => string.html`\n\t<div class=\"res-text usertext-body\">\n\t\t${title && string._html`\n\t\t<h3 class=\"res-title\">${title}</h3>\n\t\t`}\n\t\t<div class=\"res-text-media md\">${string.safe(src)}</div>\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t</div>\n`;\n\nexport const videoTemplate = ({\n\ttitle,\n\tcaption,\n\tcredits,\n\thref,\n\tsource,\n\tposter,\n\thasAudio,\n\tloop,\n\treversable,\n\tformattedPlaybackRate,\n\topenInNewWindow,\n}: {|\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\thref: string,\n\tsource?: string,\n\tposter?: string,\n\thasAudio: boolean,\n\tloop: boolean,\n\treversable: boolean,\n\tformattedPlaybackRate: string,\n\topenInNewWindow: boolean,\n|}) => string.html`\n\t<div class=\"res-video\">\n\t\t${title && string._html`\n\t\t<h4 class=\"res-title\">${title}</h4>\n\t\t`}\n\t\t${caption && string._html`\n\t\t<div class=\"res-caption\">${string.safe(caption)}</div>\n\t\t`}\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t\t<div class=\"res-video-container\">\n\t\t\t<a class=\"noKeyNav\" href=\"${href}\" ${openInNewWindow && string._html`target=\"_blank\" rel=\"noopener noreferrer\"`}>\n\t\t\t\t<video ${!hasAudio && 'muted'} ${loop && 'loop'} poster=\"${poster}\"></video>\n\t\t\t</a>\n\t\t\t<div class=\"res-video-interface\">\n\t\t\t\t<div class=\"res-video-progress\">\n\t\t\t\t\t<div class=\"res-video-position\"></div>\n\t\t\t\t\t<div class=\"res-video-position-thumb\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"res-video-main\">\n\t\t\t\t\t<div class=\"res-video-controls\">\n\t\t\t\t\t\t<div title=\"Toggle pause\" class=\"res-icon res-video-button res-video-toggle-pause\"></div>\n\t\t\t\t\t\t${reversable && string._html`\n\t\t\t\t\t\t<div title=\"Reverse video\" class=\"res-icon res-video-button res-video-reverse\"></div>\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t${hasAudio && string._html`\n\t\t\t\t\t\t\t<div title=\"Adjust volume\" class=\"res-icon res-video-button res-video-volume\">\n\t\t\t\t\t\t\t\t<div class=\"res-video-volume-level\">\n\t\t\t\t\t\t\t\t\t<div class=\"res-video-volume-percentage\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t<div class=\"res-video-controls-group res-video-current-time\">\n\t\t\t\t\t\t\t<div title=\"Select previous frame\" class=\"res-icon res-video-button res-video-time-decrease\"></div>\n\t\t\t\t\t\t\t<div class=\"res-video-time\">0.00s</div>\n\t\t\t\t\t\t\t<div title=\"Select next frame\" class=\"res-icon res-video-button res-video-time-increase\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"res-video-controls-group res-video-playback-rate\">\n\t\t\t\t\t\t\t<div title=\"Decrease speed by 10%\" class=\"res-icon res-video-button res-video-speed-decrease\"></div>\n\t\t\t\t\t\t\t<div class=\"res-video-speed\">${string.safe(formattedPlaybackRate)}</div>\n\t\t\t\t\t\t\t<div title=\"Increase speed by 10%\" class=\"res-icon res-video-button res-video-speed-increase\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div hidden class=\"res-video-error\">\n\t\t\t\t\t\t<div class=\"res-icon\">&#xf15b</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"res-video-info\">\n\t\t\t\t\t\t${source && string._html`\n\t\t\t\t\t\t<a class=\"res-video-link res-video-source\" href=\"${source}\">source</a>\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t<div class=\"res-expando-siteAttribution\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nexport const mediaControlsTemplate = ({ x, y, downloadUrl, lookupUrl, clippy }: {| x: string, y: string, downloadUrl?: string, lookupUrl?: string, clippy: boolean |}) => string.html`\n\t<div class=\"res-media-with-controls-wrapper\">\n\t\t<div class=\"res-media-controls res-media-controls-${x} res-media-controls-${y}\">\n\t\t\t<button class=\"res-icon gearIcon\" title=\"Settings\" data-action=\"showImageSettings\"></button>\n\t\t\t<button class=\"res-media-controls-rotate res-media-controls-rotate-left res-icon\" title=\"Rotate image counter-clockwise\" data-action=\"rotateLeft\"></button>\n\t\t\t<button class=\"res-media-controls-rotate res-media-controls-rotate-right res-icon\" title=\"Rotate image clockwise\" data-action=\"rotateRight\"></button>\n\t\t\t${downloadUrl && string._html`\n\t\t\t<button class=\"res-media-controls-download res-icon title=\"Download image\" data-action=\"download\"></button>\n\t\t\t`}\n\t\t\t${lookupUrl && string._html`\n\t\t\t<button class=\"res-media-controls-lookup res-icon\" title=\"Reverse image search\" data-action=\"imageLookup\"></button>\n\t\t\t`}\n\t\t\t${clippy && string._html`\n\t\t\t<button class=\"res-media-controls-clippy\" title=\"Show educational info\" data-action=\"clippy\"></button>\n\t\t\t`}\n\t\t</div>\n\t</div>\n`;\n\nexport const siteAttributionTemplate = ({ url, name, logoUrl, settingsLink }: {| url: string, name: string, logoUrl?: string, settingsLink: string |}) => string.html`\n\t<cite class=\"res-expando-siteAttribution\">\n\t\t<a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferer\">\n\t\t\t${logoUrl && string._html`<img src=\"${logoUrl}\" alt=\"Hosted on ${name}\" title=\"Hosted on ${name}\" />`}\n\t\t\t<span>hosted on ${name}</span>\n\t\t\t<a href=\"${settingsLink}\" class=\"gearIcon\" title=\"Disable or change settings for ${name}\"></a>\n\t\t</a>\n\t</cite>\n`;\n\nexport const crosspostMetadataTemplate = (data: {\n\turl: string,\n\tcrosspostRootSubreddit: string,\n\tcrosspostRootAuthor: string,\n\tcrosspostRootScore: string,\n\tcrosspostRootNumComments: string,\n\tcrosspostRootTime: string,\n\tcrosspostRootTitle: string,\n\ttargetParentFullname: string,\n}) => string.html`\n\t<div class=\"crosspost-preview res-crosspost-preview\">\n\t\t<div class=\"crosspost-preview-header\">\n\t\t\t<a href=\"${data.url}\" class=\"content-link may-blank\" data-event-action=\"title\" tabindex=\"1\"></a>\n\t\t\t<div class=\"text-content\">\n\t\t\t\t<p class=\"title\">${data.crosspostRootTitle}</p>\n\t\t\t\t<div class=\"crosspost-preview-tagline tagline\">\n\t\t\t\t\t<span>${i18n('numPoints', parseInt(data.crosspostRootScore, 10))}</span>\n\t\t\t\t\t<span class=\"dot\"></span>\n\t\t\t\t\t<a href=\"/r/${data.crosspostRootSubreddit}/comments/${(data.targetParentFullname || '').slice(3)}\" class=\"comments may-blank\">${i18n('numComments', parseInt(data.crosspostRootNumComments, 10))}</a>\n\t\t\t\t\t<span class=\"dot\"></span>\n\t\t\t\t\t${i18n('submittedAtTime')} <time>${data.crosspostRootTime}</time>\n\t\t\t\t\t${i18n('submittedByAuthor')} <a href=\"/user/${data.crosspostRootAuthor}/\" class=\"author may-blank\">${data.crosspostRootAuthor}</a>\n\t\t\t\t\t${i18n('submittedToSubreddit')} <a href=\"/r/${data.crosspostRootSubreddit}/\" class=\"subreddit hover may-blank\">r/${data.crosspostRootSubreddit}</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n","/* @flow */\n\nimport _ from 'lodash';\nimport {\n\tclick,\n\tfilterMap,\n} from '../../utils';\nimport type { Thing } from '../../utils';\nimport type { Media } from '../showImages';\n\nexport const expandos: Map<Element, Expando> = new Map();\nexport const activeExpandos: Set<Expando> = new Set();\nconst opened = new Set();\n\ntype OnExpandCallback = () => void;\n\nexport class Expando {\n\tstatic expandoSelector = '.expando-button, .search-expando-button';\n\n\tstatic getEntryExpandoFrom(thing: ?Thing): ?Expando {\n\t\tif (!thing) return null;\n\n\t\tconst button = thing.entry.querySelector('.expando-button');\n\t\tif (!button) return null;\n\n\t\tlet expando = expandos.get(button);\n\n\t\tif (!expando) {\n\t\t\tconst box = thing.entry.querySelector('.expando');\n\t\t\tif (!box) return null;\n\n\t\t\tconst buttonPlaceholder = document.createElement('span');\n\t\t\tconst boxPlaceholder = document.createElement('span');\n\n\t\t\t// Otherwise it is a native expando: Create a pseudo-class for those\n\t\t\texpando = ({\n\t\t\t\tbutton,\n\t\t\t\tget open() { return button.classList.contains('expanded'); },\n\t\t\t\tcollapse() { if (this.open) this.toggle(); },\n\t\t\t\texpand() { if (!this.open) this.toggle(); },\n\t\t\t\ttoggle() { click(button); },\n\t\t\t\tdetach() {\n\t\t\t\t\tbutton.replaceWith(buttonPlaceholder);\n\t\t\t\t\tbox.replaceWith(boxPlaceholder);\n\t\t\t\t},\n\t\t\t\treattach() {\n\t\t\t\t\tbuttonPlaceholder.replaceWith(button);\n\t\t\t\t\tboxPlaceholder.replaceWith(box);\n\t\t\t\t},\n\t\t\t\ttypes: _.flatten([\n\t\t\t\t\t'native',\n\t\t\t\t\tbutton.classList.contains('selftext') ? 'selftext' : // This may be muted, depending on its content (not possible to know before expanding)\n\t\t\t\t\t(box.dataset.cachedhtml || '').match(/\\bvideo-player\\b/) ? ['video', 'non-muted'] :\n\t\t\t\t\t(box.dataset.cachedhtml || '').match(/\\<iframe\\b/) ? ['iframe', 'non-muted'] :\n\t\t\t\t\t['image', 'muted'],\n\t\t\t\t]).filter(Boolean),\n\t\t\t\tready: true,\n\t\t\t}: any /* TODO: this is kinda dangerous, there should be a subclass instead */);\n\n\t\t\texpandos.set(button, expando);\n\t\t}\n\n\t\treturn expando;\n\t}\n\n\tstatic getTextExpandosFrom(thing: ?Thing): Expando[] {\n\t\tif (!thing) return [];\n\t\tconst md = thing.entry.querySelector('.md');\n\t\tif (!md) return [];\n\t\treturn filterMap(Array.from(md.querySelectorAll(Expando.expandoSelector)), v => {\n\t\t\tconst exp = expandos.get(v);\n\t\t\tif (exp) return [exp];\n\t\t});\n\t}\n\n\tstatic getAllExpandosFrom(thing: ?Thing): Expando[] {\n\t\treturn _.compact([...Expando.getTextExpandosFrom(thing), Expando.getEntryExpandoFrom(thing)]);\n\t}\n\n\thref: string;\n\tinText: boolean;\n\tready: boolean = false;\n\n\tlock: ?{ open: () => {}, promise: Promise<*> } = null;\n\n\tbox: HTMLElement;\n\tbutton: HTMLElement;\n\n\topen: boolean = false;\n\texpandWanted: boolean = false;\n\n\texpandCallbacks: OnExpandCallback[] = [];\n\n\tmedia: ?Media;\n\tgenerateMedia: ?() => Media;\n\n\ttypes: string[] = [];\n\n\tbuttonInfo: {|\n\t\ttitle: string,\n\t\tmediaClass: string,\n\t|} = {\n\t\ttitle: 'Expando is not yet ready',\n\t\tmediaClass: '',\n\t};\n\n\tconstructor(href: *) {\n\t\tthis.href = href;\n\n\t\tthis.box = document.createElement('div');\n\t\tthis.box.classList.add('res-expando-box');\n\t\tthis.box.hidden = true;\n\n\t\tthis.button = document.createElement('a');\n\t\tthis.button.addEventListener('click', () => this.toggle());\n\t\tthis.updateButton();\n\n\t\t// Reddit may try to override the button classes\n\t\tnew MutationObserver(() => { this.updateButton(); }).observe(this.button, { attributes: true });\n\n\t\texpandos.set(this.button, this);\n\t}\n\n\tonExpand(callback: OnExpandCallback) {\n\t\tthis.expandCallbacks.push(callback);\n\t}\n\n\tupdateButton() {\n\t\tlet { mediaClass, title } = this.buttonInfo;\n\n\t\tif (this.lock) {\n\t\t\tmediaClass = 'expando-button-requires-permission';\n\t\t\ttitle = 'Click to request required permissions';\n\t\t}\n\n\t\tconst classList = [\n\t\t\t'expando-button',\n\t\t\t...(mediaClass.split(' ') || ['expando-button-loading']),\n\t\t\tthis.open || this.expandWanted ? 'expanded' : 'collapsed',\n\t\t].filter(Boolean);\n\n\t\tif (!this.expandWanted && !this.open && opened.has(this.href)) {\n\t\t\tclassList.push('expando-button-duplicate');\n\t\t\ttitle += ' (link has already been opened)';\n\t\t}\n\n\t\t// Only invoke if there's actual changes, to prevent triggering the mutationobserver unnecessarily\n\t\tconst btn = this.button;\n\t\tfor (const v of btn.classList) if (!classList.includes(v)) btn.classList.remove(v);\n\t\tfor (const v of classList) if (!btn.classList.contains(v)) btn.classList.add(v);\n\t\tif (btn.title !== title) btn.title = title;\n\t}\n\n\tinitialize(options: {| generateMedia: *, buttonInfo: *, types: * |}) {\n\t\tthis.generateMedia = options.generateMedia;\n\t\tthis.buttonInfo = options.buttonInfo;\n\t\tthis.types = options.types;\n\t\tthis.ready = true;\n\n\t\tif (this.expandWanted) this.expand();\n\t\telse this.updateButton();\n\t}\n\n\tgetDuplicates() {\n\t\treturn Array.from(expandos.values()).filter(v => v !== this && v.href === this.href);\n\t}\n\n\tasync setLock(lock: *) {\n\t\tthis.lock = lock;\n\t\tthis.updateButton();\n\n\t\tawait lock.promise;\n\n\t\tthis.lock = null;\n\t\tthis.updateButton();\n\t}\n\n\ttoggle() {\n\t\tif (this.open) this.collapse();\n\t\telse this.expand();\n\t}\n\n\texpand() {\n\t\tif (this.lock || !this.ready) {\n\t\t\tthis.expandWanted = true;\n\t\t\tif (this.lock) this.lock.open();\n\t\t\tthis.updateButton();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.box.hidden = false;\n\n\t\tthis.attachMedia();\n\t\tif (this.media) this.media.expand();\n\n\t\tthis.open = true;\n\t\tthis.expandWanted = false;\n\t\tthis.updateButton();\n\n\t\tfor (const callback of this.expandCallbacks) callback();\n\n\t\topened.add(this.href);\n\t\tfor (const duplicate of this.getDuplicates()) duplicate.updateButton();\n\t}\n\n\tcollapse() {\n\t\tthis.box.hidden = true;\n\n\t\tthis.open = false;\n\t\tthis.expandWanted = false;\n\t\tthis.updateButton();\n\n\t\tif (this.media) {\n\t\t\tthis.media.collapse();\n\t\t}\n\t}\n\n\tattachMedia() {\n\t\tconst wrapper = this.box.firstElementChild || document.createElement('div');\n\t\tif (!this.generateMedia) throw new Error('Cannot attach media without `generateMedia`');\n\t\tthis.media = this.media || this.generateMedia();\n\t\twrapper.append(this.media.element);\n\t\twrapper.classList.add('res-expando-box-inner');\n\t\tthis.box.append(wrapper);\n\t\tif (/*:: this.media && */ this.media.onAttach) this.media.onAttach();\n\t\tactiveExpandos.add(this);\n\t}\n\n\tisAttached() {\n\t\treturn document.body.contains(this.button) && document.body.contains(this.box);\n\t}\n\n\tdestroy() {\n\t\tif (this.box) {\n\t\t\tthis.box.remove();\n\t\t\tdelete this.box;\n\t\t}\n\t\tif (this.button) {\n\t\t\texpandos.delete(this.button);\n\t\t\tthis.button.remove();\n\t\t\tdelete this.button;\n\t\t}\n\t\tthis.empty();\n\t}\n\n\tempty() {\n\t\tif (this.media) {\n\t\t\tthis.media.element.remove();\n\t\t\tdelete this.media;\n\t\t}\n\t\tif (this.button) {\n\t\t\tif (this.open) this.collapse();\n\t\t\telse this.updateButton();\n\t\t}\n\t\tactiveExpandos.delete(this);\n\t}\n}\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { string } from '../../utils';\n\nexport default new Host('aarli', {\n\tname: 'AAR Library',\n\tdomains: ['aar.li'],\n\tlogo: 'https://aar.li/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/a\\/(\\w+)/i).exec(pathname),\n\tasync handleLink(href, [, aarId]) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://aar.li/api.php',\n\t\t\tquery: { aarId },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (info.errors) {\n\t\t\tthrow new Error(info.errors);\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'GALLERY',\n\t\t\ttitle: info.title,\n\t\t\tcaption: info.description + (info.previousurl ? string.escape`<br/><a href=\"${info.previousurl}\">Previous part.</a>` : ''),\n\t\t\tcredits: string.escape`AAR by <a href=\"${info.authorurl}\">${info.author}</a>`,\n\t\t\tsrc: info.slides.map(({ desc, imglink }) => ({\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tcaption: desc,\n\t\t\t\tsrc: imglink,\n\t\t\t})),\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('adultswim', {\n\tname: 'Adult Swim',\n\tdomains: ['adultswim.com'],\n\tlogo: 'https://www.adultswim.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/videos\\/([^\\/]+\\/[^\\/]+)(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, path]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://www.adultswim.com/utilities/embed/${path}`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('archilogic', {\n\tname: 'archilogic',\n\tdomains: ['spaces.archilogic.com'],\n\tlogo: 'https://about.archilogic.com/wp-content/uploads/2017/01/favicon-96x96.png',\n\tdetect: ({ pathname }) => (/^\\/(3d|model)/).exec(pathname),\n\thandleLink(href) {\n\t\tconst formattedUrl = href\n\t\t\t.replace('/model/', '/3d/') // force /3d/\n\t\t\t.replace('http:', 'https:'); // force https\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: formattedUrl,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('archive.is', {\n\tname: 'archive.is',\n\tdomains: ['archive.is'],\n\tlogo: 'https://archive.is/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(\\w+)(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://archive.fo/${code}/scr.png`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('bime', {\n\tname: 'Bime Analytics Dashboards',\n\tdomains: ['bime.io'],\n\tlogo: 'https://a.bime.io/assets/favicons/favicon.ico',\n\tdetect: ({ href }) => (/https?:\\/\\/([^.]+)\\.bime\\.io(?:\\/([a-z0-9_-]+))+/i).exec(href),\n\thandleLink: (href, [, user, dashboardId]) => ({\n\t\ttype: 'IFRAME',\n\t\tembed: `https://${user}.bime.io/dashboard/${dashboardId}`,\n\t\texpandoClass: 'selftext',\n\t\twidth: '960px',\n\t\theight: '540px',\n\t}),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('clyp', {\n\tname: 'clyp',\n\tdomains: ['clyp.it'],\n\tlogo: 'https://d2cjvbryygm0lr.cloudfront.net/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(playlist\\/)?([A-Za-z0-9]+)/i).exec(pathname),\n\thandleLink(href, [, playlist, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://clyp.it/${playlist ? 'playlist/' : ''}${id}/widget`,\n\t\t\theight: '160px',\n\t\t\twidth: '600px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('codepen', {\n\tname: 'CodePen',\n\tdomains: ['codepen.io'],\n\tattribution: false, // shown in embed\n\tdetect: ({ pathname }) => (/^\\/(?!anon)([a-z0-9_-]+)\\/(?:pen|full|details|debug)\\/([a-z]+)\\b/i).exec(pathname),\n\thandleLink(href, [, user, hash]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: true,\n\t\t\theight: '500px',\n\t\t\twidth: '700px',\n\t\t\texpandoClass: 'selftext',\n\t\t\tembed: `https://codepen.io/${user}/embed/${hash}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('coub', {\n\tname: 'Coub',\n\tdomains: ['coub.com'],\n\tdetect: ({ pathname }) => (/^\\/(?:view|embed)\\/(\\w+)(\\.gifv)?/i).exec(pathname),\n\thandleLink(href, [, hash, isGifv]) {\n\t\tconst src = isGifv ?\n\t\t\t`https://coub.com/view/${hash}.gifv?res=true` :\n\t\t\t`https://coub.com/embed/${hash}?autoplay=true&res=true`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: !!isGifv,\n\t\t\tembed: src,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('dailymotion', {\n\tname: 'dailymotion',\n\tdomains: ['dailymotion.com'],\n\tlogo: 'https://static1.dmcdn.net/images/favicons/favicon-32x32.png.vb5b47df6329123929',\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:(?:www|touch)\\.)?dailymotion.com[\\w\\-\\/:#]+video[\\/=]([a-z0-9]+)/i).exec(href),\n\thandleLink(href, [, hash]) {\n\t\tconst embed = `https://www.dailymotion.com/embed/video/${hash}?api=postMessage`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}&autoplay=1`,\n\t\t\tpause: 'pause',\n\t\t\tplay: 'play',\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('default', {\n\tname: 'default',\n\tdomains: [],\n\tdetect: ({ pathname }) => (/\\.(gif|jpe?g|png|svg)$/i).test(pathname),\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('defaultAudio', {\n\tname: 'defaultAudio',\n\tdomains: [],\n\tdetect: ({ pathname }) => (/\\.(opus|weba|ogg|wav|mp3|flac)$/i).exec(pathname),\n\thandleLink(href, [, extension]) {\n\t\t// Change weba and opus to their correct containers.\n\t\tif (extension === 'weba') extension = 'webm';\n\t\tif (extension === 'opus') extension = 'ogg';\n\n\t\tconst format = `audio/${extension}`;\n\n\t\treturn {\n\t\t\ttype: 'AUDIO',\n\t\t\tautoplay: true,\n\t\t\tloop: false,\n\t\t\tsources: [{\n\t\t\t\tfile: href,\n\t\t\t\ttype: format,\n\t\t\t}],\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('defaultVideo', {\n\tname: 'defaultVideo',\n\tdomains: [],\n\tdetect: ({ pathname }) => (/\\.(webm|mp4|ogv|3gp|mkv)$/i).exec(pathname),\n\thandleLink(href, [, extension]) {\n\t\t// Change ogv to ogg format.\n\t\tif (extension === 'ogv') extension = 'ogg';\n\n\t\tconst format = `video/${extension}`;\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tsources: [{\n\t\t\t\tsource: href,\n\t\t\t\ttype: format,\n\t\t\t}],\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { batch, string } from '../../utils';\n\nexport default new Host('derpibooru', {\n\tname: 'Derpibooru',\n\tlogo: 'https://derpibooru.org/favicon.ico',\n\tdomains: [\n\t\t'derpibooru.org',\n\t\t'trixiebooru.org',\n\t\t'derpiboo.ru', // Deprecated. Used for old links only.\n\t\t'derpicdn.net', // direct links\n\t],\n\n\tdetect: ({ hostname, pathname }) => (hostname === 'derpicdn.net' ?\n\t\t(/^\\/img\\/view\\/\\d+\\/\\d+\\/\\d+\\/(\\d+)[._]/i).exec(pathname) :\n\t\t(/^\\/(?:images\\/)?(\\d+)$/i).exec(pathname)\n\t),\n\n\thandleLink: (() => {\n\t\tconst fetchInfo = batch(async requests => {\n\t\t\tconst maxDepth = 10;\n\n\t\t\tconst { images } = await ajax({\n\t\t\t\turl: 'https://derpibooru.org/api/v2/images/show.json',\n\t\t\t\tquery: { ids: requests.map(r => r.id).join(',') },\n\t\t\t\ttype: 'json',\n\t\t\t});\n\n\t\t\tconst responseById = _.keyBy(images, img => img.id);\n\n\t\t\treturn requests.map(({ id, depth = 0 }: { id: string, depth?: number }) => {\n\t\t\t\tconst result = responseById[id];\n\n\t\t\t\tif (!result) {\n\t\t\t\t\t// API doesn't return a result for this image for some unknown reason\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=17\n\t\t\t\t\treturn new Error('No result');\n\t\t\t\t} else if (result.duplicate_of) {\n\t\t\t\t\t// Duplicate image.\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=975313\n\t\t\t\t\tif (depth > maxDepth) {\n\t\t\t\t\t\treturn new Error(`Exceeded max duplicate depth: ${maxDepth}`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fetchInfo({ id: result.duplicate_of, depth: depth + 1 });\n\t\t\t\t} else if (result.image) {\n\t\t\t\t\t// Normal image.\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=0\n\t\t\t\t\treturn result;\n\t\t\t\t} else {\n\t\t\t\t\t// Deleted image, or some other error.\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=898402\n\t\t\t\t\treturn new Error('Image deleted or other error');\n\t\t\t\t}\n\t\t\t});\n\t\t}, { size: 50 });\n\n\t\treturn async (href, [, id]) => {\n\t\t\tconst { image, description, source_url: source } = await fetchInfo({ id });\n\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: image,\n\t\t\t\tcaption: description,\n\t\t\t\tcredits: source ? string.escape`Source: <a href=\"${source}\">${source}</a>` : undefined,\n\t\t\t};\n\t\t};\n\t})(),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('deviantart', {\n\tname: 'deviantART',\n\tlogo: 'https://i.deviantart.net/icons/da_favicon.ico',\n\tdomains: ['deviantart.com', 'fav.me', 'sta.sh'],\n\tpermissions: ['https://backend.deviantart.com/oembed'],\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:fav\\.me\\/.*|sta\\.sh.*|(?:.+\\.)?deviantart\\.com\\/(?:(?:[\\w-]+\\/)?art\\/.*|[^#]*#\\/d.*))$/i).test(href),\n\tasync handleLink(href) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://backend.deviantart.com/oembed',\n\t\t\tquery: { url: href },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tswitch (info.type) {\n\t\t\tcase 'photo':\n\t\t\tcase 'link':\n\t\t\t\tlet src;\n\t\t\t\tif (info.fullsize_url) {\n\t\t\t\t\tsrc = info.fullsize_url;\n\t\t\t\t} else if ((/\\.(jpg|jpeg|gif|png)/i).test(info.url)) {\n\t\t\t\t\tsrc = info.url;\n\t\t\t\t} else {\n\t\t\t\t\tsrc = info.thumbnail_url;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\ttitle: info.title,\n\t\t\t\t\tcredits: `Art by: <a href=\"${info.author_url}\">${info.author_name}</a> @ deviantART`,\n\t\t\t\t\tsrc,\n\t\t\t\t};\n\t\t\tcase 'rich':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\ttitle: info.title,\n\t\t\t\t\tsrc: info.html + ((/[^\\s\\.]\\s*$/).test(info.html) ? '...' : ''),\n\t\t\t\t\tcredits: `<a href=\"${href}\">Click here to read the full text</a> - Written By: <a href=\"${info.author_url}\">${info.author_name}</a> @ deviantART`,\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unsupported deviantART post type: ${info.type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { genericHosts } from '../showImages';\n\nexport default new Host('dropbox', {\n\tname: 'dropbox',\n\tdomains: ['dropbox.com'],\n\tlogo: 'https://cfl.dropboxstatic.com/static/images/favicon-vflk5FiAC.ico',\n\tdetect(url) {\n\t\tfor (const host of genericHosts) {\n\t\t\tconst result = host.detect(url);\n\t\t\tif (result) return [host.handleLink, result];\n\t\t}\n\t},\n\thandleLink(href, [handler, result]) {\n\t\tconst originalURL = new URL(href);\n\t\treturn handler(`${originalURL.origin}${originalURL.pathname}?raw=1`, result);\n\t},\n});\n","/**\n *\n * It's worth commenting here that this is essentially \"reverse\" support. There is\n * no support for inline expansion of 500px.com links in RES. This module \"gives back\n * credit\" to 500px.com authors when someone posts their image directly, by figuring\n * out the original 500px.com link and adding a caption / link to 500px.com\n *\n */\n\n/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('fiveHundredPx', {\n\tname: 'fiveHundredPx',\n\tdomains: ['500px.org', '500px.net', '500px.com'],\n\tlogo: 'https://assetcdn.500px.org/assets/favicon-1e8257b93fb787f8ceb66b5522ee853c.ico',\n\tdetect: ({ href }) => (/^https?:\\/\\/\\w*cdn\\.500px\\.(?:net|com|org)\\/(?:photo\\/)?([0-9]+)\\//).exec(href),\n\thandleLink(href, [, photoId]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href.replace(/\\/[0-9]+\\.jpg$/, '/5.jpg'),\n\t\t\tcredits: `View original and details at: <a href=\"https://500px.com/photo/${photoId}\">500px.com</a>`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nfunction base58Encode(num) {\n\tconst alpha = '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ';\n\tlet enc = '';\n\tlet acc = num;\n\n\tdo {\n\t\tconst div = Math.floor(acc / 58);\n\t\tconst mod = acc - (58 * div);\n\t\tenc = `${alpha[mod]}${enc}`;\n\t\tacc = div;\n\t} while (acc);\n\n\treturn enc;\n}\n\nexport default new Host('flickr', {\n\tname: 'flickr',\n\tdomains: ['flickr.com', 'flic.kr', 'staticflickr.com'],\n\tpermissions: ['https://www.flickr.com/services/oembed'],\n\tlogo: 'https://s.yimg.com/pw/favicon.ico',\n\tdetect({ origin, href, pathname }) {\n\t\tif (origin.endsWith('staticflickr.com')) {\n\t\t\t// these urls requires some additional processing\n\t\t\tconst [, id] = (/(?:.+\\/)?\\d{4}\\/(\\d{10,})_/i).exec(pathname) || [];\n\t\t\t// encode the id and use a Flickr short-url\n\t\t\tif (id) return `https://flic.kr/p/${base58Encode(parseInt(id, 10))}`;\n\t\t} else {\n\t\t\treturn href;\n\t\t}\n\t},\n\tasync handleLink(href, oembedTarget) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://www.flickr.com/services/oembed',\n\t\t\tquery: { format: 'json', url: oembedTarget },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst validSuffix = /\\.(jpg|jpeg|gif|png)/i;\n\t\tconst src = validSuffix.test(oembedTarget) ? oembedTarget : // The oembed provides usually proides a ~~low resolution image, while the original link often is to the highest one\n\t\t\tvalidSuffix.test(info.url) ? info.url :\n\t\t\tvalidSuffix.test(info.thumbnail_url) ? info.thumbnail_url :\n\t\t\tundefined;\n\n\t\tif (!src) {\n\t\t\tthrow new Error('No image found.');\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle: info.title,\n\t\t\tcredits: `Picture by: <a href=\"${info.author_url}\">${info.author_name}</a> @ Flickr`,\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('getyarn', {\n\tname: 'getyarn.io',\n\tlogo: 'https://getyarn.io/favicon.ico',\n\tdomains: ['getyarn.io'],\n\tdetect: ({ pathname }) => (/\\/yarn-clip\\/(?:embed\\/)?([\\w\\-]+)/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\tconst embed = `https://getyarn.io/yarn-clip/embed/${code}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `${embed}?autoplay=false`,\n\t\t\tembedAutoplay: `${embed}?autoplay=true`,\n\t\t\theight: '600px', // size as per docs in https://getyarn.io/yarn-clip/embed-test/\n\t\t\twidth: '768px',\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY, string } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('gfycat', {\n\tname: 'gfycat',\n\tdomains: ['gfycat.com'],\n\tlogo: 'https://gfycat.com/favicon.ico',\n\toptions: {\n\t\tuseMobileGfycat: {\n\t\t\ttitle: 'gfycatUseMobileGfycatTitle',\n\t\t\tdescription: 'gfycatUseMobileGfycatDesc',\n\t\t\tvalue: false,\n\t\t\ttype: 'boolean',\n\t\t},\n\t},\n\tdetect: ({ pathname }) => (/^\\/(?:(?:ifr|gifs\\/detail)\\/)?(\\w+)(?:\\.gif)?/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst isMobileResolution = this.options.useMobileGfycat.value;\n\n\t\tconst info = (await ajax({\n\t\t\turl: string.encode`https://api.gfycat.com/v1/gfycats/${id}`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t})).gfyItem;\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tframeRate: info.frameRate,\n\t\t\tloop: true,\n\t\t\tmuted: !info.hasAudio,\n\t\t\tplaybackRate: +(href.match(/[?|&]speed=([\\d\\.]+)/i) || [undefined, 1])[1],\n\t\t\tposter: isMobileResolution ? info.mobilePosterUrl : info.posterUrl,\n\t\t\tsources: [isMobileResolution && {\n\t\t\t\tsource: info.mobileUrl,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}, {\n\t\t\t\tsource: info.webmUrl,\n\t\t\t\ttype: 'video/webm',\n\t\t\t}, {\n\t\t\t\tsource: info.mp4Url,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}].filter(x => x),\n\t\t\ttime: +(href.match(/[?|&]frameNum=([\\d]+)/i) || [undefined, 0])[1] / info.frameRate,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('gifs', {\n\tname: 'gifs.com',\n\tdomains: ['gifs.com', 'gifyoutube.com', 'gifyt.com'],\n\tlogo: 'https://cdn.gifs.com/resources/favicon.png',\n\tdetect: ({ href }) => (\n\t\t(/^https?:\\/\\/(?:beta\\.|www\\.)?(?:gifyoutube|gifyt)\\.com\\/gif\\/(\\w+)\\.?/i).exec(href) ||\n\t\t(/^https?:\\/\\/share\\.gifyoutube\\.com\\/(\\w+)\\.gif/i).exec(href)\n\t),\n\tasync handleLink(href, [, id]) {\n\t\tconst { sauce } = await ajax({\n\t\t\turl: `https://gifs.com/api/${id}`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tfallback: `https://share.gifyoutube.com/${id}.gif`,\n\t\t\tmuted: true,\n\t\t\tsource: sauce,\n\t\t\tsources: [{\n\t\t\t\tsource: `https://share.gifyoutube.com/${id}.webm`,\n\t\t\t\ttype: 'video/webm',\n\t\t\t}, {\n\t\t\t\tsource: `https://share.gifyoutube.com/${id}.mp4`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport logo from '../../images/hosts/giphy-logo.png';\n\nexport default new Host('giphy', {\n\tname: 'giphy',\n\tdomains: ['giphy.com'],\n\tlogo,\n\tdetect: ({ pathname }) => (/^(?:\\/gifs|\\/media|)\\/(?:\\w+-)*([^/.]+)(?:\\/|\\.gif|$)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst { data } = await ajax({\n\t\t\turl: `https://api.giphy.com/v1/gifs/${id}`,\n\t\t\tquery: { api_key: 'dc6zaTOxFJmzC' },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tfallback: data.images.original.url,\n\t\t\tloop: true,\n\t\t\tmuted: true,\n\t\t\tsources: [{\n\t\t\t\tsource: data.images.original.mp4,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t};\n\t},\n});\n","var r;function e(r){for(;0<r.length;){var e=r.shift();if(\"function\"==typeof e)e();else{var i=e.m;\"number\"==typeof i?void 0===e.l?n.dynCall_v(i):n.dynCall_vi(i,e.l):i(void 0===e.l?null:e.l)}}}function i(r){return r.replace(/\\b__Z[\\w\\d_]+/g,function(r){return r==r?r:r+\" [\"+r+\"]\"})}function a(){var e=Error();if(!e.stack){try{throw Error(0)}catch(r){e=r}if(!e.stack)return\"(no stack trace available)\"}return\"\"+e.stack}function l(r){var e=1+(r.length<<2),i=x(e),a=b,f=i;if(0<e){e=f+e-1;for(var n=0;n<r.length;++n){var t=r.charCodeAt(n);if(55296<=t&&t<=57343&&(t=65536+((1023&t)<<10)|1023&r.charCodeAt(++n)),t<=127){if(e<=f)break;a[f++]=t}else{if(t<=2047){if(e<=f+1)break;a[f++]=192|t>>6}else{if(t<=65535){if(e<=f+2)break;a[f++]=224|t>>12}else{if(e<=f+3)break;a[f++]=240|t>>18,a[f++]=128|t>>12&63}a[f++]=128|t>>6&63}a[f++]=128|63&t}}a[f]=0}return i}function f(r,e,i){var a=I();\"string\"!=typeof e&&(e=\"\");for(var f=l(e),n=0,t=0;t<e.length;++t){var o=e.charCodeAt(t);55296<=o&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++t)),o<=127?++n:n=o<=2047?n+2:o<=65535?n+3:n+4}if(\"object\"==typeof i&&null!==i||(i={}),r=r(f,e=n,n=i.nofollow?1:0,t=\"string\"==typeof i.target?l(i.target):0,o=\"string\"==typeof i.tocIdPrefix?l(i.tocIdPrefix):0,i.enableToc?1:0)){for(f=(i=r)+NaN,e=\"\";!(f<=i)&&(n=b[i++]);)128&n?(t=63&b[i++],192==(224&n)?e+=String.fromCharCode((31&n)<<6|t):(o=63&b[i++],(n=224==(240&n)?(15&n)<<12|t<<6|o:(7&n)<<18|t<<12|o<<6|63&b[i++])<65536?e+=String.fromCharCode(n):e+=String.fromCharCode(55296|(n-=65536)>>10,56320|1023&n))):e+=String.fromCharCode(n);i=e}else i=\"\";return A(r),E(a),i}r||(r={});var n={},t={};for(y in n)n.hasOwnProperty(y)&&(t[y]=n[y]);var o=console.log.bind(console),c=console.warn.bind(console);for(y in t)t.hasOwnProperty(y)&&(n[y]=t[y]);t=null;var s,u,b,k,v,d=0,h=!1;s=v=s=n.buffer?n.buffer:new ArrayBuffer(16777216),n.HEAP8=u=new Int8Array(v),n.HEAP16=new Int16Array(v),n.HEAP32=k=new Int32Array(v),n.HEAPU8=b=new Uint8Array(v),n.HEAPU16=new Uint16Array(v),n.HEAPU32=new Uint32Array(v),n.HEAPF32=new Float32Array(v),n.HEAPF64=new Float64Array(v),k[2296]=5252256;var w=[],m=[],_=[],p=[];n.preloadedImages={},n.preloadedAudios={},t=null,t='\\0\\0\\0\\0\\0\\0\\0\\0\u0002\u0015\\0\\0\u0005\u0015\\0\\0\\b\u0015\\0\\0\u0015\\0\\0\\v\u0015\\0\\0\u0011\u0015\\0\\0\u0017\u0015\\0\\0\u001d\u0015\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0%\u0015\\0\\0-\u0015\\0\\x005\u0015\\0\\0A\u0015\\0\\0M\u0015\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0O\u0016\\0\\0S\u0015\\0\\0\\\\\u0015\\0\\0c\u0015\\0\\0m\u0015\\0\\0o\u0015\\0\\0v\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0#\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0#\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0003\u0016\\0\\0\\n\u0016\\0\\0\\r\u0016\\0\\0#\\0\\0\u0016\u0016\\0\\0#\\0\\0\u0019\u0016\\0\\0\u001c\u0016\\0\\0#\\0\\0#\\0\\0 \u0016\\0\\0\\'\u0016\\0\\0*\u0016\\0\\0#\\0\\0~\u0017\\0\\x003\u0016\\0\\0:\u0016\\0\\0=\u0016\\0\\0#\\0\\0#\\0\\0#\\0\\0A\u0016\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0D\u0016\\0\\0G\u0016\\0\\0\\0\\0\\0\\0&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\\b\u001e\u0019\u0014\u000f\\n&&&&&&&&&&\\0&\\0&\u0005\u0005\u0005\u000f\\0&&\\0\u000f\\n\\0&&\u000f\\0\u0005&&&&&&&&&&&&\\0&\\0&\u0005\u0005\u0005\u000f\\0&&\\0\u000f\\n\\0&&\u000f\\0\u0005&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0004\\0\\0\\0\u0005\\0\\0\\0\u0006\\0\\0\\0\u0007\\0\\0\\0\\b\\0\\0\\0\\t\\0\\0\\0\\n\\0\\0\\0\\v\\0\\0\\0\\f\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\\0\\0\u0002\u0002\\0\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\\0\u0001\\0\u0001\u0001\u0001\\0\\0\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\\0\u0001\\0\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\\0\\0\\0\\0\u0001\\0\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\x000123456789ABCDEF\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\\0\\0\u0007\u0007\\0\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\\0\\0\u0001\\0\\0\\0\u0002\u0003\\0\\0\\0\\0\\0\\0\\0\u0004\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0005\\0\u0006\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0#\\0\\0\u001c\\0\\0\u0019\\0\\0v\u0016\\0\\0|\u0016\\0\\0\u0019\\0\\0R\u001d\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\u0019\\0\\0$\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0*\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\x000\u0019\\0\\x006\u0019\\0\\0=\u0019\\0\\0#\\0\\0#\\0\\0E\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0K\u0019\\0\\0Q\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0X\u0019\\0\\0^\u0019\\0\\0e\u0019\\0\\0m\u0019\\0\\0#\\0\\0v\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0|\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0\u0002\u001a\\0\\0\\b\u001a\\0\\0\u000f\u001a\\0\\0\u0017\u001a\\0\\0#\\0\\0#\\0\\0 \u001a\\0\\0#\\0\\0%\u001a\\0\\0.\u001a\\0\\x008\u001a\\0\\0>\u001a\\0\\0C\u001a\\0\\0#\\0\\0K\u001a\\0\\0#\\0\\0P\u001a\\0\\0U\u001a\\0\\0#\\0\\0#\\0\\0]\u001a\\0\\0c\u001a\\0\\0j\u001a\\0\\0#\\0\\0#\\0\\0r\u001a\\0\\0#\\0\\0}\u001a\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0\u0001\u001b\\0\\0\\b\u001b\\0\\0\u000f\u001b\\0\\0#\\0\\0#\\0\\0\u0017\u001b\\0\\0\u001e\u001b\\0\\0%\u001b\\0\\0-\u001b\\0\\0#\\0\\x004\u001b\\0\\0#\\0\\0:\u001b\\0\\0#\\0\\0#\\0\\0B\u001b\\0\\0I\u001b\\0\\0#\\0\\0#\\0\\0#\\0\\0P\u001b\\0\\0V\u001b\\0\\0[\u001b\\0\\0c\u001b\\0\\0#\\0\\0#\\0\\0l\u001b\\0\\0#\\0\\0s\u001b\\0\\0#\\0\\0|\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001b\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0\u0003\u001c\\0\\0\\v\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0014\u001c\\0\\0\u001c\u001c\\0\\0%\u001c\\0\\0#\\0\\0#\\0\\0-\u001c\\0\\x005\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0>\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0E\u001c\\0\\0N\u001c\\0\\0S\u001c\\0\\0Y\u001c\\0\\0`\u001c\\0\\0f\u001c\\0\\0#\\0\\0#\\0\\0o\u001c\\0\\0v\u001c\\0\\0~\u001c\\0\\0#\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0#\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0\\0\u001d\\0\\0\\t\u001d\\0\\0\u000e\u001d\\0\\0\u0016\u001d\\0\\0\u001d\u001d\\0\\0#\\0\\0#\\0\\0%\u001d\\0\\0-\u001d\\0\\0#\\0\\x004\u001d\\0\\0=\u001d\\0\\0E\u001d\\0\\0K\u001d\\0\\0#\\0\\0#\\0\\0R\u001d\\0\\0W\u001d\\0\\0]\u001d\\0\\0d\u001d\\0\\0#\\0\\0n\u001d\\0\\0v\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0#\\0\\0#\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0#\\0\\0\u0004\u001e\\0\\0\\f\u001e\\0\\0#\\0\\0\u0015\u001e\\0\\0#\\0\\0\u001e\u001e\\0\\0&\u001e\\0\\0-\u001e\\0\\x005\u001e\\0\\0>\u001e\\0\\0E\u001e\\0\\0M\u001e\\0\\0T\u001e\\0\\0\\\\\u001e\\0\\0#\\0\\0b\u001e\\0\\0j\u001e\\0\\0q\u001e\\0\\0y\u001e\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0\u0002\u001f\\0\\0\\n\u001f\\0\\0\u0011\u001f\\0\\0\u001b\u001f\\0\\0#\\0\\0#\\0\\0$\u001f\\0\\0+\u001f\\0\\x003\u001f\\0\\0#\\0\\0<\u001f\\0\\0#\\0\\0C\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0K\u001f\\0\\0S\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0\\\\\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0d\u001f\\0\\0n\u001f\\0\\0#\\0\\0#\\0\\0w\u001f\\0\\0#\\0\\0~\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\\b \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u000f \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0015 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001b \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0# \\0\\0+ \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\x003 \\0\\0< \\0\\0#\\0\\0#\\0\\0#\\0\\0D \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0M \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0V \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0_ \\0\\0#\\0\\0#\\0\\0#\\0\\0g \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0p \\0\\0y \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0\\0\\0\\0\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\\0\\0_\\0Z\\0\\0\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\\0\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003s\\0^\\x007\\0\\0\\0\\0\u0019\\0\\0\\0\u001e\\0\\0\u0003\u0003\u001e\\0\u001e\\0\u0005\\0#\\0-\\0-\\0\u0003\u0003\\n\\0\\0\\x002\\0}\\0\u0003\u0003\u0003\u0003\u0005\\0U\\0K\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003(\\0A\\0\u0014\\0\u0019\\0<\\0\\0\\0\\0\\n\\0f\\0\u0014\\0#\\0\\0\\0\\0\u0005\\0\\n\\0\\0\u0014\\0\u0005\\0\\0\\x002\\0K\\0\\n\\0K\\0\\0U\\0\u000f\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\u0002\u0003\u0004\u0005\u0006\u0007\\b\\t\\n\\v\\f\\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#\\n\\v\\f\\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0@\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0004\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\\0\\0\\0\\0\u0005\\0\\0\\0\u0006\\0\\0\\0\u0007\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0003\\0\\0\\0\u0002\\0\\0\\0\u0004\\0\\0\\0\u0005\\0\\0\\0\u0004\\0\\0\\0\u0006\\0\\0\\0\u0005\\0\\0\\0\u0001\\0\\0\\0\u0001\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0004\\0\\0\\0\u0002\\0\\0\\0\u0001\\0\\0\\0\u0003\\0\\0\\0\\b\\0\\0\\0\u0005\\0\\0\\0\u0006\\0\\0\\0\u0007\\0\\0\\0\\0\\0\\0\\0\u0006\\0\\0\\0\\0\\0\\0\\0\u0003\\0\\0\\0 rel=\"nofollow\"\\0 target=\"\\0tr\\0th\\0td\\0tbody\\0thead\\0tfoot\\0caption\\0colspan\\0rowspan\\0cellspacing\\0cellpadding\\0scope\\0https://\\0ftp://\\0mailto://\\0/\\0git://\\0steam://\\0irc://\\0news://\\0mumble://\\0ssh://\\0ircs://\\0ts3server://\\0#\\0www.\\0?!.,\\0.+-_\\0all-\\0reddit.com\\0t:\\0p\\0dl\\0div\\0math\\0table\\0ul\\0del\\0form\\0blockquote\\0figure\\0ol\\0fieldset\\0h1\\0h6\\0pre\\0script\\0h5\\0noscript\\0iframe\\0h4\\0ins\\0h3\\0h2\\0span\\0http://\\0\\\\`*_{}[]()#+-.!:|&<>/^~\\0&#x27;\\0&#39;\\0&#47;\\0</li>\\n</ul>\\n\\0</div>\\n\\0<sup>\\0</sup>\\0<del>\\0</del>\\0<strong><em>\\0</em></strong>\\0<em>\\0</em>\\0<strong>\\0</strong>\\0<span class=\"md-spoiler-text\">\\0</span>\\0<code>\\0</code>\\0<div class=\"toc\">\\n\\0<ul>\\n<li>\\n\\0</li>\\n\\0</ul>\\n</li>\\n\\0<li>\\n\\0</li>\\n<li>\\n\\0<a href=\"#\\0toc_\\0\">\\0</a>\\n\\0style\\0a\\0img\\0=\"\\0<a href=\"\\0\" title=\"\\0</a>\\0<br>\\n\\0<br/>\\n\\0<img src=\"\\0\" alt=\"\\0\"/>\\0mailto:\\0<th\\0<td\\0 colspan=\"\\0\" \\0 align=\"center\">\\0 align=\"left\">\\0 align=\"right\">\\0>\\0</th>\\n\\0</td>\\n\\0<tr>\\n\\0</tr>\\n\\0<table><thead>\\n\\0</thead><tbody>\\n\\0</tbody></table>\\n\\0<p>\\0</p>\\n\\0<li>\\0<ol>\\n\\0<ul>\\n\\0</ol>\\n\\0</ul>\\n\\0<hr>\\n\\0<hr/>\\n\\0<h\\0 id=\"\\0</h\\0>\\n\\0<blockquote class=\"md-spoiler-text\">\\n\\0</blockquote>\\n\\0<blockquote>\\n\\0<pre><code class=\"\\0<pre><code>\\0</code></pre>\\n\\0&or;\\0&not;\\0&int;\\0&psi;\\0&isin;\\0&notin;\\0&Rho;\\0&phi;\\0&prop;\\0&rho;\\0&nbsp;\\0&thorn;\\0&thinsp;\\0&chi;\\0&prod;\\0&amp;\\0&Psi;\\0&iota;\\0&omicron;\\0&Phi;\\0&and;\\0&sdot;\\0&nu;\\0&Chi;\\0&emsp;\\0&Mu;\\0&ensp;\\0&ocirc;\\0&lt;\\0&uml;\\0&icirc;\\0&sup;\\0&sup1;\\0&Scaron;\\0&cap;\\0&part;\\0&pound;\\0&scaron;\\0&ni;\\0&lowast;\\0&Omicron;\\0&cup;\\0&Xi;\\0&crarr;\\0&Nu;\\0&pi;\\0&theta;\\0&tau;\\0&nsub;\\0&acirc;\\0&thetasym;\\0&Ocirc;\\0&rarr;\\0&ucirc;\\0&loz;\\0&darr;\\0&trade;\\0&para;\\0&ecirc;\\0&larr;\\0&radic;\\0&sub;\\0&Pi;\\0&kappa;\\0&iquest;\\0&eta;\\0&supe;\\0&rceil;\\0&there4;\\0&rArr;\\0&uarr;\\0&Kappa;\\0&dArr;\\0&euro;\\0&Theta;\\0&circ;\\0&Tau;\\0&lceil;\\0&lArr;\\0&ordm;\\0&lrm;\\0&xi;\\0&acute;\\0&ccedil;\\0&sup3;\\0&ntilde;\\0&uArr;\\0&sup2;\\0&piv;\\0&otilde;\\0&shy;\\0&Acirc;\\0&curren;\\0&Ucirc;\\0&oacute;\\0&sube;\\0&nabla;\\0&iacute;\\0&mu;\\0&bull;\\0&oline;\\0&Ccedil;\\0&sum;\\0&copy;\\0&equiv;\\0&Ntilde;\\0&prime;\\0&atilde;\\0&tilde;\\0&Ecirc;\\0&Otilde;\\0&apos;\\0&aacute;\\0&ne;\\0&Eta;\\0&macr;\\0&sim;\\0&Oacute;\\0&Iota;\\0&empty;\\0&uacute;\\0&ouml;\\0&exist;\\0&iuml;\\0&Prime;\\0&eacute;\\0&rsquo;\\0&cent;\\0&zwj;\\0&zwnj;\\0&quot;\\0&sbquo;\\0&sect;\\0&infin;\\0&otimes;\\0&cong;\\0&Icirc;\\0&brvbar;\\0&le;\\0&lsquo;\\0&ordf;\\0&clubs;\\0&oplus;\\0&perp;\\0&Yacute;\\0&micro;\\0&ang;\\0&auml;\\0&gt;\\0&rlm;\\0&Ouml;\\0&upsilon;\\0&minus;\\0&middot;\\0&uuml;\\0&aring;\\0&Atilde;\\0&divide;\\0&rsaquo;\\0&epsilon;\\0&times;\\0&ETH;\\0&euml;\\0&szlig;\\0&frac14;\\0&diams;\\0&oslash;\\0&Aacute;\\0&lsaquo;\\0&Delta;\\0&rdquo;\\0&spades;\\0&Uacute;\\0&raquo;\\0&rang;\\0&frasl;\\0&rfloor;\\0&harr;\\0&ndash;\\0&Yuml;\\0&cedil;\\0&eth;\\0&ldquo;\\0&real;\\0&THORN;\\0&plusmn;\\0&laquo;\\0&lang;\\0&delta;\\0&lfloor;\\0&beta;\\0&omega;\\0&Eacute;\\0&Oslash;\\0&image;\\0&weierp;\\0&Zeta;\\0&OElig;\\0&hArr;\\0&Auml;\\0&asymp;\\0&Lambda;\\0&bdquo;\\0&zeta;\\0&Upsilon;\\0&lambda;\\0&Uuml;\\0&Aring;\\0&yacute;\\0&Beta;\\0&Gamma;\\0&iexcl;\\0&forall;\\0&Omega;\\0&Epsilon;\\0&Iacute;\\0&Euml;\\0&frac34;\\0&frac12;\\0&yen;\\0&yuml;\\0&ograve;\\0&AElig;\\0&igrave;\\0&Iuml;\\0&alpha;\\0&permil;\\0&agrave;\\0&mdash;\\0&Ograve;\\0&ugrave;\\0&upsih;\\0&ge;\\0&egrave;\\0&fnof;\\0&reg;\\0&deg;\\0&Sigma;\\0&sigma;\\0&Alpha;\\0&hearts;\\0&oelig;\\0&Agrave;\\0&Ugrave;\\0&hellip;\\0&aelig;\\0&Egrave;\\0&Igrave;\\0&gamma;\\0&Dagger;\\0&dagger;\\0&alefsym;\\0&sigmaf;\\0\\0\u0001\u0002\u0004\u0007\u0003\u0006\u0005';var y=(function(r,e,i){function t(r,e,i){e|=0;var a=112+(r|=0)|0;if(0|i){i=0|r;var f=0|a;for(ze[f>>2]=0,ze[f+4>>2]=0,ze[f+8>>2]=0,ze[f+12>>2]=0,ze[f+16>>2]=0,ze[f+20>>2]=0,ze[f+24>>2]=0,ze[f+28>>2]=0,ze[f+16>>2]=65,f=5128,e=i+112|0;ze[i>>2]=ze[f>>2],f=f+4|0,(0|(i=i+4|0))<(0|e););}else{i=0|r,e|=0,ze[(f=0|a)>>2]=0,ze[f+4>>2]=0,ze[f+8>>2]=0,ze[f+12>>2]=0,ze[f+16>>2]=0,ze[f+20>>2]=0,ze[f+24>>2]=0,ze[f+28>>2]=0,ze[f+16>>2]=e;for(var n=5240,t=(f=i)+112|0;ze[f>>2]=ze[n>>2],n=n+4|0,(0|(f=f+4|0))<(0|t););4&e|0&&(ze[i+68>>2]=0),8&e|0&&(ze[i+76>>2]=0,ze[i+48>>2]=0),513&e|0&&(ze[i+12>>2]=0)}if(ze[r+140>>2]=7,ze[r+132>>2]=16,ze[r+136>>2]=64,r|=0,a|=0,i=0|L(444)){for(f=(e=i)+112|0;ze[e>>2]=ze[r>>2],r=r+4|0,(0|(e=e+4|0))<(0|f););u(i+404|0,4),u(i+416|0,8),nr(i+148|0,0,256),(0!=(0|ze[i+64>>2])||0!=(0|ze[i+60>>2])||0|ze[i+84>>2])&&(je[i+190>>0]=1,je[i+243>>0]=1,je[i+210>>0]=1,je[i+274>>0]=1),0|ze[i+52>>2]&&(je[i+244>>0]=2),0|ze[i+72>>2]&&(je[i+158>>0]=3),(0!=(0|ze[i+68>>2])||0|ze[i+76>>2])&&(je[i+239>>0]=4),je[i+208>>0]=5,je[i+240>>0]=6,je[i+186>>0]=7,je[i+212>>0]=9,je[i+206>>0]=8,je[i+267>>0]=10,je[i+195>>0]=11,je[i+242>>0]=12,ze[i+428>>2]=155,ze[i+112>>2]=a,ze[i+432>>2]=16,ze[i+436>>2]=64,ze[i+440>>2]=0}else i=0;return 0|i}function o(r,e,i,a,f,n,t){r|=0,e|=0,f|=0,t|=0;var o=0|ze[8368+((n|=0)<<4)>>2],l=0|ze[8372+(n<<4)>>2],c=0|ze[8376+(n<<4)>>2],s=0|ze[8380+(n<<4)>>2];ze[c+144>>2]=0|i,ze[c+148>>2]=0|a;var u=0|C(128);return i=0|ze[(n=c+128|0)>>2],0|t&&(ze[(t=s+124|0)>>2]=f,b(u,r,e,l),ze[t>>2]=0,ze[n>>2]|=64),ze[(a=c+124|0)>>2]=f,b(u,r,e,o),ze[a>>2]=0,ze[n>>2]=i,i=0|L(1+(n=0|ze[u+4>>2])|0),(je[i+n>>0]=0)|(a=0|ze[u>>2])&&fr(0|i,0|a,0|n),S(u),0|i}function k(r,e){r|=0,e|=0;var i=0;r:for(;;){if(14<=i>>>0){var a=0;break}var f=0|D(a=0|ze[96+(i<<2)>>2]);if(f>>>0<e>>>0&&0==(0|F(r,a,f))){if(0|Ke(255&(a=0|je[r+f>>0]))){a=1;break}switch(a<<24>>24){case 35:case 47:case 63:a=1;break r}}i=i+1|0}return 0|a}function v(r,e){var i;if(!(0|Ke(0|Be[(r|=0)>>0])))return 0;var a=(0|e)-1|0;for(e=0,i=1;!(a>>>0<=i>>>0);){var f=0|je[r+i>>0];if(46!=f<<24>>24){if(!(45==f<<24>>24|0!=(0|Ke(255&f))))break}else e=e+1|0;i=i+1|0}return 0|(0==(0|e)?0:i)}function h(r,e){r|=0,e|=0;var i,a,f=0,n=0,t=0,o=0;for(i=0;;){if(e>>>0<=i>>>0){i=e;break}if(60==(0|je[r+i>>0]))break;i=i+1|0}r:for(;;){if(!i){i=0;break}if(!((e=0|je[r+(o=i+-1|0)>>0])<<24>>24))break;do{if(!(0|z(5563,255&e,5))){switch(e<<24>>24){case 34:f=20;break r;case 39:f=21;break r;case 41:n=40,t=41,f=22;break r;case 93:f=18;break r;case 125:f=19;break r;case 59:break;default:break r}for(i=e=i+-2|0;;){if(!i){i=0;break}if(!(((32|Be[r+i>>0])-97|0)>>>0<26|0))break;i=i+-1|0}if(i>>>0<e>>>0&&38==(0|je[r+i>>0]))break}i=o}while(0)}if(18==(0|f)?(n=91,t=93,f=22):19==(0|f)?(n=123,t=125,f=22):20==(0|f)?(t=n=34,f=22):21==(0|f)&&(t=n=39,f=22),22==(0|f)){for(a=f=e=0;(0|e)!=(0|i);){var l=0|je[r+e>>0],c=(0|n)==(255&l|0);e=e+1|0,f=f+(1&c)|0,a=a+(l<<24>>24==t<<24>>24&(1^c)&1)|0}i=(0|a)==(0|f)?i:o}return 0|i}function g(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0,f|=0;do{if(0==(0|e)|a>>>0<2||(0|Be[r+-1>>0])!=(f<<24>>24|0))r=0;else{if(1<e>>>0){if(47==(r=(f=0|je[r+-2>>0])<<24>>24)){r=2;break}if(0|B(r)){r=1;break}return 0!=(0|R(r))|0}r=2<i>>>0&&47==(0|je[r+-2>>0])&&92==(0|je[r+-3>>0])?0:1}}while(0);return 0|r}function A(r,e){if(r|=0,(e|=0)>>>0<=16777216){var i=r+8|0,a=0|ze[i>>2];if(a>>>0<e>>>0){for(var f=0|ze[r+12>>2],n=a;(n=n+f|0)>>>0<e>>>0;);a=(a=0|V(0|ze[r>>2],n))?(ze[r>>2]=a,ze[i>>2]=n,0):-1}else a=0}else a=-1;return 0|a}function C(r){r|=0;var e=0|L(16);return 0|e&&(ze[e>>2]=0,ze[e+8>>2]=0,ze[e+4>>2]=0,ze[e+12>>2]=r),0|e}function de(r,e,i){e|=0;var a=0,f=4+(r|=0)|0,n=0|ze[f>>2],t=n+(i|=0)|0;(0|ze[r+8>>2])>>>0<t>>>0?0<=(0|A(r,t))&&(n=0|ze[f>>2],a=4):a=4,4==(0|a)&&(fr((0|ze[r>>2])+n|0,0|e,0|i),ze[f>>2]=(0|ze[f>>2])+i)}function y(r,e){de(0|r,e|=0,0|D(e))}function he(r,e){e|=0;var i=0,a=4+(r|=0)|0,f=0|ze[a>>2],n=f+1|0;(0|ze[r+8>>2])>>>0<n>>>0?0<=(0|A(r,n))&&(f=0|ze[a>>2],i=4):i=4,4==(0|i)&&(je[(0|ze[r>>2])+f>>0]=e,ze[a>>2]=1+(0|ze[a>>2]))}function l(r,e){r|=0,e|=0;var i=De;De=De+16|0;for(var a=i,f=a+14|0;(0|(a=a+1|(je[a>>0]=0)))<(0|f););var n=(0|e)<0,t=0;for(f=n?0|-e:e;a=t+1|0,je[i+t>>0]=(e=f)+(0|lr(f=(0|f)/10|0,-10))+48,!((0|e)<=9);)t=a;for(n&&(je[i+a>>0]=45,a=t+2|0),f=0;!((0|(a=a+-1|0))<=(0|f));)e=0|je[(t=i+f|0)>>0],je[t>>0]=0|je[(n=i+a|0)>>0],je[n>>0]=e,f=f+1|0;y(r,i),De=i}function S(r){0|(r|=0)&&(Me(0|ze[r>>2]),Me(r))}function x(r){0|(r|=0)&&(Me(0|ze[r>>2]),ze[r>>2]=0,ze[r+8>>2]=0,ze[r+4>>2]=0)}function E(r,e){(e|=0)>>>0<=(0|ze[(r=4+(0|r)|0)>>2])>>>0&&(ze[r>>2]=e)}function b(r,e,i,a){r|=0,e|=0,i|=0,a|=0;var f=0,n=De;De=De+16|0;var t=0|C(64);if(0|t){A(t,i);var o=a+116|0;ze[o>>2]=0,ze[o+4>>2]=0,ze[o+8>>2]=0,ze[o+12>>2]=0,ze[o+16>>2]=0,ze[o+20>>2]=0,ze[o+24>>2]=0;for(var l=2<i>>>(ze[o+28>>2]=0)&&(l=0==(0|j(e,5708,3)))?3:0;!(i>>>0<=l>>>0);)r:do{var c=e,s=l,u=i,b=n,k=o;c|=0,u|=0,b|=0,k|=0;var v,d,h=0,w=3+(s|=0)|0;e:do{if(w>>>0<u>>>0){if(32==(0|je[c+s>>0]))if(32==(0|je[c+(s+1)>>0]))if(32==(0|je[c+(s+2)>>0])){if(32==(0|je[c+w>>0])){w=0;break}w=3}else w=2;else w=1;else w=0;if(91==(0|je[c+(w=w+s|0)>>0])){var m=d=w+1|0;i:for(;;){if(u>>>0<=m>>>0){w=0;break e}switch(0|je[c+m>>0]){case 13:case 10:w=0;break e;case 93:break i}m=m+1|0}var _=m+1|0;if(_>>>0<u>>>0&&58==(0|je[c+_>>0])){w=m+2|0;i:for(;!(u>>>0<=w>>>0);){switch((s=0|je[c+w>>0])<<24>>24){case 13:case 10:h=17;break i;case 32:break;default:break i}w=w+1|0}if(17==(0|h)){var p=w+1|0;w=p>>>0<u>>>0&&10==s<<24>>24&&13==(0|je[c+p>>0])?w+2|0:p}for(;;){if(u>>>0<=w>>>0){w=0;break e}if(32!=(s=0|je[c+w>>0])<<24>>24)break;w=w+1|0}w=_=w+(60==s<<24>>24&1)|0;i:for(;!(u>>>0<=w>>>0);){switch(0|je[c+w>>0]){case 13:case 10:case 32:break i}w=w+1|0}var y=w+-1|0;y=62==(0|je[c+y>>0])?y:w;i:for(;;){if(u>>>0<=w>>>0){h=31;break}switch(0|je[c+w>>0]){case 10:case 13:h=31;break i;case 40:case 39:case 34:s=0;break i;case 32:break;default:w=0;break e}w=w+1|0}if(31==(0|h)&&(s=w),v=(p=w+1|0)>>>0<u>>>0&&10==(0|je[c+w>>0])&&13==(0|je[c+p>>0])?p:s){for(s=v;!(u>>>0<=(w=s+1|0)>>>0)&&32==(0|je[c+w>>0]);)s=w;p=s+2|0}i:do{if(p>>>0<u>>>0){switch(0|je[c+w>>0]){case 40:case 34:case 39:break;default:p=u=0,w=v;break i}s=p;a:for(;;){if(u>>>0<=s>>>0){h=44;break}switch(w=s+1|0,0|je[c+s>>0]){case 10:case 13:break a;default:s=w}}44==(0|h)&&(w=s+1|0),w>>>0<u>>>0&&10==(0|je[c+s>>0])&&13==(0|je[c+w>>0])||(w=s);a:for(;;){if((s=s+-1|0)>>>0<=p>>>0){u=p,p=w,w=v;break i}switch(0|je[c+s>>0]){case 32:break;case 41:case 34:case 39:break a;default:u=p,p=w,w=v;break i}}u=p,p=s}else p=u=0,w=v}while(0);w=(0|y)==(0|_)|0==(0|w)?0:(0|b&&(ze[b>>2]=w),k?(s=k,w=c+d|0,d=m-d|0,s|=0,w|=0,d|=0,(m=0|Re(1,16))?(d=0|U(w,d),ze[m>>2]=d,ze[m+12>>2]=ze[(d=s+((7&d)<<2)|0)>>2],ze[d>>2]=m):m=0,(s=0|m)?(k=0|C(w=y-_|0),de(ze[s+4>>2]=k,c+_|0,w),w=p-u|0,u>>>0<p>>>0&&(k=0|C(w),de(ze[s+8>>2]=k,c+u|0,w)),1):0):1)}else w=0}else w=0}else w=0}while(0);if(0|w)l=0|ze[n>>2];else{b=l;e:for(;!(i>>>0<=b>>>0);){switch(0|je[e+b>>0]){case 10:case 13:break e}b=b+1|0}if(l>>>0<(ze[n>>2]=b)>>>0){for(c=t,u=e+l|0,l=b-l|0,c|=0,u|=0,l|=0,b=p=0;!(l>>>0<=p>>>0);){for(y=p;;){if(l>>>0<=y>>>0){k=0;break}if(9==(0|je[u+y>>0])){k=1;break}y=y+1|0,b=b+1|0}if(p>>>0<y>>>0&&de(c,u+p|0,y-p|0),!k)break;for(;he(c,32),0!=(3&(b=b+1|0)|0););p=y+1|0}l=0|ze[n>>2]}else l=b;for(;;){if(i>>>0<=l>>>0)break r;switch(0|je[e+l>>0]){case 10:f=20;break;case 13:(l=l+1|0)>>>0<i>>>0&&10!=(0|je[e+l>>0])&&(f=20);break;default:break r}20==(0|f)&&(f=0,he(t,10),l=1+(0|ze[n>>2])|0),ze[n>>2]=l}}}while(0);if(A(r,((l=0|ze[(e=t+4|0)>>2])>>>1)+l|0),(b=0|ze[a+104>>2])&&(Fe[3&b](r,0|ze[a+112>>2]),l=0|ze[e>>2]),0|l){switch(0|je[(b=0|ze[t>>2])+(l+-1)>>0]){case 13:case 10:break;default:he(t,10),b=0|ze[t>>2],l=0|ze[e>>2]}we(r,a,b,l)}for(0|(l=0|ze[a+108>>2])&&Fe[3&l](r,0|ze[a+112>>2]),S(t),r=0|o,e=0;8!=(0|e);){for(i=0|ze[r+(e<<2)>>2];i;)a=0|ze[i+12>>2],S(0|ze[i+4>>2]),S(0|ze[i+8>>2]),Me(i),i=a;e=e+1|0}}De=n}function we(r,e,i,a){r|=0,e|=0,i|=0,a|=0;var f=0,n=0,t=0,o=0,l=0,c=0,s=0,u=0,b=0,k=0;r:do{if(((0|ze[e+408>>2])+(0|ze[e+420>>2])|0)>>>0<=(0|ze[e+432>>2])>>>0)for(l=e+12|0,c=e+428|0,s=e+20|0,u=e+112|0,f=0;;){if(a>>>0<=f>>>0)break r;t=i+f|0,o=a-f|0;e:do{if(0|me(e,t,o)){var v=r,d=e,h=t,w=o;v|=0,d|=0,h|=0,w|=0;var m=0,_=0,p=0,y=0,g=0;for(y=0;y>>>0<w>>>0&y>>>0<6&&35==(0|je[h+y>>0]);)y=y+1|0;for(p=y;!(w>>>0<=p>>>0)&&32==(0|je[h+p>>0]);)p=p+1|0;for(g=p;!(w>>>0<=g>>>0)&&10!=(0|je[h+g>>0]);)g=g+1|0;for(w=g;;){if(!w){w=0;break}if(35!=(0|je[h+(m=w+-1|0)>>0]))break;w=m}for(;w;){if(32!=(0|je[h+(m=w+-1|0)>>0])){_=19;break}w=m}19==(0|_)&&p>>>0<w>>>0&&(Pe(m=0|qe(d,1),d,h+p|0,w-p|0),0|(w=0|ze[d+16>>2])&&Ye[7&w](v,m,y,0|ze[d+112>>2]),Oe(d,1)),f=(0|g)+f|0}else if(60==(0|je[t>>0])&&0|ze[l>>2]&&0|(b=0|_e(r,e,t,o,1)))f=b+f|0;else if(0|(n=0|pe(t,o)))f=n+f|0;else if(0|ye(t,o)){for(0|(n=0|ze[s>>2])&&Fe[3&n](r,0|ze[u>>2]);!(a>>>0<=f>>>0);){if(n=f+1|0,10==(0|je[i+f>>0])){f=n;break e}f=n}f=f+1|0}else{if(4&(n=0|ze[c>>2])){var A=r,C=e,S=t,x=o;A|=0,C|=0,S|=0,x|=0;var E,I,U,q=0,P=0,O=0,H=0,T=0,K=0,M=0;if(De=(U=De)+32|0,ze[(I=(E=U)+16|0)>>2]=0,ze[I+4>>2]=0,ze[I+8>>2]=0,q=(ze[I+12>>2]=0)|Ue(S,x,I)){for(M=0|qe(C,0),T=E+4|0;!(x>>>0<=q>>>0);){if(ze[E>>2]=0,ze[E+4>>2]=0,ze[E+8>>2]=0,(ze[E+12>>2]=0)!=(0|(P=0|Ue(H=S+q|0,x-q|0,E)))&0==(0|ze[T>>2])){K=12;break}for(P=q;!(x>>>0<=(O=P+1|0)>>>0)&&10!=(0|je[S+P>>0]);)P=O;q>>>0<=P>>>0&&(0|pe(H,q=O-q|0)?he(M,10):de(M,H,q)),q=O}12==(0|K)&&(q=P+q|0),0|(K=0|ze[M+4>>2])&&10!=(0|je[(0|ze[M>>2])+(K+-1)>>0])&&he(M,10),0|(P=0|ze[C>>2])&&Ye[7&P](A,M,0==(0|ze[I+4>>2])?0:I,0|ze[C+112>>2]),Oe(C,0)}else q=0;if(De=U,n=0|q){f=n+f|0;break e}n=0|ze[c>>2]}var R;if(R=2&n|0){var N=r,j=e,z=t,B=o;N|=0,j|=0,z|=0,B|=0;var D,F,L,Y=0,Z=0,G=0,V=0,W=0,X=0;De=(L=De)+16|0,Y=L+4|0,D=(ze[(G=L)>>2]=0)|qe(j,1),F=0|qe(j,0);var $=void 0,Q=void 0,J=void 0,rr=void 0,er=void 0,ir=void 0,ar=D,fr=j,nr=z,tr=B,or=Y,lr=G;ar|=0,fr|=0,nr|=0,tr|=0,or|=0,lr|=0;var cr=0,sr=0,ur=0;for(rr=J=0;!(tr>>>0<=J>>>0)&&10!=(ir=0|je[nr+J>>0])<<24>>24;)J=J+1|0,rr=rr+(124==ir<<24>>24&1)|0;i:do{if(0==(0|rr)|(0|J)==(0|tr))ir=0;else{for(er=J;;){if(!er){sr=0,er=rr,ir=nr;break}if(!(0|He(0|Be[(ir=nr+(cr=er+-1|0)|0)>>0]))){ur=9;break}er=cr}if(9==(0|ur)&&(sr=er,er=rr+((124==(0|je[nr>>0]))<<31>>31)|0),($=er+((124==(0|je[ir>>0]))<<31>>31)+1|0)>>>0<=(0|ze[fr+436>>2])>>>0){for(Q=0|Re(ze[or>>2]=$,4),ze[lr>>2]=Q,(ir=J+1|0)>>>0<tr>>>0&&(ir=124==(0|je[nr+ir>>0])?J+2|0:ir),or=ir;!(tr>>>0<=or>>>0)&&10!=(0|je[nr+or>>0]);)or=or+1|0;for(rr=0;ir>>>0<or>>>0&(er=rr>>>0<$>>>0);){for(;ir>>>0<or>>>0&32==(er=0|je[nr+ir>>0])<<24>>24;)ir=ir+1|0;58==er<<24>>24?(ze[(er=Q+(rr<<2)|0)>>2]|=1,ir=ir+(er=1)|0):er=0;a:for(;!(or>>>0<=ir>>>0);){switch(0|je[nr+ir>>0]){case 58:ur=28;break a;case 45:break;default:break a}er=er+1|0,ir=ir+1|0}for(28==(0|ur)&&(ze[(ur=Q+(rr<<2)|0)>>2]|=2,er=er+1|0,ir=ir+1|0);;){if(or>>>0<=ir>>>0){ur=34;break}if(32!=(cr=0|je[nr+ir>>0])<<24>>24){ur=33;break}ir=ir+1|0}if(33==(0|ur)){if((ur=0)==(0|er)|124!=cr<<24>>24){ir=0;break i}}else if(34==(0|ur)&&(ur=0)==(0|er)){ir=0;break i}rr=rr+1|0,ir=ir+1|0}ir=er?0:(Te(ar,fr,nr,sr,$,Q,4),or+1|0)}else ir=0}}while(0);if(Z=0|ir){for(X=0|ze[Y>>2],Y=0|ze[G>>2];!(B>>>0<=Z>>>0);){for(G=0,V=Z;!(B>>>0<=V>>>0)&&10!=(W=0|je[z+V>>0])<<24>>24;)G=G+(124==W<<24>>24&1)|0,V=V+1|0;if((0|V)==(0|B)|0==(0|G))break;Te(F,j,z+Z|0,V-Z|0,X,Y,0),Z=V+1|0}(G=0|ze[j+36>>2])&&Ye[7&G](N,D,F,0|ze[j+112>>2])}else Y=(Z=0)|ze[G>>2];Me(Y),Oe(j,1),Oe(j,0),De=L,R=0|(k=0|Z)}if(R)var br=k+f|0;else{if(0|ge(t,o)){var kr=r,vr=e,dr=t,hr=o;kr|=0,dr|=0,hr|=0;var wr,mr=0,_r=0,pr=0,yr=0,gr=0,Ar=0,Cr=0,Sr=0,xr=0;wr=0|qe(vr|=0,0),_r=xr=mr=0;i:for(;;){for(;;){if(hr>>>0<=_r>>>0)break i;for(Cr=_r;;){if(hr>>>0<=(Sr=Cr+1|0)>>>0){pr=0;break}if(10==(0|je[dr+Cr>>0])){pr=1;break}Cr=Sr}if(Ar=0|ge(yr=dr+_r|0,gr=Sr-_r|0))_r=Ar+_r|0;else if(0|pe(yr,gr)){if(!pr){_r=Sr;break i}if(0==(0|ge(pr=dr+Sr|0,yr=hr-Sr|0))&&0==(0|pe(pr,yr))){_r=Sr;break i}}if(!(Cr>>>0<_r>>>0))break;_r=Sr}pr=dr+_r|0,mr?(0|pr)!=(0|(yr=mr+xr|0))&&Ne(0|yr,0|pr,Sr-_r|0):mr=pr,xr=Sr+xr-_r|0,_r=Sr}we(wr,vr,mr,xr),0|(mr=0|ze[vr+4>>2])&&Le[7&mr](kr,wr,0|ze[vr+112>>2]),Oe(vr,0);var Er=(0|_r)+f|0}else{if(0|Ae(t,o)){var Ir=r,Ur=e,qr=t,Pr=o;Ir|=0,qr|=0,Pr|=0;var Or,Hr=0,Tr=0,Kr=0,Mr=0,Rr=0,Nr=0,jr=0,zr=0,Br=0;Or=0|qe(Ur|=0,0),Tr=Br=Hr=0;i:for(;;){for(;;){if(Pr>>>0<=Tr>>>0)break i;for(jr=Tr;;){if(Pr>>>0<=(zr=jr+1|0)>>>0){Kr=0;break}if(10==(0|je[qr+jr>>0])){Kr=1;break}jr=zr}if(Nr=0|Ae(Mr=qr+Tr|0,Rr=zr-Tr|0))Tr=Nr+Tr|0;else if(0|pe(Mr,Rr)){if(!Kr){Tr=zr;break i}if(0==(0|Ae(Kr=qr+zr|0,Mr=Pr-zr|0))&&0==(0|pe(Kr,Mr))){Tr=zr;break i}}if(!(jr>>>0<Tr>>>0))break;Tr=zr}Kr=qr+Tr|0,Hr?(0|Kr)!=(0|(Mr=Hr+Br|0))&&Ne(0|Mr,0|Kr,zr-Tr|0):Hr=Kr,Br=zr+Br-Tr|0,Tr=zr}we(Or,Ur,Hr,Br),0|(Hr=0|ze[Ur+8>>2])&&Le[7&Hr](Ir,Or,0|ze[Ur+112>>2]),Oe(Ur,0);var Dr=(0|Tr)+f|0}else{if(0|Ce(t,o)){var Fr=r,Lr=e,Yr=t,Zr=o;Fr|=0,Yr|=0,Zr|=0;var Gr,Vr=0,Wr=0,Xr=0,$r=0,Qr=0,Jr=0;for(Gr=0|qe(Lr|=0,0),Jr=0;!(Zr>>>0<=Jr>>>0);){for($r=Jr;!(Zr>>>0<=(Qr=$r+1|0)>>>0)&&10!=(0|je[Yr+$r>>0]);)$r=Qr;if(Xr=0|Ce(Vr=Yr+Jr|0,Wr=Qr-Jr|0))Vr=Xr+Jr|0;else{if(!(0|pe(Vr,Wr)))break;Vr=Jr}Vr>>>0<=$r>>>0&&(0|pe(Wr=Yr+Vr|0,Vr=Qr-Vr|0)?he(Gr,10):de(Gr,Wr,Vr)),Jr=Qr}for(Vr=0|ze[(Wr=Gr+4|0)>>2];Vr&&10==(0|je[(0|ze[Gr>>2])+(Vr=Vr+-1|0)>>0]);)ze[Wr>>2]=Vr;he(Gr,10),0|(Vr=0|ze[Lr>>2])&&Ye[7&Vr](Fr,Gr,0,0|ze[Lr+112>>2]),Oe(Lr,0);var re=(0|Jr)+f|0}else{if(0|Se(t,o))var ee=(0|xe(r,e,t,o,0))+f|0;else{if(0|Ee(t,o))var ie=(0|xe(r,e,t,o,1))+f|0;else{var ae=r,fe=e,ne=t,te=o;ae|=0,ne|=0,te|=0;var oe,le,ce=0,se=0,ue=0,be=0,ke=0,ve=0;for(oe=428+(fe|=0)|0,le=fe+12|0,ce=0;;){if(te>>>0<=ce>>>0){ke=0,ve=ce;break}ve=ce;do{if(te>>>0<=(ve=(se=ve)+1|0)>>>0)break}while(10!=(0|je[ne+se>>0]));if(0|ge(ue=ne+ce|0,ve-ce|0)){ke=0,ve=ce;break}if(0|pe(ue,be=te-ce|0)){ke=0;break}if(0|(se=0|Ie(ue,be))){ke=se;break}if(0|me(fe,ue,be)){ke=0,ve=ce;break}if(0|ye(ue,be)){ke=0,ve=ce;break}if(0|ge(ue,be)){ke=0,ve=ce;break}if(256&(se=0|ze[oe>>2])|0&&0==(0|Ke(255&(ke=0|je[ue>>0])))){if(0|Ee(ue,be)){ke=0,ve=ce;break}if(0|Se(ue,be)){ke=0,ve=ce;break}if(60==ke<<24>>24&&0!=(0|ze[le>>2])){if(0|_e(ae,fe,ue,be,0)){ke=0,ve=ce;break}se=0|ze[oe>>2]}if(4&se|0&&0|Ue(ue,be,0)){ke=0,ve=ce;break}}ce=ve}for(;;){if(!ce){ce=se=0;break}if(10!=(0|je[ne+(se=ce+-1|0)>>0])){se=1;break}ce=se}if(ke){i:do{if(se){for(be=ce;;){if(!(se=be+-1|0)){se=0;break}if(10==(0|je[ne+se>>0]))break;be=se}for(;;){if(!se)break i;if(10!=(0|je[ne+(ue=se+-1|0)>>0]))break;se=ue}Pe(ue=0|qe(fe,0),fe,ne,se),0|(se=0|ze[fe+32>>2])&&Le[7&se](ae,ue,0|ze[fe+112>>2]),Oe(fe,0),ne=ne+be|0,ce=ce-be|0}else ce=0}while(0);Pe(se=0|qe(fe,1),fe,ne,ce),0|(ce=0|ze[fe+16>>2])&&Ye[7&ce](ae,se,ke,0|ze[fe+112>>2]),Oe(fe,1)}else Pe(se=0|qe(fe,0),fe,ne,ce),0|(ce=0|ze[fe+32>>2])&&Le[7&ce](ae,se,0|ze[fe+112>>2]),Oe(fe,0);ie=(0|ve)+f|0}ee=ie}re=ee}Dr=re}Er=Dr}br=Er}f=br}}while(0)}}while(0)}function me(r,e,i){r|=0,e|=0,i|=0;var a,f=0;do{if(35==(0|je[e>>0])){if(64&ze[r+428>>2]){for(a=0;;){var n=a>>>0<i>>>0;if(!(n&a>>>0<6)){r=7;break}if(35!=(r=0|je[e+a>>0])<<24>>24){f=r,r=9;break}a=a+1|0}if(7==(0|r)&&n&&(f=0|je[e+a>>0],r=9),9==(0|r)&&32!=f<<24>>24){r=0;break}}r=1}else r=0}while(0);return 0|r}function _e(r,e,i,a,f){r|=0,e|=0,a|=0,f|=0;var n=0,t=0,o=0,l=0,c=0,s=De;De=De+16|0,ze[s>>2]=i|=0;var u=s+4|0;ze[u>>2]=0,ze[s+8>>2]=0,ze[s+12>>2]=0;r:do{if(2<=a>>>0&&60==(0|je[i>>0])){var b,k=1;e:for(;!(a>>>0<=k>>>0);){switch(0|je[i+k>>0]){case 32:case 62:l=7;break e}k=k+1|0}if(b=7==(0|l)){b=i+1|0;var v=k+-1|0;b|=0,v|=0;var d=0;do{if((v+-1|0)>>>0<10){var h=b,w=v;if(h|=0,(h=(w=1==(0|(w|=0))?1:(0|Be[1+(0|Be[h+1>>0])+320>>0])+w|0)+(0|Be[320+(0|Be[h>>0])>>0])|0)>>>0<38&&0==(-33&(je[(d=0|ze[160+(h<<2)>>2])>>0]^je[b>>0]))<<24>>24&&0==(0|F(b,d,v))&&0==(0|je[d+v>>0]))break}d=0}while(0);b=0|(n=0|d)}if(b){if(!(k=0|P(n,i,a,1))){if(!(0|N(n,5693))){k=0;break}if(!(0|N(n,5615))){k=0;break}if(!(k=0|P(n,i,a,0))){k=0;break}}ze[u>>2]=k,f&&(n=0|ze[e+12>>2])&&Le[7&n](r,s,0|ze[e+112>>2])}else{if(5<a>>>0){if(33==(k=0|je[i+1>>0])<<24>>24){if(45!=(0|je[i+2>>0])){k=0;break}if(45!=(0|je[i+3>>0])){k=0;break}for(k=5;;){if(a>>>0<=k>>>0){l=19;break}if(45==(0|je[i+(k+-2)>>0])&&45==(0|je[i+(k+-1)>>0])){if(n=k+1|0,62==(0|je[i+k>>0])){k=n;break}k=n}else k=k+1|0}if(19==(0|l)&&(k=k+1|0),k>>>0<a>>>0&&0!=(0|(t=0|pe(i+k|0,a-k|0)))){if(ze[u>>2]=k=t+k|0,!f)break;if(!(n=0|ze[e+12>>2]))break;Le[7&n](r,s,0|ze[e+112>>2]),k=0|ze[u>>2];break}l=25}}else l=25;if(25==(0|l)){if(a>>>0<=4){k=0;break}k=0|je[i+1>>0]}switch(k<<24>>24){case 72:case 104:break;default:k=0;break r}switch(0|je[i+2>>0]){case 82:case 114:break;default:k=0;break r}for(n=3;;){if(a>>>0<=n>>>0){l=31;break}if(k=n+1|0,62==(0|je[i+n>>0]))break;n=k}31==(0|l)&&(k=n+1|0),k>>>0<a>>>0&&0!=(0|(o=0|pe(i+k|0,a-k|0)))?(ze[u>>2]=k=o+k|0,0!=(0|f)&&0!=(0|(c=0|ze[e+12>>2]))&&(Le[7&c](r,s,0|ze[e+112>>2]),k=0|ze[u>>2])):k=0}}else k=0}while(0);return De=s,0|k}function pe(r,e){r|=0,e|=0;var i=0,a=0;r:for(;;){if(e>>>0<=a>>>0){i=5;break}switch(0|je[r+a>>0]){case 10:i=5;break r;case 32:break;default:a=0;break r}a=a+1|0}return 5==(0|i)&&(a=a+1|0),0|a}function ye(r,e){var i;r|=0,e|=0;r:do{if(3<=e>>>0){var a=32==(0|je[r>>0])?32==(0|je[r+1>>0])?32==(0|je[r+2>>0])?3:2:1:0;if((a+2|0)>>>0<e>>>0){var f=0|je[r+a>>0];switch(f<<24>>24){case 95:case 45:case 42:break;default:a=0;break r}for(i=0;!(e>>>0<=a>>>0);){var n=0|je[r+a>>0];if(10==n<<24>>24)break;if(n<<24>>24!=f<<24>>24){if(32!=n<<24>>24){a=0;break r}}else i=i+1|0;a=a+1|0}a=2<i>>>0&1}else a=0}else a=0}while(0);return 0|a}function ge(r,e){r|=0;var i=0,a=0,f=(e|=0)?32==(0|je[r>>0])&1:0;f>>>0<e>>>0&&(f=f+(32==(0|je[r+f>>0])&1)|0),f>>>0<e>>>0&&(f=f+(32==(0|je[r+f>>0])&1)|0);r:do{if(f>>>0<e>>>0&&62==(0|je[r+f>>0])&&(i=f+1|0)>>>0<e>>>0){switch(0|je[r+i>>0]){case 33:a=12;break r;case 32:break;default:break r}i=f+2|0}else a=12}while(0);return 12==(0|a)&&(i=0),0|i}function Ae(r,e){r|=0;var i=0,a=(e|=0)?32==(0|je[r>>0])&1:0;a>>>0<e>>>0&&(a=a+(32==(0|je[r+a>>0])&1)|0);var f=a>>>0<e>>>0?a+(32==(0|je[r+a>>0])&1)|0:a;if((a=f+1|0)>>>0<e>>>0&&62==(0|je[(i=r+f|0)>>0])&&33==(0|je[r+a>>0])){if(0!=(0|(a=0|q(i+1|0,e+-1-f|0,60)))&(i=a+f|0)>>>0<e>>>0&&33==(0|je[r+i>>0]))a=0;else if((a=f+2|0)>>>0<e>>>0)return 0|(32==(0|je[r+a>>0])?f+3|0:a)}else a=0;return 0|a}function Ce(r,e){return r|=0,0|(3<(0|e)>>>0&&32==(0|je[r>>0])&&32==(0|je[r+1>>0])&&32==(0|je[r+2>>0])&&32==(0|je[r+3>>0])?4:0)}function Se(r,e){r|=0;var i=(e|=0)?32==(0|je[r>>0])&1:0;i>>>0<e>>>0&&(i=i+(32==(0|je[r+i>>0])&1)|0),i>>>0<e>>>0&&(i=i+(32==(0|je[r+i>>0])&1)|0);var a=i+1|0;r:do{if(a>>>0<e>>>0){var f=r+i|0;switch(0|je[f>>0]){case 45:case 43:case 42:break;default:break r}if(32==(0|je[r+a>>0]))return 0|((e=0==(0|c(f,e-i|0)))?i+2|0:0)}}while(0);return 0}function xe(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0;var n=De;De=De+16|0,ze[n>>2]=0|f;var t=0|qe(e,0);f=0;do{if(a>>>0<=f>>>0)break;var o=t,l=e,c=i+f|0,s=a-f|0,u=n;o|=0,l|=0,c|=0,s|=0,u|=0;var b,k,v,d,h,w,m,_=0,p=0;for(m=0;m>>>0<3&m>>>0<s>>>0&&32==(0|je[c+m>>0]);)m=m+1|0;if((b=0|Se(c,s))?(_=b,p=7):(b=0|Ee(c,s))?(_=b,p=7):b=0,7==(0|p)){for(b=_;!(s>>>0<=b>>>0)&&10!=(0|je[c+(b+-1)>>0]);)b=b+1|0;var y=0|qe(l,1),g=0|qe(l,1);de(y,c+_|0,b-_|0);var A=l+428|0,C=y+4|0,S=k=d=0;r:for(;;){for(h=0;;){if(s>>>0<=b>>>0)break r;for(v=b;;){var x=v+1|0;if(s>>>0<=x>>>0)break;if(10==(0|je[c+v>>0]))break;v=x}var E=c+b|0,I=x-b|0;if(!(0|pe(E,I)))break;h=1,b=x}for(w=0;!(4<=w>>>0||v>>>0<(_=w+b|0)>>>0||32!=(0|je[c+_>>0]));)w=w+1|0;var U=E+w|0,q=I-w|0,P=4&ze[A>>2]?(P=0==(0|Ue(U,q,0)))?d:0==(0|d)&1:d;if(P?E=v=0:(E=0|Se(U,q),v=0|Ee(U,q)),I=0!=(0|h)){if(0!=(0|E)&0!=(0|(_=1&(d=0|ze[u>>2])))){p=30;break}if(0!=(0|v)&0==(0|_)){p=30;break}}if(34==(0|(p=E?0!=(0|v)|0==(0|ye(U,q))?34:37:v?34:37))){if(k=I?1:k,((p=0)|w)==(0|m))break;b=S||0|ze[C>>2]}else if(37==(0|p)){if(I&(p=0)==(0|w)){p=38;break}I?(he(y,10),b=S,k=1):b=S}de(y,U,q),d=P,S=b,b=x}30==(0|p)?ze[u>>2]=8|d:38==(0|p)&&(ze[u>>2]|=8),_=0|ze[u>>2],k&&(ze[u>>2]=_|=2),E=0!=(0|S)&S>>>0<(k=0|ze[C>>2])>>>0,v=0|ze[y>>2],2&_?E?(we(g,l,v,S),we(g,l,(0|ze[y>>2])+S|0,(0|ze[C>>2])-S|0)):we(g,l,v,k):E?(Pe(g,l,v,S),we(g,l,(0|ze[y>>2])+S|0,(0|ze[C>>2])-S|0)):Pe(g,l,v,k),0|(_=0|ze[l+28>>2])&&Ye[7&_](o,g,0|ze[u>>2],0|ze[l+112>>2]),Oe(l,1),Oe(l,1)}if(f=(o=0|b)+f|0,!o)break}while(0==(8&ze[n>>2]|0));return 0|(i=0|ze[e+24>>2])&&Ye[7&i](r,t,0|ze[n>>2],0|ze[e+112>>2]),Oe(e,0),De=n,0|f}function Ee(r,e){r|=0;var i=0,a=0,f=0,n=(e|=0)?32==(0|je[r>>0])&1:0;if(n>>>0<e>>>0&&(n=n+(32==(0|je[r+n>>0])&1)|0),n>>>0<e>>>0&&(n=n+(32==(0|je[r+n>>0])&1)|0),n>>>0<e>>>0&&((0|je[r+n>>0])-48&255)<=9){for(;;){if(e>>>0<=n>>>0){f=11;break}if(i=n+1|0,!(((0|je[r+n>>0])-48&255)<10))break;n=i}if(11==(0|f)&&(i=n+1|0),i>>>0<e>>>0&&46==(0|je[(a=r+n|0)>>0])&&32==(0|je[r+i>>0]))return 0|((f=0==(0|c(a,e-n|0)))?n+2|0:0)}return 0}function Ie(r,e){var i;r|=0,e|=0;r:do{switch(0|je[r>>0]){case 61:for(i=1;!(e>>>0<=i>>>0)&&61==(0|je[r+i>>0]);)i=i+1|0;for(;;){if(e>>>0<=i>>>0){i=1;break r}var a=0|je[r+i>>0];if(32!=a<<24>>24)break;i=i+1|0}i=10==a<<24>>24&1;break;case 45:for(i=1;!(e>>>0<=i>>>0)&&45==(0|je[r+i>>0]);)i=i+1|0;for(;;){if(e>>>0<=i>>>0){i=2;break r}if(32!=(a=0|je[r+i>>0])<<24>>24)break;i=i+1|0}i=10==a<<24>>24?2:0;break;default:i=0}}while(0);return 0|i}function Ue(r,e,i){i|=0;var a,f=0,n=0|(r|=0),t=0|(e|=0);r:do{if(3<=t>>>0){var o=32==(0|je[n>>0])?32==(0|je[n+1>>0])?32==(0|je[n+2>>0])?3:2:1:0;if((o+2|0)>>>0<t>>>0){var l=0|je[n+o>>0];switch(l<<24>>24){case 96:case 126:break;default:o=0;break r}for(a=0;!(t>>>0<=o>>>0)&&(0|je[n+o>>0])==l<<24>>24;)a=a+1|0,o=o+1|0;o=a>>>0<3?0:o}else o=0}else o=0}while(0);n=0|o;r:do{if(n){e:for(;;){if(o=r+n|0,e>>>0<=n>>>0){t=6;break}switch(0|je[o>>0]){case 123:t=5;break e;case 32:break;default:t=6;break e}n=n+1|0}e:do{if(5==(0|t)){t=0;i:for(;!(e>>>0<=(f=n+1|0)>>>0);){switch(0|je[r+f>>0]){case 10:case 125:break i}t=t+1|0,n=f}if((0|f)==(0|e)){n=0;break r}if(125!=(0|je[r+f>>0])){n=0;break r}for(f=t,t=o;;){if(o=t+1|0,!f){f=0;break}if(!(0|He(0|Be[o>>0])))break;f=f+-1|0,t=o}for(;;){if(!f){f=0;break}if(!(0|He(0|Be[t+f>>0])))break;f=f+-1|0}n=n+2|0}else if(6==(0|t))for(f=0;;){if(e>>>0<=n>>>0)break e;if(0|He(0|Be[r+n>>0]))break e;n=n+1|0,f=f+1|0}}while(0);for(0|i&&(ze[i>>2]=o,ze[i+4>>2]=f);!(e>>>0<=n>>>0)&&10!=(f=0|je[r+n>>0])<<24>>24;){if(!(0|He(255&f))){n=0;break r}n=n+1|0}n=n+1|0}else n=0}while(0);return 0|n}function qe(r,e){var i=0,a=404+(r|=0)+(12*(e|=0)|0)|0,f=r+404+(12*e|0)+4|0,n=0|ze[f>>2];return n>>>0<(0|ze[r+404+(12*e|0)+8>>2])>>>0&&0!=(0|(i=0|ze[(0|ze[a>>2])+(n<<2)>>2]))?(ze[f>>2]=n+1,ze[i+4>>2]=0):(e=0|(i=0|C(0|ze[5120+(e<<2)>>2])),0<=(0|s(r=0|a,ze[(a=r+4|0)>>2]<<1))&&(f=0|ze[r>>2],ze[a>>2]=1+(r=0|ze[a>>2]),ze[f+(r<<2)>>2]=e)),0|i}function Pe(r,e,i,a){var f,n,t,o;r|=0,e|=0,i|=0,a|=0;var l=De;De=De+16|0,ze[l>>2]=0,ze[l+4>>2]=0,ze[l+8>>2]=0,ze[l+12>>2]=0;r:do{if(((0|ze[e+408>>2])+(0|ze[e+420>>2])|0)>>>0<=(0|ze[e+432>>2])>>>0){var c=e+100|0,s=l+4|0,u=e+112|0;for(o=n=t=f=0;;){if(a>>>0<=o>>>0)break r;for(;;){if(a>>>0<=n>>>0){var b=0;break}if((f=0|je[(0|Be[i+n>>0])+(e+148)>>0])<<24>>24){b=1;break}n=n+1|(f=0)}var k=0|ze[c>>2],v=i+o|0;if(k?(ze[l>>2]=v,ze[s>>2]=n-o,Le[7&k](r,l,0|ze[u>>2])):de(r,v,n-o|0),!b)break r;v=0==(0|(o=0|pr[15&ze[592+((255&f)<<2)>>2]](r,e,i+n|0,n-t|0,n,a-n|0))),o=o+n|0,t=v?t:o,n=v?n+1|0:o}}}while(0);De=l}function Oe(r,e){ze[(e=404+(0|r)+(12*(0|e)|0)+4|0)>>2]=(0|ze[e>>2])-1}function He(r){return 1&(32==(0|(r|=0))|10==(0|r))|0}function p(r,e){var i,a;r|=0;var f=4+(e|=0)|0;for(i=0;;){var n=0|ze[f>>2];if(n>>>0<=i>>>0)break;for(a=i;!(n>>>0<=a>>>0)&&92!=(0|je[(0|ze[e>>2])+a>>0]);)a=a+1|0;if(i>>>0<a>>>0&&(de(r,(0|ze[e>>2])+i|0,a-i|0),n=0|ze[f>>2]),n>>>0<=(i=a+1|0)>>>0)break;he(r,0|Be[(0|ze[e>>2])+i>>0]),i=a+2|0}}function I(r,e,i){for(e=(0|r)+((7&(i=0|U(0|e,0|i)))<<2)|0;;){if(!(e=0|ze[e>>2])){e=0;break}if((0|ze[e>>2])==(0|i))break;e=e+12|0}return 0|e}function U(r,e){var i,a;for(r|=0,e|=0,a=i=0;(0|a)!=(0|e);)i=(65599*i|0)+(0|T(0|Be[r+a>>0]))|0,a=a+1|0;return 0|i}function m(r,e,i,a,f){var n;r|=0,i|=0,a|=0,f|=0;var t=64+(e|=0)|0;r:do{if(0|ze[t>>2]){var o=1<a>>>0&&(0|je[i>>0])==f<<24>>24?(0|je[i+1>>0])==f<<24>>24&1:0,l=e+428|0;for(n=95!=f<<24>>24;;){if(a>>>0<=o>>>0){o=0;break r}var c=0|q(i+o|0,a-o|0,f);if(!c){o=0;break r}if(a>>>0<=(o=c+o|0)>>>0){o=0;break r}if((0|je[i+o>>0])==f<<24>>24&&0==(0|He(0|Be[i+(o+-1)>>0]))){if(0==(1&ze[l>>2]|0)|n|(0|(c=o+1|0))==(0|a))break;var s=0|Be[i+c>>0];if(0|He(s))break;if(0|B(s))break}}Pe(f=0|qe(e,1),e,i,o),o=0|wr[15&ze[t>>2]](r,f,0|ze[e+112>>2]),Oe(e,1),o=0==(0|o)?0:c}else o=0}while(0);return 0|o}function _(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0;var n=0|ze[(126==(f|=0)<<24>>24?e+88|0:e+60|0)>>2];r:do{if(n){var t=0;do{if(a>>>0<=t>>>0){t=0;break r}var o=0|q(i+t|0,a-t|0,f);if(!o){t=0;break r}t=1+(o=o+t|0)|0}while(!(t>>>0<a>>>0&&(0|je[i+o>>0])==f<<24>>24&&0|o&&(0|je[i+t>>0])==f<<24>>24&&0==(0|He(0|Be[i+(o+-1)>>0]))));Pe(t=0|qe(e,1),e,i,o),t=0|wr[15&n](r,t,0|ze[e+112>>2]),Oe(e,1),t=0==(0|t)?0:o+2|0}else t=0}while(0);return 0|t}function q(r,e,i){r|=0,e|=0;var a,f=0,n=60==(i|=0)<<24>>24,t=1,o=0;r:for(;;){var l=t;e:for(;;){for(;;){if(e>>>0<=l>>>0){l=0;break r}i:for(;;){if(e>>>0<=l>>>0){t=0;break}if((t=0|je[r+l>>0])<<24>>24==i<<24>>24){t=1;break}switch(t<<24>>24){case 91:case 96:t=1;break i}l=l+1|0}if((0|l)==(0|e)){l=0;break r}var c=0|je[r+l>>0];if(n&t&60==c<<24>>24){if(33==(0|je[r+(l+-1)>>0]))break r;c=60}if(c<<24>>24==i<<24>>24)break r;if(!l){t=0;break}if(92!=(0|je[r+(l+-1)>>0])){t=l;break}l=l+1|0}switch(c<<24>>24){case 91:break e;case 96:for(f=0;;){if(e>>>0<=t>>>0){l=0;break r}if(96!=(0|je[r+t>>0]))break;f=f+1|0,t=t+1|0}for(a=l=0;(c=t>>>0<e>>>0)&a>>>0<f>>>0;)c=0|je[r+t>>0],l=0==(0|l)?c<<24>>24==i<<24>>24?t:0:l,a=96==c<<24>>24?a+1|0:0,t=t+1|0;if(!c)break r;l=t;break;default:l=t}}for(l=0;!(e>>>0<=(c=t+1|0)>>>0)&&93!=(a=0|je[r+c>>0])<<24>>24;)l=0==(0|l)&&a<<24>>24==i<<24>>24?c:l,t=c;t=t+2|0;e:for(;;){if(e>>>0<=t>>>0)break r;switch(0|je[r+t>>0]){case 91:f=93,c=36;break e;case 40:c=35;break e;case 10:case 32:break;default:c=41;break e}t=t+1|0}if(35==(0|c))f=41,c=36;else if(41==(0|c)&&(l=(f=(c=0)==(0|l))?o:l,!f))break;if(36==(0|c)){for(;;){if(e>>>0<=(c=t+1|0)>>>0)break r;if((0|f)==(255&(a=0|je[r+c>>0])|0))break;l=0==(0|l)&&a<<24>>24==i<<24>>24?c:l,t=c}l=o,t=t+2|0}o=l}return 0|l}function c(r,e){r|=0,e|=0;var i,a=0,f=0;for(i=0;;){if(e>>>0<=i>>>0){f=3;break}if(a=i+1|0,10==(0|je[r+i>>0]))break;i=a}return 3==(0|f)&&(a=i+1|0),0|(a>>>0<e>>>0?0|Ie(r+a|0,e-a|0):0)}function Te(r,e,i,a,f,n,t){r|=0,i|=0,a|=0,f|=0,n|=0,t|=0;var o,l,c,s,u=0,b=De;De=De+16|0;var k=44+(e|=0)|0;if(0|ze[k>>2]&&0|ze[(u=e+40|0)>>2]){var v=0|qe(e,1),d=a?124==(0|je[i>>0])&1:0,h=e+112|0;for(s=0;s>>>0<f>>>0&d>>>0<a>>>0;){for(c=0|qe(e,1);!(a>>>0<=d>>>0)&&0|He(0|Be[i+d>>0]);)d=d+1|0;for(l=d;!(a>>>0<=l>>>0)&&124!=(0|je[i+l>>0]);)l=l+1|0;for(o=l;;){var w=o+-1|0;if(w>>>0<=d>>>0)break;if(!(0|He(0|Be[i+w>>0])))break;o=w}Pe(c,e,i+d|0,o-d|0),yr[1&ze[k>>2]](v,c,ze[n+(s<<2)>>2]|t,0|ze[h>>2],0),Oe(e,1),s=s+1|0,d=l+1|0}0|(d=f-s|0)&&(ze[b>>2]=0,ze[b+4>>2]=0,ze[b+8>>2]=0,ze[b+12>>2]=0,yr[1&ze[k>>2]](v,b,ze[n+(s<<2)>>2]|t,0|ze[h>>2],d)),Le[7&ze[u>>2]](r,v,0|ze[h>>2]),Oe(e,1)}De=b}function P(r,e,i,a){e|=0,i|=0;var f,n=0,t=0,o=0,l=0|D(r|=0),c=0!=(0|a),s=l+3|0,u=i+1|0;for(a=0,f=1;;){if(i>>>0<=f>>>0){a=0;break}for(t=f;!(i>>>0<=(f=t+1|0)>>>0||47==(n=0|je[e+f>>0])<<24>>24&&60==(0|je[e+t>>0]));)a=a+(10==n<<24>>24&1)|0,t=f;if(!(c&0<(0|a)&&10!=(0|je[e+(t+-1)>>0]))){if(i>>>0<=(s+t|0)>>>0){a=0;break}n=r;var b=l,k=e+t|0,v=u+~t|0;k|=0;var d=0,h=3+(b|=0)|0;if(n=h>>>0<(v|=0)>>>0&&0==(0|F(k+2|0,0|n,b))&&62==(0|je[k+(b+2)>>0])&&0!=(0|(d=0|pe(k+h|0,v-h|0)))?(n=(b=d+h|0)>>>0<v>>>0?0|pe(k+b|0,v-b|0):0)+b|0:0,0|(n|=0)){o=12;break}}}return 12==(0|o)&&(a=n+t|0),0|a}function s(r,e){var i,a=8+(r|=0)|0;if((0|ze[a>>2])>>>0<(e|=0)>>>0)if(i=0|V(0|ze[r>>2],e<<2)){var f=0|ze[a>>2];nr(i+(f<<2)|0,0,e-f<<2|0),ze[r>>2]=i,(ze[a>>2]=e)>>>0<(0|ze[(r=r+4|0)>>2])>>>0&&(ze[r>>2]=e),r=0}else r=-1;else r=0;return 0|r}function u(r,e){ze[(r|=0)>>2]=0,ze[r+4>>2]=0,s(r,(ze[r+8>>2]=0)|e)}function d(r,e,i){var a,f;e|=0;var n=De;De=De+16|0,A(r|=0,((12*(i|=0)|0)>>>0)/10|0),je[n>>0]=37;var t=n+1|0,o=n+2|0;for(a=0;!(i>>>0<=a>>>0);){for(f=a;;){if(i>>>0<=f>>>0){var l=0;break}if(1!=(0|je[656+(0|Be[e+f>>0])>>0])){l=1;break}f=f+1|0}if(a>>>0<f>>>0&&de(r,e+a|0,f-a|0),!l)break;l=255&(a=0|je[e+f>>0]);r:do{if(2!=(0|je[656+l>>0]))switch(a<<24>>24){case 38:de(r,6531,5);break r;case 39:de(r,5743,6);break r;default:je[t>>0]=0|je[912+(l>>>4)>>0],je[o>>0]=0|je[912+(15&a)>>0],de(r,n,3);break r}}while(0);a=f+1|0}De=n}function O(r,e,i){var a,f;r|=0,e|=0,i|=0;r:do{if(3<=e>>>0&&60==(0|je[r>>0])){for(a=f=47==(0|je[r+1>>0])?2:1;!(e>>>0<=a>>>0);){var n=0|je[i>>0];if(!(n<<24>>24))break;if((0|Be[r+a>>0])!=(n<<24>>24|0))break r;i=i+1|0,a=a+1|0}if((0|a)!=(0|e))return 0|((e=62==(e=0|je[r+a>>0])<<24>>24|0!=(0|R(255&e)))?f:0)}}while(0);return 0}function n(r,e){ze[(e|=0)>>2]=0,ze[e+4>>2]=0,ze[e+8>>2]=0}function H(r,e,i){e|=0;var a,f,n,t=0,o=0;for(A(r|=0,((12*(i|=0)|0)>>>0)/10|0),f=a=0;!(i>>>0<=f>>>0);){for(n=f;;){if(i>>>0<=n>>>0){t=0;break}if((a=0|je[944+(0|Be[e+n>>0])>>0])<<24>>24){o=7;break}n=n+1|(a=0)}if(7==(0|o)&&(o=0,a=a<<24>>24,t=1),f>>>0<n>>>0&&de(r,e+f|0,n-f|0),!t)break;47!=(t=0|je[e+n>>0])<<24>>24?7!=(0|je[944+(255&t)>>0])&&y(r,0|ze[1200+(a<<2)>>2]):he(r,47),f=n+1|0}}function w(r,e){return y(0|r,0==(256&ze[16+(0|e)>>2]|0)?6054:6060),1}function T(r){return 0|(0==(((0|(r|=0))-65|0)>>>0<26|0)?r:32|r)}function K(r){var e=112+(r|=0)|0;ze[e>>2]=0;var i=(e=(ze[e+4>>2]=0)|ze[r+8>>2])-(0|ze[r+4>>2])|0,a=r+120|0;ze[a>>2]=i,ze[a+4>>2]=((0|i)<0)<<31>>31,ze[r+104>>2]=e}function M(r){var e,i=0,a=0,f=0,n=e=112+(r|=0)|0,t=0|ze[n>>2];if(0==(0|t)&0==(0|(n=0|ze[n+4>>2]))||(0|(i=0|ze[4+(a=r+120|0)>>2]))<(0|n)|((0|i)==(0|n)?(0|ze[a>>2])>>>0<t>>>0:0)){De=(n=De)+16|0;var o=t=0|r;if(je[(i=74+(o|=0)|0)>>0]=255+(a=0|je[i>>0])|a,(0|ze[(a=o+28|0)>>2])>>>0<(0|ze[(i=o+20|0)>>2])>>>0&&wr[15&ze[o+36>>2]](o,0,0),ze[o+16>>2]=0,ze[a>>2]=0,t=(ze[i>>2]=0)==(0|(i=4&(i=0|ze[o>>2])?(ze[o>>2]=32|i,-1):(ze[o+8>>2]=a=(0|ze[o+44>>2])+(0|ze[o+48>>2])|0,ze[o+4>>2]=a,i<<27>>31)))&&1==(0|wr[15&ze[t+32>>2]](t,n,1))?0|Be[n>>0]:-1,De=n,0<=(0|(t|=0))){if(a=0|ze[r+8>>2],0==(0|(n=0|ze[(o=e)>>2]))&0==(0|(o=0|ze[o+4>>2])))e=r+4|0,n=a,f=9;else{var l=a-(i=0|ze[(e=r+4|0)>>2])|0,c=((0|l)<0)<<31>>31,s=r+120|0;o=0|Q(0|n,0|o,0|ze[s>>2],0|ze[s+4>>2]),n=a,(0|c)<(0|(s=0|br()))|(0|s)==(0|c)&l>>>0<o>>>0?f=9:ze[r+104>>2]=i+(o+-1)}9==(0|f)&&(ze[r+104>>2]=a),n=n?(l=n+1-(s=0|ze[e>>2])|0,c=n=r+120|0,l=0|$(0|ze[c>>2],0|ze[c+4>>2],0|l,((0|l)<0)<<31>>31|0),c=0|br(),ze[n>>2]=l,ze[n+4>>2]=c,s):0|ze[e>>2],(0|t)!=(0|Be[(n=n+-1|0)>>0])&&(je[n>>0]=t)}else f=4}else f=4;return 4==(0|f)&&(ze[r+104>>2]=0,t=-1),0|t}function R(r){return 1&(32==(0|(r|=0))|(r+-9|0)>>>0<5)|0}function N(r,e){var i=0|je[(r|=0)>>0],a=0|je[(e|=0)>>0];if(0!=i<<24>>24&&i<<24>>24==a<<24>>24)for(;i=0|je[(r=r+1|0)>>0],a=0|je[(e=e+1|0)>>0],0!=i<<24>>24&&i<<24>>24==a<<24>>24;);return(255&i)-(255&a)|0}function j(r,e,i){r|=0,e|=0,i|=0;for(var a,f,n=0;;){if((a=0|je[r>>0])<<24>>24!=(f=0|je[e>>0])<<24>>24){n=4;break}if(!(i=i+-1|0)){r=0;break}r=r+1|0,e=e+1|0}return 4==(0|n)&&(r=(255&a)-(255&f)|0),0|r}function z(r,e,i){r|=0,i|=0;var a=255&(e|=0),f=255&e;r:do{if(3&r){do{if((0|je[r>>0])==f<<24>>24){var n=6;break r}r=r+1|0,e=0!=(0|(i=i+-1|0))}while(e&0!=(3&r|0));n=e?6:16}else n=6}while(0);r:do{if(6==(0|n))if((0|je[r>>0])==f<<24>>24)i||(n=16);else{e=0|lr(a,16843009);e:do{if(3<i>>>0)for(;;){if((-2139062144&(a=ze[r>>2]^e)^-2139062144)&a+-16843009|0)break e;if(r=r+4|0,(i=i+-4|0)>>>0<=3){n=11;break}}else n=11}while(0);if(11!=(0|n)||i)for(;;){if((0|je[r>>0])==f<<24>>24)break r;if(!(i=i+-1|0)){n=16;break}r=r+1|0}else n=16}}while(0);return 16==(0|n)&&(r=0),0|r}function Ke(r){return 0|(((32|(r|=0))-97|0)>>>0<26|0?1:0!=(((0|r)-48|0)>>>0<10|0)&1)}function B(r){return 0|(((0|(r|=0))-33|0)>>>0<94|0?0==(0|Ke(r))&1:0)}function D(r){var e,i=0,a=r|=0;r:do{if(3&a)for(e=a;;){if(!(0|je[r>>0])){r=e;break r}if(!(3&(e=r=r+1|0))){i=5;break}}else i=5}while(0);if(5==(0|i)){for(;!((-2139062144&(e=0|ze[r>>2])^-2139062144)&e+-16843009);)r=r+4|0;if((255&e)<<24>>24)for(;0!=(0|je[(r=r+1|0)>>0]););}return r-a|0}function F(r,e,i){if(r|=0,e|=0,i|=0){var a=0|je[r>>0];r:do{if(a<<24>>24){var f=r;for(r=a,a&=255;;){var n=0|je[e>>0];if(!(0!=(0|(i=i+-1|0))&0!=n<<24>>24))break r;if(r<<24>>24!=n<<24>>24&&(0|(a=0|T(a)))!=(0|T(255&n)))break r;if(e=e+1|0,!((a=0|je[(f=f+1|0)>>0])<<24>>24)){r=0;break}r=a,a&=255}}else r=0}while(0);r=(r=0|T(255&r))-(0|T(0|Be[e>>0]))|0}else r=0;return 0|r}function L(r){var e,i=0,a=0,f=0,n=0==(0|(r|=0))?1:r;r=(r=31-(0|cr(0|(8<n>>>0?n:8)))|0)+(1!=(0|ar(0|n))&1)|0;r:do{if(3<r>>>0&n>>>0<1<<r>>>0&&0!=(0|(i=0|ze[8400+(r+-1<<2)>>2]))){for(e=0;!(n>>>0<=(((0|ze[i+-8>>2])>>>1)-8|0)>>>0);)if(!((e=e+1|0)>>>0<32&0!=(0|(i=0|ze[i+4>>2])))){a=7;break r}r=0|Y(i,n)}else a=7}while(0);r:do{if(7==(0|a)){e:do{if(r>>>0<32){for(;i=0|ze[8400+(r<<2)>>2],r=r+1|0,!(0|i);)if(32<=r>>>0)break e;r=0|Y(i,n);break r}}while(0);if(0|(r=0|ze[2287])&&0==(1&(f=0|ze[r>>2])|0)){if(ze[r>>2]=1|f,i=31-(0|cr(0|(e=8<(e=(f>>>1)-8|0)>>>0?e:8)))|0,i=8400+((0==(0|e)?1:i)<<2)|0,e=r+12|0,(0|ze[i>>2])==(0|(a=r+8|0))&&(ze[i>>2]=ze[e>>2]),0|(r=0|ze[a>>2])&&(ze[r+4>>2]=ze[e>>2]),0|(r=0|ze[e>>2])&&(ze[r>>2]=ze[a>>2]),n=0==(0|Z(n)),r=0|ze[2287],n)return ze[r>>2]&=-2,(n=0)|n;if(r)break;return(r=0)|r}if(-1==(0|(i=0|W(a=n+15&-8))))return(n=0)|n;if((0|(e=i))!=(0|(f=r=e+7&-8))&&-1==(0|W(r-e|0)))return(n=0)|n;(i=0|ze[2287])?ze[r+4>>2]=i:ze[2286]=f,ze[2287]=f,ze[r>>2]=a<<1|1}}while(0);return r+8|0}function Y(r,e){e|=0;var i=(r|=0)-8|0,a=((0|ze[i>>2])>>>1)-8|0,f=31-(0|cr(0|(a=8<a>>>0?a:8)))|0;if(f=8400+((0==(0|a)?1:f)<<2)|0,a=r+4|0,(0|ze[f>>2])==(0|r)&&(ze[f>>2]=ze[a>>2]),0|(f=0|ze[r>>2])&&(ze[f+4>>2]=ze[a>>2]),0|(f=0|ze[a>>2])&&(ze[f>>2]=ze[r>>2]),ze[i>>2]=1|(a=0|ze[i>>2]),(0|ze[2287])==(0|i)&8==(-8&(f=(a>>>=1)+(-8-e)|0)|0)){if(!(0|Z(a)))return 0|i;f=f+8|0}return f>>>0<=15||(e=a=r=r+e+7&-8,ze[i>>2]=1&(f=0|ze[i>>2])|r-i<<1,ze[e>>2]=(r=i+(f>>>1)-r|0)<<1|1&ze[e>>2],ze[e+4>>2]=i,ze[((0|ze[2287])==(0|i)?9148:a+(2147483647&r)+4|0)>>2]=a,G(e)),0|i}function Z(r){var e=(15+(0|r)&-8)-((0|ze[ze[2287]>>2])>>>1)|0;if(-1==(0|W(e)))return 0;var i=0|ze[2287];if(!(1&(r=0|ze[i>>2]))){var a=(r>>>1)-8|0;r=31-(0|cr(0|(a=8<a>>>0?a:8)))|0;var f=i+8|0;r=8400+((0==(0|a)?1:r)<<2)|0,a=i+12|0,(0|ze[r>>2])==(0|f)&&(ze[r>>2]=ze[a>>2]),0|(r=0|ze[f>>2])&&(ze[r+4>>2]=ze[a>>2]),0|(r=0|ze[a>>2])&&(ze[r>>2]=ze[f>>2])}return 1&(ze[i>>2]=r=(0|ze[i>>2])+(e<<1)|0)|0||(e=31-(0|cr(0|(a=8<(a=(r>>>1)-8|0)>>>0?a:8)))|0,a=0|ze[(e=8400+((0==(0|a)?1:e)<<2)|0)>>2],ze[e>>2]=r=i+8|0,ze[r>>2]=0,(ze[i+12>>2]=a)&&(ze[a>>2]=r)),1}function G(r){var e=0,i=0,a=0,f=0|ze[(r|=0)>>2];ze[r>>2]=-2&f;var n=0|ze[r+4>>2],t=0|ze[2287],o=(0|t)==(0|r),l=r+(f>>>=1)|0,c=o?0:l;if(l=o?0:l,0|n&&0==(1&(e=0|ze[n>>2])|0)){e=31-(0|cr(0|(o=8<(o=(e>>>1)-8|0)>>>0?o:8)))|0;var s=n+8|0;e=8400+((0==(0|o)?1:e)<<2)|0,o=n+12|0,(0|ze[e>>2])==(0|s)&&(ze[e>>2]=ze[o>>2]),0|(e=0|ze[s>>2])&&(ze[e+4>>2]=ze[o>>2]),0|(e=0|ze[o>>2])&&(ze[e>>2]=ze[s>>2]),ze[n>>2]=(0|ze[n>>2])+(-2&ze[r>>2]),l?(ze[l+4>>2]=n,1&(e=0|ze[l>>2])||(e=31-(0|cr(0|(f=8<(f=(e>>>1)-8|0)>>>0?f:8)))|0,e=8400+((0==(0|f)?1:e)<<2)|0,f=l+12|0,(0|ze[e>>2])==(0|(i=l+8|0))&&(ze[e>>2]=ze[f>>2]),0|(e=0|ze[i>>2])&&(ze[e+4>>2]=ze[f>>2]),(e=0|ze[f>>2])&&(ze[e>>2]=ze[i>>2],t=0|ze[2287]),ze[n>>2]=(0|ze[n>>2])+(-2&ze[l>>2]),e=(0|l)==(0|t)?9148:c+((0|ze[l>>2])>>>1)+4|0,a=19)):(e=9148,a=19),19==(0|a)&&(ze[e>>2]=n),l=31-(0|cr(0|(e=8<(e=((0|ze[n>>2])>>>1)-8|0)>>>0?e:8)))|0,e=0|ze[(l=8400+((0==(0|e)?1:l)<<2)|0)>>2],ze[l>>2]=s,ze[s>>2]=0,(ze[o>>2]=e)&&(ze[e>>2]=s)}else t=0|l&&0==(1&(i=0|ze[l>>2])|0)?(e=31-(0|cr(0|(f=8<(f=(i>>>1)-8|0)>>>0?f:8)))|0,e=8400+((0==(0|f)?1:e)<<2)|0,f=l+12|0,(0|ze[e>>2])==(0|(i=l+8|0))&&(ze[e>>2]=ze[f>>2]),0|(e=0|ze[i>>2])&&(ze[e+4>>2]=ze[f>>2]),(e=0|ze[f>>2])&&(ze[e>>2]=ze[i>>2],t=0|ze[2287]),ze[r>>2]=e=(0|ze[r>>2])+(-2&ze[l>>2])|0,(0|l)==(0|t)?ze[2287]=r:(ze[c+((0|ze[l>>2])>>>1)+4>>2]=r,e=0|ze[r>>2]),(e>>>1)-8|0):f+-8|0,l=31-(0|cr(0|(t=8<t>>>0?t:8)))|0,t=0|ze[(l=8400+((0==(0|t)?1:l)<<2)|0)>>2],ze[l>>2]=e=r+8|0,ze[e>>2]=0,(ze[r+12>>2]=t)&&(ze[t>>2]=e)}function Me(r){(r|=0)&&G(r+-8|0)}function Re(r,e){var i=0,a=0,f=0,n=0|lr(0|e,0|r),t=0==(0|n)?1:n;r=(r=31-(0|cr(0|(8<t>>>0?t:8)))|0)+(1!=(0|ar(0|t))&1)|0;r:do{if(3<r>>>0&t>>>0<1<<r>>>0&&0!=(0|(i=0|ze[8400+(r+-1<<2)>>2]))){var o=0;for(e=i;!(t>>>0<=(((0|ze[e+-8>>2])>>>1)-8|0)>>>0);)if(!((o=o+1|0)>>>0<32&0!=(0|(e=0|ze[e+4>>2])))){a=7;break r}r=0|Y(e,t)}else a=7}while(0);r:do{if(7==(0|a)){e:do{if(r>>>0<32){for(;e=0|ze[8400+(r<<2)>>2],r=r+1|0,!(0|e);)if(32<=r>>>0)break e;r=0|Y(e,t);break r}}while(0);if(0|(r=0|ze[2287])&&0==(1&(f=0|ze[r>>2])|0)){if(ze[r>>2]=1|f,e=31-(0|cr(0|(o=8<(o=(f>>>1)-8|0)>>>0?o:8)))|0,e=8400+((0==(0|o)?1:e)<<2)|0,o=r+12|0,(0|ze[e>>2])==(0|(i=r+8|0))&&(ze[e>>2]=ze[o>>2]),0|(r=0|ze[i>>2])&&(ze[r+4>>2]=ze[o>>2]),0|(r=0|ze[o>>2])&&(ze[r>>2]=ze[i>>2]),t=0==(0|Z(t)),r=0|ze[2287],t)return ze[r>>2]&=-2,(n=0)|n;if(r)break;return(r=0)|r}if(-1==(0|(e=0|W(i=t+15&-8))))return(n=0)|n;if((0|(o=e))!=(0|(a=r=o+7&-8))&&-1==(0|W(r-o|0)))return(n=0)|n;(e=0|ze[2287])?ze[r+4>>2]=e:ze[2286]=a,ze[2287]=a,ze[r>>2]=i<<1|1}}while(0);return nr(0|(t=r+8|0),0,0|n),0|t}function V(r,e){var i,a=0,f=0,n=0,t=0,o=0,l=0==(0|(e|=0));if(!(r|=0)){var c=l?1:e;l=(l=31-(0|cr(0|(8<c>>>0?c:8)))|0)+(1!=(0|ar(0|c))&1)|0;r:do{if(3<l>>>0&c>>>0<1<<l>>>0&&0!=(0|(a=0|ze[8400+(l+-1<<2)>>2]))){for(i=0;!(c>>>0<=(((0|ze[a+-8>>2])>>>1)-8|0)>>>0);)if(!((i=i+1|0)>>>0<32&0!=(0|(a=0|ze[a+4>>2])))){o=8;break r}l=0|Y(a,c)}else o=8}while(0);r:do{if(8==(0|o)){e:do{if(l>>>0<32){for(;a=0|ze[8400+(l<<2)>>2],l=l+1|0,!(0|a);)if(32<=l>>>0)break e;l=0|Y(a,c);break r}}while(0);if(0|(l=0|ze[2287])&&0==(1&(f=0|ze[l>>2])|0)){if(ze[l>>2]=1|f,a=31-(0|cr(0|(i=8<(i=(f>>>1)-8|0)>>>0?i:8)))|0,a=8400+((0==(0|i)?1:a)<<2)|0,i=l+12|0,(0|ze[a>>2])==(0|(f=l+8|0))&&(ze[a>>2]=ze[i>>2]),0|(l=0|ze[f>>2])&&(ze[l+4>>2]=ze[i>>2]),0|(l=0|ze[i>>2])&&(ze[l>>2]=ze[f>>2]),e=0==(0|Z(c)),l=0|ze[2287],e)return ze[l>>2]&=-2,(e=0)|e;if(l)break;return(l=0)|l}if(-1==(0|(a=0|W(f=c+15&-8))))return(e=0)|e;if((0|(i=a))!=(0|(c=l=i+7&-8))&&-1==(0|W(l-i|0)))return(e=0)|e;(a=0|ze[2287])?ze[l+4>>2]=a:ze[2286]=c,ze[2287]=c,ze[l>>2]=f<<1|1}}while(0);return l+8|0}var s=r+-8|0;if(l)return G(s),0;if(e>>>0<=((a=(l=0|ze[s>>2])>>>1)-8|0)>>>0){if(ze[s>>2]=1|l,8==(-8&(l=a+(-8-e)|0)|0)&(0|ze[2287])==(0|s)){if(!(0|Z(a)))return 0|r;l=l+8|0}return l>>>0<=15||(e=t=o=r+e+7&-8,ze[s>>2]=1&(n=0|ze[s>>2])|o-s<<1,ze[e>>2]=(o=s+(n>>>1)-o|0)<<1|1&ze[e>>2],ze[e+4>>2]=s,ze[((0|ze[2287])==(0|s)?9148:t+(2147483647&o)+4|0)>>2]=t,G(e)),0|r}if(f=(0|(c=0|ze[2287]))!=(0|s)?1&(a=0|ze[(f=s+a|0)>>2])?c:(l=31-(0|cr(0|(a=8<(a=(a>>>1)-8|0)>>>0?a:8)))|0,l=8400+((0==(0|a)?1:l)<<2)|0,a=f+12|0,(0|ze[l>>2])==(0|(i=f+8|0))&&(ze[l>>2]=ze[a>>2]),0|(l=0|ze[i>>2])&&(ze[l+4>>2]=ze[a>>2]),0|(l=0|ze[a>>2])&&(ze[l>>2]=ze[i>>2]),ze[s>>2]=l=(0|ze[s>>2])+(-2&ze[f>>2])|0,(0|c)==(0|f)?ze[2287]=s:(ze[f+((0|ze[f>>2])>>>1)+4>>2]=s,c)):s,e>>>0<=((a=l>>>1)-8|0)>>>0){if(ze[s>>2]=1|l,(0|f)==(0|s)&8==(-8&(l=a+(-8-e)|0)|0)){if(!(0|Z(a)))return 0|r;l=l+8|0}return l>>>0<=15||(e=t=o=r+e+7&-8,ze[s>>2]=1&(n=0|ze[s>>2])|o-s<<1,ze[e>>2]=(o=s+(n>>>1)-o|0)<<1|1&ze[e>>2],ze[e+4>>2]=s,ze[((0|ze[2287])==(0|s)?9148:t+(2147483647&o)+4|0)>>2]=t,G(e)),0|r}l=31-(0|cr(0|(c=8<e>>>0?e:8)))|0,l=(0==(0|c)?1:l)+(1!=(0|ar(0|e))&1)|0;r:do{if(3<l>>>0&e>>>0<1<<l>>>0&&0!=(0|(n=0|ze[8400+(l+-1<<2)>>2]))){for(i=0,a=n;!(e>>>0<=(((0|ze[a+-8>>2])>>>1)-8|0)>>>0);)if(!((i=i+1|0)>>>0<32&0!=(0|(a=0|ze[a+4>>2])))){o=63;break r}l=0|Y(a,e)}else o=63}while(0);r:do{if(63==(0|o)){e:do{if(l>>>0<32){for(;a=0|ze[8400+(l<<2)>>2],l=l+1|0,!(0|a);)if(32<=l>>>0)break e;l=0|Y(a,e);break r}}while(0);if((0|f)==(0|s)){if(0|Z(e))return 0|r;l=0|ze[2287]}else l=f;if(0|l&&0==(1&(t=0|ze[l>>2])|0)){if(ze[l>>2]=1|t,a=31-(0|cr(0|(i=8<(i=(t>>>1)-8|0)>>>0?i:8)))|0,a=8400+((0==(0|i)?1:a)<<2)|0,i=l+12|0,(0|ze[a>>2])==(0|(f=l+8|0))&&(ze[a>>2]=ze[i>>2]),0|(l=0|ze[f>>2])&&(ze[l+4>>2]=ze[i>>2]),0|(l=0|ze[i>>2])&&(ze[l>>2]=ze[f>>2]),o=0==(0|Z(e)),l=0|ze[2287],o)return ze[l>>2]&=-2,(e=0)|e;if(l)break;return(l=0)|l}if(-1==(0|(a=0|W(f=e+15&-8))))return(e=0)|e;if((0|(i=a))!=(0|(c=l=i+7&-8))&&-1==(0|W(l-i|0)))return(e=0)|e;(a=0|ze[2287])?ze[l+4>>2]=a:ze[2286]=c,ze[2287]=c,ze[l>>2]=f<<1|1}}while(0);return fr(0|(o=l+8|0),0|r,0|(e>>>0<(t=((0|ze[s>>2])>>>1)-8|0)>>>0?e:t)),G(s),0|o}function W(r){var e=0|ze[2296];return(r=e+(0|r)|0)>>>0>(0|kr())>>>0&&0==(0|dr(0|r))?-1:(ze[2296]=r,0|e)}function X(r,e,i,a){e|=0,a|=0;var f=0|r,n=0|i,t=65535&(r=0|f),o=65535&(i=0|n),l=0|lr(o,t),c=r>>>16;return r=(l>>>16)+(0|lr(o,c))|0,i=0|lr(o=i>>>16,t),i=0|(ur((r>>>16)+(0|lr(o,c))+(((65535&r)+i|0)>>>16)|0),r+i<<16|65535&l|0),r=0|br(),0|(ur((0|lr(e,n))+(0|lr(a,f))+r|0&r|0),0|i)}function $(r,e,i,a){return 0|(ur((0|e)+(0|a)+((i=(r|=0)+(0|i)>>>0)>>>0<r>>>0|0)>>>0|0),0|i)}function Q(r,e,i,a){return 0|(ur((0|e)-(0|a)-((r|=0)>>>0<(i|=0)>>>0|0)>>>0|0),r-i>>>0|0)}function J(r){return 0|((r|=0)?31-(0|cr(r^r-1))|0:32)}function rr(r,e,i,a){return 0|(function(r,e,i,a,f){var n,t;f|=0;var o=r|=0,l=n=e|=0,c=i|=0,s=t=a|=0;if(!l){var u=0!=(0|f);if(s){if(!u)return(f=0)|(ur(0),f);ze[f>>2]=0|r,ze[f+4>>2]=0&e,f=t=0}else u&&(ze[f>>2]=(o>>>0)%(c>>>0),ze[f+4>>2]=0),f=(o>>>(t=0))/(c>>>0)>>>0;return 0|(ur(0|t),f)}u=0==(0|s);do{if(c){if(!u){if((u=(0|cr(0|s))-(0|cr(0|l))|0)>>>0<=31){var b=u+1|0;r=o>>>((c=b)>>>0)&(e=u-31>>31)|l<<(s=31-u|0),e&=l>>>(b>>>0),u=0,s=o<<s;break}return f&&(ze[f>>2]=0|r,ze[f+4>>2]=n|0&e),f=t=0,0|(ur(0|t),f)}if((u=c-1|0)&c|0){var k=64-(s=33+(0|cr(0|c))-(0|cr(0|l))|0)|0,v=s-32|0;r=(b=32-s|0)-1>>31&l>>>(v>>>0)|(l<<b|o>>>((c=s)>>>0))&(e=v>>31),e&=l>>>(s>>>0),u=o<<k&(n=b>>31),s=(l<<k|o>>>(v>>>0))&n|o<<b&s-33>>31;break}0|f&&(ze[f>>2]=u&o,ze[f+4>>2]=0),k=1==(0|c)?(v=n|0&e,0|r):(v=l>>>((k=0|J(0|c))>>>0)|0,l<<32-k|o>>>(k>>>0)|0)}else{if(u)return 0|f&&(ze[f>>2]=(l>>>0)%(c>>>0),ze[f+4>>2]=0),k=(l>>>(v=0))/(c>>>0)>>>0,0|(ur(0|v),k);if(!o)return 0|f&&(ze[f>>2]=0,ze[f+4>>2]=(l>>>0)%(s>>>0)),k=(l>>>(v=0))/(s>>>0)>>>0,0|(ur(0|v),k);if(!((u=s-1|0)&s))return 0|f&&(ze[f>>2]=0|r,ze[f+4>>2]=u&l|0&e),k=l>>>(((v=0)|J(0|s))>>>0),0|(ur(0|v),k);if((u=(0|cr(0|s))-(0|cr(0|l))|0)>>>0<=30){r=l<<(s=31-u|0)|o>>>((c=e=u+1|0)>>>0),e=l>>>(e>>>0),u=0,s=o<<s;break}if(!f)return k=v=0,0|(ur(0|v),k);ze[f>>2]=0|r,ze[f+4>>2]=n|0&e,k=v=0}return 0|(ur(0|v),k)}while(0);if(c){for(l=0|$(0|(b=0|i),0|(o=t|0&a),-1,-1),i=0|br(),n=s,s=0;n=u>>>31|(a=n)<<1,u=s|u<<1,Q(0|l,0|i,0|(a=r<<1|a>>>31|0),0|(t=r>>>31|e<<1|0)),s=1&(v=(k=0|br())>>31|((0|k)<0?-1:0)<<1),r=0|Q(0|a,0|t,v&b|0,(((0|k)<0?-1:0)>>31|((0|k)<0?-1:0)<<1)&o|0),e=0|br(),0!=(0|(c=c-1|0)););l=n,n=0}else l=s,s=n=0;return(c=0)|f&&(ze[f>>2]=r,ze[f+4>>2]=e),k=-2&(u<<1|0)|s,0|(ur((0|u)>>>31|(l|c)<<1|0&(c<<1|u>>>31)|n|0),k)})(0|r,0|e,0|i,0|a,0)}function er(r,e,i){return r|=0,e|=0,(0|(i|=0))<32?(ur(e>>>i|0),r>>>i|(e&(1<<i)-1)<<32-i):(ur(0),e>>>i-32|0)}function ir(r,e,i){return r|=0,(0|(i|=0))<32?(ur((e|=0)<<i|(r&(1<<i)-1<<32-i)>>>32-i|0),r<<i):(ur(r<<i-32|0),0)}function ar(r){return lr((r=(858993459&(r=(r|=0)-(r>>>1&1431655765)|0))+(r>>>2&858993459)|0)+(r>>>4)&252645135,16843009)>>>24|0}function fr(r,e,i){if(r|=0,e|=0,8192<=(0|(i|=0)))return vr(0|r,0|e,0|i),0|r;var a=0|r,f=r+i|0;if((3&r)==(3&e)){for(;3&r;){if(!i)return 0|a;je[r>>0]=0|je[e>>0],r=r+1|0,e=e+1|0,i=i-1|0}for(i=-4&f|0;(0|r)<(0|i);)ze[r>>2]=ze[e>>2],r=r+4|0,e=e+4|0}else for(i=f-4|0;(0|r)<(0|i);)je[r>>0]=0|je[e>>0],je[r+1>>0]=0|je[e+1>>0],je[r+2>>0]=0|je[e+2>>0],je[r+3>>0]=0|je[e+3>>0],r=r+4|0,e=e+4|0;for(;(0|r)<(0|f);)je[r>>0]=0|je[e>>0],r=r+1|0,e=e+1|0;return 0|a}function Ne(r,e,i){if((0|(e|=0))<(0|(r|=0))&(0|r)<(e+(i|=0)|0)){var a=r;for(e=e+i|0,r=r+i|0;0<(0|i);)i=i-1|0,je[(r=r-1|0)>>0]=0|je[(e=e-1|0)>>0];r=a}else fr(r,e,i);return 0|r}function nr(r,e,i){var a,f=(r|=0)+(i|=0)|0;if(e=255&(0|e),67<=(0|i)){for(;3&r;)je[r>>0]=e,r=r+1|0;var n=-4&f|0;for(a=e|e<<8|e<<16|e<<24;(0|r)<(0|n);)ze[r>>2]=a,r=r+4|0}for(;(0|r)<(0|f);)je[r>>0]=e,r=r+1|0;return f-i|0}function a(){return sr(1),0}function f(){return sr(4),0}function tr(){sr(7)}var je=new r.Int8Array(i);new r.Int16Array(i);var ze=new r.Int32Array(i),Be=new r.Uint8Array(i),or=new r.Uint16Array(i),lr=r.Math.imul,cr=r.Math.clz32,sr=e.a,ur=e.b,br=e.c,kr=e.d,vr=e.e,dr=e.f,De=9376,hr=[function(){return sr(0),0},w],wr=[a,function(r,e){return e|=0,de(r|=0,5906,6),0|e&&H(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,5913,7),1},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5867,30),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5898,7),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5848,8),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5857,9),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5837,4),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5842,5),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5809,12),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5822,14),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5796,5),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5802,6),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5783,5),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5789,6),1):0)},function(r,e,i){r|=0,e|=0;var a,f,n=0,t=0|ze[20+(i|=0)>>2],o=0|ze[i+16>>2];r:do{if(0!=(0|t)&0!=(1024&o|0)){var l=e+4|0;for(a=0;;){var c=0|ze[t+(a<<2)>>2];if(!c){n=6;break r}if(f=0|O(0|ze[e>>2],0|ze[l>>2],c))break;a=a+1|0}a=r,l=e;var s=0|ze[i+24>>2];l|=0,c|=0,s|=0,f|=0;var u,b,k=0;if(he(a|=0,60),2==(0|f))he(a,47),y(a,c);else{y(a,c),c=0|D(c);var v=0|C(16),d=0|C(16),h=l+4|0,w=v+4|0,m=d+4|0;for(f=1,u=b=0;;){var _=c+1|0;if(!(f&_>>>0<(0|ze[h>>2])>>>0))break;var p=0|je[(0|ze[l>>2])+_>>0];e:do{switch(0|p){case 62:f=0;break;case 34:case 39:if(b)if(u){if((0|u)!=(0|p)){he(d,p),f=1;break e}for(f=0;;){if(!(u=0|ze[s+(f<<2)>>2])){k=27;break e}if((0|(p=0|D(u)))==(0|ze[w>>2])){for(c=0;!(p>>>0<=c>>>0)&&(0|(k=0|T(0|je[u+c>>0])))==(0|T(0|Be[(0|ze[v>>2])+c>>0]));)c=c+1|0;if((0|c)==(0|p))break}f=f+1|0}0==(0|p)|0==(0|ze[m>>2])||(he(a,32),H(a,0|ze[v>>2],0|ze[w>>2]),y(a,6026),H(a,0|ze[d>>2],0|ze[m>>2]),he(a,34)),k=27}else f=1,u=p;else k=27;break;case 32:u?(he(d,32),f=1):k=27;break;case 61:b?k=27:b=f=1;break;default:0==(0|u)&(c=0!=(0|b))?(f=1,u=0):(he(c?d:v,p),f=1)}}while(0);27==(0|k)&&(k=0,x(v),x(d),f=1,u=b=0),c=_}S(v),S(d)}he(a,62)}else n=6}while(0);return 6==(0|n)&&(512&o|0?H(r,0|ze[e>>2],0|ze[e+4>>2]):1&o||2&o|0&&0|O(0|ze[e>>2],0|ze[e+4>>2],6014)||(l=0|ze[e>>2],a=0|ze[e+4>>2],8&o|0&&0|O(l,a,6020)||4&o|0&&0|O(l,a,6022)||de(r,l,a))),1},a,a,a,a,a,a,a],mr=[function(){return sr(2),0},function(r,e,i,a){r|=0,i|=0,a|=0;var f=0,n=0;if(0!=(0|(e|=0))&&0!=(0|(f=0|ze[(n=e+4|0)>>2])))if(32&ze[a+16>>2]|0&&2!=(0|i)&0==(0|k(0|ze[e>>2],f)))i=0;else{de(r,6029,9),2==(0|i)&&de(r,6090,7),d(0|r,0|ze[e>>2],0|ze[n>>2]),0|ze[(i=a+28|0)>>2]?(he(r,34),Le[7&ze[i>>2]](r,e,a),he(r,62)):de(r,6005,2);var t=f=0,o=0,l=0|ze[4+(i=0|e)>>2];for(a=0;;){if(l>>>0<=a>>>0){a=0;break}if(t=0|je[6090+a>>0],7==(0|a)){a=0;break}if((0|(f=0|Be[(0|ze[i>>2])+a>>0]))!=(0|t)){o=5;break}a=a+1|0}5==(0|o)&&(a=f-t|0),i=0|ze[e>>2],0==(0|a)?H(r,i+7|0,(0|ze[n>>2])-7|0):H(r,i,0|ze[n>>2]),de(r,6049,4),i=1}else i=0;return 0|i}],_r=[function(){return sr(3),0},function(r,e,i,a){return(e=0)|(a|=0)&&0|(e=0|ze[a+4>>2])&&de(0|r,0|ze[a>>2],e),1},function(r,e,i,a,f){r|=0,i|=0,a|=0,f|=0;var n=0,t=0,o=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(o=e+4|0)>>2])?(de(r,6067,10),d(0|r,0|ze[e>>2],0|ze[o>>2]),de(r,6078,7),0|a&&0|(n=0|ze[a+4>>2])&&H(r,0|ze[a>>2],n),0|i&&0|ze[(t=i+4|0)>>2]&&(de(r,6039,9),H(r,0|ze[i>>2],0|ze[t>>2])),y(r,0==(256&ze[f+16>>2]|0)?6005:6086),1):0)},function(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0,f|=0;var n=0,t=0,o=0,l=0;do{if(e){if(32&ze[f+16>>2]){if(!(0|k(0|ze[e>>2],0|ze[(n=e+4|0)>>2]))){n=0;break}}else n=e+4|0;de(r,6029,9),(n=0|ze[n>>2])&&d(0|r,0|ze[e>>2],0|n)}else de(r,6029,9);t=8}while(0);return 8==(0|t)&&(0|i&&0|ze[(o=i+4|0)>>2]&&(de(r,6039,9),H(r,0|ze[i>>2],0|ze[o>>2])),0|ze[(n=f+28|0)>>2]?(he(r,34),Le[7&ze[n>>2]](r,e,f),he(r,62)):de(r,6005,2),0|a&&0|(l=0|ze[a+4>>2])&&de(r,0|ze[a>>2],l),de(r,6049,4),n=1),0|n}],pr=[f,function(r,e,i,a,f,n){r|=0,e|=0,a|=0,f|=0;var t=0,o=0,l=0,c=0|je[(i|=0)>>0],s=3<(n|=0)>>>0;if(s&62==c<<24>>24)if(33==(f=0|je[(a=i+1|0)>>0])<<24>>24){if(!(0|He(0|Be[(a=i+2|0)>>0]))){r:{r|=0,i=0|a,n=n+-2|0,o=(t=0)|ze[56+(e|=0)>>2];e:do{if(0|o){for(s=0;;){if(n>>>0<=s>>>0)break e;if(!(c=0|q(i+s|0,n-s|0,60)))break e;if((s=c+s|0)>>>0<n>>>0&&60==(0|je[i+s>>0])&&33==(0|je[i+(t=s+-1|0)>>0]))break;s=s+1|0}Pe(n=0|qe(e,1),e,i,t),o=0|wr[15&o](r,n,0|ze[e+112>>2]),Oe(e,1),n=0|(0==(0|o)?0:s+1|0);break r}}while(0);n=0}return 0|(0==(0|(n|=0))?0:n+2|0)}a=0}else l=7;else l=2<n>>>0?(a=f=i+1|0,f=0|je[f>>0],7):11;r:do{if(7==(0|l)){var u=255&f;if(f<<24>>24!=c<<24>>24){switch(c<<24>>24){case 62:case 126:a=0;break r}a=0|He(u)?0:0==(0|(a=0|m(r,e,a,n+-1|0,c)))?0:a+1|0}else l=11}}while(0);r:do{if(11==(0|l))if(s&&(0|je[i+1>>0])==c<<24>>24)if((f=0|je[(a=i+2|0)>>0])<<24>>24!=c<<24>>24)a=0|He(255&f)?0:0==(0|(a=0|_(r,e,a,n+-2|0,c)))?0:a+2|0;else if(5<=n>>>0&&(o=255&(l=0|je[(t=i+3|0)>>0]),l<<24>>24!=c<<24>>24)){switch(c<<24>>24){case 62:case 126:a=0;break r}if(0|He(o))a=0;else{e:{a=r,f=e,u=t;var b=n+-3|0,k=c;a|=0,f|=0,u|=0,b|=0,k|=0;var v,d=0,h=0,w=0;for(v=0;;){if(b>>>0<=v>>>0){v=0;break}if(!(d=0|q(u+v|0,b-v|0,k))){v=0;break}if((0|je[u+(d=d+v|0)>>0])==k<<24>>24&&0==(0|He(0|Be[u+(d+-1)>>0]))){w=7;break}v=d}if(7==(0|w))if(v=d+1|0,(w=d+2|0)>>>0<b>>>0&&(0|je[u+v>>0])==k<<24>>24&&(0|je[u+w>>0])==k<<24>>24&&0|ze[(h=f+84|0)>>2])Pe(v=0|qe(f,1),f,u,d),v=0|wr[15&ze[h>>2]](a,v,0|ze[f+112>>2]),Oe(f,1),v=0==(0|v)?0:d+3|0;else{if(v>>>0<b>>>0&&(0|je[u+v>>0])==k<<24>>24){a=0|(0==(0|(w=0|m(a,f,u+-2|0,b+2|0,k)))?0:w+-2|0);break e}v=0==(0|(v=0|_(a,f,u+-1|0,b+1|0,k)))?0:v+-1|0}a=0|v}a=0==(0|(a|=0))?0:a+3|0}}else a=0;else a=0}while(0);return 0|a},function(r,e,i,a,f,n){var t,o;r|=0,e|=0,i|=0,n|=0;var l=De;for(De=De+16|0,t=0;!(n>>>0<=t>>>0)&&96==(0|je[i+t>>0]);)t=t+1|0;for(a=0,o=t;(f=o>>>0<n>>>0)&a>>>0<t>>>0;)a=96==(0|je[i+o>>0])?a+1|0:0,o=o+1|0;if(f|t>>>0<=a>>>0){for(f=t;!(o>>>0<=f>>>0)&&32==(0|je[i+f>>0]);)f=f+1|0;for(a=o-t|0;!(a>>>0<=t>>>0)&&32==(0|je[i+(n=a+-1|0)>>0]);)a=n;if(!(f>>>0<a>>>0))return i=0==(0|wr[15&ze[e+52>>2]](r,0,0|ze[e+112>>2])),De=l,0|(i?0:o);ze[l>>2]=i+f,ze[l+4>>2]=a-f,ze[l+8>>2]=0,a=(a=(ze[l+12>>2]=0)==(0|wr[15&ze[e+52>>2]](r,l,0|ze[e+112>>2])))?0:o}else a=0;return De=l,0|a},function(r,e,i,a){if(r|=0,e|=0,i|=0,2<=(0|a)>>>0&&32==(0|je[i+-1>>0])&&32==(0|je[i+-2>>0])){for(i=0|ze[(a=r+4|0)>>2];i&&32==(0|je[(0|ze[r>>2])+(i=i+-1|0)>>0]);)ze[a>>2]=i;i=0!=(0|hr[1&ze[e+72>>2]](r,0|ze[e+112>>2]))&1}else i=0;return 0|i},function(r,e,i,a,f,n){r|=0,e|=0,i|=0,n|=0;var t=0,o=0,l=0,c=0,s=0,u=0,b=0;if(0|a)if(f=0|ze[(a=e+420|0)>>2],33==(0|je[i+-1>>0]))if(0|ze[e+68>>2]){u=f,s=a,c=1;var k=6}else k=89;else k=5;else f=0|ze[(a=e+420|0)>>2],k=5;5==(0|k)&&(k=0|ze[e+76>>2]?(u=f,s=a,c=0,6):89);r:do{if(6==(0|k)){var v=a=1;f=0;e:for(;;){if(n>>>0<=v>>>0){f=u,a=s,k=89;break r}var d=0|je[i+v>>0];i:do{if(10!=d<<24>>24){var h=v+-1|0;if(92!=(0|je[i+h>>0]))switch(d<<24>>24){case 91:a=a+1|0;break i;case 93:if((0|a)<2)break e;a=a+-1|0;break i;default:break i}}else f=1}while(0);v=v+1|0}for(d=a=v+1|0;;){if(n>>>0<=d>>>0){k=66;break}if(!(0|He(255&(t=0|je[i+d>>0])))){k=18;break}d=d+1|0}e:do{if(18==(0|k)){switch(t<<24>>24){case 40:break;case 91:for(t=a=d+1|0;;){if(n>>>0<=t>>>0){f=u,a=s,k=89;break r}if(93==(0|je[i+t>>0]))break;t=t+1|0}if((0|t)==(0|a))if(f){for(d=0|qe(e,1),a=1;!(v>>>0<=a>>>0);)10==(f=0|je[i+a>>0])<<24>>24?32!=(0|je[i+(a+-1)>>0])&&he(d,32):he(d,255&f),a=a+1|0;f=0|ze[d>>2],a=0|ze[d+4>>2]}else f=i+1|0,a=h;else f=i+a|0,a=t-a|0;if(!(f=0|I(e+116|0,f,a))){f=u,a=s,k=89;break r}a=t+1|0,o=0|ze[f+8>>2],d=0|ze[f+4>>2];break e;default:k=66;break e}for(;;){var w=d+1|0;if(n>>>0<=w>>>0)break;if(!(0|He(0|Be[i+w>>0])))break;d=w}var m=w;i:for(;;){if(n>>>0<=m>>>0){f=u,a=s,k=89;break r}switch((t=0|je[i+m>>0])<<24>>24){case 41:n=l=0,o=a=m;break i;case 92:a=2;break;default:if(0!=(0|m)&&0!=(0|He(0|Be[i+(m+-1)>>0])))switch(t<<24>>24){case 34:case 39:k=29;break i;default:a=1}else a=1}m=m+a|0}i:do{if(29==(0|k)){var _=m+1|0;for(a=1,o=_;;){if(n>>>0<=o>>>0){f=u,a=s,k=89;break r}if(92!=(f=0|je[i+o>>0])<<24>>24)if(f<<24>>24!=t<<24>>24){if(!(0!=(0|a)|41!=f<<24>>24))break;f=1}else a=0,f=1;else f=2;o=o+f|0}f=o;do{if(a=0|je[i+(f=f+-1|0)>>0],f>>>0<=_>>>0)break}while(0!=(0|He(255&a)));switch(a<<24>>24){case 34:case 39:a=m,l=_,n=f;break i}a=o,n=l=0}}while(0);for(;_=0|je[i+(t=a+-1|0)>>0],!(a>>>0<=w>>>0)&&0|He(255&_);)a=t;(f=60==(0|je[i+w>>0])?d+2|0:w)>>>0<(a=62==_<<24>>24?t:a)>>>0?de(d=0|qe(e,1),i+f|0,a-f|0):d=0,l>>>0<n>>>0?de(f=0|qe(e,1),i+l|0,n-l|0):f=0,a=o+1|0,o=f}}while(0);if(66==(0|k)){if(f){for(t=0|qe(e,1),f=1;!(v>>>0<=f>>>0);)10==(d=0|je[i+f>>0])<<24>>24?32!=(0|je[i+(f+-1)>>0])&&he(t,32):he(t,255&d),f=f+1|0;d=0|ze[t>>2],f=0|ze[t+4>>2]}else d=i+1|0,f=h;if(!(f=0|I(e+116|0,d,f))){f=u,a=s,k=89;break}o=0|ze[f+8>>2],d=0|ze[f+4>>2]}t=1<v>>>0?(f=0|qe(e,1),c?de(f,i+1|0,h):(Pe(f,e,i+(ze[(t=e+440|0)>>2]=1)|0,h),ze[t>>2]=0),f):0,d?(p(_=0|qe(e,1),d),f=c?(0|(d=0|ze[(f=r+4|0)>>2])&&33==(0|je[(0|ze[r>>2])+(b=d+-1|0)>>0])&&(ze[f>>2]=b),0|_r[3&ze[e+68>>2]](r,_,o,t,0|ze[e+112>>2])):0|_r[3&ze[e+76>>2]](r,_,o,t,0|ze[e+112>>2]),ze[s>>2]=u,f||(k=91)):(f=u,a=s,k=89)}}while(0);return 89==(0|k)&&(ze[a>>2]=f,k=91),91==(0|k)&&(a=0),0|a},function(r,e,i,a,f,n){r|=0,e|=0,i|=0;var t=0,o=De;De=De+32|0,a=(ze[(f=o+16|0)>>2]=0)|i,n|=0;var l=0|f,c=0,s=0,u=0;r:do{if(3<=n>>>0&&60==(0|je[a>>0])&&0!=(0|Ke(0|Be[a+(c=47==(0|je[a+1>>0])?2:1)>>0]))){ze[l>>2]=0;e:for(;!(n>>>0<=c>>>0);){var b=0|je[a+c>>0];if(!(0|Ke(255&b)))switch(b<<24>>24){case 45:case 43:case 46:break;default:break e}c=c+1|0}if(1<c>>>0){var k,v=0|je[(b=a+c|0)>>0];if(k=64==v<<24>>24){var d,h=b,w=n-c|0;h|=0,w|=0;var m=0;b=d=0;e:for(;;){if(w>>>0<=b>>>0){d=0;break}k=0|je[h+b>>0];i:do{if(!(0|Ke(255&k))){switch(k<<24>>24){case 62:m=6;break e;case 95:case 46:case 45:break i;case 64:break;default:d=0;break e}d=d+1|0}}while(0);b=b+1|0}6==(0|m)&&(d=1==(0|d)?b+1|0:0),k=0|(s=0|d)}if(k){ze[l>>2]=2,b=s+c|0;break}b=2<c>>>0?58==v<<24>>24?(c=c+(ze[l>>2]=1)|0,1):0:(c=2,0)}else b=0;if(c>>>0<n>>>0){if(b){v=c;e:for(;;){if(n>>>0<=v>>>0){b=0;break r}switch((b=0|je[a+v>>0])<<24>>24){case 10:case 32:case 34:case 39:case 62:break e;case 92:b=2;break;default:b=1}v=v+b|0}if(c>>>0<v>>>0&62==b<<24>>24){b=v+1|0;break}c=v,u=25}}else u=25;for(25==(0|u)&&(ze[l>>2]=0);;){if(n>>>0<=c>>>0){b=0;break r}if(b=c+1|0,62==(0|je[a+c>>0]))break;c=b}}else b=0}while(0);a=0|b,ze[o>>2]=i,ze[(l=o+4|0)>>2]=a,ze[o+8>>2]=0,ze[o+12>>2]=0;do{if(2<a>>>0){if(0!=(0|ze[(n=e+48|0)>>2])&0!=(0|(f=0|ze[f>>2])))c=0|qe(e,1),ze[o>>2]=i+1,ze[l>>2]=a+-2,p(c,o),f=0|mr[1&ze[n>>2]](r,c,f,0|ze[e+112>>2]),Oe(e,1);else{if(!(f=0|ze[e+80>>2])){t=7;break}f=0|wr[15&f](r,o,0|ze[e+112>>2])}f||(t=7)}else t=7}while(0);return 7==(0|t)&&(a=0),De=o,0|a},function(r,e,i,a,f,n){r|=0,e|=0,i|=0,n|=0;var t=De;return De=De+16|0,ze[t>>2]=0,ze[t+4>>2]=0,ze[t+8>>2]=0,a=1<n>>>(ze[t+12>>2]=0)?0|z(5719,a=0|Be[(i=i+1|0)>>0],24)?((f=0|ze[e+100>>2])?(ze[t>>2]=i,ze[t+4>>2]=1,Le[7&f](r,t,0|ze[e+112>>2])):he(r,a),2):0:(1==(0|n)&&he(r,0|Be[i>>0]),2),De=t,0|a},function(r,e,i,a,f,n){r|=0,e|=0,i|=0,n|=0;var t=0,o=De;if(De=De+16|0,ze[o>>2]=0,ze[o+4>>2]=0,ze[o+8>>2]=0,1<n>>>(ze[o+12>>2]=0))if(f=(a=35==(0|je[i+1>>0]))?2:1,a&f>>>0<n>>>0){var l=120==(0|T(0|Be[i+f>>0])),c=1^l,s=1;l=f+(1&l)|0}else c=1,s=a,l=f;else s=0,l=c=1;var u=l;r:for(;;){if(n>>>0<=u>>>0){a=0;break}if(f=(a=0|je[i+u>>0])<<24>>24,c){if(s){if(!((f+-48|0)>>>0<10)){t=12;break r}}else if(!(0|Ke(f))){t=12;break r}}else if(!(1&(((32|(f|=0))-97|0)>>>0<6|0!=(((0|f)-48|0)>>>0<10|0))|0)){t=12;break r}u=u+1|0}do{if(12==(0|t))if(l>>>0<u>>>0&59==a<<24>>24){if(a=u+1|0,s){if(7<(u-l|0)>>>0){a=0;break}f=i+l|0;var b=0|(n=c?10:16);f|=0,b|=0,De=(n=De)+144|0;var k,v=n;ze[v>>2]=0,ze[v+4>>2]=f,ze[v+44>>2]=f,ze[v+8>>2]=(0|f)<0?-1:f+2147483647|0,ze[v+76>>2]=-1,K(v),f=v;var d=b;f|=0,d|=0;var h=0;r:do{if(36<d>>>0)var w=k=0;else{for(v=f+4|0,b=f+104|0;0!=(0|R(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))););e:do{switch(0|k){case 43:case 45:if(k=(45==(0|k))<<31>>31,(w=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0){ze[v>>2]=w+1;var m=k;k=0|Be[w>>0]}else m=k,k=0|M(f);break e;default:m=0}}while(0);if(w=0==(0|d),16==(16|d)&48==(0|k))if(120!=(32|(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))))if(w){w=8;var _=42}else w=d,_=27;else{if(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),15<(0|Be[4849+k>>0])){if(!(0|ze[b>>2])){w=k=0;break r}ze[v>>2]=(0|ze[v>>2])-2,w=k=0;break r}w=16,_=42}else{if(!((0|Be[4849+k>>0])>>>0<(w=w?10:d)>>>0)){0|ze[b>>2]&&(ze[v>>2]=(0|ze[v>>2])-1),K(f),w=k=0;break r}_=27}e:do{if(27==(0|_))if(10==(0|w))if((k=k+-48|0)>>>0<10){d=0;for(var p=k;d=(10*d|0)+p|0,(w=(p=(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))-48|0)>>>0<10)&d>>>0<429496729;);if(w){var y=d;d=0;do{w=0|X(0|y,0|d,10,0);var g=((0|p)<0)<<31>>31,A=~g;if(A>>>0<(h=0|br())>>>0|(0|h)==(0|A)&~p>>>0<w>>>0){w=10,h=y,_=71;break e}y=0|$(0|w,0|h,0|p,0|g),d=0|br(),p=(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))-48|0}while(p>>>0<10&(d>>>0<429496729|429496729==(0|d)&y>>>0<2576980378));9<p>>>0?(w=d,k=y):(w=10,h=y,_=71)}else w=0,k=d}else k=w=0;else _=42}while(0);e:do{if(42==(0|_)){if(!(w+-1&w)){if(A=0|je[8358+((23*w|0)>>>5&7)>>0],(d=255&(p=0|je[4849+k>>0]))>>>0<w>>>0){for(h=0;h=d|h<<A,k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),h>>>0<134217728&(d=255&(p=0|je[4849+k>>0]))>>>0<w>>>0;);g=d,d=0}else g=d,h=d=0;if(y=0|er(-1,-1,0|A),w>>>0<=g>>>0|(_=0|br())>>>0<d>>>0|(0|_)==(0|d)&y>>>0<h>>>0){_=71;break}for(;;)if(h=0|ir(0|h,0|d,0|A),d=0|br(),h|=255&p,k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),w>>>0<=(255&(p=0|je[4849+k>>0]))>>>0|_>>>0<d>>>0|(0|d)==(0|_)&y>>>0<h>>>0){_=71;break e}}if((p=255&(d=0|je[4849+k>>0]))>>>0<w>>>0){for(h=0;h=p+(0|lr(h,w))|0,k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),h>>>0<119304647&(p=255&(d=0|je[4849+k>>0]))>>>0<w>>>0;);g=d}else g=d,h=0;if(p>>>(d=0)<w>>>0)for(_=0|rr(-1,-1,0|w,0),A=0|br(),p=g;;){if(A>>>0<d>>>0|(0|d)==(0|A)&_>>>0<h>>>0){_=71;break e}if(g=0|X(0|h,0|d,0|w,0),4294967295<(y=0|br())>>>0|-1==(0|y)&~(p&=255)>>>0<g>>>0){_=71;break e}if(h=0|$(0|g,0|y,0|p,0),d=0|br(),k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),w>>>0<=(255&(p=0|je[4849+k>>0]))>>>0){_=71;break}}else _=71}}while(0);if(71==(0|_))if((0|Be[4849+k>>0])>>>0<w>>>0){for(;k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),(0|Be[4849+k>>0])>>>0<w>>>0;);w=0,k=-2147483648}else w=d,k=h;if(0|ze[b>>2]&&(ze[v>>2]=(0|ze[v>>2])-1),!(w>>>0<0|0==(0|w)&k>>>0<2147483648)){if(!m){k=0,w=2147483647;break}if(0<w>>>0|0==(0|w)&2147483648<k>>>0){k=0,w=-2147483648;break}}w=0|Q(k^m|0,w^(b=((0|m)<0)<<31>>31)|0,0|m,0|b),k=0|br()}}while(0);if(ur(0|k),b=0|w,ur(0|br()),De=n,n=0|b,br(),n|=0,!(0|(17<((n|=0)-14|0)>>>0&8<n>>>0&1<(n+-11|0)>>>0?n>>>0<1114112&65535!=(1|n)&55296!=(-2048&n|0)&1|0:0))){a=0;break}}else{n=i,f=a,n|=0,f|=0,b=0;do{if((f+-4|0)>>>0<7){switch(v=n,m=f,v|=0,(A=0)|(m|=0)){case 6:m=6,A=3;break;case 5:m=5,A=4;break;case 4:m=4,A=5;break;case 3:m=3,A=6;break;case 2:m=2;break;default:m=(0|or[4320+((0|Be[v+6>>0])<<1)>>1])+m|0,A=3}if(3==(0|A)&&(m=m+(0|or[4320+((0|Be[v+5>>0])<<1)>>1])|0,A=4),4==(0|A)&&(m=m+(0|or[4320+((0|Be[v+4>>0])<<1)>>1])|0,A=5),5==(0|A)&&(m=m+(0|or[4320+((0|Be[v+3>>0])<<1)>>1])|0,A=6),6==(0|A)&&(m=m+(0|or[4320+(1+(0|Be[v+2>>0])<<1)>>1])|0),v=(v=m+(0|or[4320+((0|Be[v+1>>0])<<1)>>1])|0)>>>0<771&&(0|je[n>>0])==(0|je[(b=0|ze[1232+(v<<2)>>2])>>0])){if(A=n+1|0,_=b+1|0,y=f+-1|0,A|=0,_|=0,y|=0){m=0|je[A>>0];r:do{if(m<<24>>24)for(;;){if(!(m<<24>>24==(v=0|je[_>>0])<<24>>24&0!=(0|(y=y+-1|0))&0!=v<<24>>24))break r;if(_=_+1|0,!((m=0|je[(A=A+1|0)>>0])<<24>>24)){m=0;break}}else m=0}while(0);m=(255&m)-(0|Be[_>>0])|0}else m=0;v=0==(0|m)}if(v&&0==(0|je[b+f>>0]))break}b=0}while(0);if(!(0|b)){a=0;break}}0|(f=0|ze[e+96>>2])?(ze[o>>2]=i,ze[o+4>>2]=a,Le[7&f](r,o,0|ze[e+112>>2])):(he(r,38),s&&he(r,35),c||he(r,120),de(r,i+l|0,a-l|0))}else a=0}while(0);return De=o,0|a},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,n|=0;var t=De;De=De+16|0;var o=48+(e|=0)|0;if(0!=(0|ze[o>>2])&&0==(0|ze[e+440>>2])){var l=0|qe(e,1);f=0|t;var c=0|l;i|=0,a|=0;var s,u=0;if(4<=(n|=0)>>>0&&47==(0|je[i+1>>0])&&47==(0|je[i+2>>0])){for(s=0;!(a>>>0<=s>>>0)&&((32|Be[i+~s>>0])-97|0)>>>0<26|0;)s=s+1|0;var b=i+-s|0;if(0!=(0|k(b,s+n|0))&&0!=(0|(u=0|v(i+3|0,n+-3|0)))){for(a=u+3|0;!(n>>>0<=a>>>0||0|R(0|Be[i+a>>0]));)a=a+1|0;(a=0|h(i,a))?(de(c,b,a+s|0),ze[f>>2]=s):a=0}else a=0}else a=0;0|(f=0|a)&&(E(r,(0|ze[r+4>>2])-(0|ze[t>>2])|0),mr[1&ze[o>>2]](r,l,1,0|ze[e+112>>2])),Oe(e,1)}else f=0;return De=t,0|f},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,n|=0;var t=De;De=De+16|0;var o=48+(e|=0)|0;if(0!=(0|ze[o>>2])&&0==(0|ze[e+440>>2])){var l=0|qe(e,1);f=0|t;var c=0|l;i|=0,a|=0,n|=0;var s,u,b=0;for(u=0;!(a>>>0<=u>>>0);){var k=0|je[i+~u>>0],v=255&k;if(!(k<<24>>24))break;if(0==(0|Ke(v))&&0==(0|z(5568,v,5)))break;u=u+1|0}if(u){k=n+-1|0,v=a=s=0;r:for(;!(n>>>0<=s>>>0);){var d=0|je[i+s>>0];e:do{if(!(0|Ke(255&d))){switch(d<<24>>24){case 95:case 45:break e;case 64:v=v+1|0;break e;case 46:break;default:break r}if(k>>>0<=s>>>0)break r;a=a+1|0}}while(0);s=s+1|0}0==(0|a)|1!=(0|v)|s>>>0<2||0==(0|(b=0|h(i,s)))?b=0:(de(c,i+-u|0,b+u|0),ze[f>>2]=u)}else b=0;0|(f=0|b)&&(E(r,(0|ze[r+4>>2])-(0|ze[t>>2])|0),mr[1&ze[o>>2]](r,l,2,0|ze[e+112>>2])),Oe(e,1)}else f=0;return De=t,0|f},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,n|=0;var t=De;De=De+16|0;var o=t,l=76+(e|=0)|0;if(0!=(0|ze[l>>2])&&0==(0|ze[e+440>>2])){var c=0|qe(e,1);f=0|o;var s=0|c;i|=0,n|=0;var u=0,b=0,k=0;if(0!=(0|a)&&0==(0|B(b=0|Be[i+-1>>0]))?n>>>0<4|0==(0|R(b))?u=0:k=5:n>>>0<4?u=0:k=5,5==(0|k))if(0==(0|j(i,5558,4))&&0!=(0|(u=0|v(i,n)))){for(;!(n>>>0<=u>>>0||0|R(0|Be[i+u>>0]));)u=u+1|0;(u=0|h(i,u))?(de(s,i,u),ze[f>>2]=0):u=0}else u=0;0|(f=0|u)&&(de(a=0|qe(e,1),5711,7),de(a,0|ze[c>>2],0|ze[c+4>>2]),E(r,(0|ze[r+4>>2])-(0|ze[o>>2])|0),0|ze[(i=e+100|0)>>2]?(n=0|qe(e,1),Le[7&ze[i>>2]](n,c,0|ze[(o=e+112|0)>>2]),_r[3&ze[l>>2]](r,a,0,n,0|ze[o>>2]),Oe(e,1)):_r[3&ze[l>>2]](r,a,0,c,0|ze[e+112>>2]),Oe(e,1)),Oe(e,1)}else f=0;return De=t,0|f},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,f|=0,n|=0;var t=0,o=De;De=De+16|0;var l=o+4|0,c=o;if(0!=(0|ze[48+(e|=0)>>2])&&0==(0|ze[e+440>>2])){var s,u=0|qe(e,1),b=0|l,k=0|u,v=0|i,d=0|n,h=0|c,w=0,m=0|g(v,0|a,0|f,d,114);r:do{if(m){for(w=4<d>>>0?0==(0|F(v+1|0,5573,4)):0,s=1;;){var _=s+10|0;if(_>>>0<=d>>>0&&0==(0|F(v+s|0,5578,10)))var p=10;else{if(_=(_=s+2|0)>>>0<d>>>0&&(p=0==(0|F(v+s|0,5589,2)))?_:s,!(0|Ke(0|Be[v+_>>0]))){_=0;break r}p=24,_=_+1|0}for(;;){if(d>>>0<=_>>>0){var y=0;break}if(!(95==(y=0|je[v+_>>0])<<24>>24|0!=(0|Ke(255&y)))){y=1;break}_=_+1|0}if(!((s=_-s|0)>>>0<=p>>>0&1<s>>>0)){_=0;break r}if(!y)break;if(!(43==(s=0|je[v+_>>0])<<24>>24|w&45==s<<24>>24))break;if(!_){_=1;break}s=_+1|0}e:do{if(_>>>0<d>>>0&&47==(0|je[v+_>>0]))for(;;){if(d>>>0<=_>>>0)break e;if(!(0|Ke(255&(y=0|je[v+_>>0]))))switch(y<<24>>24){case 45:case 47:case 95:break;default:break e}_=_+1|0}}while(0);de(k,v+-m|0,_+m|0),ze[h>>2]=1==(0|m)&1,ze[b>>2]=m}else _=0}while(0);if(b=0|_)t=5;else{b=0|l,k=0|u,i|=0,a|=0,f|=0,n|=0,v=0|c,_=0;r:do{if(3<=n>>>0&&0!=(0|(_=0|g(i,a,f,n,117)))){if(!(0|Ke(255&(a=0|je[i+1>>0]))))switch(a<<24>>24){case 45:case 95:break;default:a=0;break r}a=2;e:for(;!(n>>>0<=a>>>0);){if(!(0|Ke(255&(f=0|je[i+a>>0]))))switch(f<<24>>24){case 45:case 47:case 95:break;default:break e}a=a+1|0}de(k,i+-_|0,a+_|0),ze[v>>2]=1==(0|_)&1,ze[b>>2]=_}else a=0}while(0);(b=0|a)?t=5:b=0}5==(0|t)&&(a=0|qe(e,1),0|ze[c>>2]&&he(a,47),de(a,0|ze[u>>2],0|ze[u+4>>2]),E(r,(0|ze[r+4>>2])-(0|ze[l>>2])|0),0|ze[(i=e+100|0)>>2]?(c=0|qe(e,1),Le[7&ze[i>>2]](c,u,0|ze[(t=e+112|0)>>2]),_r[3&ze[e+76>>2]](r,a,0,c,0|ze[t>>2]),Oe(e,1)):_r[3&ze[e+76>>2]](r,a,0,u,0|ze[e+112>>2]),Oe(e,1)),Oe(e,1)}else b=0;return De=o,0|b},function(r,e,i,a,f,n){r|=0,i|=0,n|=0;var t=92+(e|=0)|0;r:do{if(n>>>0<2|0==(0|ze[t>>2]))a=0;else{e:do{if(40==(0|je[i+1>>0])){for(a=2;!(n>>>0<=a>>>0)&&41!=(0|je[i+a>>0])&&92!=(0|je[i+(a+-1)>>0]);)a=a+1|0;if((0|a)==(0|n)){a=0;break r}n=2}else for(a=1;;){if(n>>>0<=a>>>0){n=1;break e}if(0|He(0|Be[i+a>>0])){n=1;break e}a=a+1|0}}while(0);if(f=a-n|0){var o=0|qe(e,1);Pe(o,e,i+n|0,f),wr[15&ze[t>>2]](r,o,0|ze[e+112>>2]),Oe(e,1),a=a+(2==(0|n)&1)|0}else a=2==(0|n)?3:0}}while(0);return 0|a},f,f,f],Fe=[function(){sr(5)},function(r,e){var i;r|=0;var a=4+(e|=0)|0,f=0;for(i=0|ze[a>>2];!((0|i)<=0);)de(r,5762,12),ze[a>>2]=i=(0|ze[a>>2])-1|0,f=1;f&&de(r,5775,7),n(0,e)},function(r,e){e|=0,0|ze[4+(r|=0)>>2]&&he(r,10),y(r,0==(256&ze[e+16>>2]|0)?6289:6295)},n],Le=[function(){sr(6)},function(r,e){e|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,6371,13),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6356,14)},function(r,e){e|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,6318,37),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6356,14)},function(r,e,i){var a;r|=0,e|=0;r:do{if(0|e){for(i=0|ze[e+4>>2];;){if(!i){i=0;break}var f=i+-1|0;if(10!=(0|je[(0|ze[e>>2])+f>>0]))break;i=f}for(a=0;;){if(i>>>0<=a>>>0)break r;if(10!=(0|je[(f=(0|ze[e>>2])+a|0)>>0]))break;a=a+1|0}0|ze[r+4>>2]&&(he(r,10),f=(0|ze[e>>2])+a|0),de(r,f,i-a|0),he(r,10)}}while(0)},function(r,e,i){e|=0,i|=0;var a,f,n=0,t=0;if(0|ze[4+(r|=0)>>2]&&he(r,10),0|e&&0|(n=0|ze[(t=e+4|0)>>2])){for(a=0;!(n>>>0<=a>>>0)&&0|R(0|Be[(0|ze[e>>2])+a>>0]);)a=a+1|0;if((0|a)!=(0|n)){de(r,6248,3);r:do{if(128&ze[i+16>>2])for(;;){if((n=0|ze[t>>2])>>>0<=a>>>0)break r;for(f=a;!(n>>>0<=f>>>0)&&10!=(0|je[(0|ze[e>>2])+f>>0]);)f=f+1|0;if(((a=a>>>0<f>>>0?(de(r,(0|ze[e>>2])+a|0,f-a|0),0|ze[t>>2]):n)+-1|0)>>>0<=f>>>0)break r;w(r,i),a=f+1|0}else de(r,(0|ze[e>>2])+a|0,(0|ze[t>>2])-a|0)}while(0);de(r,6252,5)}}},function(r,e){e|=0,de(r|=0,6184,5),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6190,6)},function(r,e){0|(e|=0)&&H(0|r,0|ze[e>>2],0|ze[e+4>>2])},function(r,e,i){r|=0,0|ze[32+(i|=0)>>2]&&de(r,5352,15),0|ze[(e=i+36|0)>>2]&&(de(r,5368,9),y(r,0|ze[e>>2]),he(r,34))}],Ye=[tr,function(r,e,i,a){r|=0,e|=0,i|=0;var f=4+(a|=0)|0,n=0|ze[f>>2],t=a+8|0;n?t=0|ze[t>>2]:(n=i+-1|0,de(r,5921,18),t=ze[t>>2]=n,n=0|ze[f>>2]),t=i-t|0;r:do{if((0|n)<(0|t))for(;;){if((0|t)<=(0|n))break r;de(r,5940,10),ze[f>>2]=n=1+(0|ze[f>>2])|0}else if((0|n)<=(0|t))de(r,5977,11);else{for(de(r,5951,6),n=0|ze[f>>2];!((0|n)<=(0|t));)de(r,5958,12),ze[f>>2]=n=(0|ze[f>>2])-1|0;de(r,5971,5)}}while(0);de(r,5989,10),0|(n=0|ze[a+12>>2])&&y(r,n),de(r,6e3,4),ze[a>>2]=1+(f=0|ze[a>>2]),l(r,f),de(r,6005,2),0|e&&H(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6008,5)},function(r,e,i,a){e|=0,i|=0;var f,n,t=0,o=0,l=0,c=0;if(0|ze[4+(r|=0)>>2]&&he(r,10),0!=(0|i)&&0!=(0|ze[(l=i+4|0)>>2])){for(de(r,6385,18),a=n=0;;){var s=0|ze[l>>2];if(s>>>0<=a>>>0)break;for(;!(s>>>0<=a>>>0);){if(!(0|R(255&(t=0|je[(o=0|ze[i>>2])+a>>0])))){c=10;break}a=a+1|0}if(10==(0|c)){for(c=0,f=a;!(s>>>0<=f>>>0||0|R(0|Be[o+f>>0]));)f=f+1|0;t=a+(46==t<<24>>24&1)|0,H(r,(a=n?(he(r,32),0|ze[i>>2]):o)+t|0,f-t|0),a=f}n=n+1|0,a=a+1|0}de(r,6005,2)}else de(r,6404,11);0|e&&H(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6416,14)},function(r,e,i,a){e|=0,i|=0,a|=0,0|ze[4+(r|=0)>>2]&&he(r,10);var f=0==(64&ze[a+16>>2]|0);de(r,6302,2),l(r,i),f?de(r,6168,1):(de(r,6305,5),0|(f=0|ze[a+12>>2])&&y(r,f),de(r,6e3,4),ze[a>>2]=1+(f=0|ze[a>>2]),l(r,f),de(r,6005,2)),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6311,3),l(r,i),de(r,6315,2)},function(r,e,i){e|=0,i|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,(i=0!=(1&i|0))?6263:6269,5),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,i?6275:6282,6)},function(r,e,i,a){if(e|=0,de(r|=0,6258,4),0|e){var f=0|ze[e>>2];for(i=0|ze[e+4>>2];;){if(!i){i=0;break}if(10!=(0|je[f+(a=i+-1|0)>>0]))break;i=a}de(r,f,i)}de(r,5951,6)},function(r,e,i){e|=0,i|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,6197,15),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6213,16),0|i&&de(r,0|ze[i>>2],0|ze[i+4>>2]),de(r,6230,17)},tr],yr=[function(){sr(8)},function(r,e,i,a,f){switch(r|=0,e|=0,f|=0,(a=0!=(4&(i|=0)|0))?de(r,6098,3):de(r,6102,3),1<(0|f)&&(de(r,6106,10),l(r,f),de(r,6117,2)),3&i){case 3:de(r,6120,16);break;case 1:de(r,6137,14);break;case 2:de(r,6152,15);break;default:de(r,6168,1)}0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,a?6170:6177,6)}];return{___muldi3:X,___udivdi3:rr,_bitshift64Lshr:er,_bitshift64Shl:ir,_default_renderer:function(r,e,i,a,f,n){return r|=0,e|=0,i|=0,a|=0,f|=0,n|=0,0|ze[2284]||(ze[2284]=1,ze[2092]=0|t(8528,805,0),ze[2093]=0|t(8680,805,1),ze[2094]=8528,ze[2095]=8680),0|o(r,e,i,a,f,0,n)},_emscripten_get_sbrk_ptr:function(){return 9184},_free:Me,_i64Add:$,_i64Subtract:Q,_llvm_ctpop_i32:ar,_malloc:L,_memcpy:fr,_memmove:Ne,_memset:nr,_wiki_renderer:function(r,e,i,a,f,n){return r|=0,e|=0,i|=0,a|=0,f|=0,n|=0,0|ze[2285]||(ze[2285]=1,ze[2096]=0|t(8832,1825,0),ze[2097]=0|t(8984,1825,1),ze[2098]=8832,ze[2099]=8984),0|o(r,e,i,a,f,1,n)},dynCall_iii:function(r,e,i){return 0|hr[1&(0|r)](0|e,0|i)},dynCall_iiii:function(r,e,i,a){return 0|wr[15&(0|r)](0|e,0|i,0|a)},dynCall_iiiii:function(r,e,i,a,f){return 0|mr[1&(0|r)](0|e,0|i,0|a,0|f)},dynCall_iiiiii:function(r,e,i,a,f,n){return 0|_r[3&(0|r)](0|e,0|i,0|a,0|f,0|n)},dynCall_iiiiiii:function(r,e,i,a,f,n,t){return 0|pr[15&(0|r)](0|e,0|i,0|a,0|f,0|n,0|t)},dynCall_vii:function(r,e,i){Fe[3&(0|r)](0|e,0|i)},dynCall_viii:function(r,e,i,a){Le[7&(0|r)](0|e,0|i,0|a)},dynCall_viiii:function(r,e,i,a,f){Ye[7&(0|r)](0|e,0|i,0|a,0|f)},dynCall_viiiii:function(r,e,i,a,f,n){yr[1&(0|r)](0|e,0|i,0|a,0|f,0|n)},establishStackSpace:function(r){De=0|r},stackAlloc:function(r){var e=De;return De=15+(De=De+(0|r)|0)&-16,0|e},stackRestore:function(r){De=0|r},stackSave:function(){return 0|De}}})({Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},{a:function(r){throw o(r),c(r),h=!0,\"abort(\"+r+\"). Build with -s ASSERTIONS=1 for more info.\"},b:function(r){d=r},c:function(){return d},d:function(){return u.length},e:function(r,e,i){b.set(b.subarray(e,e+i),r)},f:function(){return!1},g:function(r){return r},h:i,i:a,j:function(){var r=a();return n.extraStackTrace&&(r+=\"\\n\"+n.extraStackTrace()),i(r)},k:9360},s);n.___muldi3=y.___muldi3,n.___udivdi3=y.___udivdi3,n._bitshift64Lshr=y._bitshift64Lshr,n._bitshift64Shl=y._bitshift64Shl;var g=n._default_renderer=y._default_renderer;n._emscripten_get_sbrk_ptr=y._emscripten_get_sbrk_ptr;var A=n._free=y._free;n._i64Add=y._i64Add,n._i64Subtract=y._i64Subtract,n._llvm_ctpop_i32=y._llvm_ctpop_i32,n._malloc=y._malloc,n._memcpy=y._memcpy,n._memmove=y._memmove,n._memset=y._memset;var C=n._wiki_renderer=y._wiki_renderer;n.establishStackSpace=y.establishStackSpace;var S,x=n.stackAlloc=y.stackAlloc,E=n.stackRestore=y.stackRestore,I=n.stackSave=y.stackSave;n.dynCall_iii=y.dynCall_iii,n.dynCall_iiii=y.dynCall_iiii,n.dynCall_iiiii=y.dynCall_iiiii,n.dynCall_iiiiii=y.dynCall_iiiiii,n.dynCall_iiiiiii=y.dynCall_iiiiiii,n.dynCall_vii=y.dynCall_vii,n.dynCall_viii=y.dynCall_viii,n.dynCall_viiii=y.dynCall_viiii,n.dynCall_viiiii=y.dynCall_viiiii,n.asm=y,t&&(function(r){var e,i=r.length;for(e=0;e<i;++e)b[8+e]=r.charCodeAt(e)})(t),(n.run=function(){e(w),S||(S=!0,h||(e(m),e(_),e(p)))})();export function markdown(r,e){return f(g,r,e)};export function markdownWiki(r,e){return f(C,r,e)};","/* @flow */\n\nimport { markdown } from 'snudown-js';\nimport { Host } from '../../core/host';\nimport { DAY, string } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('github', {\n\tdomains: ['gist.github.com'],\n\tlogo: 'https://assets-cdn.github.com/favicon.ico',\n\tname: 'github gists',\n\tdetect: ({ pathname }) => (/^\\/(?:[\\w-]+\\/)?([a-z0-9]{20,}|\\d+)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst { files, description } = await ajax({\n\t\t\turl: `https://api.github.com/gists/${id}`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\tlet src = '';\n\n\t\tfor (const [filename, { content, language, truncated }] of Object.entries(files)) {\n\t\t\tsrc += string.escape`<h5>${filename}:</h5>`;\n\n\t\t\tif (language === 'Markdown') {\n\t\t\t\tsrc += markdown(content);\n\t\t\t} else {\n\t\t\t\tsrc += string.escape`<pre><code>${content}</code></pre>`;\n\t\t\t}\n\n\t\t\tif (truncated) {\n\t\t\t\tsrc += '<p>&lt;file truncated&gt;</p>';\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'TEXT',\n\t\t\ttitle: description,\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('googlemaps', {\n\tdomains: ['maps.google.ca', 'maps.google.com', 'google.co.uk', 'google.com', 'google.ca'],\n\tlogo: 'https://maps.google.com/favicon.ico',\n\tname: 'Google Maps',\n\tdetect: ({ host, searchParams, pathname }) => {\n\t\t// Only valid if we can find some coords to display\n\t\tif (host.startsWith('maps.') || pathname.startsWith('/maps')) {\n\t\t\tconst coords = searchParams.get('ll') || searchParams.get('q');\n\t\t\tif (coords) {\n\t\t\t\t// Handle old style maps.google urls\n\t\t\t\treturn [\n\t\t\t\t\tcoords,\n\t\t\t\t\tsearchParams.get('z'),\n\t\t\t\t\tsearchParams.has('maptype') ? searchParams.get('maptype') : 'roadmap',\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t// Parse new style google map urls\n\t\t\t\tconst location = pathname.split('/').find(part => part.startsWith('@'));\n\t\t\t\tif (location) {\n\t\t\t\t\tconst [long, lat, zoom] = location.substring(1).split(',');\n\n\t\t\t\t\treturn [\n\t\t\t\t\t\t`${long},${lat}`,\n\t\t\t\t\t\tzoom.endsWith('z') ? zoom : 16, // passing a meter zoom level to maps does not make it happy\n\t\t\t\t\t\tzoom.endsWith('z') ? 'roadmap' : 'satellite',\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\thandleLink(href, [coords, zoom, mapType]) {\n\t\tlet embed = `https://www.google.com/maps/embed/v1/view?center=${coords}&key=AIzaSyCtnLZP1XwkgIK53Asx_5qtZa2k9eZcdDc`;\n\t\tif (zoom) embed += `&zoom=${zoom}`;\n\t\tif (mapType) embed += `&maptype=${mapType}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tmuted: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('gyazo', {\n\tname: 'gyazo',\n\tdomains: ['gyazo.com'],\n\tpermissions: ['https://api.gyazo.com/api/oembed'],\n\tlogo: 'https://gyazo.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(\\w{32})\\b/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://api.gyazo.com/api/oembed',\n\t\t\tquery: { url: href },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tswitch (info.type) {\n\t\t\tcase 'photo':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\tsrc: info.url,\n\t\t\t\t};\n\t\t\tcase 'video':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'VIDEO',\n\t\t\t\t\tmuted: true,\n\t\t\t\t\tloop: true,\n\t\t\t\t\tfallback: `https://i.gyazo.com/${id}.gif`,\n\t\t\t\t\tsources: [{\n\t\t\t\t\t\tsource: `https://i.gyazo.com/${id}.mp4`,\n\t\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t\t}],\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Invalid media type: ${info.type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('hastebin', {\n\tname: 'hastebin',\n\tdomains: ['hastebin.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(?:raw\\/)?([^\\/]+)/i).exec(pathname),\n\thandleLink(href, [, filename]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://hastebin.com/${filename}`,\n\t\t\theight: '500px',\n\t\t\twidth: '800px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('iloopit', {\n\tname: 'iLoopit - gif maker',\n\tdomains: ['iloopit.net'],\n\tlogo: 'https://iloopit.net/favicon.ico',\n\tdetect: ({ href }) => (\n\t\t(/^https?:\\/\\/(\\w+\\.)?iloopit\\.net\\/.+?\\/\\?type=looplayer&loopid=(\\d+)/i).exec(href) ||\n\t\t(/^https?:\\/\\/(\\w+\\.)?iloopit\\.net(\\/tube)?\\/(\\d+)\\/.+?\\/(\\?type=(looplayer)|(embed))?/i).exec(href)\n\t),\n\thandleLink(href) {\n\t\tlet link = '';\n\t\tconst testWithTitle = /iloopit\\.net(?:\\/tube)?\\/(\\d+)\\/(.+)?\\//;\n\t\tconst titleResult = testWithTitle.exec(href);\n\n\t\tif (titleResult) {\n\t\t\tlink = `https://iloopit.net/${titleResult[1]}/${titleResult[2]}/?type=embed`;\n\t\t} else {\n\t\t\tlink = href.replace('type=looplayer', 'type=embed');\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: true,\n\t\t\tembed: link,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('imgflip', {\n\tname: 'imgflip',\n\tdomains: ['imgflip.com'],\n\tlogo: 'https://imgflip.com/favicon02.png',\n\tdetect: ({ pathname }) => (/^\\/(i|gif)\\/([a-z0-9]+)/).exec(pathname),\n\thandleLink(href, [, type, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://i.imgflip.com/${id}.${type === 'gif' ? 'gif' : 'jpg'}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { string } from '../../utils';\n\nexport default new Host('imgur', {\n\tname: 'imgur',\n\tdomains: ['imgur.com'],\n\tlogo: 'https://i.imgur.com/favicon.ico',\n\toptions: {\n\t\tpreferResAlbums: {\n\t\t\ttitle: 'imgurPreferResAlbumsTitle',\n\t\t\tdescription: 'imgurPreferResAlbumsDesc',\n\t\t\tvalue: true,\n\t\t\ttype: 'boolean',\n\t\t},\n\t\tuseGifOverGifv: {\n\t\t\ttitle: 'imgurUseGifOverGifVTitle',\n\t\t\tdescription: 'imgurUseGifOverGifVDesc',\n\t\t\tvalue: false,\n\t\t\ttype: 'boolean',\n\t\t},\n\t\tpreferredImgurLink: {\n\t\t\ttitle: 'imgurPreferredImgurLinkTitle',\n\t\t\tdescription: 'imgurPreferredImgurLinkDesc',\n\t\t\ttype: 'enum',\n\t\t\tvalue: 'share',\n\t\t\tvalues: [{\n\t\t\t\tname: 'full page (imgur.com)',\n\t\t\t\tvalue: 'share',\n\t\t\t}, {\n\t\t\t\tname: 'direct image (i.imgur.com)',\n\t\t\t\tvalue: 'direct',\n\t\t\t}],\n\t\t},\n\t\timgurImageResolution: {\n\t\t\ttitle: 'imgurImageResolutionTitle',\n\t\t\tdescription: 'imgurImageResolutionDesc',\n\t\t\ttype: 'enum',\n\t\t\tvalue: '', // image id suffix\n\t\t\tvalues: [{\n\t\t\t\tname: 'Full Resolution',\n\t\t\t\tvalue: '',\n\t\t\t}, {\n\t\t\t\tname: 'Retina (1360px)',\n\t\t\t\tvalue: 'r',\n\t\t\t}, {\n\t\t\t\tname: 'Huge (1024px)',\n\t\t\t\tvalue: 'h',\n\t\t\t}, {\n\t\t\t\tname: 'Giant (680px)',\n\t\t\t\tvalue: 'g',\n\t\t\t}, {\n\t\t\t\tname: 'Large (640px)',\n\t\t\t\tvalue: 'l',\n\t\t\t}],\n\t\t},\n\t},\n\tdetect({ pathname, href }) {\n\t\tconst cdnUrl = 'https://i.imgur.com/';\n\t\tconst apiPrefix = 'https://api.imgur.com/3/';\n\t\tconst apiId = '1d8d9b36339e0e2';\n\t\tconst hashRe = /^https?:\\/\\/(?:i\\.|m\\.|edge\\.|www\\.)*imgur\\.com\\/(r\\/\\w+\\/)*(?!gallery)(?!removalrequest)(?!random)(?!memegen)((?:\\w{5}|\\w{7})(?:[&,](?:\\w{5}|\\w{7}))*)(?:#\\d+)?[a-z]?(\\.(?:jpe?g|gifv?|png))?(\\?.*)?$/i;\n\t\tconst hostedHashRe = /^https?:(\\/\\/i\\.\\w+\\.*imgur\\.com\\/)((?:\\w{5}|\\w{7})(?:[&,](?:\\w{5}|\\w{7}))*)(?:#\\d+)?[a-z]?(\\.(?:jpe?g|gif|png))?(\\?.*)?$/i;\n\t\tconst galleryHashRe = /^https?:\\/\\/(?:m\\.|www\\.)?imgur\\.com\\/gallery\\/(\\w+)(?:[/#]|$)/i;\n\t\tconst albumHashRe = /^https?:\\/\\/(?:m\\.|www\\.)?imgur\\.com\\/a\\/(\\w+)(?:[/#]|$)/i;\n\n\t\tif (pathname === '/rules' || pathname === '/inbox') return null;\n\n\t\thref = href.split('?')[0];\n\n\t\tlet groups;\n\n\t\tif ((groups = galleryHashRe.exec(href))) {\n\t\t\tconst hash = groups[1];\n\t\t\treturn () => _api(string.encode`gallery/${hash}`)\n\t\t\t\t// may have been removed from the gallery, try looking up the album\n\t\t\t\t.catch(() => _api(string.encode`album/${hash}`));\n\t\t} else if ((groups = albumHashRe.exec(href))) {\n\t\t\tif (this.options.preferResAlbums.value) {\n\t\t\t\tconst hash = groups[1];\n\t\t\t\treturn () => _api(string.encode`album/${hash}`);\n\t\t\t}\n\t\t} else if ((groups = hostedHashRe.exec(href))) {\n\t\t\tconst hash = groups[2];\n\t\t\treturn () => _handleImage(hash, href);\n\t\t} else if ((groups = hashRe.exec(href))) {\n\t\t\tconst [, subreddit, hash] = groups;\n\t\t\tif (subreddit) return () => _api(string.encode`gallery/${subreddit}${hash}`);\n\t\t\tif (hash.search(/[&,]/) > -1) {\n\t\t\t\t// handle separated list of IDs\n\t\t\t\treturn () => _handleImageCollection(hash.split(/[&,]/), href);\n\t\t\t} else {\n\t\t\t\treturn () => _handleImage(hash, href);\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\n\t\tasync function _api(endpoint) {\n\t\t\tconst { data } = await ajax({\n\t\t\t\turl: apiPrefix + endpoint,\n\t\t\t\ttype: 'json',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Client-ID ${apiId}`,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (data.error) {\n\t\t\t\tthrow new Error(`Imgur API error: ${data.error}`);\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tfunction _mockImageAPI(hash, url) {\n\t\t\tlet thisCdnUrl = cdnUrl;\n\t\t\tlet matches, extension;\n\n\t\t\tif ((matches = hostedHashRe.exec(url))) {\n\t\t\t\tthisCdnUrl = matches[1];\n\t\t\t\textension = matches[3];\n\t\t\t} else if ((matches = hashRe.exec(url))) {\n\t\t\t\textension = matches[3];\n\t\t\t}\n\n\t\t\tif (!extension) {\n\t\t\t\t// Imgur doesn't really care about the extension except video and the browsers don't seem to either.\n\t\t\t\textension = '.jpg';\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid: hash,\n\t\t\t\tanimated: false,\n\t\t\t\tlooping: false,\n\t\t\t\thas_sound: false,\n\t\t\t\tlink: `${thisCdnUrl}${hash}${extension}`,\n\t\t\t\tgifv: undefined,\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t};\n\t\t}\n\n\t\tfunction _handleImage(hash, url) {\n\t\t\tconst [,,, extension] = hashRe.exec(url) || [];\n\n\t\t\tif (['.png', '.jpg', '.jpeg'].includes(extension)) {\n\t\t\t\t// Extension is given and hopefully correct, so we can intuit the mimetype\n\t\t\t\t// removed caption API calls as they don't seem to exist/matter for single images, only albums...\n\t\t\t\t// If we don't show captions and know the mimetype, then we can skip the API call.\n\t\t\t\t// We must hit the API for gif(v) even when the extension is given, to determine if it should loop\n\t\t\t\treturn _mockImageAPI(hash, url);\n\t\t\t} else if (hostedHashRe.test(url)) {\n\t\t\t\t// Hosted images do not support gifv or albums, so we never need to hit the API\n\t\t\t\treturn _mockImageAPI(hash, url);\n\t\t\t} else {\n\t\t\t\t// Check if image is gifv\n\t\t\t\treturn _api(`image/${hash}`);\n\t\t\t}\n\t\t}\n\n\t\tfunction _handleImageCollection(hashes, url) {\n\t\t\treturn {\n\t\t\t\tis_album: true,\n\t\t\t\timages: hashes.map(hash => _mockImageAPI(hash, url)),\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t};\n\t\t}\n\t},\n\tasync handleLink(href, getInfo) {\n\t\tconst baseUrl = 'https://imgur.com/';\n\t\tconst shareLinkPreferred = this.options.preferredImgurLink.value === 'share';\n\t\tconst resolutionSuffix = this.options.imgurImageResolution.value;\n\t\tconst useGif = this.options.useGifOverGifv.value;\n\n\t\tconst info = await getInfo();\n\n\t\tif (info.images && info.images.length) {\n\t\t\treturn _handleAlbum(href, info);\n\t\t} else if (info.gifv && !useGif) {\n\t\t\treturn _handleGifv(info);\n\t\t} else if (info.link) {\n\t\t\treturn _handleSingleImage(info);\n\t\t}\n\n\t\tthrow new Error('could not handle info');\n\n\t\tfunction _handleAlbum(href, info) {\n\t\t\treturn {\n\t\t\t\ttype: 'GALLERY',\n\t\t\t\ttitle: info.title,\n\t\t\t\tcaption: info.description,\n\t\t\t\tsrc: info.images.map(info => {\n\t\t\t\t\tconst media = info.gifv && !useGif ?\n\t\t\t\t\t\t_handleGifv(info) :\n\t\t\t\t\t\t_handleSingleImage(info);\n\t\t\t\t\tmedia.href = shareLinkPreferred ? `${href.split('#')[0]}#${info.id}` : `${info.link}`;\n\t\t\t\t\treturn media;\n\t\t\t\t}),\n\t\t\t};\n\t\t}\n\n\t\tfunction _handleSingleImage(info) {\n\t\t\tconst src = info.link\n\t\t\t\t.replace('http:', 'https:')\n\t\t\t\t.replace(`/${info.id}.`, `/${info.id}${resolutionSuffix}.`);\n\n\t\t\treturn {\n\t\t\t\tsrc,\n\t\t\t\thref: shareLinkPreferred ? `${baseUrl}${info.id}` : `${info.link}`,\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tcaption: info.description,\n\t\t\t\ttitle: info.title,\n\t\t\t};\n\t\t}\n\n\t\tfunction _handleGifv(info) {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\thref: shareLinkPreferred ? `${baseUrl}${info.id}` : `${info.link}`,\n\t\t\t\tfallback: info.link.replace('http:', 'https:'),\n\t\t\t\tcaption: info.description,\n\t\t\t\ttitle: info.title,\n\t\t\t\tloop: info.looping !== false, // may be missing from API responses (randomly), so explicitly check for false\n\t\t\t\tmuted: !info.has_sound,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: info.mp4.replace('http:', 'https:'),\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('instagram', {\n\tname: 'Instagram',\n\tdomains: ['instagram.com', 'instagr.am'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/p\\/([a-z0-9_\\-]{10,})(?:\\/|$)/i).exec(pathname),\n\thandleLink: (href, [, id]) => ({\n\t\ttype: 'IFRAME',\n\t\texpandoClass: 'image',\n\t\tembed: `https://instagram.com/p/${id}/embed/captioned/`,\n\t\twidth: '600px',\n\t\theight: '700px',\n\t}),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { getPostMetadata } from '../../utils';\n\nexport default new Host('ireddit', {\n\tname: 'i.redd.it',\n\tdomains: ['i.redd.it'],\n\tattribution: false,\n\tdetect({ pathname }, thing) { return pathname.endsWith('.gif') && thing && thing.isLinkPost() && thing.getFullname(); },\n\tasync handleLink(href, fullname) {\n\t\tconst postMetadata = await getPostMetadata({ id: fullname.replace('t3_', '') });\n\t\tif (!postMetadata.preview) throw new Error('Post has no preview.');\n\t\tconst preview = postMetadata.preview.images[0];\n\t\tif (preview.variants.mp4) {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\tloop: true,\n\t\t\t\tmuted: true,\n\t\t\t\tfallback: preview.variants.gif && preview.variants.gif.source.url,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: preview.variants.mp4.source.url,\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: preview.source.url,\n\t\t\t};\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('jsfiddle', {\n\tname: 'jsfiddle',\n\tdomains: ['jsfiddle.net'],\n\tlogo: 'https://jsfiddle.net/favicon.png',\n\tdetect: ({ pathname }) => (/^(\\/(?:\\w+\\/(?!embedded\\/))?[a-z0-9]{5,}(?:\\/\\d+)?(?=\\/|$))(\\/embedded\\/[\\w,]+\\/)?/i).exec(pathname),\n\thandleLink(href, [, path, categories]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://jsfiddle.net${path}${categories || '/embedded/result,js,resources,html,css/'}`,\n\t\t\twidth: '800px',\n\t\t\theight: '500px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('liveleak', {\n\tname: 'LiveLeak',\n\tdomains: ['liveleak.com'],\n\tlogo: 'https://www.liveleak.com/favicon.ico',\n\tdetect: ({ pathname, search }) => (pathname === '/view' && search),\n\thandleLink: (href, query) => ({\n\t\ttype: 'IFRAME',\n\t\tembed: `https://www.liveleak.com/ll_embed${query}`,\n\t\tembedAutoplay: `https://www.liveleak.com/ll_embed${query}&autostart=true`,\n\t\tfixedRatio: true,\n\t}),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('livememe', {\n\tname: 'livememe',\n\tdomains: ['livememe.com'],\n\tlogo: 'https://livememe.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?!edit)(\\w{7})(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://e.lvme.me/${id}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('makeameme', {\n\tname: 'makeameme',\n\tdomains: ['makeameme.org'],\n\tlogo: 'https://makeameme.org/images/favicons/favicon-32x32.png',\n\tdetect: ({ pathname }) => (/^\\/meme\\/([\\w\\-]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://makeameme.org/media/created/${id}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('memecrunch', {\n\tname: 'memecrunch',\n\tdomains: ['memecrunch.com'],\n\tlogo: 'https://memecrunch.com/static/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/meme\\/([0-9A-Z]+)\\/([\\w\\-]+)(\\/image\\.(png|jpg))?/i).exec(pathname),\n\thandleLink(href, [, id, format]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://memecrunch.com/meme/${id}/${format || 'null'}/image.png`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('memedad', {\n\tname: 'memedad',\n\tdomains: ['memedad.com'],\n\tlogo: 'https://memedad.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/meme\\/([0-9]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://memedad.com/memes/${id}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('mixer', {\n\tname: 'Mixer',\n\tdomains: ['beam.pro', 'mixer.com'],\n\tlogo: 'https://mixer.com/_latest/assets/favicons/favicon-32x32.png',\n\tdetect: ({ pathname }) => (/^\\/(\\w+)$/).exec(pathname),\n\thandleLink(href, [, clipId]) {\n\t\tconst embed = `https://mixer.com/embed/player/${clipId}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: true,\n\t\t\tembed,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\r\n\r\nimport { Host } from '../../core/host';\r\n\r\nexport default new Host('Naver', {\r\n\tname: 'Naver',\r\n\tdomains: ['tv.naver.com'],\r\n\tlogo: 'https://www.naver.com/favicon.ico?1',\r\n\tdetect: ({ pathname }) => (/^\\/(?:v)\\/([0-9]+)/i).exec(pathname),\r\n\thandleLink(href, [, id]) {\r\n\t\tconst embed = `https://tv.naver.com/embed/${id}`;\r\n\t\treturn {\r\n\t\t\ttype: 'IFRAME',\r\n\t\t\tembed,\r\n\t\t\tembedAutoplay: `${embed}?autoPlay=true`,\r\n\t\t\tfixedRatio: true,\r\n\t\t};\r\n\t},\r\n});\r\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('onedrive', {\n\tdomains: ['onedrive.live.com', '1drv.ms'],\n\tname: 'Microsoft OneDrive',\n\tdetect: () => true,\n\tasync handleLink(href) {\n\t\t// Encode the URL in base64 then convert it to unpadded base64url format\n\t\t// https://dev.onedrive.com/shares/shares.htm\n\t\tconst encodedUrl = `u!${btoa(href)}`\n\t\t\t.replace(/=+$/g, '')\n\t\t\t.replace(/\\//g, '_')\n\t\t\t.replace(/\\+/g, '-');\n\n\t\tconst json = await ajax({\n\t\t\turl: `https://api.onedrive.com/v1.0/shares/${encodedUrl}/root?expand=children`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\tif (json.children.length) {\n\t\t\treturn {\n\t\t\t\ttype: 'GALLERY',\n\t\t\t\tsrc: json.children.map(processFile),\n\t\t\t};\n\t\t} else {\n\t\t\treturn processFile(json);\n\t\t}\n\n\t\tfunction processFile({\n\t\t\tname,\n\t\t\tdescription,\n\t\t\twebUrl,\n\t\t\t'@content.downloadUrl': src,\n\t\t\tfile: { mimeType },\n\t\t}) {\n\t\t\tconst type = mimeType.slice(0, mimeType.indexOf('/'));\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'image':\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\t\ttitle: name,\n\t\t\t\t\t\tcaption: description,\n\t\t\t\t\t\tsrc,\n\t\t\t\t\t\thref: webUrl,\n\t\t\t\t\t};\n\t\t\t\tcase 'video':\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'VIDEO',\n\t\t\t\t\t\ttitle: name,\n\t\t\t\t\t\tcaption: description,\n\t\t\t\t\t\tloop: false,\n\t\t\t\t\t\tsources: [{\n\t\t\t\t\t\t\tsource: src,\n\t\t\t\t\t\t\ttype: mimeType,\n\t\t\t\t\t\t}],\n\t\t\t\t\t};\n\t\t\t\tcase 'audio':\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'AUDIO',\n\t\t\t\t\t\tloop: false,\n\t\t\t\t\t\tsources: [{\n\t\t\t\t\t\t\tfile: src,\n\t\t\t\t\t\t\ttype: mimeType,\n\t\t\t\t\t\t}],\n\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Invalid type: ${type}`);\n\t\t\t}\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('pastebin', {\n\tname: 'pastebin',\n\tdomains: ['pastebin.com'],\n\tattribution: false,\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:www\\.)?pastebin\\.com\\/(?:raw\\.php\\?i=|index\\/)?([a-z0-9]{8})/i).exec(href),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://pastebin.com/embed_iframe.php?i=${id}`,\n\t\t\theight: '500px',\n\t\t\twidth: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('peertube', {\n\tname: 'peertube',\n\tdomains: [\n\t\t'peervideo.net',\n\t\t'peertube.social',\n\t\t'peertube.mastodon.host',\n\t\t'evertron.tv',\n\t\t'mplayer.demouliere.eu',\n\t\t'cloud.allplayer.tk',\n\t\t'video.tedomum.net',\n\t\t'peertube.fr',\n\t\t'hostyour.tv',\n\t\t'videobit.cc',\n\t\t'videoshare.cc',\n\t\t'peertube.openstreetmap.fr',\n\t\t'video.ploud.fr',\n\t\t'tube.kdy.ch',\n\t\t'lostpod.space',\n\t\t'pe.ertu.be',\n\t\t'peertube.live',\n\t\t'peer.tube',\n\t\t'watching.cypherpunk.observer',\n\t\t'queertube.org',\n\t\t'exode.me',\n\t\t'framatube.org',\n\t\t'peervideo.net',\n\t],\n\tattribution: false,\n\tdetect: ({ hostname, pathname }) => {\n\t\tconst [, route, , id] = pathname.split('/');\n\t\tif (route === 'videos') {\n\t\t\treturn [hostname, id];\n\t\t}\n\t},\n\thandleLink(href, [hostname, id]) {\n\t\tconst embed = `https://${hostname}/videos/embed/${id}`;\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}?autoplay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('photobucket', {\n\tname: 'photobucket',\n\tdomains: ['photobucket.com'],\n\tlogo: 'https://pic2.pbsrc.com/common/favicon.ico',\n\tdetect: ({ href }) => (/([is]?)[0-9]+|media|smg|img(?=.photobucket.com)/i).exec(href),\n\tasync handleLink(href, [, prefix]) {\n\t\tlet src = href.replace('.html', '');\n\n\t\t// user linked direct image so no need to hit API\n\t\tif (prefix !== 'i') {\n\t\t\tconst { imageUrl } = await ajax({\n\t\t\t\turl: 'https://api.photobucket.com/v2/media/fromurl',\n\t\t\t\tquery: { url: src },\n\t\t\t\ttype: 'json',\n\t\t\t});\n\t\t\tsrc = imageUrl.replace('http:', 'https:');\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('pixiv', {\n\tname: 'pixiv',\n\tdomains: ['pixiv.net'],\n\tlogo: 'https://www.pixiv.net/favicon.ico',\n\tdetect: ({ pathname, search }) => (pathname === '/member_illust.php' && (/illust_id=(\\d+)/).exec(search)) ||\n\t\t\t\t\t\t\t\t\t\t(/(?:\\/en|^)\\/artworks\\/(\\d+)\\/?$/).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'image',\n\t\t\tmuted: true,\n\t\t\tembed: `https://embed.pixiv.net/embed_mk2.php?id=${id}&size=large`,\n\t\t\twidth: '700px',\n\t\t\theight: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('poly', {\n\tname: 'Poly',\n\tdomains: ['poly.google.com'],\n\t// Embed already contains attribution\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/view\\/([a-zA-Z0-9-]+)\\/?$/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://poly.google.com/view/${id}/embed`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('pornhub', {\n\tname: 'Pornhub',\n\tdomains: [\n\t\t'www.pornhub.com',\n\t\t'www.pornhubpremium.com',\n\t],\n\tattribution: false,\n\tdetect: ({ searchParams }) => searchParams.get('viewkey'),\n\thandleLink(href, path) {\n\t\tconst url = `https://www.pornhub.com/embed/${path}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: url,\n\t\t\tembedAutoplay: `${url}?autoplay=1`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('ppy.sh', {\n\tname: 'ppy.sh',\n\tdomains: ['osu.ppy.sh'],\n\tlogo: 'https://s.ppy.sh/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/ss\\/(\\d+(?:\\/[0-9a-f]+)?)/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://osu.ppy.sh/ss/${code}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('redditbooru', {\n\tname: 'redditbooru',\n\tdomains: ['redditbooru.com'],\n\tlogo: 'https://redditbooru.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/gallery\\/([\\w]+)(\\/[\\w\\-]+)?/i).exec(pathname),\n\tasync handleLink(href, [, id, base36]) {\n\t\t// this will only be set for base36 IDs\n\t\tif (base36) {\n\t\t\tid = parseInt(id, 36);\n\t\t}\n\n\t\tconst info = await ajax({\n\t\t\turl: 'https://redditbooru.com/images/',\n\t\t\tquery: { postId: id },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (!info.length) {\n\t\t\tthrow new Error('Gallery was empty.');\n\t\t}\n\n\t\tconst src = info.map(({ caption, cdnUrl, sourceUrl }) => ({\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle: caption,\n\t\t\tsrc: cdnUrl,\n\t\t\tcaption: sourceUrl ? `Source: <a href=\"${sourceUrl}\">${sourceUrl}</a>` : '',\n\t\t}));\n\n\t\treturn {\n\t\t\ttype: 'GALLERY',\n\t\t\ttitle: info[0].title,\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('redditmedia', {\n\tname: 'redditmedia',\n\tdomains: ['redditmedia.com'],\n\tattribution: false,\n\tdetect: ({ hostname, searchParams }) => hostname !== 'pixel.redditmedia.com' && searchParams,\n\thandleLink(href, searchParams) {\n\t\tif (searchParams.get('fm') === 'mp4') {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\tloop: true,\n\t\t\t\tmuted: true,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: href,\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('reddituploads', {\n\tname: 'reddituploads',\n\tdomains: ['reddituploads.com'],\n\tattribution: false,\n\tdetect: () => true,\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY, string } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('redgifs', {\n\tname: 'redgifs',\n\tdomains: ['redgifs.com'],\n\tlogo: 'https://redgifs.com/assets/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?:(?:ifr|watch)\\/)(\\w+)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst embed = `https://redgifs.com/ifr/${id}`;\n\n\t\t// Load video width/height to show a responsive embed\n\t\ttry {\n\t\t\tconst info = (await ajax({\n\t\t\t\turl: string.encode`https://api.redgifs.com/v1/gfycats/${id}`,\n\t\t\t\ttype: 'json',\n\t\t\t\tcacheFor: DAY,\n\t\t\t})).gfyItem;\n\n\t\t\tlet height = info.height;\n\t\t\tlet width = info.width;\n\t\t\tconst ratio = width / height;\n\t\t\tconst maxSize = 600;\n\n\t\t\tif (height > width) {\n\t\t\t\theight = Math.min(height, maxSize);\n\t\t\t\twidth = parseInt(ratio * height, 10);\n\t\t\t} else {\n\t\t\t\twidth = Math.min(width, maxSize);\n\t\t\t\theight = parseInt(width / ratio, 10);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttype: 'IFRAME',\n\t\t\t\tembed: `${embed}&autoplay=0`,\n\t\t\t\tembedAutoplay: embed,\n\t\t\t\tfixedRatio: false,\n\t\t\t\twidth: `${width}px`,\n\t\t\t\theight: `${height}px`,\n\t\t\t};\n\t\t} catch (error) { // Fallback to a fixedRatio embed\n\t\t\treturn {\n\t\t\t\ttype: 'IFRAME',\n\t\t\t\tembed: `${embed}&autoplay=0`,\n\t\t\t\tembedAutoplay: embed,\n\t\t\t\tfixedRatio: true,\n\t\t\t};\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('ridewithgps', {\n\tname: 'ridewithgps',\n\tdomains: ['ridewithgps.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(trips|routes)\\/(\\d+)/i).exec(pathname),\n\thandleLink(href, [, type, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://ridewithgps.com/${type}/${id}/embed`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('simplecove', {\n\tname: 'SimpleCove',\n\tdomains: ['simplecove.com'],\n\tlogo: 'https://simplecove.com/static/images/reslogo.jpg',\n\tdetect: ({ pathname }) => (/^\\/(\\d+)/i).exec(pathname),\n\tasync handleLink(elem, [, id]) {\n\t\tconst data = await ajax({\n\t\t\turl: `https://www.simplecove.com/resapi/${id}`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst images = data.map(x => ({\n\t\t\tsrc: x.photo_src.replace('http:', 'https:'),\n\t\t\tcaption: x.photo_caption,\n\t\t\ttype: 'IMAGE',\n\t\t}));\n\n\t\treturn {\n\t\t\ttype: 'GALLERY',\n\t\t\tsrc: images,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('snag', {\n\tname: 'snag.gy',\n\tlogo: 'https://snaggys3static-snaggy.netdna-ssl.com/favicon.png',\n\tdomains: ['snag.gy'],\n\tdetect: ({ pathname }) => (/^\\/(\\w+)(?:\\.(\\w+))?$/i).exec(pathname),\n\thandleLink(href, [, id, extension]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://i.snag.gy/${id}.${extension || 'jpg'}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { string } from '../../utils';\n\nexport default new Host('soundcloud', {\n\tname: 'soundcloud',\n\tdomains: ['soundcloud.com'],\n\tlogo: 'https://a-v2.sndcdn.com/assets/images/sc-icons/favicon-2cadd14b.ico',\n\tdetect: () => true,\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: string.encode`https://w.soundcloud.com/player/?url=${href}`,\n\t\t\theight: '166px',\n\t\t\twidth: '700px',\n\t\t\tpause: '{\"method\":\"pause\"}',\n\t\t\tplay: '{\"method\":\"play\"}',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('spotify', {\n\tname: 'spotify',\n\tdomains: ['spotify.com'],\n\tlogo: 'https://spotify.com/favicon.ico',\n\t/*\n\t* Match the following:\n\t* https://open.spotify.com/track/id\n\t* https://play.spotify.com/artist/id\n\t* https://play.spotify.com/album/id\n\t* https://open.spotify.com/user/someUser/playlist/id\n\t* TODO: Check username restrictions, match with something better than \\w+\n\t*/\n\tdetect: ({ href }) => (/^https:\\/\\/(?:open|play)\\.spotify\\.com\\/((?:track|artist|album|user\\/\\w+\\/playlist)\\/[a-zA-z0-9]+)$/i).exec(href),\n\thandleLink(href, [, uri]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://embed.spotify.com/?uri=spotify:${uri.replace(/\\//g, ':')}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('steamcommunity', {\n\tname: 'Steam Community',\n\tlogo: 'https://store.steampowered.com/favicon.ico',\n\tdomains: ['steamcommunity.com'],\n\tdetect: ({ pathname, searchParams }) => pathname.startsWith('/sharedfiles/filedetails') && searchParams.get('id'),\n\tpermissions: ['https://api.steampowered.com/ISteamRemoteStorage/GetPublishedFileDetails/*'],\n\tasync handleLink(href, id) {\n\t\tconst {\n\t\t\tresponse: {\n\t\t\t\tpublishedfiledetails: [{\n\t\t\t\t\ttitle,\n\t\t\t\t\tdescription: caption,\n\t\t\t\t\tpreview_url: previewUrl,\n\t\t\t\t\tfile_url: fileUrl,\n\t\t\t\t\tfilename,\n\t\t\t\t}],\n\t\t\t},\n\t\t} = await ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: 'https://api.steampowered.com/ISteamRemoteStorage/GetPublishedFileDetails/v0001/?format=json',\n\t\t\tdata: { itemcount: '1', 'publishedfileids[0]': id },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (!filename) throw new Error('Response missing filename. (Private Steam Community profile?)');\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle,\n\t\t\tcaption,\n\t\t\tsrc: ['.png', '.jpg', '.gif'].some(ext => filename.endsWith(ext)) ? fileUrl : previewUrl,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('steampowered', {\n\tname: 'Steam',\n\tlogo: 'https://store.steampowered.com/favicon.ico',\n\tdomains: ['steampowered.com', 'steamusercontent.com'],\n\tdetect: ({ pathname }) => (/^\\/ugc\\/(\\d{15,20}\\/\\w{40})(?:$|\\/)/i).exec(pathname),\n\thandleLink(href, [pathname]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `http://images.akamai.steamusercontent.com${pathname}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('strawpoll.com', {\n\tname: 'strawpoll.com',\n\tdomains: ['strawpoll.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(?:embed\\/)?([a-z0-9]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://www.strawpoll.com/embed/${id}`,\n\t\t\theight: '450px',\n\t\t\twidth: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('strawpoll', {\n\tname: 'strawpoll.me',\n\tdomains: ['strawpoll.me'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(?:embed_\\d\\/)?(\\d+)/i).exec(pathname),\n\thandleLink(href, [, uid]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://www.strawpoll.me/embed_1/${uid}`,\n\t\t\theight: '500px',\n\t\t\twidth: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('streamable', {\n\tname: 'streamable',\n\tdomains: ['streamable.com'],\n\tlogo: 'https://cdn-e2.streamable.com/static/14a98f7cb1ddc5213329c039dc39cac543ba410f/img/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?:[es]\\/)?(\\w+)(?:\\/\\w+)?$/i).exec(pathname),\n\tasync handleLink(href, [, hash]) {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tfiles: { mp4: { url } },\n\t\t\tthumbnail_url: thumbnail,\n\t\t\tsource,\n\t\t} = await ajax({\n\t\t\turl: `https://api.streamable.com/videos/${hash}`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\ttitle,\n\t\t\tloop: true,\n\t\t\tsources: [{\n\t\t\t\tsource: url,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t\tposter: thumbnail,\n\t\t\tsource,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('streamja', {\n\tname: 'streamja',\n\tdomains: ['streamja.com'],\n\tlogo: 'https://streamja.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/([^\\/]+)$/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\tconst short = code.substring(0, 2).toLowerCase();\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tsources: [{\n\t\t\t\tsource: `https://upload.streamja.com/mp4/${short}/${code}.mp4`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t\tposter: `https://upload.streamja.com/i/${short}/${code}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('streamvi', {\n\tname: 'streamvi',\n\tdomains: ['streamvi.com'],\n\tlogo: 'https://streamvi.com/assets/logo.png',\n\tdetect: ({ searchParams }) => {\n\t\tconst code = searchParams.get('video');\n\t\tif (code) return [code.toString()];\n\t},\n\thandleLink(href, [code]) {\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tsources: [{\n\t\t\t\tsource: `https://cdn.streamvi.com/uploads/${code}.mp4`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t\tposter: `https://cdn.streamvi.com/uploads/${code}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('supgif', {\n\tname: 'Supgif',\n\tdomains: ['supgif.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/c\\/([\\w\\-]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://www.supgif.com/embed/${id}`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('supload', {\n\tname: 'supload',\n\tdomains: ['supload.com'],\n\tlogo: 'https://supload.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/([A-Za-z0-9_-]+)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst data = await ajax({\n\t\t\turl: 'https://www.supload.com/oembed',\n\t\t\tquery: { url: `https://supload.com/${id}`, format: 'json' },\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\tif (data.type === 'photo') {\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: data.url,\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\tloop: true,\n\t\t\t\tmuted: true,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: data.webmUrl,\n\t\t\t\t\ttype: 'video/webm',\n\t\t\t\t}, {\n\t\t\t\t\tsource: data.mp4Url,\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('tenor', {\n\tname: 'tenor',\n\tdomains: ['tenor.co'],\n\tlogo: 'https://www.tenor.co/favicon.ico',\n\tdetect: (() => {\n\t\tconst alphabet = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n\t\tconst alphabetMap = alphabet\n\t\t\t.split('')\n\t\t\t.reduce((obj, c, i) => {\n\t\t\t\tobj[c] = i;\n\t\t\t\treturn obj;\n\t\t\t}, {});\n\n\t\tfunction parseViewShortId(s) {\n\t\t\treturn s\n\t\t\t\t.split('')\n\t\t\t\t.reduce((n, c) => (n * alphabet.length) + alphabetMap[c], 0);\n\t\t}\n\n\t\treturn ({ hostname, pathname }) => {\n\t\t\tif (hostname === 'tenor.co') {\n\t\t\t\t// short URL\n\t\t\t\tconst pathMatch = (/^\\/([a-zA-Z0-9]+)\\.gif$/i).exec(pathname);\n\t\t\t\treturn pathMatch && { id: parseViewShortId(pathMatch[1]) };\n\t\t\t} else if (hostname === 'media.tenor.co') {\n\t\t\t\treturn { id: null };\n\t\t\t} else {\n\t\t\t\tconst pathMatch = (/^\\/view\\/.+\\-(\\d+)(\\.gif)?$/i).exec(pathname);\n\t\t\t\treturn pathMatch && { id: pathMatch[1] };\n\t\t\t}\n\t\t};\n\t})(),\n\tasync handleLink(href, { id }) {\n\t\tif (id === null) {\n\t\t\t// Some files on our CDN are named \"raw\", with no file extension,\n\t\t\t// so they won't load without this.\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: href,\n\t\t\t};\n\t\t}\n\n\t\tconst { results: [gif] } = await ajax({\n\t\t\turl: 'https://api.tenor.co/v1/gifs',\n\t\t\tquery: { key: 'JJHDC7UK73EH', ids: id },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: gif.media[0].gif.url,\n\t\t\ttitle: gif.h1_title,\n\t\t\tcaption: gif.generatedcaption,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { markdown } from 'snudown-js';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('tumblr', {\n\tname: 'tumblr',\n\tdomains: ['tumblr.com'],\n\tpermissions: ['https://api.tumblr.com/v2/blog/*/posts'],\n\tlogo: 'https://secure.assets.tumblr.com/images/favicons/favicon.ico',\n\tdetect({ hostname, pathname }) {\n\t\tconst pathMatch = (/^\\/(?:post|image)\\/(\\d+)(?:\\/|$)/i).exec(pathname);\n\t\treturn pathMatch && [hostname, pathMatch[1]];\n\t},\n\tasync handleLink(href, [blog, id]) {\n\t\tconst { response } = await ajax({\n\t\t\turl: `https://api.tumblr.com/v2/blog/${blog}/posts`,\n\t\t\tquery: {\n\t\t\t\tapi_key: 'WeJQquHCAasi5EzaN9jMtIZkYzGfESUtEvcYDeSMLICveo3XDq',\n\t\t\t\tid,\n\t\t\t\tfilter: 'raw',\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst post = response.posts[0];\n\n\t\tfunction render(string) {\n\t\t\treturn post.format === 'markdown' ?\n\t\t\t\tmarkdown(string) :\n\t\t\t\tstring;\n\t\t}\n\n\t\tconst defaults = {\n\t\t\ttitle: post.title,\n\t\t\tcaption: post.caption,\n\t\t\tcredits: `Posted by: <a href=\"${response.blog.url}\">${response.blog.name}</a> @ Tumblr`,\n\t\t};\n\n\t\tswitch (post.type) {\n\t\t\tcase 'photo':\n\t\t\t\tif (!post.photos.length) throw new Error('No images in gallery.');\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'GALLERY',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: post.photos.map(photo => ({\n\t\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\t\tsrc: photo.original_size.url,\n\t\t\t\t\t\tcaption: photo.caption,\n\t\t\t\t\t})),\n\t\t\t\t};\n\t\t\tcase 'text':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: render(post.body),\n\t\t\t\t};\n\t\t\tcase 'quote':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tcredits: post.source,\n\t\t\t\t\tsrc: `<blockquote><p>${render(post.text)}</p></blockquote>`,\n\t\t\t\t};\n\t\t\tcase 'link':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\ttitle: `<a href=\"${post.url}\">${post.title}</a>`,\n\t\t\t\t\tsrc: render(post.description),\n\t\t\t\t};\n\t\t\tcase 'chat':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: post.dialogue.reduce((prev, { label, phrase }) => `${prev}<blockquote><p><b>${label}</b> ${phrase}</p></blockquote>`, ''),\n\t\t\t\t};\n\t\t\tcase 'answer':\n\t\t\t\tconst asking = post.asking_url ?\n\t\t\t\t\t`<a href=\"${post.asking_url}\">${post.asking_name}</a>` :\n\t\t\t\t\tpost.asking_name;\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: `<blockquote><p>${asking} sent: ${post.question}</p></blockquote>${render(post.answer)}`,\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unsupported post type: ${post.type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('twimg', {\n\tname: 'twimg',\n\tdomains: ['pbs.twimg.com'],\n\tlogo: 'https://twitter.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/media\\/[\\w\\-]+\\.\\w+/i).test(pathname),\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('twitch', {\n\tname: 'twitch.tv',\n\tdomains: ['twitch.tv'],\n\tlogo: 'https://www.twitch.tv/favicon.ico',\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:www\\.)?twitch\\.tv\\/(\\w+)(?:\\/([cbv])\\/([0-9]+))?\\/?(?:\\?t=(?:([0-9]+)h)?(?:([0-9]+)m)?(?:([0-9]+)s)?)?$/i).exec(href),\n\thandleLink(href, [, channel, typeId, videoId, h, m, s]) {\n\t\tconst channelOrVideo = videoId ?\n\t\t\t`video=${typeId.replace('b', 'a')}${videoId}` :\n\t\t\t`channel=${channel}`;\n\n\t\tconst embed = `https://player.twitch.tv/?${channelOrVideo}&time=${+h || 0}h${+m || 0}m${+s || 0}s`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `${embed}&autoplay=false`,\n\t\t\tembedAutoplay: `${embed}&autoplay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('twitchclips', {\n\tname: 'twitch.tv clips',\n\tdomains: ['twitch.tv'],\n\tlogo: 'https://www.twitch.tv/favicon.ico',\n\t// clips.twitch.tv domain:\n\t// \t require capital first character for old-style URLs to avoid ambiguity\n\t//   old: /username/NameOfClip\n\t//   new: /NameOfClip\n\t//        /NameOfClip/edit (bad link to private edit page, but Twitch redirects so we should handle it)\n\t// (www.)twitch.tv domain:\n\t//   support clip name as a subcomponent of a channel URL\n\t//   ex: www.twitch.tv/<CHANNEL_NAME>/clip/<CLIP_NAME>\n\tdetect: ({ hostname, pathname }) => hostname === 'clips.twitch.tv' ? (/^\\/(\\w+(?:\\/[A-Z]\\w+)?)(?:\\/|$)/).exec(pathname) : (/^\\/\\w+\\/clip\\/(\\w+(?:\\/[A-Z]\\w+)?)(?:\\/|$)/).exec(pathname),\n\thandleLink(href, [, clipId]) {\n\t\tconst embed = `https://clips.twitch.tv/embed?clip=${clipId}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `${embed}&autoplay=false`,\n\t\t\tembedAutoplay: `${embed}&autoplay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('twitter', {\n\tname: 'twitter',\n\tdomains: ['twitter.com'],\n\tpermissions: ['https://api.twitter.com/1/statuses/oembed.json'],\n\tattribution: false,\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:mobile\\.)?twitter\\.com\\/(?:#!\\/)?[\\w]+\\/status(?:es)?\\/([\\d]+)/i).exec(href),\n\tasync handleLink(href, [, id]) {\n\t\t// we have to omit the script tag and all of the nice formatting it brings us in Firefox\n\t\t// because AMO does not permit externally hosted script tags being pulled in from\n\t\t// oEmbed like this...\n\t\tconst { html } = await ajax({\n\t\t\turl: 'https://api.twitter.com/1/statuses/oembed.json',\n\t\t\tquery: { id, omit_script: process.env.BUILD_TARGET === 'firefox' },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\t// Script requires element to be attached to document when starting\n\t\tconst $dummy = $('<div>');\n\n\t\treturn {\n\t\t\ttype: 'GENERIC_EXPANDO',\n\t\t\tmuted: true,\n\t\t\texpandoClass: 'selftext',\n\t\t\tgenerate: () => $dummy[0],\n\t\t\tonAttach: _.once(() => { $dummy.replaceWith(html); }),\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { string } from '../../utils';\n\nexport default new Host('vidble', {\n\tname: 'vidble',\n\tdomains: ['vidble.com'],\n\tlogo: 'https://vidble.com/assets/ico/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(show|album)\\/([a-z0-9]+)/i).exec(pathname),\n\tasync handleLink(href, [, type, hash]) {\n\t\tswitch (type) {\n\t\t\tcase 'show':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\tsrc: `https://vidble.com/${hash}_med.jpg`,\n\t\t\t\t};\n\t\t\tcase 'album':\n\t\t\t\tconst urlObj = new URL(href);\n\t\t\t\tconst { pics } = await ajax({\n\t\t\t\t\turl: string.encode`https://vidble.com/album/album/${hash}?json=1`,\n\t\t\t\t\ttype: 'json',\n\t\t\t\t});\n\n\t\t\t\tif (!pics.length) throw new Error('No images in gallery.');\n\n\t\t\t\tconst src = pics.map((src, i) => {\n\t\t\t\t\turlObj.hash = `#pic_${i}`;\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\t\tsrc,\n\t\t\t\t\t\thref: urlObj.href,\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'GALLERY',\n\t\t\t\t\tsrc,\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`This should never happen. Invalid type: ${type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('vimeo', {\n\tname: 'vimeo',\n\tdomains: ['vimeo.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/([0-9]+)(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\tconst embed = `https://player.vimeo.com/video/${id}`;\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}?autoplay=true`,\n\t\t\tpause: '{\"method\":\"pause\"}',\n\t\t\tplay: '{\"method\":\"play\"}',\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('vlipsy', {\n\tname: 'Vlipsy',\n\tdomains: ['vlipsy.com'],\n\tlogo: 'https://vlipsy.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/vlip\\/(?:\\w+-)*(\\w+)$/).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://vlipsy.com/embed/${id}`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('vlive', {\n\tname: 'VLive',\n\tdomains: ['vlive.tv'],\n\tlogo: 'https://www.vlive.tv/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?:video)\\/([0-9]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\tconst embed = `https://vlive.tv/embed/${id}`;\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}?autoPlay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('vreddit', {\n\tname: 'v.redd.it',\n\tdomains: ['v.redd.it'],\n\tpermissions: ['https://v.redd.it/*/DASHPlaylist.mpd'],\n\tattribution: false,\n\toptions: {\n\t\treplaceNativeExpando: {\n\t\t\ttitle: 'showImagesReplaceNativeExpandoTitle',\n\t\t\tdescription: 'showImagesReplaceNativeExpandoDesc',\n\t\t\tvalue: false,\n\t\t\ttype: 'boolean',\n\t\t},\n\t},\n\tdetect: ({ pathname }) => pathname.slice(1),\n\tasync handleLink(href, id) {\n\t\tconst mpd = await ajax({ url: `https://v.redd.it/${id}/DASHPlaylist.mpd` });\n\t\tconst manifest = new DOMParser().parseFromString(mpd, 'text/xml');\n\t\t// Audio is in a seperate stream, and requires a heavy dash dependency to add to the video\n\t\tif (manifest.querySelector('AudioChannelConfiguration')) throw new Error('Audio is not supported');\n\t\tconst reps = Array.from(manifest.querySelectorAll('Representation'));\n\t\tconst sources = _.sortBy(reps, rep => parseInt(rep.getAttribute('bandwidth'), 10))\n\t\t\t.reverse()\n\t\t\t.map(rep => rep.querySelector('BaseURL'))\n\t\t\t.map(baseUrl => ({\n\t\t\t\tsource: `https://v.redd.it/${id}/${baseUrl.textContent}`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}));\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tmuted: true,\n\t\t\tsources,\n\t\t};\n\t},\n});\n","export default {\"announcementsSubreddit\":\"RESAnnouncements\",\"name\":\"Reddit Enhancement Suite\",\"version\":\"5.18.14\",\"isBeta\":false,\"isPatch\":true,\"isMinor\":false,\"isMajor\":false,\"updatedURL\":\"https://redditenhancementsuite.com/releases/#v5.18.14\",\"homepageURL\":\"https://redditenhancementsuite.com\"};","/* @flow */\n\nimport packageInfo from 'exec-loader?cache!./packageInfo';\n\nexport const {\n\tannouncementsSubreddit,\n\tname,\n\tversion,\n\tisBeta,\n\tisPatch,\n\tisMinor,\n\tisMajor,\n\tupdatedURL,\n\thomepageURL,\n} = packageInfo;\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Host } from '../../core/host';\nimport * as Metadata from '../../core/metadata';\nimport { ajax } from '../../environment';\n\nconst req = url => ajax({\n\turl,\n\ttype: 'json',\n\theaders: {\n\t\t// See https://www.mediawiki.org/wiki/API:Main_page#Identifying_your_client\n\t\t'Api-User-Agent': `Reddit-Enhancement-Suite/${Metadata.version} ( ${Metadata.homepageURL} )`,\n\t},\n});\n\nexport default new Host('wikipedia', {\n\tname: 'wikipedia',\n\tdomains: ['wikipedia.org', 'wikipedia.com'],\n\tlogo: 'https://en.wikipedia.org/static/favicon/wikipedia.ico',\n\tdetect: url => (url.pathname.startsWith('/wiki/') && {\n\t\tarticle: url.pathname.substr(6), // remove \"/wiki/\"\n\t\tlanguage: url.host.split('.')[0],\n\t\thash: decodeURIComponent(url.hash.substr(1)),\n\t}),\n\tasync handleLink(href, { language, article, hash }) {\n\t\t// Fix links with a www, or no lang code. These default to en\n\t\tif (language === 'www' || language === 'wikipedia') language = 'en';\n\n\t\t// If there's a hash, look up its section number\n\t\tconst { index: sectionId = 0 } = hash && (await req(`https://${language}.wikipedia.org/w/api.php?action=parse&format=json&prop=sections&page=${article}&origin=*`)).parse.sections.find(({ anchor }) => anchor === hash) || {};\n\n\t\tconst { parse: html } = await req(`https://${language}.wikipedia.org/w/api.php?action=parse&format=json&prop=text|displaytitle&section=${sectionId}&page=${article}&origin=*`);\n\n\t\t// Clean up returned html\n\t\t// DOMParser won't preload linked resources\n\t\tconst cleanDoc = new DOMParser().parseFromString(html.text['*'], 'text/html');\n\n\t\t// Remove unwanted sections\n\t\tfor (const e of cleanDoc.querySelectorAll('.metadata, .hatnote, .mw-editsection, .mwe-math-mathml-inline, .reference, .references')) e.remove();\n\n\t\t// Update all links to use the article's URL as baseURL\n\t\tfor (const e of cleanDoc.querySelectorAll('a')) {\n\t\t\te.href = new URL(e.getAttribute('href'), `https://${language}.wikipedia.org/wiki/${article}`).href;\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'TEXT',\n\t\t\ttitle: $('<div>', { html: html.displaytitle || html.title }).text(), // get title without html (jquery got quite unhappy when brackets appeared)\n\t\t\tsrc: cleanDoc.body.innerHTML,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('xboxdvr', {\n\tname: 'XboxDVR',\n\tdomains: ['xboxdvr.com'],\n\tlogo: 'https://xboxdvr.com/assets/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(gamer\\/[^\\/]+\\/\\w+\\/\\d+)(?:\\/|$)/).exec(pathname),\n\thandleLink(href, [, path]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://xboxdvr.com/${path}/embed`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('xkcd', {\n\tname: 'xkcd',\n\tdomains: ['xkcd.com'],\n\tpermissions: ['https://xkcd.com/*/info.0.json'],\n\tlogo: 'https://xkcd.com/favicon.ico',\n\tdetect: ({ hostname, pathname }) => (\n\t\t// primarily to exclude what-if.xkcd.com\n\t\t['xkcd.com', 'www.xkcd.com'].includes(hostname) &&\n\t\t(/^\\/([0-9]+)(?:\\/|$)/i).exec(pathname)\n\t),\n\tasync handleLink(href, [, id]) {\n\t\tconst { title, alt, img } = await ajax({\n\t\t\turl: `https://xkcd.com/${id}/info.0.json`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle,\n\t\t\tcaption: alt,\n\t\t\tsrc: img,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { DAY, batch } from '../../utils';\n\nexport default new Host('youtube', {\n\tname: 'youtube',\n\tattribution: false,\n\tdomains: ['youtube.com', 'youtu.be'],\n\tdetect: ({ pathname, hostname, searchParams }) => {\n\t\t// split path excluding first /\n\t\tconst split = pathname.substring(1).split('/');\n\t\t// livestream channel url\n\t\tif (split[0] === 'channel' && split[2] === 'live') return [`live_stream?channel=${split[1]}`, searchParams];\n\t\t// short url\n\t\tif (hostname.endsWith('youtu.be')) return [split[0], searchParams];\n\t\t// long url\n\t\t//   ?v=\n\t\tconst vParam = searchParams.get('v');\n\t\tif (vParam) return [vParam, searchParams];\n\t\t//   watch/embed/v\n\t\tif ((/watch|embed|v/i).exec(split[0])) return [split[1], searchParams];\n\t\t//   attribution_link\n\t\tconst uParam = searchParams.get('u');\n\t\tif (split[0] === 'attribution_link' && uParam !== null) {\n\t\t\tconst vParam = new URLSearchParams(uParam.split('?')[1]).get('v');\n\t\t\tif (vParam) return [vParam, searchParams];\n\t\t}\n\t},\n\thandleLink(href, [id, searchParams]) {\n\t\tconst url = new URL(`https://www.youtube.com/embed/${id}`);\n\t\turl.searchParams.set('version', '3');\n\t\turl.searchParams.set('rel', '0');\n\n\t\tconst tParam = searchParams.get('t');\n\t\tif (tParam) {\n\t\t\tlet start = 0;\n\t\t\tconst timeBlocks = { h: 3600, m: 60, s: 1 };\n\t\t\tconst timeRe = /[0-9]+[hms]/ig;\n\t\t\t// Get each segment e.g. 8m and calculate its value in seconds\n\t\t\tconst timeMatch = tParam.match(timeRe);\n\n\t\t\tif (timeMatch) {\n\t\t\t\tfor (const ts of timeMatch) {\n\t\t\t\t\tconst unit = timeBlocks[ts.slice(-1)];\n\t\t\t\t\tconst amount = parseInt(ts.slice(0, -1), 10);\n\t\t\t\t\t// Add each unit to start\n\t\t\t\t\tstart += unit * amount;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// support direct timestamp e.g. t=200\n\t\t\t\tstart = parseInt(tParam, 10);\n\t\t\t\tif (isNaN(start)) start = 0;\n\t\t\t}\n\t\t\turl.searchParams.set('start', String(start));\n\t\t}\n\n\t\tfor (const k of ['end', 'start', 'list']) {\n\t\t\tconst param = searchParams.get(k);\n\t\t\tif (param) url.searchParams.set(k, param);\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: url.href,\n\t\t\tembedAutoplay: `${url.href}&autoplay=1`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n\tgetVideoData: batch(async ids => {\n\t\tconst { items } = await ajax({\n\t\t\turl: 'https://www.googleapis.com/youtube/v3/videos',\n\t\t\tquery: {\n\t\t\t\tid: [...ids].sort().join(','), // sorted to improve cache hit likelyhood\n\t\t\t\tpart: ['id', 'contentDetails', 'snippet', 'statistics'].join(','),\n\t\t\t\tfields: `items(${['id', 'contentDetails(duration)', 'snippet(title,publishedAt)', 'statistics(viewCount)'].join(',')})`,\n\t\t\t\tkey: 'AIzaSyB8ufxFN0GapU1hSzIbuOLfnFC0XzJousw',\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\treturn ids\n\t\t\t.map(id => {\n\t\t\t\tconst data = items.find(({ id: _id }) => _id === id);\n\t\t\t\ttry {\n\t\t\t\t\tconst { contentDetails: { duration: rawDuration }, snippet: { title, publishedAt }, statistics: { viewCount } } = data;\n\n\t\t\t\t\tconst duration = ['0']\n\t\t\t\t\t\t.concat(rawDuration.match(/^PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?$/i).slice(1)) // PT1H11M46S\n\t\t\t\t\t\t.map(time => `0${time || 0}`.slice(-2))\n\t\t\t\t\t\t.filter((time, i, { length }) => +time !== 0 || i >= length - 2)\n\t\t\t\t\t\t.join(':');\n\n\t\t\t\t\treturn { title, duration, publishedAt, viewCount };\n\t\t\t\t} catch (e) { /* empty */ }\n\t\t\t});\n\t}, { size: 50, delay: 0 }),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('znipe', {\n\tname: 'ZnipeTV',\n\tdomains: ['beta.znipe.tv', 'www.znipe.tv'],\n\tlogo: 'https://assets.znipe.tv/icons/favicon.jpg',\n\tdetect: ({ searchParams }) => {\n\t\tconst mParam = searchParams.get('m');\n\t\tif (mParam) return ['m', mParam];\n\n\t\tconst vParam = searchParams.get('v');\n\t\tif (vParam) return ['v', vParam];\n\t},\n\thandleLink(href, [clipType, clipId]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://beta.znipe.tv/watch?${clipType}=${clipId}`,\n\t\t};\n\t},\n});\n","/* generated by sibling-loader */\nimport { default as _0 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/aarli.js\";\nimport { default as _1 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/adultswim.js\";\nimport { default as _2 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/archilogic.js\";\nimport { default as _3 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/archiveis.js\";\nimport { default as _4 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/bime.js\";\nimport { default as _5 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/clyp.js\";\nimport { default as _6 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/codepen.js\";\nimport { default as _7 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/coub.js\";\nimport { default as _8 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/dailymotion.js\";\nimport { default as _9 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/default.js\";\nimport { default as _10 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/defaultAudio.js\";\nimport { default as _11 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/defaultVideo.js\";\nimport { default as _12 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/derpibooru.js\";\nimport { default as _13 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/deviantart.js\";\nimport { default as _14 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/dropbox.js\";\nimport { default as _15 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/fiveHundredPx.js\";\nimport { default as _16 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/flickr.js\";\nimport { default as _17 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/getyarn.js\";\nimport { default as _18 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/gfycat.js\";\nimport { default as _19 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/gifyoutube.js\";\nimport { default as _20 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/giphy.js\";\nimport { default as _21 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/github.js\";\nimport { default as _22 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/googlemaps.js\";\nimport { default as _23 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/gyazo.js\";\nimport { default as _24 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/hastebin.js\";\nimport { default as _25 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/iloopit.js\";\nimport { default as _26 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/imgflip.js\";\nimport { default as _27 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/imgur.js\";\nimport { default as _28 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/instagram.js\";\nimport { default as _29 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/ireddit.js\";\nimport { default as _30 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/jsfiddle.js\";\nimport { default as _31 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/liveleak.js\";\nimport { default as _32 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/livememe.js\";\nimport { default as _33 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/makeameme.js\";\nimport { default as _34 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/memecrunch.js\";\nimport { default as _35 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/memedad.js\";\nimport { default as _36 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/mixer.js\";\nimport { default as _37 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/navertv.js\";\nimport { default as _38 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/onedrive.js\";\nimport { default as _39 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/pastebin.js\";\nimport { default as _40 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/peertube.js\";\nimport { default as _41 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/photobucket.js\";\nimport { default as _42 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/pixiv.js\";\nimport { default as _43 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/poly.js\";\nimport { default as _44 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/pornhub.js\";\nimport { default as _45 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/ppy.js\";\nimport { default as _46 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/redditbooru.js\";\nimport { default as _47 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/redditmedia.js\";\nimport { default as _48 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/reddituploads.js\";\nimport { default as _49 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/redgifs.js\";\nimport { default as _50 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/ridewithgps.js\";\nimport { default as _51 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/simplecove.js\";\nimport { default as _52 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/snag.js\";\nimport { default as _53 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/soundcloud.js\";\nimport { default as _54 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/spotify.js\";\nimport { default as _55 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/steamcommunity.js\";\nimport { default as _56 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/steampowered.js\";\nimport { default as _57 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/strawpollcom.js\";\nimport { default as _58 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/strawpollme.js\";\nimport { default as _59 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/streamable.js\";\nimport { default as _60 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/streamja.js\";\nimport { default as _61 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/streamvi.js\";\nimport { default as _62 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/supgif.js\";\nimport { default as _63 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/supload.js\";\nimport { default as _64 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/tenor.js\";\nimport { default as _65 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/tumblr.js\";\nimport { default as _66 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twimg.js\";\nimport { default as _67 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twitch.js\";\nimport { default as _68 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twitchclips.js\";\nimport { default as _69 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twitter.js\";\nimport { default as _70 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vidble.js\";\nimport { default as _71 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vimeo.js\";\nimport { default as _72 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vlipsy.js\";\nimport { default as _73 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vlive.js\";\nimport { default as _74 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vreddit.js\";\nimport { default as _75 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/wikipedia.js\";\nimport { default as _76 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/xboxdvr.js\";\nimport { default as _77 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/xkcd.js\";\nimport { default as _78 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/youtube.js\";\nimport { default as _79 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/znipe.js\";\nexport default { \"aarli.js\": _0, \"adultswim.js\": _1, \"archilogic.js\": _2, \"archiveis.js\": _3, \"bime.js\": _4, \"clyp.js\": _5, \"codepen.js\": _6, \"coub.js\": _7, \"dailymotion.js\": _8, \"default.js\": _9, \"defaultAudio.js\": _10, \"defaultVideo.js\": _11, \"derpibooru.js\": _12, \"deviantart.js\": _13, \"dropbox.js\": _14, \"fiveHundredPx.js\": _15, \"flickr.js\": _16, \"getyarn.js\": _17, \"gfycat.js\": _18, \"gifyoutube.js\": _19, \"giphy.js\": _20, \"github.js\": _21, \"googlemaps.js\": _22, \"gyazo.js\": _23, \"hastebin.js\": _24, \"iloopit.js\": _25, \"imgflip.js\": _26, \"imgur.js\": _27, \"instagram.js\": _28, \"ireddit.js\": _29, \"jsfiddle.js\": _30, \"liveleak.js\": _31, \"livememe.js\": _32, \"makeameme.js\": _33, \"memecrunch.js\": _34, \"memedad.js\": _35, \"mixer.js\": _36, \"navertv.js\": _37, \"onedrive.js\": _38, \"pastebin.js\": _39, \"peertube.js\": _40, \"photobucket.js\": _41, \"pixiv.js\": _42, \"poly.js\": _43, \"pornhub.js\": _44, \"ppy.js\": _45, \"redditbooru.js\": _46, \"redditmedia.js\": _47, \"reddituploads.js\": _48, \"redgifs.js\": _49, \"ridewithgps.js\": _50, \"simplecove.js\": _51, \"snag.js\": _52, \"soundcloud.js\": _53, \"spotify.js\": _54, \"steamcommunity.js\": _55, \"steampowered.js\": _56, \"strawpollcom.js\": _57, \"strawpollme.js\": _58, \"streamable.js\": _59, \"streamja.js\": _60, \"streamvi.js\": _61, \"supgif.js\": _62, \"supload.js\": _63, \"tenor.js\": _64, \"tumblr.js\": _65, \"twimg.js\": _66, \"twitch.js\": _67, \"twitchclips.js\": _68, \"twitter.js\": _69, \"vidble.js\": _70, \"vimeo.js\": _71, \"vlipsy.js\": _72, \"vlive.js\": _73, \"vreddit.js\": _74, \"wikipedia.js\": _75, \"xboxdvr.js\": _76, \"xkcd.js\": _77, \"youtube.js\": _78, \"znipe.js\": _79 };","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { sanitize } from 'dompurify';\nimport { flow, keyBy, map } from 'lodash/fp';\nimport type {\n\tExpandoMedia,\n\tGalleryMedia,\n\tImageMedia,\n\tVideoMedia,\n\tAudioMedia,\n\tTextMedia,\n\tIframeMedia,\n\tGenericMedia,\n} from '../core/host';\nimport { Host } from '../core/host';\nimport { Module } from '../core/module';\nimport {\n\tpositiveModulo,\n\tdowncast,\n\tThing,\n\tSelectedThing,\n\taddCSS,\n\tbatch,\n\tCreateElement,\n\telementInViewport,\n\tscrollToElement,\n\tforEachSeq,\n\tidleThrottle,\n\tframeThrottle,\n\tisPageType,\n\tisAppType,\n\tstring,\n\twaitForEvent,\n\twatchForElements,\n\twatchForThings,\n\twatchForRedditEvents,\n\tgetPercentageVisibleYAxis,\n\tgetViewportSize,\n} from '../utils';\nimport {\n\taddURLToHistory,\n\tajax,\n\tdownload,\n\tisPrivateBrowsing,\n\topenNewTab,\n\tPermissions,\n\tStorage,\n} from '../environment';\nimport * as Options from '../core/options';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\nimport {\n\taudioTemplate,\n\tcrosspostMetadataTemplate,\n\tgalleryTemplate,\n\timageTemplate,\n\tiframeTemplate,\n\tmediaControlsTemplate,\n\tsiteAttributionTemplate,\n\ttextTemplate,\n\tvideoTemplate,\n} from './showImages/templates';\nimport {\n\tExpando,\n\texpandos,\n\tactiveExpandos,\n} from './showImages/expando';\nimport __hosts from 'sibling-loader?import=default!./hosts/default';\n\nconst siteModules: { [string]: Host<any, any> } = flow(\n\t() => Object.values(__hosts),\n\tmap(host => downcast(host, Host)), // ensure that all hosts are instances of `Host`\n\tkeyBy(host => host.moduleID),\n)();\n\nexport const genericHosts: Host<any, any>[] = [siteModules.default, siteModules.defaultVideo, siteModules.defaultAudio];\n\nexport const module: Module<*> = new Module('showImages');\n\nmodule.moduleName = 'showImagesName';\nmodule.category = 'productivityCategory';\nmodule.description = 'showImagesDesc';\nmodule.bodyClass = true;\nmodule.options = {\n\tmediaBrowse: {\n\t\ttitle: 'showImagesMediaBrowseTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesMediaBrowseDesc',\n\t},\n\tbrowsePreloadCount: {\n\t\ttitle: 'showImagesBrowsePreloadCountTitle',\n\t\ttype: 'text',\n\t\tvalue: '1',\n\t\tdescription: 'showImagesBrowsePreloadCountDesc',\n\t\tdependsOn: options => options.mediaBrowse.value,\n\t},\n\tgalleryPreloadCount: {\n\t\ttitle: 'showImagesGalleryPreloadCountTitle',\n\t\ttype: 'text',\n\t\tvalue: '2',\n\t\tdescription: 'showImagesGalleryPreloadCountDesc',\n\t},\n\tconserveMemory: {\n\t\ttitle: 'showImagesConserveMemoryTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesConserveMemoryDesc',\n\t},\n\tmaxWidth: {\n\t\ttitle: 'showImagesMaxWidthTitle',\n\t\ttype: 'text',\n\t\tvalue: '100%',\n\t\tdescription: 'showImagesMaxWidthDesc',\n\t\tadvanced: true,\n\t},\n\tmaxHeight: {\n\t\ttitle: 'showImagesMaxHeightTitle',\n\t\ttype: 'text',\n\t\tvalue: '80%',\n\t\tdescription: 'showImagesMaxHeightDesc',\n\t\tadvanced: true,\n\t},\n\tdisplayOriginalResolution: {\n\t\ttitle: 'showImagesDisplayOriginalResolutionTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesDisplayOriginalResolutionDesc',\n\t},\n\tselfTextMaxHeight: {\n\t\ttitle: 'showImagesSelfTextMaxHeightTitle',\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesSelfTextMaxHeightDesc',\n\t\tadvanced: true,\n\t},\n\tcommentMaxHeight: {\n\t\ttitle: 'showImagesCommentMaxHeightTitle',\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesCommentMaxHeightDesc',\n\t\tadvanced: true,\n\t},\n\tautoMaxHeight: {\n\t\ttitle: 'showImagesAutoMaxHeightTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesAutoMaxHeightDesc',\n\t\tdependsOn: options => !!parseInt(options.selfTextMaxHeight.value, 10) || !!parseInt(options.commentMaxHeight.value, 10),\n\t\tadvanced: true,\n\t},\n\topenInNewWindow: {\n\t\ttitle: 'showImagesOpenInNewWindowTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesOpenInNewWindowDesc',\n\t},\n\thideNSFW: {\n\t\ttitle: 'showImagesHideNSFWTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesHideNSFWDesc',\n\t},\n\thighlightNSFWButton: {\n\t\ttitle: 'showImagesHighlightNSFWButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesHighlightNSFWButtonDesc',\n\t\tbodyClass: true,\n\t},\n\thighlightSpoilerButton: {\n\t\ttitle: 'showImagesHighlightSpoilerButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesHighlightSpoilerButtonDesc',\n\t\tbodyClass: true,\n\t},\n\timageZoom: {\n\t\ttitle: 'showImagesImageZoomTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesImageZoomDesc',\n\t},\n\timageMove: {\n\t\ttitle: 'showImagesImageMoveTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesImageMoveDesc',\n\t},\n\tmediaControls: {\n\t\ttitle: 'showImagesMediaControlsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesMediaControlsDesc',\n\t},\n\tmediaControlsPosition: {\n\t\ttitle: 'showImagesMediaControlsPositionTitle',\n\t\tdependsOn: options => options.mediaControls.value,\n\t\ttype: 'enum',\n\t\tvalue: 'top-left',\n\t\tvalues: [{\n\t\t\tname: 'Top left',\n\t\t\tvalue: 'top-left',\n\t\t}, {\n\t\t\tname: 'Top right',\n\t\t\tvalue: 'top-right',\n\t\t}, {\n\t\t\tname: 'Bottom left.',\n\t\t\tvalue: 'bottom-left',\n\t\t}, {\n\t\t\tname: 'Bottom right.',\n\t\t\tvalue: 'bottom-right',\n\t\t}],\n\t\tdescription: 'showImagesMediaControlsPositionDesc',\n\t},\n\tclippy: {\n\t\ttitle: 'showImagesClippyTitle',\n\t\tdependsOn: options => options.mediaControls.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesClippyDesc',\n\t},\n\tcrossposts: {\n\t\ttitle: 'showImagesCrosspostsTitle',\n\t\tdescription: 'showImagesCrosspostsDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'withMetadata',\n\t\tvalues: [{\n\t\t\tname: 'Do not replace Reddit crosspost expando',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Show with original post\\'s metadata',\n\t\t\tvalue: 'withMetadata',\n\t\t}, {\n\t\t\tname: 'Show without metadata',\n\t\t\tvalue: 'plain',\n\t\t}],\n\t},\n\tdisplayImageCaptions: {\n\t\ttitle: 'showImagesDisplayImageCaptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesDisplayImageCaptionsDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tcaptionsPosition: {\n\t\ttitle: 'showImagesCaptionsPositionTitle',\n\t\tdependsOn: options => options.displayImageCaptions.value,\n\t\ttype: 'enum',\n\t\tvalue: 'titleAbove',\n\t\tvalues: [{\n\t\t\tname: 'Display all captions above image.',\n\t\t\tvalue: 'allAbove',\n\t\t}, {\n\t\t\tname: 'Display title and caption above image, credits below.',\n\t\t\tvalue: 'creditsBelow',\n\t\t}, {\n\t\t\tname: 'Display title above image, caption and credits below.',\n\t\t\tvalue: 'titleAbove',\n\t\t}, {\n\t\t\tname: 'Display all captions below image.',\n\t\t\tvalue: 'allBelow',\n\t\t}],\n\t\tdescription: 'showImagesCaptionsPositionDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tmarkVisited: {\n\t\ttitle: 'showImagesMarkVisitedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesMarkVisitedDesc',\n\t\tadvanced: true,\n\t},\n\tmarkSelftextVisited: {\n\t\ttitle: 'showImagesMarkSelftextVisitedTitle',\n\t\tdependsOn: options => options.markVisited.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesMarkSelftextVisitedDesc',\n\t\tadvanced: true,\n\t},\n\tsfwHistory: {\n\t\ttitle: 'showImagesSfwHistoryTitle',\n\t\tdependsOn: options => options.markVisited.value,\n\t\ttype: 'enum',\n\t\tvalue: 'add',\n\t\tvalues: [{\n\t\t\tname: 'Add links to history',\n\t\t\tvalue: 'add',\n\t\t}, {\n\t\t\tname: 'Do not add or color links.',\n\t\t\tvalue: 'none',\n\t\t}],\n\t\tdescription: 'showImagesSfwHistoryDesc',\n\t},\n\tgalleryRememberWidth: {\n\t\ttitle: 'showImagesGalleryRememberWidthTitle',\n\t\tdependsOn: options => options.imageZoom.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesGalleryRememberWidthDesc',\n\t},\n\tgalleryAsFilmstrip: {\n\t\ttitle: 'showImagesGalleryAsFilmstripTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesGalleryAsFilmstripDesc',\n\t},\n\tfilmstripLoadIncrement: {\n\t\ttitle: 'showImagesFilmstripLoadIncrementTitle',\n\t\tdependsOn: options => options.galleryAsFilmstrip.value,\n\t\ttype: 'text',\n\t\tvalue: '30',\n\t\tdescription: 'showImagesFilmstripLoadIncrementDesc',\n\t},\n\tuseSlideshowWhenLargerThan: {\n\t\ttitle: 'showImagesUseSlideshowWhenLargerThanTitle',\n\t\tdependsOn: options => options.galleryAsFilmstrip.value,\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesUseSlideshowWhenLargerThanDesc',\n\t},\n\tshowViewImagesTab: {\n\t\ttitle: 'showImagesShowViewImagesTabTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesShowViewImagesTabDesc',\n\t},\n\tautoExpandTypes: {\n\t\ttitle: 'showImagesAutoExpandTypesTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'any',\n\t\tvalues: [{\n\t\t\tname: 'Images (but occasionally also .gif)',\n\t\t\tvalue: 'image',\n\t\t}, {\n\t\t\tname: 'Images, text',\n\t\t\tvalue: 'image text',\n\t\t}, {\n\t\t\tname: 'Images, text, galleries, and muted videos',\n\t\t\tvalue: 'image text gallery video',\n\t\t}, {\n\t\t\tname: 'All muted expandos (includes iframes)',\n\t\t\tvalue: 'any',\n\t\t}],\n\t\tdescription: 'showImagesAutoExpandTypesDesc',\n\t},\n\tautoExpandSelfText: {\n\t\ttitle: 'showImagesAutoExpandSelfTextTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesAutoExpandSelfTextDesc',\n\t},\n\tautoExpandSelfTextFirstVisibleNonMuted: {\n\t\ttitle: 'showImagesAutoExpandSelfTextFirstVisibleNonMutedTitle',\n\t\tdependsOn: options => options.autoExpandSelfText.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesAutoExpandSelfTextFirstVisibleNonMutedDesc',\n\t},\n\tautoExpandSelfTextNSFW: {\n\t\ttitle: 'showImagesAutoExpandSelfTextNSFWTitle',\n\t\tdependsOn: options => options.autoExpandSelfText.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesAutoExpandSelfTextNSFWDesc',\n\t},\n\tshowSiteAttribution: {\n\t\ttitle: 'showImagesShowSiteAttributionTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesShowSiteAttributionDesc',\n\t},\n\texpandoCommentRedirects: {\n\t\ttitle: 'showImagesExpandoCommentRedirectsTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'expando',\n\t\tvalues: [{\n\t\t\tname: 'Do nothing',\n\t\t\tvalue: 'nothing',\n\t\t}, {\n\t\t\tname: 'Create expandos',\n\t\t\tvalue: 'expando',\n\t\t}, {\n\t\t\tname: 'Create expandos, redirect the link back to the image',\n\t\t\tvalue: 'rewrite',\n\t\t}],\n\t\tdescription: 'showImagesExpandoCommentRedirectsDesc',\n\t},\n\tstartVideosMuted: {\n\t\ttitle: 'showImagesStartVideosMutedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesStartVideosMutedDesc',\n\t},\n\tonlyPlayMutedWhenVisible: {\n\t\ttitle: 'showImagesOnlyPlayMutedWhenVisibleTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesOnlyPlayMutedWhenVisibleDesc',\n\t},\n\tmaxSimultaneousPlaying: {\n\t\ttitle: 'showImagesMaxSimultaneousPlayingTitle',\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesMaxSimultaneousPlayingDesc',\n\t},\n\tautoplayVideo: {\n\t\ttitle: 'showImagesAutoplayVideoTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesAutoplayVideoDesc',\n\t},\n\thidePinnedRedditVideos: {\n\t\ttitle: 'showImagesHidePinnedRedditVideosTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesHidePinnedRedditVideosDesc',\n\t\tbodyClass: true,\n\t},\n\t...Object.values(siteModules).reduce((options, siteModule) => {\n\t\t// Ignore default\n\t\tif (genericHosts.includes(siteModule)) return options;\n\n\t\t// Create on/off options\n\t\toptions[siteModuleOptionKey(siteModule)] = {\n\t\t\ttitle: siteModule.name,\n\t\t\tdescription: 'showImagesHostToggleDesc',\n\t\t\tvalue: true,\n\t\t\ttype: 'boolean',\n\t\t};\n\n\t\t// Find out if module has any additional options - if it does add them\n\t\tObject.assign(options, siteModule.options);\n\n\t\treturn options;\n\t}, {}),\n};\nmodule.exclude = [\n\t/^\\/ads\\/[\\-\\w\\._\\?=]*/i,\n\t'submit',\n\t/^\\/subreddits/i,\n];\n\nmodule.beforeLoad = () => {\n\tconst selfTextMaxHeight = parseInt(module.options.selfTextMaxHeight.value, 10);\n\tif (selfTextMaxHeight) {\n\t\t// Strange selector necessary to select tumblr expandos, etc.\n\t\taddCSS(`\n\t\t\t.selftext.expanded ~ * .md {\n\t\t\t\tmax-height: ${selfTextMaxHeight}px;\n\t\t\t\toverflow-y: auto !important;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t`);\n\t}\n\n\tconst commentMaxHeight = parseInt(module.options.commentMaxHeight.value, 10);\n\tif (commentMaxHeight) {\n\t\taddCSS(`\n\t\t\t.comment .md {\n\t\t\t\tmax-height: ${commentMaxHeight}px;\n\t\t\t\toverflow-y: auto !important;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t`);\n\t}\n\n\twatchForElements(['selfText'], null, scanBody);\n\twatchForThings(['comment', 'message'], thing => scanBody(thing.getTextBody()), { id: module });\n\twatchForThings(['post'], thing => checkElementForMedia(thing.getPostLink()), { id: module });\n\n\twatchForRedditEvents('comment', (placeholder, { _: { update } }) => {\n\t\tif (update) return;\n\t\tconst comment = placeholder.closest('.Comment');\n\t\t// TODO `comment` should be refined to the text body, but it doesn't yet have a class\n\t\tscanBody(comment);\n\t});\n\n\t// selftexts in comment pages evidently does not emit an event\n\t// TODO this prevent expando from being added when there's already media there\n\twatchForRedditEvents('postAuthor', (placeholder, { _: { update } }) => {\n\t\tif (update) return;\n\t\tconst body = placeholder.closest('[data-test-id=\"post-content\"]');\n\t\t// Ignore posts that has native media\n\t\tif (body && body.querySelector('.media-element')) return;\n\t\tscanBody(body);\n\t});\n};\n\nmodule.contentStart = () => {\n\tif (module.options.showViewImagesTab.value && isAppType('r2')) {\n\t\tviewImagesButton();\n\t}\n\n\tif (module.options.mediaBrowse.value) {\n\t\tSelectedThing.addListener(mediaBrowse, 'instantly');\n\t}\n\n\tif (module.options.autoMaxHeight.value) {\n\t\t$(document.body).on('mediaResize', '.thing > .entry', updateParentHeight);\n\t}\n};\n\nmodule.go = () => {\n\tif (isPageType('wiki')) scanBody(document.querySelector('.wiki-page-content'));\n\n\t// Handle spotlight next/prev hiding open expando's\n\tconst spotlight = document.querySelector('#siteTable_organic');\n\tif (spotlight) {\n\t\tconst nextprev = spotlight.querySelector('.nextprev');\n\t\tif (nextprev) {\n\t\t\tnextprev.addEventListener('click', () => {\n\t\t\t\tconst open = spotlight.querySelector('.expando-button.expanded');\n\t\t\t\tif (open) open.click();\n\t\t\t});\n\t\t}\n\t}\n};\n\nmodule.afterLoad = () => {\n\tif (module.options.conserveMemory.value) {\n\t\tenableConserveMemory();\n\t}\n};\n\nfunction siteModuleOptionKey(siteModule) {\n\tconst id = siteModule.moduleID;\n\treturn `display_${id}`;\n}\n\nfunction isSiteModuleEnabled(siteModule) {\n\tconst key = siteModuleOptionKey(siteModule);\n\treturn !module.options[key] || module.options[key].value;\n}\n\nconst sitesMap = _.once(() =>\n\tObject.values(siteModules)\n\t\t.filter(isSiteModuleEnabled)\n\t\t.reduce((map, siteModule) => {\n\t\t\tfor (const domain of siteModule.domains) {\n\t\t\t\tmap.set(domain, (map.get(domain) || []).concat(siteModule));\n\t\t\t}\n\t\t\treturn map;\n\t\t}, new Map()),\n);\n\n// A missing subdomain matches all subdomains, for example:\n// A module with `domains: ['example.com']` will match `www.example.com` and `example.com`\n// A module with `domains: ['www.example.com']` will match only `www.example.com`\nfunction* modulesForHostname(hostname) {\n\tdo {\n\t\tfor (const m of sitesMap().get(hostname) || []) yield m;\n\t} while ((hostname = hostname.replace(/^.+?(\\.|$)/, '')));\n\n\tfor (const m of genericHosts) yield m;\n}\n\n/**\n * enableConserveMemory\n * attempt to unload collapsed expando's & images that are off screen in order\n * to save memory\n */\nfunction enableConserveMemory() {\n\t// Making elements fullscreen makes the intersectionobserver report that nothing is intersecting\n\t// $FlowIssue `mozFullScreenElement` is not recognized\n\tconst fullscreenActive = () => !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement: any);\n\n\t// x-axis is set to 100000% in order to not unload images when scrolling too far horizontally\n\tconst rootMargin = '50% 100000%';\n\n\tconst boxMap = new WeakMap();\n\tconst ioBox = new IntersectionObserver(entries => {\n\t\tfor (const { isIntersecting, target } of entries) {\n\t\t\tif (!isIntersecting && fullscreenActive()) return;\n\t\t\tconst { media } = downcast(boxMap.get(target), Expando);\n\t\t\tif (media) media.setLoaded(isIntersecting);\n\t\t\telse ioBox.unobserve(target);\n\t\t}\n\t}, { rootMargin });\n\n\tconst buttonMap = new WeakMap();\n\tconst ioButton = new IntersectionObserver(entries => {\n\t\tif (fullscreenActive()) return;\n\t\tfor (const { isIntersecting, target } of entries) {\n\t\t\tconst expando = downcast(buttonMap.get(target), Expando);\n\t\t\tconst { open } = expando;\n\t\t\tif (!isIntersecting && !open) {\n\t\t\t\tioButton.unobserve(target);\n\t\t\t\texpando.empty();\n\t\t\t}\n\t\t}\n\t}, { rootMargin });\n\n\twindow.addEventListener('scroll', idleThrottle(() => {\n\t\tfor (const expando of activeExpandos.values()) {\n\t\t\tif (expando.isAttached()) {\n\t\t\t\tconst { box, media, button } = expando;\n\t\t\t\tif (!media) continue;\n\t\t\t\tif (media.supportsUnload()) {\n\t\t\t\t\tioBox.observe(box);\n\t\t\t\t\tboxMap.set(box, expando);\n\t\t\t\t} else {\n\t\t\t\t\tioButton.observe(button);\n\t\t\t\t\tbuttonMap.set(button, expando);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\texpando.destroy();\n\t\t\t}\n\t\t}\n\t}));\n}\n\nlet autoExpandActive = false;\nlet mediaBrowseModeActive = false;\n\nexport const viewImagesButton = _.once(() => CreateElement.tabMenuItem({\n\ttext: 'show images',\n\tclassName: 'res-show-images',\n\tonChange: active => {\n\t\tautoExpandActive = active;\n\t\t// When activated, open the new ones in addition to the ones already open\n\t\t// When deactivated, close all which are open\n\t\tfor (const expando of Array.from(expandos.values()).filter(expando => expando instanceof Expando && expando.button.offsetParent)) {\n\t\t\tconst open = isExpandWanted(expando);\n\t\t\tif (open) expando.expand();\n\t\t\telse if (!autoExpandActive) expando.collapse();\n\t\t}\n\t},\n}));\n\nexport function toggleThingExpandos(thing: Thing, { scrollOnToggle }: {| scrollOnToggle?: boolean |} = {}): void {\n\tconst expandos = Expando.getAllExpandosFrom(thing);\n\tif (!expandos.length) return;\n\n\tconst openExpandos = expandos.filter(v => v.open);\n\n\t// If any open expandos exists within thing, collapse all\n\t// Else, expand all\n\tif (openExpandos.length) {\n\t\tfor (const expando of openExpandos) expando.collapse();\n\n\t\tif (scrollOnToggle) {\n\t\t\t// Only scroll downwards to the top of the entry, to make more space for the expandos\n\t\t\tscrollToElement(thing.entry, null, { scrollStyle: 'directional', restrictDirectionTo: 'up' });\n\t\t}\n\t} else {\n\t\tfor (const expando of expandos) {\n\t\t\tif (\n\t\t\t\t!(expando instanceof Expando) ||\n\t\t\t\tisExpandWanted(expando, { thing, autoExpandFirstVisibleNonMutedInThing: true, autoExpand: true, autoExpandTypes: [], ignoreDuplicatesScope: thing.entry })\n\t\t\t) {\n\t\t\t\texpando.expand();\n\t\t\t}\n\t\t}\n\n\t\tif (scrollOnToggle) {\n\t\t\t// Only scroll downwards to the top of the entry, to make more space for the expandos\n\t\t\tscrollToElement(thing.entry, null, { scrollStyle: 'top', restrictDirectionTo: 'down' });\n\t\t}\n\t}\n}\n\n// idleThrottle since this is low-priority\nconst preloadExpandos = idleThrottle((fromThing, direction, preloadCount = parseInt(module.options.browsePreloadCount.value, 10)) => {\n\tconst pieces = [];\n\tlet target = fromThing;\n\n\tdo {\n\t\tconst expando = Expando.getEntryExpandoFrom(target);\n\t\tif (expando && expando instanceof Expando) pieces.push(expando);\n\t} while ((target = target.getNext({ direction })) && pieces.length <= preloadCount);\n\n\tpreloadMedia(pieces);\n});\n\nfunction mediaBrowse(selected, unselected, options) {\n\tif (!selected || !options.allowMediaBrowse || autoExpandActive) return;\n\n\tconst oldExpando = Expando.getEntryExpandoFrom(unselected);\n\tconst newExpando = Expando.getEntryExpandoFrom(selected);\n\n\tif (oldExpando) {\n\t\tmediaBrowseModeActive = oldExpando.expandWanted || oldExpando.open;\n\t\toldExpando.collapse();\n\t}\n\n\tif (mediaBrowseModeActive && newExpando) {\n\t\tnewExpando.expand();\n\t\toptions.scrollStyle = 'top';\n\n\t\tpreloadExpandos(selected, options.direction);\n\t}\n}\n\nfunction hasEntryAnyExpandedNonMuted(thing) {\n\treturn Expando.getTextExpandosFrom(thing).some(expando =>\n\t\texpando.types.includes('non-muted') && (expando.open || expando.expandWanted),\n\t);\n}\n\nexport const types = ['selftext', 'video', 'image', 'iframe', 'gallery', 'native', 'muted', 'non-muted'];\n\nexport function matchesTypes(wantedTypes: string[], expandoTypes: string[] = types): boolean {\n\treturn !!expandoTypes.length && (!wantedTypes.length || !!_.intersection(expandoTypes, wantedTypes).length);\n}\n\nfunction isExpandWanted(expando: Expando, {\n\tthing,\n\tautoExpand = autoExpandActive,\n\tautoExpandTypes = module.options.autoExpandTypes.value.replace('any', '').split(' ').filter(Boolean),\n\tignoreDuplicates = true,\n\tignoreDuplicatesScope,\n\tonlyExpandMuted = true,\n\tautoExpandFirstVisibleNonMutedInThing = false,\n}: {|\n\tthing?: ?Thing,\n\tautoExpand?: boolean,\n\tautoExpandTypes?: string[],\n\tignoreDuplicates?: boolean,\n\tignoreDuplicatesScope?: HTMLElement,\n\tonlyExpandMuted?: boolean,\n\tautoExpandFirstVisibleNonMutedInThing?: boolean,\n|} = {}) {\n\tif (ignoreDuplicates) {\n\t\tconst duplicates = expando.getDuplicates().filter(v => activeExpandos.has(v));\n\t\tif (duplicates.length) {\n\t\t\tif (!ignoreDuplicatesScope) return false;\n\t\t\tif (duplicates.some(v => ignoreDuplicatesScope.contains(v.button))) return false;\n\t\t}\n\t}\n\n\tconst expandoIsNonMuted = expando.types.includes('non-muted');\n\n\tconst typeCriteriaOK = matchesTypes(autoExpandTypes, expando.types);\n\tconst muteCriteriaOK = !(onlyExpandMuted && expandoIsNonMuted) ||\n\t\t(autoExpandFirstVisibleNonMutedInThing && elementInViewport(expando.button) && !hasEntryAnyExpandedNonMuted(thing));\n\n\treturn autoExpand && muteCriteriaOK && typeCriteriaOK;\n}\n\nfunction resolveMediaUrl(element, thing) {\n\tif (\n\t\tmodule.options.expandoCommentRedirects.value !== 'nothing' &&\n\t\tthing &&\n\t\telement.classList.contains('title')\n\t) {\n\t\tconst dataUrl = thing.element.getAttribute('data-url');\n\t\tconst fullDataUrl = dataUrl && new URL(dataUrl, location.href);\n\t\tconst commentLink = thing.getCommentsLink();\n\t\tif (fullDataUrl && commentLink && fullDataUrl.href !== commentLink.href) {\n\t\t\treturn fullDataUrl;\n\t\t}\n\t}\n\n\treturn new URL(element.href, location.href);\n}\n\nfunction promptSiteModulePermissions(siteModule) {\n\tconst { name, permissions = [] } = siteModule;\n\tconst urlStripRe = /((?:\\w+\\.)+\\w+)(?=\\/|$)/i;\n\n\tconst message = string.html`<div>\n\t\t<p>In order to inline expand content from ${name}, RES needs permission to access these sites:</p>\n\t\t<p><code>${permissions.map(url => `${(urlStripRe.exec(url): any)[0]}`).join(', \\n')}</code></p>\n\t\t<p>Be assured RES does not access/modify any of your information on these domains - it only accesses the public API.</p>\n\t\t<hr>\n\t\t<p>If you prefer not to use RES' expando for these sites, you may:</p>\n\t\t<button>Disable this host</button>\n\t</div>`;\n\n\tconst notification = Notifications.showNotification({\n\t\theader: 'Permission required',\n\t\tmoduleID: 'permissions',\n\t\tcloseDelay: Infinity,\n\t\tmessage,\n\t});\n\n\tconst disableHostButton = message.querySelector('button');\n\n\treturn Promise.race([\n\t\tPermissions.request(permissions).catch(() => new Promise(() => { /* don't resolve if permissions aren't granted */ })),\n\t\twaitForEvent(disableHostButton, 'click').then(() => {\n\t\t\tconst opt = module.options[siteModuleOptionKey(siteModule)];\n\t\t\topt.value = false;\n\t\t\tOptions.save(opt);\n\t\t\treturn Promise.reject(new Error('Host disabled'));\n\t\t}),\n\t]).finally(() => { notification.close(); });\n}\n\nconst generateSiteModuleLock = _.memoize(async siteModule => {\n\tif (!siteModule.permissions || await Permissions.has(siteModule.permissions)) return;\n\n\tlet resolve, reject;\n\treturn {\n\t\tpromise: new Promise((_resolve, _reject) => { resolve = _resolve; reject = _reject; }),\n\t\topen: () => promptSiteModulePermissions(siteModule).then(resolve, reject),\n\t};\n});\n\nfunction scanBody(element: ?Element) {\n\tif (!element) return;\n\tfor (const link of element.querySelectorAll('a')) {\n\t\tcheckElementForMedia(downcast(link, HTMLAnchorElement));\n\t}\n}\n\nconst linksMap: WeakMap<HTMLAnchorElement, Expando> = new WeakMap();\nexport function getLinkExpando(link: HTMLAnchorElement): ?Expando {\n\treturn linksMap.get(link);\n}\n\nconst inText = element => !!element.closest('.md, .search-result-footer');\n\nasync function checkElementForMedia(element: HTMLAnchorElement) {\n\tconst thing = Thing.from(element);\n\tconst entryExpando = !inText(element) && Expando.getEntryExpandoFrom(thing);\n\tconst nativeExpando = entryExpando instanceof Expando ? null : entryExpando;\n\n\tif (module.options.hideNSFW.value && thing && thing.isNSFW()) {\n\t\tif (nativeExpando) nativeExpando.detach();\n\t\treturn;\n\t}\n\n\tif (nativeExpando) {\n\t\ttrackNativeExpando(nativeExpando, element, thing);\n\n\t\tif (nativeExpando.open) {\n\t\t\tconsole.log('Native expando has already been opened; skipping.', element.href);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tif (thing && thing.isCrosspost() && module.options.crossposts.value === 'none') {\n\t\treturn;\n\t}\n\n\tconst mediaUrl = resolveMediaUrl(element, thing);\n\n\tif (mediaUrl && module.options.expandoCommentRedirects.value === 'rewrite') {\n\t\telement.href = mediaUrl.href;\n\t\telement.removeAttribute('data-inbound-url');\n\t}\n\n\tfor (const siteModule of modulesForHostname(mediaUrl.hostname)) {\n\t\tif (nativeExpando) {\n\t\t\tconst { options: { replaceNativeExpando } = {} } = siteModule;\n\t\t\tif (replaceNativeExpando && !replaceNativeExpando.value) continue;\n\t\t}\n\n\t\tconst detectResult = siteModule.detect(mediaUrl, thing);\n\t\tif (!detectResult) continue;\n\n\t\tconst expando = new Expando(mediaUrl.href);\n\n\t\tif (nativeExpando) nativeExpando.detach();\n\t\tplaceExpando(expando, element, thing);\n\t\texpando.onExpand(() => { trackMediaLoad(element, thing); });\n\t\tlinksMap.set(element, expando);\n\n\t\tconst lock = await generateSiteModuleLock(siteModule); // eslint-disable-line no-await-in-loop\n\t\tif (lock) expando.setLock(lock);\n\n\t\ttry {\n\t\t\tif (lock) await lock.promise; // eslint-disable-line no-await-in-loop\n\t\t\tawait completeExpando(expando, thing, siteModule, detectResult); // eslint-disable-line no-await-in-loop\n\t\t\tbreak;\n\t\t} catch (e) {\n\t\t\tconsole.error(`showImages: could not create expando for ${mediaUrl.href}`, e);\n\t\t\tif (nativeExpando) nativeExpando.reattach();\n\t\t\texpando.destroy();\n\t\t\tlinksMap.delete(element);\n\t\t}\n\t}\n}\n\nfunction placeExpando(expando, element, thing) {\n\tif (!inText(element) && thing && thing.getTitleElement()) {\n\t\tif (element.parentElement) element.parentElement.after(expando.button);\n\t\t// Position our expando button after the original button if possible, to not break Reddit's expando\n\t\tconst sibling = expando.button.nextElementSibling;\n\t\tif (sibling && sibling.classList.contains('expando-button')) sibling.after(expando.button);\n\t\tthing.entry.appendChild(expando.box);\n\t} else {\n\t\t$(element).add($(element).next('.keyNavAnnotation')).last()\n\t\t\t.after(expando.box)\n\t\t\t.after($('<span class=\"res-freetext-expando\">').append(expando.button));\n\t}\n}\n\nasync function completeExpando(expando, thing, siteModule, detectResult) {\n\tconst mediaOptions = await siteModule.handleLink(expando.href, detectResult);\n\n\tif (mediaOptions.title && thing && string.areSimilar(mediaOptions.title, thing.getTitle())) {\n\t\tmediaOptions.title = '';\n\t}\n\n\tconst attribution = module.options.showSiteAttribution.value &&\n\t\tthing && thing.isPost() && !thing.isSelfPost() &&\n\t\tsiteModule.domains.length && siteModule.attribution !== false;\n\n\tconst isMuted = media => media.muted || ['IMAGE', 'TEXT'].includes(media.type);\n\tconst muted = mediaOptions.type === 'GALLERY' ? mediaOptions.src.every(isMuted) : isMuted(mediaOptions);\n\n\texpando.initialize({\n\t\ttypes: [\n\t\t\tmediaOptions.type,\n\t\t\tmuted ? 'muted' : 'non-muted',\n\t\t\t...((mediaOptions.expandoClass || '').split(' ')),\n\t\t].filter(v => v).map(s => s.toLowerCase()),\n\t\tbuttonInfo: getMediaButtonInfo(mediaOptions),\n\t\tgenerateMedia() {\n\t\t\tconst media = generateMedia(mediaOptions, { href: expando.href });\n\t\t\tif (module.options.crossposts.value === 'withMetadata' && thing && thing.isCrosspost()) {\n\t\t\t\tmedia.element.prepend(crosspostMetadataTemplate(thing.element.dataset));\n\t\t\t}\n\t\t\tif (attribution) addSiteAttribution(siteModule, media);\n\t\t\treturn media;\n\t\t},\n\t});\n\n\texpando.button.setAttribute('data-host', siteModule.moduleID);\n\texpando.box.setAttribute('data-host', siteModule.moduleID);\n\n\tconst hideButton = thing && thing.getHideElement();\n\tif (hideButton) hideButton.addEventListener('click', () => { expando.destroy(); });\n\n\tif (thing && thing.isComment()) {\n\t\texpando.onExpand(_.once(() => {\n\t\t\tlet wasOpen;\n\n\t\t\t// Collapse / restore expandos when toggling comment visibility\n\t\t\t$([thing, ...thing.getParents()].map(e => e.entry))\n\t\t\t\t.find('.tagline > .expand, > .buttons .toggleChildren')\n\t\t\t\t.click(() => {\n\t\t\t\t\tif (thing.isContentVisible()) {\n\t\t\t\t\t\tif (wasOpen && expando.media) expando.expand();\n\t\t\t\t\t} else {\n\t\t\t\t\t\twasOpen = expando.open;\n\t\t\t\t\t\tif (expando.open) expando.collapse();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}));\n\t}\n\n\t// The d2x lightbox hides overflowing media\n\texpando.onExpand(() => {\n\t\tconst lightbox = expando.media.element.closest('#overlayScrollContainer');\n\t\tif (lightbox) lightbox.firstChild.style.overflowY = 'initial';\n\t});\n\n\t// Start loading media early to make it snappier\n\texpando.button.addEventListener('mousedown', () => { preloadMedia([expando]); });\n\n\tif (!expando.open) {\n\t\tlet autoExpand;\n\t\tlet autoExpandFirstVisibleNonMutedInThing;\n\n\t\tif (module.options.autoExpandSelfText.value && inText(expando.button) && thing && thing.isSelfPost() && !isPageType('comments')) {\n\t\t\tconst dontAutoExpandNSFW = !module.options.autoExpandSelfTextNSFW.value && thing.isNSFW();\n\t\t\tautoExpand = !dontAutoExpandNSFW;\n\t\t\tautoExpandFirstVisibleNonMutedInThing = module.options.autoExpandSelfTextFirstVisibleNonMuted.value;\n\t\t}\n\n\t\tif (isExpandWanted(expando, { thing, autoExpand, autoExpandFirstVisibleNonMutedInThing })) {\n\t\t\texpando.expand();\n\t\t}\n\t}\n}\n\nfunction updateParentHeight(e) {\n\tconst thing = Thing.checkedFrom(e.currentTarget);\n\n\tconst basisHeight = (\n\t\tthing.isSelfPost() && parseInt(module.options.selfTextMaxHeight.value, 10) ||\n\t\tthing.isComment() && parseInt(module.options.commentMaxHeight.value, 10) ||\n\t\t0\n\t);\n\n\tif (basisHeight > 0) {\n\t\t// .expando-button causes a line break\n\t\tconst expandoHeight = Array\n\t\t\t.from(thing.entry.querySelectorAll('.res-expando-box, .expando-button.expanded'))\n\t\t\t.reduce((a, b) => a + b.getBoundingClientRect().height, 0);\n\n\t\tthing.element.querySelector('.md').style.maxHeight = `${basisHeight + expandoHeight}px`;\n\t}\n}\n\nfunction trackNativeExpando(expando, element, thing) {\n\tif (!module.options.markSelftextVisited.value && expando.button.classList.contains('selftext')) return;\n\n\tconst trackLoad = _.once(() => trackMediaLoad(element, thing));\n\n\tif (expando.open) trackLoad();\n\telse expando.button.addEventListener('click', trackLoad);\n}\n\nfunction getMediaButtonInfo(options) {\n\tlet title = '';\n\n\tlet type = options.type;\n\n\tif (options.type === 'GALLERY') {\n\t\tif (options.src.length === 1) {\n\t\t\ttype = options.src[0].type;\n\t\t} else {\n\t\t\ttitle += `${options.src.length} items in gallery`;\n\t\t}\n\t}\n\n\tconst defaultClass = {\n\t\tIMAGE: 'image',\n\t\tGALLERY: 'image gallery',\n\t\tTEXT: 'selftext',\n\t\tVIDEO: options.muted ? 'video-muted' : 'video',\n\t\tIFRAME: options.muted ? 'video-muted' : 'video',\n\t\tAUDIO: 'video', // yes, still class \"video\", that's what reddit uses.\n\t\tGENERIC_EXPANDO: 'selftext',\n\t}[type];\n\n\treturn {\n\t\ttitle,\n\t\tmediaClass: options.expandoClass || defaultClass,\n\t};\n}\n\nlet lastPreloadIndex = 0;\nfunction preloadMedia(pieces) {\n\t// Avoid potentially unwanted side-effects by only allowing one concurrent preload sequence\n\tconst index = ++lastPreloadIndex;\n\n\treturn forEachSeq(pieces, piece => {\n\t\tif (!piece.generateMedia) return;\n\t\tif (lastPreloadIndex !== index) return;\n\n\t\tpiece.media = piece.media || piece.generateMedia();\n\t\treturn piece.media.ready;\n\t});\n}\n\nfunction generateMedia(options: ExpandoMedia, context: {| href: string |}): Media {\n\tif (options.credits) options.credits = sanitize(options.credits);\n\tif (options.caption) options.caption = sanitize(options.caption);\n\n\tswitch (options.type) {\n\t\tcase 'GALLERY': return new Gallery(options, context);\n\t\tcase 'IMAGE': return new Image(options, context);\n\t\tcase 'TEXT': return new Text(options);\n\t\tcase 'IFRAME': return new Iframe(options);\n\t\tcase 'VIDEO': return new Video(options, context);\n\t\tcase 'AUDIO': return new Audio(options);\n\t\tcase 'GENERIC_EXPANDO': return new Generic(options);\n\t\tdefault: throw new Error(`Unreachable: invalid media type ${options.type}`);\n\t}\n}\n\nconst observed = new WeakMap();\nconst resizeObserver = new ResizeObserver(entries => {\n\tfor (const { target, contentRect } of entries) {\n\t\tconst callback = observed.get(target);\n\t\tif (callback) callback(contentRect);\n\t}\n});\n\nexport class Media {\n\telement: HTMLElement;\n\n\tready: ?Promise<any>;\n\n\tonAttach: ?() => void;\n\tisAttached(): boolean { return document.body.contains(this.element); }\n\n\texpand(): void | Promise<void> { this.setLoaded(true); }\n\tcollapse(): void { this.setLoaded(false); }\n\n\tonResize: Array<* => mixed> = [];\n\tresizing: ?(contentRect: *) => void;\n\trotationState: number = 0;\n\n\tsupportsUnload(): boolean { return false; }\n\t_state: 'loaded' | 'unloaded' = 'loaded';\n\t_unload(): void {}\n\t_restore(): void {}\n\n\tsetLoaded(state: boolean) {\n\t\tif (state) {\n\t\t\tthis._state = 'loaded';\n\t\t\tthis._restore();\n\t\t} else {\n\t\t\tthis._state = 'unloaded';\n\t\t\tthis._unload();\n\t\t}\n\t}\n\n\tmakeIndependent(element: HTMLElement) {\n\t\tconst wrapper = document.createElement('div');\n\t\tconst independent = document.createElement('div');\n\t\telement.replaceWith(wrapper);\n\t\twrapper.appendChild(independent);\n\t\tindependent.appendChild(element);\n\n\t\tindependent.classList.add('res-media-independent');\n\t\twrapper.style.willChange = 'height';\n\n\t\tthis.resizing = (contentRect: * = element.getBoundingClientRect()) => {\n\t\t\tfor (const callback of this.onResize) callback(contentRect);\n\t\t\twrapper.style.height = `${contentRect.height}px`;\n\t\t};\n\n\t\tthis.onResize.push(contentRect => {\n\t\t\tthis.element.dispatchEvent(new CustomEvent('mediaResize', { detail: contentRect, bubbles: true }));\n\t\t});\n\n\t\tobserved.set(element, contentRect => {\n\t\t\tif (this._state === 'unloaded') return;\n\t\t\tif (this.resizing) this.resizing(contentRect);\n\t\t});\n\t\tresizeObserver.observe(element);\n\n\t\twaitForEvent(element, 'mediaManuallyMovedVertically').then(() => { resizeObserver.unobserve(element); });\n\t}\n\n\tkeepVisible(element: HTMLElement) {\n\t\telement.classList.add('res-element-keep-visible');\n\n\t\tconst basisLeft = _.once(() => downcast(element.parentElement, HTMLElement).getBoundingClientRect().left);\n\t\tlet isAligned = false;\n\n\t\tthis.onResize.push(({ width: elementWidth }: *) => {\n\t\t\tconst { width: viewportWidth } = getViewportSize();\n\n\t\t\tif (!isAligned && basisLeft() + elementWidth < viewportWidth) return;\n\n\t\t\tconst { left: elementLeft, right: elementRight } = element.getBoundingClientRect();\n\n\t\t\tconst deltaLeft = elementLeft - basisLeft();\n\n\t\t\tif (elementWidth > viewportWidth) { // Left align\n\t\t\t\tisAligned = true;\n\t\t\t\tmove(element, -elementLeft, 0);\n\t\t\t} else if (elementRight - deltaLeft > viewportWidth) { // Right align\n\t\t\t\tisAligned = true;\n\t\t\t\tmove(element, viewportWidth - elementRight, 0);\n\t\t\t} else if (deltaLeft) { // Reset\n\t\t\t\tisAligned = false;\n\t\t\t\tmove(element, -deltaLeft, 0);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetMaxSize(element: HTMLElement) {\n\t\tlet value = module.options.maxWidth.value;\n\t\tlet isPercentage = value.endsWith('%');\n\t\tconst maxWidth = (isPercentage ? getViewportSize().width / 100 : 1) * parseInt(value, 10);\n\t\tif (maxWidth) element.style.maxWidth = `${maxWidth}px`;\n\n\t\tvalue = module.options.maxHeight.value;\n\t\tisPercentage = value.endsWith('%');\n\t\tconst maxHeight = (isPercentage ? getViewportSize().height / 100 : 1) * parseInt(value, 10);\n\t\tif (maxHeight) element.style.maxHeight = `${maxHeight}px`;\n\t}\n\n\tmakeZoomable(element: HTMLElement, dragInitiater: HTMLElement = element, absoluteSizing: boolean = false) {\n\t\tif (!module.options.imageZoom.value) return;\n\n\t\telement.classList.add('res-media-zoomable');\n\n\t\tlet initialWidth, initialHeight, initialDiagonal, left, top;\n\n\t\tfunction getDiagonal(x, y) {\n\t\t\tconst w = Math.max(1, x - left);\n\t\t\tconst h = Math.max(1, y - top);\n\t\t\treturn Math.round(Math.hypot(w, h));\n\t\t}\n\n\t\taddDragListener({\n\t\t\tmedia: this.element,\n\t\t\telement: dragInitiater,\n\t\t\tatShiftKey: false,\n\t\t\tonStart: (x, y) => {\n\t\t\t\t({ left, top, width: initialWidth, height: initialHeight } = element.getBoundingClientRect());\n\t\t\t\tinitialDiagonal = getDiagonal(x, y);\n\t\t\t},\n\t\t\tonMove: (x, y, deltaX, deltaY) => {\n\t\t\t\tconst conversionFactor = this.rotationState % 2 ? initialHeight / initialWidth : 1;\n\t\t\t\tif (absoluteSizing) {\n\t\t\t\t\tconst { width, height } = element.getBoundingClientRect();\n\t\t\t\t\tresize(element, (width + deltaX) * conversionFactor, (height + deltaY) / conversionFactor);\n\t\t\t\t} else {\n\t\t\t\t\tconst newWidth = getDiagonal(x, y) / initialDiagonal * initialWidth;\n\t\t\t\t\tresize(element, newWidth * conversionFactor);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tmakeMovable(element: HTMLElement, dragInitiater: HTMLElement = element) {\n\t\tif (!module.options.imageMove.value) return;\n\n\t\telement.classList.add('res-media-movable');\n\n\t\taddDragListener({\n\t\t\tmedia: this.element,\n\t\t\telement: dragInitiater,\n\t\t\tatShiftKey: true,\n\t\t\tonMove(x, y, deltaX, deltaY) { move(element, deltaX, deltaY); },\n\t\t});\n\t}\n\n\taddControls(element: HTMLElement, lookupUrl: *, downloadUrl: *) {\n\t\tif (!module.options.mediaControls.value) return element;\n\n\t\tconst [y, x] = module.options.mediaControlsPosition.value.split('-');\n\n\t\tconst wrapper = mediaControlsTemplate({ clippy: module.options.clippy.value, lookupUrl, downloadUrl, x, y });\n\t\telement.replaceWith(wrapper);\n\t\twrapper.appendChild(element);\n\n\t\telement.classList.add('res-media-rotatable');\n\n\t\tconst compensateTransformedSize = () => {\n\t\t\tconst { width, height } = element.getBoundingClientRect();\n\t\t\tObject.assign(wrapper.style, { width: `${width}px`, height: `${height}px` });\n\t\t};\n\n\t\tconst compensateTransformedSizeObserver = new ResizeObserver(compensateTransformedSize);\n\n\t\tconst updateRotation = () => {\n\t\t\tcompensateTransformedSizeObserver.observe(element);\n\t\t\telement.setAttribute('rotation', String(positiveModulo(this.rotationState, 4)));\n\t\t\tcompensateTransformedSize();\n\t\t};\n\n\t\twrapper.querySelector('.res-media-controls').addEventListener('click', (e: Event) => {\n\t\t\tswitch (e.target.dataset.action) {\n\t\t\t\tcase 'rotateLeft':\n\t\t\t\t\t--this.rotationState;\n\t\t\t\t\tupdateRotation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotateRight':\n\t\t\t\t\t++this.rotationState;\n\t\t\t\t\tupdateRotation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'download':\n\t\t\t\t\tPermissions.request(['downloads']).then(() => {\n\t\t\t\t\t\tconst re = /(?:\\.([^.]+))?$/;\n\t\t\t\t\t\tconst ext = re.exec(downloadUrl);\n\t\t\t\t\t\tconst thing = Thing.from(wrapper);\n\t\t\t\t\t\tlet title = thing && thing.getTitle();\n\t\t\t\t\t\tif (title && ext) {\n\t\t\t\t\t\t\tlet extension = ext[1];\n\t\t\t\t\t\t\tif (extension.includes('?')) extension = extension.split('?')[0];\n\t\t\t\t\t\t\ttitle = title.replace(/[*|?:\"~<>\\\\\\/]|(\\u00a9|\\u00ae|[\\u2000-\\u3300]|\\ud83c[\\ud000-\\udfff]|\\ud83d[\\ud000-\\udfff]|\\ud83e[\\ud000-\\udfff])/gi, '');\n\t\t\t\t\t\t\tconst filename = `${title}.${extension}`;\n\t\t\t\t\t\t\tdownload(downloadUrl, filename);\n\t\t\t\t\t\t} else download(downloadUrl);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'imageLookup':\n\t\t\t\t\t// Google doesn't like image url's without a protacol\n\t\t\t\t\tlookupUrl = new URL(downcast(lookupUrl, 'string'), location.href).href;\n\n\t\t\t\t\t// Escape query string parameters\n\t\t\t\t\topenNewTab(string.encode`https://images.google.com/searchbyimage?image_url=${lookupUrl}`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'showImageSettings':\n\t\t\t\t\tSettingsNavigation.open(module.moduleID, 'mediaControls');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'clippy':\n\t\t\t\t\te.target.textContent = [\n\t\t\t\t\t\tmodule.options.imageZoom.value && 'drag to resize',\n\t\t\t\t\t\tmodule.options.imageMove.value && 'shift-drag to move',\n\t\t\t\t\t].filter(Boolean).join(' or ');\n\t\t\t\t\tmodule.options.clippy.value = false;\n\t\t\t\t\tOptions.save(module.options.clippy);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// do nothing if action is unknown\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t});\n\n\t\treturn wrapper;\n\t}\n}\n\nclass Gallery extends Media {\n\tfilmstripLoadIncrement = parseInt(module.options.filmstripLoadIncrement.value, 10) || Infinity;\n\tpreloadCount = parseInt(module.options.galleryPreloadCount.value, 10) || 0;\n\n\tindividualCtrl;\n\tmsgPosition;\n\tctrlToFilmstrip;\n\tctrlConcurrentIncrease;\n\n\tpieces: Array<{\n\t\tgenerateMedia: () => Media,\n\t\tmedia: ?Media,\n\t\twrapper: HTMLElement,\n\t}>;\n\n\tlastRevealedPiece = null;\n\tfilmstripActive: boolean;\n\trememberResizeWidth: boolean;\n\tlastResizedWidth: number;\n\n\tconstructor(options: GalleryMedia, context) {\n\t\tsuper();\n\n\t\tthis.element = galleryTemplate({\n\t\t\ttitle: options.title,\n\t\t\tcaption: options.caption,\n\t\t\tcredits: options.credits,\n\t\t\tsrc: options.src,\n\t\t});\n\n\t\tconst piecesContainer = this.element.querySelector('.res-gallery-pieces');\n\t\tthis.individualCtrl = this.element.querySelector('.res-step-container');\n\t\tconst ctrlPrev = this.individualCtrl.querySelector('.res-step-previous');\n\t\tconst ctrlNext = this.individualCtrl.querySelector('.res-step-next');\n\t\tthis.msgPosition = this.individualCtrl.querySelector('.res-step-position');\n\t\tthis.ctrlToFilmstrip = this.individualCtrl.querySelector('.res-gallery-to-filmstrip');\n\t\tthis.ctrlConcurrentIncrease = this.element.querySelector('.res-gallery-increase-concurrent');\n\n\t\tthis.pieces = options.src.map(src => ({\n\t\t\tgenerateMedia: () => generateMedia(src, context),\n\t\t\tmedia: null,\n\t\t\twrapper: document.createElement('div'),\n\t\t}));\n\t\tpiecesContainer.append(...this.pieces.map(({ wrapper }) => wrapper));\n\n\t\tconst slideshowWhenLargerThan = parseInt(module.options.useSlideshowWhenLargerThan.value, 10) || Infinity;\n\t\tthis.filmstripActive = module.options.galleryAsFilmstrip.value && this.pieces.length < slideshowWhenLargerThan;\n\n\t\tif (this.filmstripActive || this.pieces.length === 1) {\n\t\t\tthis.ready = this.expandFilmstrip();\n\t\t\tthis.ctrlConcurrentIncrease.addEventListener('click', () => this.expandFilmstrip());\n\t\t} else {\n\t\t\tthis.ready = this.changeSlideshowPiece(0);\n\t\t\tctrlPrev.addEventListener('click', () => { this.changeSlideshowPiece(-1); });\n\t\t\tctrlNext.addEventListener('click', () => { this.changeSlideshowPiece(1); });\n\n\t\t\twaitForEvent(this.ctrlToFilmstrip, 'click').then(() => {\n\t\t\t\tthis.expandFilmstrip();\n\t\t\t\tthis.ctrlConcurrentIncrease.addEventListener('click', () => this.expandFilmstrip());\n\t\t\t});\n\t\t}\n\t}\n\n\tshouldRememberResizeWidth() {\n\t\treturn module.options.galleryRememberWidth.value && !this.filmstripActive;\n\t}\n\n\trememberWidth(piece) {\n\t\tconst resizedElement = piece.media && piece.media.element.querySelector('.res-media-zoomable');\n\t\t// Only resized elements have style.width\n\t\tconst resizedWidth = resizedElement && parseInt(resizedElement.style.width, 10);\n\t\tif (resizedWidth) this.lastResizedWidth = resizedWidth;\n\t}\n\n\trestoreWidth(piece) {\n\t\tif (!this.lastResizedWidth) return;\n\t\tconst resizeElement = piece.media && piece.media.element.querySelector('.res-media-zoomable');\n\t\tif (resizeElement) resize(resizeElement, this.lastResizedWidth);\n\t}\n\n\trevealPiece(piece) {\n\t\tif (this.shouldRememberResizeWidth() && this.lastRevealedPiece) this.rememberWidth(this.lastRevealedPiece);\n\t\tthis.lastRevealedPiece = piece;\n\n\t\tpiece.media = piece.media || piece.generateMedia();\n\t\tconst { media, wrapper } = piece;\n\t\tif (!media.isAttached()) wrapper.appendChild(media.element);\n\t\twrapper.hidden = false;\n\t\tif (this.shouldRememberResizeWidth()) this.restoreWidth(piece);\n\t\t// When preloading the gallery object, don't run the `expand` method on the piece as that may cause audio to play\n\t\tif (this.isAttached()) media.expand();\n\t}\n\n\tpreloadAhead() {\n\t\tconst preloadFrom = this.pieces.indexOf(this.lastRevealedPiece);\n\t\tconst preloadTo = Math.min(preloadFrom + this.preloadCount + 1, this.pieces.length);\n\n\t\treturn preloadMedia(this.pieces.slice(preloadFrom, preloadTo));\n\t}\n\n\tasync expandFilmstrip() {\n\t\tthis.individualCtrl.remove();\n\n\t\tconst revealFrom = this.lastRevealedPiece ? this.pieces.indexOf(this.lastRevealedPiece) : 0;\n\t\tconst revealTo = Math.min(revealFrom + this.filmstripLoadIncrement, this.pieces.length);\n\n\t\tthis.ctrlConcurrentIncrease.hidden = true;\n\n\t\t// reveal new pieces\n\t\tawait forEachSeq(this.pieces.slice(revealFrom, revealTo), piece => {\n\t\t\tthis.revealPiece(piece);\n\t\t\treturn piece.media && piece.media.ready;\n\t\t});\n\n\t\tif (revealTo < this.pieces.length) {\n\t\t\tthis.ctrlConcurrentIncrease.innerText = `Show next ${Math.min(this.filmstripLoadIncrement, this.pieces.length - revealTo)} pieces`;\n\t\t\tthis.ctrlConcurrentIncrease.hidden = false;\n\t\t}\n\n\t\treturn this.preloadAhead();\n\t}\n\n\tchangeSlideshowPiece(step) {\n\t\tconst previous = this.lastRevealedPiece;\n\t\tconst previousIndex = previous ? this.pieces.indexOf(previous) : 0;\n\n\t\tlet newIndex = previousIndex + step;\n\t\t// Allow wrap-around\n\t\tnewIndex = positiveModulo(newIndex, this.pieces.length);\n\n\t\tthis.individualCtrl.setAttribute('first-piece', String(newIndex === 0));\n\t\tthis.individualCtrl.setAttribute('last-piece', String(newIndex === this.pieces.length - 1));\n\t\tthis.msgPosition.innerText = String(newIndex + 1);\n\n\t\tthis.revealPiece(this.pieces[newIndex]);\n\n\t\tif (previous) {\n\t\t\tconst { media, wrapper } = previous;\n\t\t\tif (!media) throw new Error();\n\t\t\tmedia.collapse();\n\t\t\twrapper.hidden = true;\n\t\t}\n\n\t\treturn this.preloadAhead();\n\t}\n\n\tsupportsUnload() {\n\t\treturn this.pieces.every(({ media }) => !media || media.supportsUnload()) || false;\n\t}\n\n\tsetLoaded(state) {\n\t\tfor (const { media } of this.pieces) {\n\t\t\tif (media) media.setLoaded(state);\n\t\t}\n\t}\n}\n\nclass Image extends Media {\n\timage: HTMLImageElement;\n\tsrc: string;\n\n\tconstructor({\n\t\ttitle,\n\t\tcaption,\n\t\tcredits,\n\t\tsrc,\n\t\thref,\n\t}: ImageMedia, context) {\n\t\tsuper();\n\n\t\tthis.src = src;\n\n\t\tthis.element = imageTemplate({\n\t\t\ttitle,\n\t\t\tcaption,\n\t\t\tcredits,\n\t\t\tsrc,\n\t\t\thref: href || context.href,\n\t\t\topenInNewWindow: module.options.openInNewWindow.value,\n\t\t});\n\t\tthis.image = downcast(this.element.querySelector('img.res-image-media'), HTMLImageElement);\n\t\tconst anchor = this.element.querySelector('a.res-expando-link');\n\n\t\tthis.ready = waitForEvent(this.image, 'load', 'error');\n\n\t\tthis.image.addEventListener('error', () => {\n\t\t\tthis.element.classList.add('res-media-load-error');\n\t\t});\n\n\t\tif (module.options.displayOriginalResolution.value) {\n\t\t\tthis.image.addEventListener('load', () => {\n\t\t\t\tthis.image.title = `${this.image.naturalWidth}  ${this.image.naturalHeight} px`;\n\t\t\t});\n\t\t}\n\n\t\tthis.setMaxSize(this.image);\n\t\tconst wrapper = this.addControls(anchor, src, src);\n\t\tthis.makeZoomable(this.image);\n\t\tthis.makeMovable(wrapper);\n\t\tthis.keepVisible(wrapper);\n\t\tthis.makeIndependent(wrapper);\n\t}\n\n\tsupportsUnload() {\n\t\treturn true;\n\t}\n\n\t_unload() {\n\t\tthis.image.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\t}\n\n\t_restore() {\n\t\tthis.image.src = this.src;\n\t}\n}\n\nclass Iframe extends Media {\n\tloaded: boolean = false;\n\tiframe: HTMLIFrameElement;\n\tpauseCommand: ?string;\n\tplayCommand: ?string;\n\n\tconstructor({\n\t\tembed,\n\t\tembedAutoplay,\n\t\twidth = '640px',\n\t\theight = '360px',\n\t\tfixedRatio = false,\n\t\tpause: pauseCommand,\n\t\tplay: playCommand,\n\t}: IframeMedia) {\n\t\tsuper();\n\n\t\tthis.pauseCommand = pauseCommand;\n\t\tthis.playCommand = playCommand;\n\n\t\tthis.element = iframeTemplate({\n\t\t\turl: (module.options.autoplayVideo.value && embedAutoplay) ? embedAutoplay : embed,\n\t\t\twidth,\n\t\t\theight,\n\t\t});\n\t\tthis.iframe = downcast(this.element.querySelector('iframe'), HTMLIFrameElement);\n\t\tconst iframeWrapper = downcast(this.element.firstElementChild, HTMLElement);\n\t\tconst dragHandle = this.element.querySelector('.res-iframe-expando-drag-handle');\n\n\t\tthis.makeZoomable(this.iframe, dragHandle, !fixedRatio);\n\t\tthis.makeMovable(iframeWrapper, dragHandle);\n\t\tthis.keepVisible(iframeWrapper);\n\t\tthis.makeIndependent(iframeWrapper);\n\t}\n\n\tasync expand() {\n\t\tif (module.options.autoplayVideo.value && this.playCommand) {\n\t\t\tif (!this.loaded) await waitForEvent(this.iframe, 'load');\n\t\t\tthis.loaded = true;\n\n\t\t\ttry {\n\t\t\t\tthis.iframe.contentWindow.postMessage(this.playCommand, '*');\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not post \"play\" command to iframe', this, e);\n\t\t\t}\n\t\t}\n\t}\n\n\tcollapse() {\n\t\tif (this.pauseCommand) {\n\t\t\ttry {\n\t\t\t\tthis.iframe.contentWindow.postMessage(this.pauseCommand, '*');\n\t\t\t\treturn;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not post \"pause\" command to iframe', this, e);\n\t\t\t}\n\t\t}\n\n\t\t// If we couldn't pause the iframe, remove it\n\t\tthis.element.remove();\n\t}\n}\n\nclass Text extends Media {\n\tconstructor({\n\t\ttitle,\n\t\tcredits,\n\t\tsrc,\n\t}: TextMedia) {\n\t\tsuper();\n\n\t\tthis.element = textTemplate({\n\t\t\ttitle,\n\t\t\tcredits,\n\t\t\tsrc: sanitize(src),\n\t\t});\n\t}\n}\n\nclass Audio extends Media {\n\tautoplay: boolean;\n\taudio: HTMLAudioElement;\n\n\tconstructor({\n\t\tautoplay = false,\n\t\tloop,\n\t\tsources,\n\t}: AudioMedia) {\n\t\tsuper();\n\n\t\tthis.autoplay = autoplay;\n\n\t\tthis.element = audioTemplate({\n\t\t\tloop,\n\t\t\tsources,\n\t\t});\n\t\tthis.audio = downcast(this.element.querySelector('audio'), HTMLAudioElement);\n\t}\n\n\tcollapse() {\n\t\t// Audio is auto-paused when detached from DOM\n\t\tif (!this.isAttached()) return;\n\n\t\tthis.autoplay = !this.audio.paused;\n\t\tif (!this.audio.paused) this.audio.pause();\n\t}\n\n\texpand() {\n\t\tif (this.autoplay) this.audio.play();\n\t}\n}\n\nclass Generic extends Media {\n\tconstructor(options: GenericMedia) {\n\t\tsuper();\n\n\t\tthis.onAttach = options.onAttach;\n\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.appendChild(options.generate());\n\t}\n\n\t// Always remove content, in case it contains audio or other unwanted things\n\tcollapse() {\n\t\tthis.element.remove();\n\t}\n}\n\nconst trackVisitNative = batch(async things => {\n\t// this API only works for gold users\n\tif (!document.body.classList.contains('gold')) return;\n\n\tif (isPrivateBrowsing()) return;\n\n\tawait ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/store_visits',\n\t\tdata: { links: things.map(t => t.getFullname()).join(',') },\n\t});\n}, { delay: 10000, size: 50 });\n\nfunction trackMediaLoad(link, thing) {\n\tif (!module.options.markVisited.value) return;\n\n\tif (thing) trackVisitNative(thing);\n\n\tif (!(thing && thing.isNSFW() && module.options.sfwHistory.value !== 'add')) {\n\t\taddURLToHistory(link.href);\n\t}\n}\n\nfunction addSiteAttribution(siteModule, media) {\n\tconst $element = $(siteAttributionTemplate({\n\t\tname: siteModule.name,\n\t\turl: siteModule.landingPage || `https://${siteModule.domains[0]}`,\n\t\tlogoUrl: siteModule.logo,\n\t\tsettingsLink: SettingsNavigation.makeUrlHash(module.moduleID, siteModuleOptionKey(siteModule)),\n\t}));\n\tconst $replace = $('.res-expando-siteAttribution', media.element);\n\tif ($replace.length) {\n\t\t$element.replaceAll($replace);\n\t} else {\n\t\t$element.addClass('res-expando-siteAttribution-generic').appendTo(media.element);\n\t}\n}\n\nfunction addDragListener({ media, element, atShiftKey, onStart, onMove }: {|\n\tmedia: HTMLElement,\n\telement: HTMLElement,\n\tatShiftKey: boolean,\n\tonStart?: (x: number, y: number) => void,\n\tonMove: (x: number, y: number, moveX: number, moveY: number) => void,\n|}) {\n\t// Invoke handleMove immediately to avoid pauses, but only once per frame\n\tlet hasFrameExecution = false;\n\tconst setFrameExecution = (() => {\n\t\tconst throttle = frameThrottle(() => { hasFrameExecution = false; });\n\t\treturn () => {\n\t\t\tthrottle();\n\t\t\thasFrameExecution = true;\n\t\t};\n\t})();\n\n\tlet isActive, hasMoved, lastX, lastY;\n\n\tconst handleMove = (e: MouseEvent) => {\n\t\tconst movementX = e.clientX - lastX;\n\t\tconst movementY = e.clientY - lastY;\n\n\t\tif (!movementX && !movementY) {\n\t\t\t// Mousemove may be triggered even without movement\n\t\t\treturn;\n\t\t} else if (1 & ~e.buttons) {\n\t\t\t// Mouseup may not trigger in some circumstances\n\t\t\tstop();\n\t\t\treturn;\n\t\t} else if (atShiftKey !== e.shiftKey) {\n\t\t\tisActive = false;\n\t\t\t({ clientX: lastX, clientY: lastY } = e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!isActive) {\n\t\t\tif (onStart) onStart(lastX, lastY);\n\t\t\tisActive = true;\n\t\t\thasMoved = true;\n\t\t\trequestAnimationFrame(() => { media.classList.add('res-media-dragging'); });\n\t\t}\n\n\t\tif (hasFrameExecution) return;\n\t\tsetFrameExecution();\n\n\t\tonMove(e.clientX, e.clientY, movementX, movementY);\n\t\t({ clientX: lastX, clientY: lastY } = e);\n\t};\n\n\tfunction handleClick(e: Event) {\n\t\tif (hasMoved) e.preventDefault();\n\t}\n\n\tfunction stop() {\n\t\trequestAnimationFrame(() => { media.classList.remove('res-media-dragging'); });\n\n\t\tdocument.removeEventListener('mousemove', handleMove);\n\t\tdocument.removeEventListener('mouseup', stop);\n\n\t\t// `handleClick` is only invoked if the mouse target is `element`\n\t\t// `setTimeout` is necessary since `mouseup` is emitted before `click`\n\t\tsetTimeout(() => document.removeEventListener('click', handleClick));\n\t}\n\n\tfunction initiate(e: MouseEvent) {\n\t\tif (e.button !== 0) return;\n\n\t\t({ clientX: lastX, clientY: lastY } = e);\n\n\t\thasMoved = false;\n\t\tisActive = false;\n\n\t\tdocument.addEventListener('mousemove', handleMove);\n\t\tdocument.addEventListener('mouseup', stop);\n\t\tdocument.addEventListener('click', handleClick);\n\n\t\te.preventDefault();\n\t}\n\n\telement.addEventListener('mousedown', initiate);\n}\n\n// When videos is added, this will pause or play them individually depending on their visibility\nconst mutedVideoManager = _.once(() => {\n\tconst maxSimultaneousPlaying = parseInt(module.options.maxSimultaneousPlaying.value, 10) || Infinity;\n\tconst videos: HTMLVideoElement[] = [];\n\n\tconst updatePlay = frameThrottle(() => {\n\t\tconst all = videos.map(video => {\n\t\t\tconst thing = Thing.from(video);\n\t\t\treturn {\n\t\t\t\tvideo,\n\t\t\t\tvisibility: getPercentageVisibleYAxis(video),\n\t\t\t\ttop: video.getBoundingClientRect().top,\n\t\t\t\tselected: Number(thing && thing.isSelected()),\n\t\t\t};\n\t\t});\n\n\t\tconst notVisible = all.filter(({ visibility }) => visibility === 0);\n\t\tfor (const { video } of notVisible) if (!video.paused) video.pause();\n\n\t\t_.without(all, ...notVisible)\n\t\t\t.sort((a, b) => b.selected - a.selected || b.visibility - a.visibility || a.top - b.top)\n\t\t\t.forEach(({ video }, index) => {\n\t\t\t\tconst play = index < maxSimultaneousPlaying;\n\t\t\t\tif (play === video.paused) {\n\t\t\t\t\tif (play) video.play();\n\t\t\t\t\telse video.pause();\n\t\t\t\t}\n\t\t\t});\n\t});\n\n\tlet intervalId = null;\n\n\treturn {\n\t\tobserve(video) {\n\t\t\tvideos.push(video);\n\t\t\tupdatePlay();\n\t\t\tif (intervalId === null) intervalId = setInterval(updatePlay, 100);\n\t\t},\n\t\tunobserve(video) {\n\t\t\t_.pull(videos, video);\n\t\t\tif (!videos.length && intervalId) {\n\t\t\t\tclearInterval(intervalId);\n\t\t\t\tintervalId = null;\n\t\t\t}\n\t\t},\n\t};\n});\n\nclass Video extends Media {\n\tstatic volumeStorage = Storage.wrap('showImages.video.volume', (1: number));\n\n\tvideo: HTMLVideoElement;\n\tautoplay: boolean;\n\ttime: number;\n\tframeRate: number;\n\tuseVideoManager: boolean;\n\n\tconstructor({\n\t\ttitle,\n\t\tcaption,\n\t\tcredits,\n\t\tfallback,\n\t\tframeRate = 24,\n\t\thref,\n\t\tloop = false,\n\t\tmuted = false,\n\t\tplaybackRate = 1,\n\t\tposter,\n\t\treversable = false,\n\t\treversed = false,\n\t\tsource,\n\t\tsources,\n\t\ttime = 0,\n\t}: VideoMedia, context) {\n\t\tsuper();\n\n\t\tthis.useVideoManager = module.options.onlyPlayMutedWhenVisible.value && muted;\n\n\t\tthis.autoplay = muted || module.options.autoplayVideo.value;\n\t\tthis.time = time;\n\t\tthis.frameRate = frameRate;\n\n\t\tthis.element = videoTemplate({\n\t\t\ttitle,\n\t\t\tcaption,\n\t\t\tcredits,\n\t\t\thref: href || context.href,\n\t\t\tsource,\n\t\t\t// Prevent poster from flashing before the video is ready when autoplaying\n\t\t\tposter: !this.autoplay && poster || '',\n\t\t\thasAudio: !muted,\n\t\t\tloop,\n\t\t\treversable,\n\t\t\topenInNewWindow: module.options.openInNewWindow.value,\n\t\t\tformattedPlaybackRate: this.formatMultilineNumber(playbackRate, 'x'),\n\t\t});\n\t\tthis.video = downcast(this.element.querySelector('video'), HTMLVideoElement);\n\t\tconst container = this.element.querySelector('.res-video-container');\n\n\t\tconst msgError = this.element.querySelector('.res-video-error');\n\t\tconst displayError = (error: Error | ProgressEvent) => {\n\t\t\tif (msgError.hidden) {\n\t\t\t\tmsgError.hidden = false;\n\t\t\t\t$('<span>').text(`Could not play video: ${error.message ? String(error.message) : 'Unknown error'}`).appendTo(msgError);\n\t\t\t}\n\t\t};\n\n\t\tconst sourceElements = $(_.compact(sources.map(v => {\n\t\t\tif (!this.video.canPlayType(v.type)) return null;\n\t\t\tconst source = document.createElement('source');\n\t\t\tsource.src = v.source;\n\t\t\tsource.type = v.type;\n\t\t\tif (v.reverse) source.dataset.reverse = v.reverse;\n\t\t\treturn source;\n\t\t}))).appendTo(this.video).get();\n\n\t\tif (!sourceElements.length) {\n\t\t\tif (fallback) {\n\t\t\t\treturn new Image({ // eslint-disable-line no-constructor-return\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\ttitle,\n\t\t\t\t\tcaption,\n\t\t\t\t\tcredits,\n\t\t\t\t\tsrc: fallback,\n\t\t\t\t}, context);\n\t\t\t} else {\n\t\t\t\tdisplayError(new Error('No playable sources were found'));\n\t\t\t}\n\t\t}\n\n\t\tconst lastSource = sourceElements[sourceElements.length - 1];\n\t\tlastSource.addEventListener('error', displayError);\n\n\t\tif (reversed) this.reverse();\n\n\t\tthis.ready = Promise.race([waitForEvent(this.video, 'suspend'), waitForEvent(lastSource, 'error')]);\n\n\t\tconst setPlayIcon = () => {\n\t\t\tif (!this.video.paused) this.element.setAttribute('playing', '');\n\t\t\telse this.element.removeAttribute('playing');\n\t\t};\n\n\t\tthis.video.addEventListener('pause', () => {\n\t\t\tsetPlayIcon();\n\t\t\t// If browser controls are shown, stop auto mananging since that could cause conflicts (e.g. force play when paused by user)\n\t\t\tif (this.video.controls && this.useVideoManager) mutedVideoManager().unobserve(this.video);\n\t\t});\n\t\tthis.video.addEventListener('play', setPlayIcon);\n\n\t\tthis.video.addEventListener('loadedmetadata', () => { if (this.time !== this.video.currentTime) this.video.currentTime = this.time; });\n\t\tthis.video.playbackRate = playbackRate;\n\n\t\t// Ignore events which might be meant for controls\n\t\tthis.video.addEventListener('mousedown', (e: MouseEvent) => {\n\t\t\tif (this.video.hasAttribute('controls')) {\n\t\t\t\tconst { height, top } = this.video.getBoundingClientRect();\n\t\t\t\tlet controlsBottomHeight = 0;\n\t\t\t\tif (process.env.BUILD_TARGET === 'firefox') controlsBottomHeight = 40;\n\t\t\t\tif ((height - controlsBottomHeight) < (e.clientY - top)) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tPromise.all([waitForEvent(this.element, 'mouseenter'), waitForEvent(this.video, 'loadedmetadata')])\n\t\t\t.then(() => this.addVideoControls());\n\n\t\tnew MutationObserver(() =>\n\t\t\tthis.element.classList.toggle('res-video-has-native-controls', this.video.hasAttribute('controls')),\n\t\t).observe(this.video, { attributes: true });\n\n\t\tif (!loop && this.autoplay) {\n\t\t\twaitForEvent(this.video, 'ended').then(() => this.stopAutoplay());\n\t\t}\n\n\t\tif (!muted) {\n\t\t\tif (module.options.startVideosMuted.value) this.video.muted = true;\n\t\t\tPromise.all([waitForEvent(this.video, 'canplay'), Video.volumeStorage.get()]).then(([, volume]) => {\n\t\t\t\tthis.video.volume = volume;\n\t\t\t});\n\t\t}\n\n\t\tthis.setMaxSize(this.video);\n\t\tthis.makeZoomable(this.video);\n\t\tthis.addControls(this.video, undefined, sources[0].source);\n\t\tthis.makeMovable(container);\n\t\tthis.keepVisible(container);\n\t\tthis.makeIndependent(container);\n\t}\n\n\treverse() {\n\t\tthis.time = this.video.duration - this.video.currentTime;\n\t\tif (isNaN(this.time)) this.time = 0;\n\n\t\tfor (const v of this.video.querySelectorAll('source')) {\n\t\t\t// $FlowIssue\n\t\t\t[v.src, v.dataset.reverse] = [v.dataset.reverse, v.src];\n\t\t}\n\n\t\tthis.video.load();\n\t\tthis.video.play();\n\n\t\t// $FlowIssue\n\t\tthis.element.toggleAttribute('reversed');\n\t}\n\n\tformatMultilineNumber(value: number, suffix: string) {\n\t\treturn `${value.toFixed(2).replace('.', '.\\u200B'/* zwsp */)}${suffix}`;\n\t}\n\n\taddVideoControls() {\n\t\tconst ctrlContainer = this.element.querySelector('.res-video-controls');\n\t\tconst ctrlReverse = ctrlContainer.querySelector('.res-video-reverse');\n\t\tconst ctrlTogglePause = ctrlContainer.querySelector('.res-video-toggle-pause');\n\t\tconst ctrlSpeedDecrease = ctrlContainer.querySelector('.res-video-speed-decrease');\n\t\tconst ctrlSpeedIncrease = ctrlContainer.querySelector('.res-video-speed-increase');\n\t\tconst ctrlTimeDecrease = ctrlContainer.querySelector('.res-video-time-decrease');\n\t\tconst ctrlTimeIncrease = ctrlContainer.querySelector('.res-video-time-increase');\n\n\t\tconst progress = this.element.querySelector('.res-video-progress');\n\t\tconst indicatorPosition = progress.querySelector('.res-video-position');\n\t\tconst ctrlPosition = progress.querySelector('.res-video-position-thumb');\n\n\t\tconst msgSpeed = ctrlContainer.querySelector('.res-video-speed');\n\t\tconst msgTime = ctrlContainer.querySelector('.res-video-time');\n\n\t\tctrlTogglePause.addEventListener('click', () => {\n\t\t\tif (this.video.paused) this.video.play(); else this.video.pause();\n\t\t\tif (this.video.paused) this.stopAutoplay();\n\t\t});\n\t\tif (ctrlReverse) ctrlReverse.addEventListener('click', () => this.reverse());\n\n\t\tctrlSpeedDecrease.addEventListener('click', () => { this.video.playbackRate /= 1.1; });\n\t\tctrlSpeedIncrease.addEventListener('click', () => { this.video.playbackRate *= 1.1; });\n\t\tctrlTimeDecrease.addEventListener('click', () => { this.video.currentTime -= 1 / this.frameRate; });\n\t\tctrlTimeIncrease.addEventListener('click', () => { this.video.currentTime += 1 / this.frameRate; });\n\n\t\tthis.video.addEventListener('ratechange', () => {\n\t\t\tmsgSpeed.textContent = this.formatMultilineNumber(this.video.playbackRate, 'x');\n\t\t});\n\t\tthis.video.addEventListener('timeupdate', () => {\n\t\t\tindicatorPosition.style.left = `${(this.video.currentTime / this.video.duration) * 100}%`;\n\t\t\tmsgTime.textContent = this.formatMultilineNumber(this.video.currentTime, 's');\n\t\t});\n\n\t\tprogress.addEventListener('mousemove', (e: MouseEvent) => {\n\t\t\tlet left = e.offsetX;\n\t\t\tif (e.target === ctrlPosition) { left += e.target.offsetLeft; }\n\t\t\tctrlPosition.style.left = `${left}px`;\n\n\t\t\tif (e.buttons === 1 /* left mouse button */) ctrlPosition.click();\n\t\t});\n\t\tctrlPosition.addEventListener('click', (e: MouseEvent) => {\n\t\t\tconst percentage = (e.target.offsetLeft + e.target.clientWidth / 2) / progress.clientWidth;\n\t\t\tthis.video.currentTime = this.video.duration * percentage;\n\t\t});\n\n\t\tconst ctrlVolume = ctrlContainer.querySelector('.res-video-volume');\n\t\tif (ctrlVolume) {\n\t\t\tconst ctrlVolumeLevel = ctrlVolume.querySelector('.res-video-volume-level');\n\t\t\tconst volumePercentage = ctrlVolume.querySelector('.res-video-volume-percentage');\n\n\t\t\tconst updateVolume = e => {\n\t\t\t\tconst base = ctrlVolumeLevel.clientHeight;\n\t\t\t\tconst click = base - e.offsetY;\n\t\t\t\tconst level = Math.min(click / base, 1);\n\t\t\t\tif (level > 0.05) {\n\t\t\t\t\tthis.video.volume = level;\n\t\t\t\t\tthis.video.muted = false;\n\t\t\t\t\tVideo.volumeStorage.set(level);\n\t\t\t\t} else {\n\t\t\t\t\tthis.video.muted = true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tctrlVolume.addEventListener('click', () => {\n\t\t\t\tthis.video.muted = !this.video.muted;\n\t\t\t});\n\t\t\tctrlVolumeLevel.addEventListener('mousemove', (e: MouseEvent) => {\n\t\t\t\tif (e.buttons === 1 /* left mouse button */) updateVolume(e);\n\t\t\t});\n\t\t\tctrlVolumeLevel.addEventListener('click', (e: MouseEvent) => {\n\t\t\t\tupdateVolume(e);\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tconst refresh = () => {\n\t\t\t\tctrlVolume.setAttribute('level', (this.video.muted || !this.video.volume) ? '0' : String(Math.ceil(this.video.volume * 3)));\n\t\t\t\tvolumePercentage.style.height = `${this.video.volume * 100}%`;\n\t\t\t};\n\n\t\t\tthis.video.addEventListener('volumechange', refresh);\n\t\t\trefresh();\n\t\t}\n\t}\n\n\tstopAutoplay() {\n\t\tthis.autoplay = false;\n\t\tif (this.useVideoManager) mutedVideoManager().unobserve(this.video);\n\t}\n\n\tsupportsUnload() {\n\t\t// Due to issues brougth about by with `pause` and `play` being asynchronous and conserveMemory and mutedVideoManager\n\t\t// could end up in a race condition, only unload paused videoes\n\t\treturn this.video.paused;\n\t}\n\n\t_unload() {\n\t\t// Video is auto-paused when detached from DOM\n\t\tif (!this.isAttached()) return;\n\n\t\tif (!this.video.paused) this.video.pause();\n\n\t\tthis.time = this.video.currentTime;\n\t\tthis.video.setAttribute('src', ''); // this.video.src has precedence over any child source element\n\t\tthis.video.load();\n\n\t\tif (this.useVideoManager) mutedVideoManager().unobserve(this.video);\n\t}\n\n\t_restore() {\n\t\tif (this.video.hasAttribute('src')) {\n\t\t\tthis.video.removeAttribute('src');\n\t\t\tthis.video.load();\n\t\t}\n\n\t\tthis.video.currentTime = this.time;\n\n\t\tif (this.autoplay) {\n\t\t\tif (this.useVideoManager) mutedVideoManager().observe(this.video);\n\t\t\telse this.video.play();\n\t\t}\n\t}\n}\n\nexport function move(ele: HTMLElement, deltaX: number, deltaY: number): void {\n\tele.style.marginLeft = `${((parseFloat(ele.style.marginLeft) || 0) + deltaX).toFixed(2)}px`;\n\tele.style.marginTop = `${((parseFloat(ele.style.marginTop) || 0) + deltaY).toFixed(2)}px`;\n\n\tif (deltaY) ele.dispatchEvent(new CustomEvent('mediaManuallyMovedVertically', { bubbles: true }));\n}\n\nexport function resize(ele: HTMLElement, newWidth: number, newHeight?: number): void {\n\t// ele should always be grippable, so ignore resizes that are too tiny\n\tif (newWidth < 20) return;\n\n\tif (typeof newHeight === 'number') {\n\t\tele.style.height = `${newHeight}px`;\n\t} else if (ele.style.height) { // If height is previously set, keep the ratio\n\t\tconst { width, height } = ele.getBoundingClientRect();\n\t\tele.style.height = `${((height / width) * newWidth).toFixed(2)}px`;\n\t}\n\n\tele.style.width = `${newWidth}px`;\n\tele.style.maxWidth = ele.style.maxHeight = 'none';\n}\n","/* @flow */\n\nimport * as ShowImages from '../../showImages';\nimport { Expando as E /* avoids name conflict */ } from '../../showImages/expando';\nimport { Case } from '../Case';\n\nexport class Expando extends Case {\n\tstatic text = 'Expando';\n\n\tstatic parseCriterion(input: string) { return { types: input.split(/[\\s|]/).filter(Boolean) }; }\n\tstatic thingToCriterion(thing: *) {\n\t\tconst expando = thing.isPost() ? E.getEntryExpandoFrom(thing) : E.getTextExpandosFrom(thing)[0];\n\t\treturn expando && expando.types.join(' & ') || '';\n\t}\n\n\tstatic defaultConditions = { types: [] };\n\tstatic fields = ['post has expando, and (if specified) expando types intersects with ', { type: 'checkset', items: ShowImages.types, id: 'types' }];\n\tstatic slow = 9; // In order to evaluate whether an expando matches, the expando must be built first (which is slow due to API requests)\n\n\tstatic pattern = `[(${ShowImages.types.join('|')})]`;\n\tstatic criterionOperators = true;\n\n\ttrueText = this.conditions.types.length ? `expando ${this.conditions.types.join('|')}` : 'expando';\n\n\tisValid() { return ShowImages.matchesTypes(this.value.types); }\n\n\t_matches(e: ?E) {\n\t\tif (!e) return false;\n\t\tif (!e.ready) return null;\n\t\treturn ShowImages.matchesTypes(this.value.types, e.types);\n\t}\n\n\t_waitTillReady(thing: *) {\n\t\tconst completeTask = thing.tasks.byId.get(ShowImages.module);\n\t\tif (completeTask) {\n\t\t\tconst promise = completeTask();\n\t\t\tif (!(promise instanceof Promise)) return;\n\t\t\t// Wait at most 1.5 s for the task; if it takes longer, refresh this filter when it's done\n\t\t\treturn Promise.race([\n\t\t\t\tpromise.catch(() => { /* resolve also when it rejects */ }),\n\t\t\t\tnew Promise((res, rej) => setTimeout(rej, 1500)),\n\t\t\t]).catch(() => {\n\t\t\t\tpromise.finally(() => { this.refresh(); });\n\t\t\t});\n\t\t}\n\t}\n\n\tasync evaluate(thing: *) {\n\t\tawait this._waitTillReady(thing);\n\n\t\tif (thing.isPost()) {\n\t\t\tconst expando = E.getEntryExpandoFrom(thing);\n\t\t\treturn this._matches(expando);\n\t\t} else {\n\t\t\tconst expandos = E.getTextExpandosFrom(thing);\n\t\t\tconst res = expandos.map(this._matches.bind(this));\n\t\t\tif (res.some(Boolean)) return true;\n\t\t\tif (res.some(v => v === null)) return null;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tonObserve() {\n\t\treturn true;\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsLocked extends Case {\n\tstatic text = 'Locked';\n\n\tstatic fields = ['post is locked'];\n\tstatic unique = true;\n\n\ttrueText = 'locked';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isLocked();\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsNSFW extends Case {\n\tstatic text = 'NSFW';\n\n\tstatic fields = ['post is marked NSFW'];\n\n\tstatic unique = true;\n\n\ttrueText = 'nsfw';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isNSFW();\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsSpoiler extends Case {\n\tstatic text = 'Spoiler';\n\n\tstatic fields = ['post is marked spoiler'];\n\n\tstatic unique = true;\n\n\ttrueText = 'spoiler';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isSpoiler();\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { isURLVisited } from '../../../environment';\n\nexport class IsVisited extends Case {\n\t/* Not available for Edge, it lacks isURLVisited */\n\tstatic text = 'Visited';\n\n\tstatic fields = ['link has been visited'];\n\tstatic slow = 2;\n\n\tstatic unique = true;\n\n\ttrueText = 'visited';\n\n\tevaluate(thing: *) {\n\t\tif (thing.element.classList.contains('visited')) return true;\n\n\t\tconst link = thing.getPostLink();\n\t\tif (!link) return null;\n\t\treturn isURLVisited(link.href);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class LinkFlair extends PatternCase {\n\tstatic text = 'Link flair';\n\n\tstatic thingToCriterion(thing: *) { return thing.getPostFlairText(); }\n\n\tstatic fields = ['post has link flair matching ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = '[RegEx]';\n\n\ttrueText = `link flair ${this.conditions.patt}`.trim();\n\n\tvalue = this.build(false, '/./');\n\n\tevaluate(thing: *) {\n\t\tconst text = thing.getPostFlairText();\n\t\treturn this.value.some(v => v.test(text));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class PostAfter extends Case {\n\tstatic text = 'Post after';\n\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\tstatic thingToCriterion(thing: *) { return thing.getTimestamp().toISOString(); }\n\n\tstatic defaultConditions = { patt: (new Date()).toISOString() };\n\tstatic fields = ['posted after date ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = 'Date  string representing a RFC2822 or ISO 8601 date';\n\n\ttrueText = `after ${this.conditions.patt}`;\n\n\tvalue = new Date(this.conditions.patt);\n\n\tisValid() { return !isNaN(this.value); }\n\n\tevaluate(thing: *) {\n\t\tconst postTime = thing.getTimestamp();\n\t\tif (!postTime) return null;\n\t\treturn postTime >= this.value;\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nconst qualifiers = [['Y', 12], ['M', 30.44], ['d', 24], ['h', 60], ['m', 60], ['s', 1000]];\nconst now = new Date();\n\nfunction prettifyAge(remainder) {\n\tlet remainderQualifier = '';\n\tfor (const [qualifier, multiplier] of qualifiers.slice().reverse()) {\n\t\tif (remainder < multiplier) break;\n\t\tremainder /= multiplier;\n\t\tremainderQualifier = qualifier;\n\t}\n\n\treturn remainder.toFixed(2) + remainderQualifier;\n}\n\nexport class PostAge extends Case {\n\tstatic text = 'Post age';\n\n\tstatic parseCriterion(input: *) {\n\t\tlet age = parseInt(input, 10);\n\t\tif (isNaN(age)) throw new Error('Invalid age');\n\n\t\tconst ageQualifier = _.head(input.match(/Y|M|d|h|m|s/)) || 's';\n\t\tage = _.dropWhile(qualifiers, ([qualifier]) => qualifier !== ageQualifier)\n\t\t\t.reduce((a, [, multiplier]) => a * multiplier, age);\n\n\t\treturn { op: '<=', age };\n\t}\n\n\tstatic thingToCriterion(thing: *) {\n\t\tconst remainder = (now - new Date(thing.getTimestamp()));\n\t\tif (isNaN(remainder)) throw new Error('Could not determine Thing date');\n\t\treturn prettifyAge(remainder);\n\t}\n\n\tstatic defaultConditions = { op: '<=', age: 4 * 60 * 60 * 1000 };\n\tstatic fields = ['post is ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'duration', id: 'age' }, ' old'];\n\n\tstatic pattern = 'x[(Y|M|d|h|m)]  where x is the number of seconds or Y year, M month, h hour, m minute (case sensitive)';\n\n\ttrueText = `age ${prettyOperator(this.conditions.op)} ${prettifyAge(this.conditions.age)}`;\n\tfalseText = `age ${prettyOperator(inverseOperator(this.conditions.op))} ${prettifyAge(this.conditions.age)}`;\n\n\tevaluate(thing: *) {\n\t\tconst postTime = thing.getTimestamp();\n\t\tif (!postTime) return null;\n\t\treturn numericalCompare(this.value.op, now - postTime, this.value.age);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class PostTitle extends PatternCase {\n\tstatic text = 'Post title';\n\n\tstatic fields = ['post\\'s title contains ', { type: 'text', id: 'patt' }];\n\n\ttrueText = `title contains ${this.conditions.patt}`;\n\n\tvalue = this.build(false);\n\n\tevaluate(thing: *) {\n\t\tconst title = thing.getTitle();\n\t\treturn this.value.some(v => v.test(title));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nconst options = [\n\t['link post', 'link'],\n\t['self post', 'self'],\n];\n\nexport class PostType extends Case {\n\tstatic text = 'Post type';\n\n\tstatic parseCriterion(input: *) { return { kind: input }; }\n\n\tstatic defaultConditions = { kind: 'link' };\n\tstatic fields = ['post is a ', { type: 'select', id: 'kind', options }];\n\n\tstatic pattern = `(${options.map(([, cls]) => cls).join('|')})`;\n\n\ttrueText = `type ${this.conditions.kind}`;\n\n\tisValid() { return options.map(([, cls]) => cls).includes(this.value.kind); }\n\n\tevaluate(thing: *) {\n\t\tswitch (this.value.kind) {\n\t\t\tcase 'link': return thing.isLinkPost();\n\t\t\tcase 'self': return thing.isSelfPost();\n\t\t\tdefault: return null;\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nexport class Score extends Case {\n\tstatic text = 'Score';\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['post has ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' points'];\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic thingToCriterion(thing: *) { return String(thing.getScore()); }\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `score ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `score ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tevaluate(thing: *) {\n\t\tconst score = thing.getScore();\n\t\tif (isNaN(score)) return null;\n\t\treturn numericalCompare(this.value.op, score, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Case } from '../Case';\n\nexport class Selector extends Case {\n\tstatic text = 'Selector';\n\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\n\tstatic defaultConditions = { patt: '' };\n\tstatic fields = ['thing matches jQuery selector ', { type: 'text', id: 'patt' }];\n\tstatic slow = 10; // Can cause reflow, e.g. by using `:contains()`\n\n\tstatic pattern = 'string';\n\n\ttrueText = `$('${this.conditions.patt.replace(/\\'/g, '\\\\\\'')}')`;\n\tfalseText = `$(':not(${this.conditions.patt.replace(/\\'/g, '\\\\\\'')}'))`;\n\n\tisValid() { return this.value.patt && !!$(this.value.patt); }\n\n\tevaluate(thing: *) {\n\t\treturn $(thing.element).is(this.value.patt) ||\n\t\t\t$(thing.entry).is(this.value.patt) ||\n\t\t\t!!$(thing.entry).has(this.value.patt).length;\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class Subreddit extends PatternCase {\n\tstatic text = 'Subreddit';\n\n\tstatic thingToCriterion(thing: *) { return thing.getSubreddit(); }\n\n\tstatic fields = ['posted in /r/', { type: 'text', id: 'patt' }];\n\n\ttrueText = `in ${this.conditions.patt}`;\n\n\tvalue = this.build(true);\n\n\tevaluate(thing: *) {\n\t\tconst subreddit = thing.getSubreddit();\n\t\tif (!subreddit) return null;\n\t\treturn this.value.some(v => v.test(subreddit));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { loggedInUser } from '../../../utils';\n\nconst options = [\n\t['a friend', 'friend'],\n\t['a moderator', 'moderator'],\n\t['an admin', 'admin'],\n\t['me', 'me'],\n\t['op', 'submitter'],\n];\n\nexport class UserAttr extends Case {\n\tstatic text = 'User attribute';\n\n\tstatic parseCriterion(input: *) { return { attr: input }; }\n\n\tstatic fields = ['user is ', { type: 'select', id: 'attr', options }];\n\tstatic defaultConditions = { attr: 'friend' };\n\n\tstatic pattern = `(${options.map(([, cls]) => cls).join('|')})`;\n\n\ttrueText = `by ${this.conditions.attr}`;\n\n\tisValid() { return options.map(([, cls]) => cls).includes(this.value.attr); }\n\n\tevaluate(thing: *) {\n\t\tif (this.value.attr === 'me') {\n\t\t\t// No standard marker for my own posts so compare against the logged in user\n\t\t\tconst myName = loggedInUser();\n\t\t\tconst author = thing.getAuthor();\n\t\t\tif (!myName || !author) return null;\n\t\t\treturn author.trim().toLowerCase() === myName.trim().toLowerCase();\n\t\t} else {\n\t\t\t// The other cases have hardcoded class names\n\t\t\tconst element = thing.getAuthorElement();\n\t\t\tif (!element) return null;\n\t\t\treturn element.classList.contains(this.value.attr);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class UserFlair extends PatternCase {\n\tstatic text = 'User flair';\n\n\tstatic thingToCriterion(thing: *) { return thing.getUserFlairText(); }\n\n\tstatic fields = ['author of this post has flair matching ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = '[RegEx]';\n\n\ttrueText = `user flair ${this.conditions.patt}`.trim();\n\n\tvalue = this.build(false, '/./');\n\n\tevaluate(thing: *) {\n\t\tconst text = thing.getUserFlairText();\n\t\treturn this.value.some(v => v.test(text));\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport { CreateElement, frameThrottle, string } from '../utils';\nimport { multicast } from '../environment';\nimport * as CommandLine from './commandLine';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('customToggles');\n\nmodule.moduleName = 'customTogglesName';\nmodule.category = 'coreCategory';\nmodule.description = 'customTogglesDesc';\n\nmodule.options = {\n\ttoggle: {\n\t\tdescription: 'customTogglesToggleDesc',\n\t\ttitle: 'customTogglesToggleTitle',\n\t\ttype: 'table',\n\t\tfields: [{\n\t\t\tkey: 'key',\n\t\t\tname: 'key',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tname: 'enabled',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: true,\n\t\t}, {\n\t\t\tkey: 'text',\n\t\t\tname: 'text',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: ([]: Array<[string, boolean, string]>),\n\t},\n};\n\nconst toggles: Map<string, Toggle> = new Map();\nconst customToggles: Array<Toggle> = [];\n\nmodule.beforeLoad = () => {\n\tfor (const instance of module.options.toggle.value) {\n\t\tconst [key, initialEnabled, text] = instance;\n\n\t\tif (toggles.has(key)) {\n\t\t\tconsole.error(`A toggle with key ${key} already exists`, instance);\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst toggle = new Toggle(key, text, initialEnabled);\n\t\tcustomToggles.push(toggle);\n\n\t\ttoggle.onStateChange(() => {\n\t\t\t// Keep the settings data current to avoid overwriting modifications from other tabs\n\t\t\tinstance[1] = toggle.enabled;\n\n\t\t\t// For modules which update dynamically\n\t\t\t$(module).trigger($.Event('toggle')); // eslint-disable-line new-cap\n\t\t});\n\n\t\ttoggle.onToggle(() => {\n\t\t\tOptions.save(module.options.toggle);\n\t\t});\n\n\t\ttoggle.addMenuItem();\n\t}\n};\n\nmodule.contentStart = () => {\n\tregisterCommandLine();\n};\n\nexport class Toggle {\n\ttext: string;\n\tenabled: boolean;\n\n\tstateChangeCallbacks: Array<() => void> = []; // Invoked on all tabs\n\ttoggleCallbacks: Array<(type: 'multicast' | 'auto' | 'manual') => void> = []; // Invoked on the tab which caused the change\n\n\tmulticast: boolean => any;\n\n\tconstructor(key: string, text: *, enabled: *) {\n\t\tthis.text = text;\n\t\tthis.enabled = enabled;\n\n\t\tthis.multicast = multicast(frameThrottle((enabled: boolean) => {\n\t\t\tthis.toggle('multicast', enabled);\n\t\t}), { local: false, name: `toggle.${key}` });\n\n\t\ttoggles.set(key, this);\n\t}\n\n\ttoggle(type: * = 'manual', state: boolean = !this.enabled) {\n\t\tif (this.enabled === state) return;\n\t\tthis.enabled = state;\n\n\t\tfor (const callback of this.stateChangeCallbacks) callback();\n\t\tif (type !== 'multicast') {\n\t\t\tfor (const callback of this.toggleCallbacks) callback(type);\n\t\t\tthis.multicast(state);\n\t\t}\n\t}\n\n\tonStateChange(callback: *) {\n\t\tthis.stateChangeCallbacks.push(callback);\n\t}\n\n\tonToggle(callback: *) {\n\t\tthis.toggleCallbacks.push(callback);\n\t}\n\n\taddMenuItem(title: string = `Toggle ${this.text}`, order: number = 9, on?: string, off?: string) {\n\t\tMenu.addMenuItem(\n\t\t\t_.once(() => {\n\t\t\t\tconst item = string.html`<div title=\"${title}\">${this.text || '\\u00A0'}</div>`;\n\t\t\t\tconst toggle = CreateElement.toggleButton(undefined, this.text, this.enabled, on, off);\n\t\t\t\titem.append(toggle);\n\t\t\t\tthis.onStateChange(() => { toggle.classList.toggle('enabled', this.enabled); });\n\t\t\t\treturn item;\n\t\t\t}),\n\t\t\te => {\n\t\t\t\tthis.toggle();\n\t\t\t\te.stopPropagation();\n\t\t\t},\n\t\t\torder,\n\t\t);\n\t}\n\n\taddCLI(commandPredicate: string) {\n\t\tCommandLine.registerCommand(commandPredicate, `${commandPredicate} - toggle ${this.text}`,\n\t\t\t() => ` ${this.enabled ? 'Disable' : 'Enable'} ${this.text}`,\n\t\t\t() => { this.toggle(); },\n\t\t);\n\t}\n\n\tbuildCheckbox(): HTMLInputElement {\n\t\tconst checkbox = document.createElement('input');\n\t\tcheckbox.setAttribute('type', 'checkbox');\n\t\tcheckbox.checked = this.enabled;\n\t\tcheckbox.addEventListener('change', () => { this.toggle('manual', checkbox.checked); });\n\t\tthis.onStateChange(() => { checkbox.checked = this.enabled; });\n\t\treturn checkbox;\n\t}\n}\n\nfunction registerCommandLine() {\n\tconst getToggles = val => Array.from(toggles.values())\n\t\t.filter(({ text }) => text.startsWith(val))\n\t\t.sort(({ text: a }, { text: b }) => a.localeCompare(b));\n\n\tCommandLine.registerCommand('toggle', 'toggle - toggle any custom toggle',\n\t\t(command, val) => getToggles(val).length ?\n\t\t\t`Toggle ${getToggles(val).map((toggle, i) => i === 0 ? `<b>${toggle.text}</b>` : toggle.text).join('|')}` :\n\t\t\t`No toggles matching <i>${val}</i>`,\n\t\t(command, val) => {\n\t\t\tconst match = getToggles(val)[0];\n\t\t\tif (match) match.toggle();\n\t\t\telse return `${val} does not match a valid toggle`;\n\t\t},\n\t);\n}\n\nexport function toggleActive(key: string): boolean {\n\tconst toggle = toggles.get(key);\n\treturn !!toggle && toggle.enabled;\n}\n\n// Stage may have the most recent toggles, in case this is invoked while in settingsConsole\nexport const getToggles = () => (Options.stage.get(module.moduleID) || module.options)\n\t.toggle.value.map(([key, , text]) => ({ key, text }));\n","/* @flow */\n\nimport _ from 'lodash';\nimport type { Thing } from '../../utils';\nimport {\n\tfastAsync,\n\tstring,\n} from '../../utils';\nimport type { FilterStorageValues } from '../filteReddit';\nimport { Case } from './Case';\nimport type { Filterline } from './Filterline';\n\nexport class Filter {\n\tid: string;\n\tname: string;\n\tparent: ?Filterline;\n\n\tupdatePromise: ?Promise<*>;\n\n\tBaseCase: Class<Case>;\n\tcase: Case;\n\tstate: boolean;\n\n\tactive: boolean = false;\n\n\telement: HTMLElement;\n\n\teffects: { [key: string]: boolean } = {};\n\n\tconstructor(id: *, BaseCase: *, name: *, conditions: * = null, state: * = true, effects: * = {}) {\n\t\tthis.id = id;\n\t\tthis.BaseCase = BaseCase;\n\t\tthis.name = name;\n\t\tthis.state = state;\n\t\t// Add only active effects in order to minimize the number of effects to keep track of\n\t\tObject.assign(this.effects, _.pickBy(effects, Boolean));\n\t\tthis.setCase(BaseCase.fromConditions(conditions));\n\t}\n\n\tisActive() {\n\t\treturn !!this.getEffects().length && this.case.isEvaluatable();\n\t}\n\n\tcreateElement() {}\n\n\tsetParent(parent: *) {\n\t\tthis.parent = parent;\n\t}\n\n\tgetStateText(state: boolean = this.state, cased: Case = this.case): string {\n\t\treturn state !== false ?\n\t\t\tthis.name || cased.trueText || (this.BaseCase.text || this.BaseCase.type).toLowerCase() :\n\t\t\tthis.name && ` ${this.name}` || cased.falseText || ` ${this.getStateText(true, cased)}`;\n\t}\n\n\tgetSaveValues() {\n\t\tconst values: FilterStorageValues = { type: this.BaseCase.type, state: this.state, effects: this.effects };\n\n\t\tif (this.BaseCase.variant === 'basic') {\n\t\t\tvalues.conditions = this.case.conditions;\n\n\t\t\tif (this.name && this.name !== this.case.trueText) {\n\t\t\t\tvalues.name = this.name;\n\t\t\t}\n\t\t}\n\n\t\treturn values;\n\t}\n\n\tremove() {\n\t\tfor (const effect of Object.keys(this.effects)) this.effects[effect] = false;\n\t\tif (this.parent) this.parent.removeFilter(this);\n\t}\n\n\tgetEffects(): Array<string> {\n\t\treturn Object.entries(this.effects).filter(([, enabled]) => enabled).map(([name]) => name);\n\t}\n\n\tsetCase(newCase: Case) {\n\t\tthis.case = newCase;\n\t\tthis.active = this.isActive(); // XXX Make sure to update this anytime effects or case changes\n\t\tif (this.active) this.case.observe(this);\n\t}\n\n\tupdate(state: boolean = this.state, conditions?: *, effects: * = {}, describeOnly: boolean = false) {\n\t\tconst cased = conditions === undefined ? this.case : this.BaseCase.fromConditions(conditions, true);\n\t\tif (!cased.isValid()) throw new Error('Invalid conditions');\n\n\t\tif (describeOnly) {\n\t\t\treturn `Show only posts which matches \"${this.getStateText(state, cased)}\"`;\n\t\t}\n\n\t\tthis.state = state;\n\t\tObject.assign(this.effects, effects);\n\t\tthis.setCase(cased);\n\n\t\tthis.refresh();\n\t\tif (this.parent) this.parent.save();\n\t}\n\n\trefresh = (thing?: Thing) => {\n\t\tif (!this.parent) return;\n\t\tthis.updatePromise = this.parent.refresh(this, thing ? [thing] : undefined);\n\t};\n\n\tasync updateByInputConstruction({\n\t\tcriterion,\n\t\tdisableFilter,\n\t\treverseActive,\n\t\tfromSelected,\n\t}: {\n\t\tcriterion?: string,\n\t\tdisableFilter?: boolean,\n\t\treverseActive?: boolean,\n\t\tfromSelected?: boolean,\n\t}, describeOnly?: boolean = false): Promise<?string> {\n\t\tif (disableFilter) {\n\t\t\tif (describeOnly) return 'Disable filter';\n\t\t\treturn this.update(undefined, undefined, { hide: false });\n\t\t}\n\n\t\tlet state, conditions;\n\n\t\tif (fromSelected) {\n\t\t\t({ state, conditions } = await this.BaseCase.getSelectedEntryValue());\n\t\t} else {\n\t\t\tif (criterion) conditions = this.BaseCase.criterionToConditions(criterion);\n\t\t\tstate = this.state;\n\t\t}\n\n\t\tif (reverseActive) state = !state;\n\n\t\treturn this.update(state, conditions, { hide: true }, describeOnly);\n\t}\n\n\tmatches = fastAsync(function*(thing: Thing) {\n\t\ttry {\n\t\t\tconst result = yield this.case.evaluate(thing);\n\t\t\treturn result === null ? false : this.state === !result;\n\t\t} catch (e) {\n\t\t\t// evaluate may fail due to `downcast` etc\n\t\t\treturn false;\n\t\t}\n\t});\n\n\tgetMatchingEntry(thing: Thing) { // eslint-disable-line no-unused-vars\n\t\treturn this.case.conditions;\n\t}\n\n\tremoveEntry(entry: *, effect: string) { // eslint-disable-line no-unused-vars\n\t\tthis.update(undefined, undefined, { [effect]: false });\n\t}\n\n\tasync buildReasonElement(thing: Thing, effect: string) {\n\t\tconst entry = await this.getMatchingEntry(thing);\n\t\tconst element = string.html`\n\t\t\t<div class=\"res-thing-filter-remove-matching-entry\" title=\"${JSON.stringify(entry, null, '  ')}\">\n\t\t\t\t${effect}: ${this.getStateText(!this.state)}  click to remove matching filter entry\n\t\t\t</div>\n\t\t`;\n\t\telement.addEventListener('click', () => { this.removeEntry(entry, effect); });\n\t\treturn element;\n\t}\n}\n","/* @flow */\n\nimport { string, CreateElement } from '../../utils';\nimport * as FilteReddit from '../filteReddit';\nimport * as SettingsNavigation from '../settingsNavigation';\nimport * as Cases from './cases';\nimport { Filter } from './Filter';\n\nexport class ExternalFilter extends Filter {\n\ttoggleEffects: $ReadOnlyArray<string> = ['hide'];\n\n\tisActive() {\n\t\t// If the case will always evaluate false, prevent this filter from making Filterline believe it's being useful\n\t\treturn this.case.constructor.type !== 'false' && super.isActive();\n\t}\n\n\tcreateElement() {\n\t\tthis.element = string.html`\n\t\t\t<div class=\"res-filterline-external-filter\" type=\"${this.BaseCase.type}\">\n\t\t\t\t<div>${this.name || this.BaseCase.type}</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tif (FilteReddit.module.options.hasOwnProperty(this.BaseCase.type)) {\n\t\t\tthis.element.prepend(string.html`${string.safe(\n\t\t\t\tSettingsNavigation.makeUrlHashLink(FilteReddit.module.moduleID, this.BaseCase.type, ' ', 'gearIcon'),\n\t\t\t)}`);\n\t\t}\n\n\t\tconst setActive = active => {\n\t\t\tconst effects = this.toggleEffects\n\t\t\t\t.reduce((acc, val) => { acc[val] = active; return acc; }, {});\n\t\t\tthis.update(undefined, undefined, effects);\n\t\t};\n\n\t\tif (Cases.isUseful(this.case.constructor.type)) {\n\t\t\tconst t = CreateElement.toggleButton(setActive, null, this.isActive(), '', '');\n\t\t\tthis.element.appendChild(t);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Sortable } from '../../vendor';\nimport {\n\tasyncFilter,\n\tcaseBuilder,\n\tstring,\n\twaitForEvent,\n\tdowncast,\n\tframeThrottle,\n} from '../../utils';\nimport * as CommentNavigator from '../commentNavigator';\nimport * as Hover from '../hover';\nimport * as FilteReddit from '../filteReddit';\nimport * as Cases from './cases';\nimport * as Modules from './../../core/modules';\nimport { Filter } from './Filter';\n\nexport class LineFilter extends Filter {\n\tinitialConditions: *;\n\n\tconstructor(id: *, BaseCase: *, name: *, conditions: * = null, state: * = true, effects: * = {}) {\n\t\tif (BaseCase.variant === 'ondemand') {\n\t\t\tconst externOpts = BaseCase._customFilter && BaseCase._customFilter.opts;\n\t\t\tif (externOpts) {\n\t\t\t\tif (!name) ({ name } = externOpts);\n\n\t\t\t\tif (!effects.hasOwnProperty('propagate')) {\n\t\t\t\t\tconst { propagate } = externOpts;\n\t\t\t\t\tObject.assign(effects, { propagate });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsuper(id, BaseCase, name, conditions, state, effects);\n\t}\n\n\tupdate(state: * = this.state, conditions?: *, effects: *, describeOnly: *) {\n\t\tif (this.BaseCase.variant === 'ondemand' && conditions && !describeOnly) {\n\t\t\tFilteReddit.updateCustomFilter(this.BaseCase.getCustomFilter(), { body: conditions });\n\t\t\tconditions = null; // Force create new case\n\t\t}\n\n\t\tconst message = super.update(state, conditions, effects, describeOnly);\n\t\tif (this.element) this.refreshElement();\n\t\treturn message;\n\t}\n\n\tsetParent(parent: *) {\n\t\tsuper.setParent(parent);\n\t\tthis.getBuilder.cache.clear();\n\t}\n\n\tcreateElement() {\n\t\tthis.element = string.html`<div class=\"res-filterline-filter\" type=\"${this.BaseCase.type}\"></div>`;\n\t\tthis.refreshElement();\n\n\t\tthis.element.addEventListener('click', () => {\n\t\t\tif (!this.effects.hide) this.update(undefined, undefined, { hide: true });\n\t\t\telse if (this.state) this.update(false, undefined, { hide: true });\n\t\t\telse this.update(true, undefined, { hide: false });\n\t\t});\n\n\t\tthis.element.addEventListener('contextmenu', (e: Event) => { // Right click\n\t\t\tif (this.effects.hide) this.update(undefined, undefined, { hide: false });\n\t\t\telse this.remove();\n\t\t\te.preventDefault(); // Do not show context menu\n\t\t});\n\n\t\tthis.element.addEventListener('mouseenter', async () => {\n\t\t\t// To prevent this from triggering and clearing other cards when moving the curser quickly through,\n\t\t\t// wait a little in order to be sure about the user's intent\n\t\t\tawait new Promise(res => setTimeout(res, 150));\n\t\t\tif (this.element.matches(':hover')) this.showInfocard();\n\t\t});\n\t\t// When just clicking the button, avoid showing the infocard as it can be a nuisance\n\t\tthis.element.addEventListener('click', () => Hover.infocard('filterline-filter').resetShowTimer());\n\t\tthis.element.addEventListener('contextmenu', () => Hover.infocard('filterline-filter').resetShowTimer());\n\t}\n\n\tshowInfocard(immediately: boolean = false) {\n\t\tconst card = Hover.infocard('filterline-filter');\n\t\tif (card.visible) immediately = true;\n\t\tcard\n\t\t\t.target(this.element)\n\t\t\t.options({ width: 570, openDelay: immediately ? 0 : 550, pin: Hover.pin.bottom })\n\t\t\t.populateWith(this.populateHover.bind(this))\n\t\t\t.begin();\n\t}\n\n\trefreshElement() {\n\t\tthis.element.setAttribute('text', this.getStateText());\n\t\t// Don't display external filters that are not active\n\t\tthis.element.classList.toggle('res-filterline-filter-disabled', this.BaseCase.variant !== 'basic' && !this.case.isEvaluatable());\n\t\tthis.element.classList.toggle('res-filterline-filter-hiding', this.case.isEvaluatable() && !!this.effects.hide);\n\t}\n\n\t// Memoize in order to preserve the builder when infocard closes\n\tgetBuilder = _.memoize((filterline, card) => {\n\t\tconst builderCases = Cases.getByContext(filterline.thingType);\n\n\t\tlet lastConditions = this.case.conditions;\n\n\t\tif (this.BaseCase.variant === 'ondemand') {\n\t\t\tObject.assign(builderCases, Cases.getByContext('browse'));\n\n\t\t\t// Use customFilter conditions\n\t\t\tlastConditions = this.BaseCase.getCustomFilter().body;\n\t\t}\n\n\t\tif (!this.initialConditions) this.initialConditions = lastConditions;\n\n\t\tconst $builderBlock = caseBuilder.drawBuilderBlock(lastConditions, builderCases, false);\n\t\t$builderBlock.on('change input', frameThrottle(() => {\n\t\t\tconst conditions = caseBuilder.readBuilderBlock($builderBlock, builderCases);\n\t\t\tif (!_.isEqual(lastConditions, conditions)) {\n\t\t\t\tlastConditions = conditions;\n\t\t\t\tthis.update(undefined, conditions);\n\t\t\t\t// Keep track of what is focused when redrawing\n\t\t\t\tconst lastFocus = $builderBlock.get(0).contains(document.activeElement) && document.activeElement;\n\t\t\t\tif (lastFocus) card.refresh().then(() => lastFocus.focus());\n\t\t\t}\n\t\t}));\n\n\t\tSortable.create($builderBlock.get(0), { handle: '.handle' });\n\n\t\treturn {\n\t\t\tget builder() { return $builderBlock.get(0); },\n\t\t\tisCaseChanged: () => !_.isEqual(this.initialConditions, lastConditions),\n\t\t};\n\t});\n\n\tpopulateHover(card: *) {\n\t\tconst { parent: filterline } = this;\n\t\tif (!filterline) throw new Error('Filter not attached');\n\n\t\tconst redraw = () => {\n\t\t\tthis.getBuilder.cache.clear();\n\t\t\tcard.refresh();\n\t\t};\n\n\t\tconst head = string.html`\n\t\t\t<div class=\"res-filterline-filter-hover-preamble\">\n\t\t\t\t<span>Filter ${this.BaseCase.text}</span>\n\t\t\t\t<div class=\"res-filterline-filter-hover-group\" group=\"case-actions\">\n\t\t\t\t\t<div class=\"res-filterline-filter-hover-buttons\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tconst body = string.html`\n\t\t\t<div class=\"res-filterline-filter-hover\">\n\t\t\t\t<span class=\"res-filterline-filter-hover-options\"></span>\n\t\t\t\t<span>For posts (<span class=\"res-filterline-filter-hover-number-matches\"></span>) ${this.state ? 'not ' : ''}matching:</span>\n\t\t\t\t<div class=\"builderItem\"></div>\n\t\t\t\t<div class=\"res-filterline-filter-hover-notice\">${ // Keep element empty when no text due to :empty selector\n\tthis.BaseCase.variant === 'ondemand' && 'By adding browse context conditions such as \"Date\", \"Logged in user\", and \"Custom toggle\", you control where and when this filter is available.'}</div>\n\t\t\t\t<div class=\"res-filterline-filter-hover-group\" group=\"match-effects\">\n\t\t\t\t\t<div class=\"res-filterline-filter-hover-buttons\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"res-filterline-filter-hover-group\" group=\"match-actions\" hidden>\n\t\t\t\t\t<div class=\"res-filterline-filter-hover-buttons\"></div>\n\t\t\t\t</div>\n\t\t`;\n\n\t\tconst { builder, isCaseChanged } = this.getBuilder(filterline, card);\n\t\tbody.querySelector('.builderItem').appendChild(builder);\n\n\t\t// Focus first input in builder, since it's likely the user want to modify that condition\n\t\tsetTimeout(() => {\n\t\t\tif (!builder.contains(document.activeElement)) {\n\t\t\t\t// If an `input` element is not found, look for `select`\n\t\t\t\tconst e = [...builder.querySelectorAll('input'), ...builder.querySelectorAll('select')]\n\t\t\t\t\t.find(e => e.offsetParent);\n\t\t\t\tif (e) e.focus();\n\t\t\t}\n\t\t});\n\n\t\tif (filterline.thingType === 'comment') {\n\t\t\tconst options = body.querySelector('.res-filterline-filter-hover-options');\n\t\t\tconst propagate = string.html`<label style=\"display: flex; align-items: center;\"><input style=\"margin-right: 3px;\" type=\"checkbox\" ${this.effects.propagate && 'checked'}>Also hide children</label>`;\n\t\t\toptions.append(propagate);\n\t\t\twaitForEvent(propagate, 'change').then(() => {\n\t\t\t\tthis.effects.propagate = downcast(propagate.querySelector('input'), HTMLInputElement).checked;\n\t\t\t\tthis.refresh();\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\tfunction addButton(container, text, groupName, action) {\n\t\t\tconst button = string.html`<button class=\"res-filterline-filter-hover-button\" action=\"${action}\">${text}</button>`;\n\t\t\tconst group = downcast(container.querySelector(`[group=${groupName}]`), HTMLElement);\n\t\t\tgroup.hidden = false;\n\t\t\tconst buttons = downcast(group.querySelector('.res-filterline-filter-hover-buttons'), HTMLElement);\n\t\t\tbuttons.appendChild(button);\n\t\t\treturn waitForEvent(button, 'click');\n\t\t}\n\n\t\tif (this.BaseCase.variant === 'basic' && this.BaseCase === Cases.Group) {\n\t\t\taddButton(head, 'To on-demand', 'case-actions', 'to-ondemand').then(() => {\n\t\t\t\tconst conditions = Cases.getGroup('all', [\n\t\t\t\t\tCases.getConditions('currentLocation'),\n\t\t\t\t\tCases.getGroup(this.state ? 'all' : 'none', [this.case.conditions]),\n\t\t\t\t]);\n\n\t\t\t\tif (!this.name) this.name = window.prompt('Filter name:');\n\n\t\t\t\tthis.BaseCase = FilteReddit.addOndemandCase(\n\t\t\t\t\tFilteReddit.addCustomFilter({\n\t\t\t\t\t\tbody: Cases.resolveGroup(conditions, false, true),\n\t\t\t\t\t\topts: {\n\t\t\t\t\t\t\tondemand: true,\n\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}),\n\t\t\t\t);\n\n\t\t\t\tthis.update(true, null);\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\tif (isCaseChanged()) {\n\t\t\taddButton(head, 'Reset change', 'case-actions', 'reset').then(() => {\n\t\t\t\tthis.update(undefined, this.initialConditions);\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\tif (this.BaseCase.variant === 'ondemand' || this.BaseCase === Cases.Group) {\n\t\t\taddButton(head, 'Rename', 'case-actions', 'rename').then(() => {\n\t\t\t\tconst name = window.prompt('New filter name:', this.case.trueText);\n\t\t\t\tif (!name) return;\n\n\t\t\t\tif (this.BaseCase.variant === 'ondemand') {\n\t\t\t\t\tconst customFilter = this.BaseCase.getCustomFilter();\n\t\t\t\t\tFilteReddit.updateCustomFilter(customFilter, { opts: { name } });\n\t\t\t\t}\n\n\t\t\t\tthis.name = name;\n\t\t\t\tthis.update();\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\taddButton(head, 'Invert', 'case-actions', 'invert')\n\t\t\t.then(() => { this.update(!this.state); })\n\t\t\t.then(redraw);\n\n\t\taddButton(head, 'Remove', 'case-actions', 'remove')\n\t\t\t.then(() => { this.remove(); })\n\t\t\t.then(card.close.bind(card));\n\n\t\taddButton(body, this.effects.hide ? 'Don\\'t hide' : 'Hide', 'match-effects', `hide-${this.effects.hide ? 'false' : 'true'}`)\n\t\t\t.then(() => { this.update(undefined, undefined, { hide: !this.effects.hide }); })\n\t\t\t.then(redraw);\n\n\t\taddButton(body, this.effects.highlight ? 'Don\\'t highlighting' : 'Highlight', 'match-effects', 'highlight').then(() => {\n\t\t\tthis.update(undefined, undefined, { highlight: !this.effects.highlight });\n\t\t}).then(redraw);\n\n\t\tif (Modules.isRunning(CommentNavigator) && !this.effects.hide) {\n\t\t\taddButton(body, 'Navigate by', 'match-actions', 'navigate-by').then(() => {\n\t\t\t\tCommentNavigator.updateCustomConditions(Cases.getGroup(this.state ? 'none' : 'all', [this.case.conditions]));\n\t\t\t\tCommentNavigator.setCategory('custom');\n\t\t\t\tcard.close();\n\t\t\t});\n\t\t}\n\n\t\tasyncFilter(Array.from(filterline.things), async thing => await this.matches(thing)) // eslint-disable-line no-return-await\n\t\t\t.then(matches => {\n\t\t\t\tconst numberSpan = body.querySelector('.res-filterline-filter-hover-number-matches');\n\t\t\t\tnumberSpan.textContent = String(matches.length);\n\n\t\t\t\tif (filterline.thingType === 'post' && matches.length) {\n\t\t\t\t\taddButton(body, 'Permanently hide', 'match-actions', 'native-hide')\n\t\t\t\t\t\t.then(() => { filterline.hidePermanently(matches); });\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn [head, body];\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport type { Thing } from '../../utils';\nimport {\n\tBodyClasses,\n\tSelectedThing,\n\tfastAsync,\n\twaitForEvent,\n\tdowncast,\n\thide as redditHide,\n\tunhide as redditUnhide,\n\tframeThrottle,\n\tforEachChunked,\n\tidleThrottle,\n\tloggedInUser,\n\tkeyedMutex,\n\tfilterMap,\n\tstring,\n} from '../../utils';\nimport { i18n } from '../../environment';\nimport * as Hover from '../hover';\nimport * as Notifications from '../notifications';\nimport * as FilteReddit from '../filteReddit';\nimport * as RESTips from '../RESTips';\nimport * as Cases from './cases';\nimport { ExternalFilter } from './ExternalFilter';\nimport { LineFilter } from './LineFilter';\nimport type { Filter } from './Filter';\nimport type { Case } from './Case';\n\ntype NewFilterOpts = {|\n\tFilter?: Class<Filter>,\n\tid?: string,\n\tadd?: boolean,\n\tsave?: boolean,\n\t...FilteReddit.FilterStorageValues,\n|};\n\nexport class Filterline {\n\tthings: Set<Thing> = new Set();\n\tthingType: string;\n\n\tstorage: *;\n\tfilters: Filter[] = [];\n\tsortedFilters: Filter[] = []; // Filters sorted by slowness\n\n\tcurrentMatches: Map<Thing, { [string]: Filter | null }> = new Map();\n\n\tpermanentlyHiddenThings: Set<Thing> = new Set();\n\tdisplayReasons: boolean = false;\n\n\telement: HTMLElement;\n\tdropdown: HTMLElement;\n\tpreamble: HTMLElement;\n\tfilterContainer: HTMLElement;\n\tpoweredElement: HTMLInputElement;\n\tpermanentlyHideCheckbox: HTMLInputElement;\n\n\tinitialized: boolean = false;\n\n\tconstructor(storage: *, thingType: *) {\n\t\tthis.storage = storage;\n\t\tthis.thingType = thingType;\n\t}\n\n\t// Initialize once things are being processed\n\tisInitialized(): boolean {\n\t\tif (this.initialized) return true;\n\n\t\tif (!this.things.size || !this.getActiveFilters().length) return false;\n\n\t\tthis.initialized = true;\n\t\t// It is possible to optimize the order of filters until things are filtered\n\t\t// if order is changed thereafter, `getFiltersToTest` may return invalid results\n\t\tthis.sortedFilters = _.sortBy(this.filters, ({ case: { constructor: { slow } } }) => slow);\n\n\t\tif (this.thingType === 'post') {\n\t\t\t// Improve performance by not evaluating these effects on post filters\n\t\t\t// TODO Move this closer to the effect list\n\t\t\tdelete this.availableEffects.collapse;\n\t\t\tdelete this.availableEffects.propagate;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tisPowered() { return !document.documentElement.classList.contains('res-filters-disabled'); }\n\n\ttogglePowered = (powered: boolean = !this.isPowered()) => {\n\t\tBodyClasses.toggle(!powered, 'res-filters-disabled');\n\t\tthis.poweredElement.checked = powered;\n\t}\n\n\tcreateElement() {\n\t\tconst element = this.element = string.html`\n\t\t\t<div class=\"res-filterline\">\n\t\t\t\t<div class=\"res-filterline-preamble\"></div>\n\t\t\t\t<div class=\"res-filterline-filters\">\n\t\t\t\t\t<input type=\"checkbox\" ${this.isPowered() && 'checked'} class=\"res-filterline-toggle-powered\" title=\"Stop filtering temporarily\"></input>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t\tthis.preamble = element.querySelector('.res-filterline-preamble');\n\t\tthis.filterContainer = element.querySelector('.res-filterline-filters');\n\n\t\tthis.addFilterElements(this.filters);\n\n\t\twaitForEvent(this.preamble, 'mouseenter', 'click').then(() => this.createDropdown());\n\n\t\tthis.poweredElement = downcast(element.querySelector('.res-filterline-toggle-powered'), HTMLInputElement);\n\t\tthis.poweredElement.addEventListener('change', () => { this.togglePowered(); });\n\t}\n\n\taddFilterElements(filters: Filter[]) {\n\t\tfor (const filter of filters) {\n\t\t\tif (filter instanceof ExternalFilter) continue; // ExternalFilter elements are created when dropdown is bulit\n\t\t\tfilter.createElement();\n\t\t\tthis.filterContainer.appendChild(filter.element);\n\t\t}\n\t}\n\n\tgetFiltersOfCase(CaseClass: *) {\n\t\treturn this.filters.filter(v => v.BaseCase === CaseClass);\n\t}\n\n\tgetPickable(): Class<Case>[] {\n\t\treturn Object.values(Cases.getByContext(this.thingType, false))\n\t\t\t.filter(v => !v.disabled && v.variant !== 'external');\n\t}\n\n\tcreateDropdown() {\n\t\tconst element = string.html`\n\t\t\t<div class=\"res-filterline-dropdown\">\n\t\t\t\t<div class=\"res-filterline-dropdown-other\"></div>\n\t\t\t\t<div class=\"res-filterline-dropdown-toggles\">\n\t\t\t\t\t<div class=\"res-filterline-display-match-reason\">\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"checkbox\" ${this.displayReasons && 'checked'}\">\n\t\t\t\t\t\t\t<span>Show matching filters</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"res-filterline-show-help\">\n\t\t\t\t\tUsage information\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.preamble.append(element);\n\n\t\t// Hover cards may be in front of the dropdown\n\t\tthis.preamble.addEventListener('mouseenter', () => {\n\t\t\tHover.infocard('filterline-filter').close();\n\t\t});\n\n\t\tfunction addDetails(summary, className: string, ...elements) {\n\t\t\tconst e = string.html`<details class=\"${className}\"><summary>${summary}</summary></details>`;\n\t\t\te.append(...elements);\n\t\t\telement.querySelector('.res-filterline-dropdown-other').append(e);\n\t\t}\n\n\t\taddDetails('Modify external filters', 'res-filterline-external',\n\t\t\t...this.filters\n\t\t\t\t.filter(filter => filter instanceof ExternalFilter)\n\t\t\t\t.map(filter => { filter.createElement(); return filter.element; }),\n\t\t);\n\n\t\t// `Cases.Group` is separated\n\t\tconst dp = _.groupBy(_.without(this.getPickable(), Cases.Group), v => v.variant);\n\t\tfor (const [name, CaseClasses] of Object.entries(dp)) {\n\t\t\taddDetails(`New ${name} filter`, `res-filterline-new-${name}`,\n\t\t\t\t...CaseClasses\n\t\t\t\t\t.sort((a, b) => a.type.localeCompare(b.type))\n\t\t\t\t\t.map(CaseClass => this.createNewFilterElement(CaseClass)),\n\t\t\t);\n\t\t}\n\n\t\tconst _getAsConditions = this.getAsConditions.bind(this);\n\t\taddDetails('New complex filter', 'res-filterline-new-group',\n\t\t\tthis.createNewFilterElement(Cases.Group, 'Copy active filters', { get conditions() { return _getAsConditions(); } }),\n\t\t\t...Cases.Group.fields[0].options\n\t\t\t\t.map(op => this.createNewFilterElement(Cases.Group, `Matches ${op}`, { conditions: { op, of: [] } })),\n\t\t);\n\n\t\taddDetails('Use as default', 'res-filterline-set-default',\n\t\t\t...FilteReddit.defaultFilters.map(({ type, text }) => {\n\t\t\t\tconst e = string.html`<div class=\"res-filterline-dropdown-action\">${text}</div>`;\n\t\t\t\te.addEventListener('click', () => FilteReddit.saveFilterlineStateAsDefault(type));\n\t\t\t\treturn e;\n\t\t\t}),\n\t\t\t(() => {\n\t\t\t\tconst e = string.html`<div class=\"res-filterline-dropdown-action\">Reset this Filterline</div>`;\n\t\t\t\te.addEventListener('click', () => {\n\t\t\t\t\tthis.storage.delete();\n\t\t\t\t\tif (confirm('Reload page to restore default')) location.reload();\n\t\t\t\t});\n\t\t\t\treturn e;\n\t\t\t})(),\n\t\t);\n\n\t\tconst displayReasonsCheckbox = downcast(element.querySelector('.res-filterline-display-match-reason input'), HTMLInputElement);\n\t\tdisplayReasonsCheckbox.addEventListener('change', () => {\n\t\t\tthis.toggleDisplayReasons(displayReasonsCheckbox.checked);\n\t\t});\n\n\t\tif (this.thingType === 'post' && loggedInUser()) {\n\t\t\tconst permanentlyHide = string.html`\n\t\t\t\t<div class=\"res-filterline-permanently-hide\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input type=\"checkbox\">\n\t\t\t\t\t\t<span>Permanently hide</span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tconst checkbox = this.permanentlyHideCheckbox = downcast(permanentlyHide.querySelector('input'), HTMLInputElement);\n\t\t\tthis.updatePermanentlyHideCheckbox();\n\t\t\tpermanentlyHide.addEventListener('click', async () => {\n\t\t\t\tcheckbox.disabled = true;\n\t\t\t\tawait (this.permanentlyHiddenThings.size ? this.unhidePermanently() : this.hidePermanently());\n\t\t\t\tcheckbox.disabled = false;\n\t\t\t});\n\t\t\telement.querySelector('.res-filterline-dropdown-toggles').append(permanentlyHide);\n\t\t}\n\n\t\tdowncast(element.querySelector('.res-filterline-show-help'), HTMLElement).addEventListener('click', () => {\n\t\t\tRESTips.showFeatureTip('filterlineVisible');\n\t\t});\n\t}\n\n\tupdatePermanentlyHideCheckbox() {\n\t\tif (!this.permanentlyHideCheckbox) return;\n\t\tthis.permanentlyHideCheckbox.checked = this.permanentlyHideCheckbox.indeterminate = false;\n\t\tif (!this.permanentlyHiddenThings.size) return;\n\t\tif (this.getThings('hide').length === this.permanentlyHiddenThings.size) this.permanentlyHideCheckbox.checked = true;\n\t\telse this.permanentlyHideCheckbox.indeterminate = true;\n\t}\n\n\tcreateNewFilterElement(CaseClass: Class<Case>, text: string = CaseClass.text, newOpts?: $Shape<NewFilterOpts>) {\n\t\tlet fromSelected = false;\n\n\t\tconst element = string.html`<div class=\"res-filterline-dropdown-action res-filterline-filter-new\" type=\"${CaseClass.type}\">${text}</div>`;\n\t\telement.addEventListener('click', () => {\n\t\t\tconst existing = CaseClass.unique && this.getFiltersOfCase(CaseClass)[0];\n\t\t\tlet filter;\n\t\t\tif (existing) {\n\t\t\t\tif (!(existing instanceof LineFilter)) throw new Error();\n\t\t\t\tfilter = existing;\n\t\t\t} else {\n\t\t\t\tfilter = downcast(this.createFilter({ type: CaseClass.type, add: true, ...newOpts }), LineFilter);\n\t\t\t}\n\n\t\t\tif (fromSelected) filter.updateByInputConstruction({ fromSelected });\n\t\t\telse filter.showInfocard(true);\n\t\t});\n\n\t\tif (CaseClass.thingToCriterion || !CaseClass.defaultConditions) {\n\t\t\tconst c = string.html`<div class=\"res-filterline-filter-new-from-selected\" title=\"From selected entry\"></div>`;\n\t\t\tc.addEventListener('click', () => {\n\t\t\t\tfromSelected = true;\n\t\t\t\tsetTimeout(() => { fromSelected = false; });\n\t\t\t});\n\t\t\telement.append(c);\n\t\t}\n\n\t\treturn element;\n\t}\n\n\tasync hidePermanently(things: Array<Thing> = this.getThings('hide')) {\n\t\tawait Promise.all(_.difference(things, Array.from(this.permanentlyHiddenThings)).map(thing => redditHide(thing)));\n\t\tfor (const v of things) this.permanentlyHiddenThings.add(v);\n\t\tthis.updatePermanentlyHideCheckbox();\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: FilteReddit.module.moduleID,\n\t\t\tnotificationID: 'hideThings',\n\t\t\tmessage: string.html`<div><p>Reddit has now hidden ${things.length} things. Undo by unchecking the checkbox in the menu.</p><p><a href=\"/user/me/hidden/\">See all hidden posts</a></p>`,\n\t\t});\n\t}\n\n\tasync unhidePermanently(things: Array<Thing> = [...this.permanentlyHiddenThings]) {\n\t\tawait Promise.all(_.intersection(things, Array.from(this.permanentlyHiddenThings)).map(thing => redditUnhide(thing)));\n\t\tfor (const v of things) this.permanentlyHiddenThings.delete(v);\n\t\tthis.updatePermanentlyHideCheckbox();\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: FilteReddit.module.moduleID,\n\t\t\tnotificationID: 'unhideThings',\n\t\t\tmessage: `${things.length} things are no longer hidden.`,\n\t\t});\n\t}\n\n\tgetAsConditions(hasEffect: string = 'hide'): * {\n\t\tconst extracted = filterMap(this.filters, v => v.effects[hasEffect] && v instanceof LineFilter && [v] || undefined);\n\t\treturn Cases.resolveGroup(\n\t\t\tCases.getGroup(\n\t\t\t\t'all',\n\t\t\t\textracted.map(v => v.state ? v.case.conditions : Cases.getGroup('none', [v.case.conditions])),\n\t\t\t),\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t);\n\t}\n\n\tdeferredFilters: { [id: string]: * } = {};\n\n\tresumeDeferredTypes(types: Array<string>) {\n\t\tObject.entries(this.deferredFilters)\n\t\t\t.filter(([, { type }]) => types.includes(type))\n\t\t\t.forEach(([id]) => this.createFilterFromStateValues(id));\n\t}\n\n\trestoreState(filters: *) {\n\t\tfor (const [id, opts] of Object.entries(filters)) {\n\t\t\ttry {\n\t\t\t\tif (opts.type === 'inert') throw new Error('Requested inert filter. This state is likely due to a bug. Ignoring.');\n\n\t\t\t\tconst filter = this.getFilter(id);\n\t\t\t\tif (filter) throw new Error(`Filter with id ${id} already exists`);\n\n\t\t\t\tif (\n\t\t\t\t\tCases.has(opts.type) &&\n\t\t\t\t\t// External filter needs a specific variant of `Filter`\n\t\t\t\t\t!(Cases.get(opts.type).variant === 'external')\n\t\t\t\t) {\n\t\t\t\t\tthis.createFilterFromStateValues(id, opts);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deferredFilters[id] = opts;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not create filter', id, opts);\n\t\t\t\tthis.storage.deletePath('filters', id);\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateFilterFromStateValues(id: *, opts: *) {\n\t\tconst deferredOpts = this.deferredFilters[id];\n\t\tdelete this.deferredFilters[id];\n\t\treturn this.createFilter({ id, ...opts, ...deferredOpts, add: true, save: false });\n\t}\n\n\tsave = idleThrottle(async () => {\n\t\tconst filters = this.filters.reduce((acc, v) => {\n\t\t\tacc[v.id] = v.getSaveValues();\n\t\t\treturn acc;\n\t\t}, { ...this.deferredFilters });\n\t\tawait this.storage.deletePath('filters');\n\t\tawait this.storage.patch({ filters, lastUsed: Date.now() });\n\t});\n\n\tgetCLI(): * {\n\t\tconst deconstruct = val => {\n\t\t\t// Example: \"!expando image\"  { reverseActive: true, key: \"expando\", criterion: \"image\" }\n\t\t\tconst [, modifiers, key, criterion]: string[] = (val.match(/^([^\\w]*)(\\w*)(.*)/): any); // guaranteed match\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\tcriterion: criterion.trim(),\n\t\t\t\tdisableFilter: !!modifiers.match('/'),\n\t\t\t\treverseActive: !!modifiers.match('!'),\n\t\t\t\tasNewFilter: !!modifiers.match('\\\\+'),\n\t\t\t\tfromSelected: !!modifiers.match('='),\n\t\t\t};\n\t\t};\n\n\t\tconst findMatchingCases = val =>\n\t\t\tthis.getPickable()\n\t\t\t\t.sort((a, b) => a.variant.localeCompare(b.variant) || a.type.localeCompare(b.type))\n\t\t\t\t.map(CaseClass => ({\n\t\t\t\t\t// on-demand cases' type name are hard to discern\n\t\t\t\t\tname: CaseClass.variant === 'ondemand' ? CaseClass.text : CaseClass.type,\n\t\t\t\t\tcls: CaseClass,\n\t\t\t\t}))\n\t\t\t\t.filter(({ name }) => name.toLowerCase().match(val.toLowerCase()));\n\n\t\tlet filter;\n\n\t\tasync function getTip(val) {\n\t\t\tconst deconstructed = deconstruct(val);\n\t\t\tconst { key, asNewFilter } = deconstructed;\n\t\t\tconst bestMatch = key && _.sortBy(findMatchingCases(key), ({ name }) => name.toLowerCase().indexOf(key.toLowerCase()))[0];\n\t\t\tconst { cls: MatchedCase } = bestMatch || {};\n\n\t\t\tlet message;\n\n\t\t\tif (bestMatch) {\n\t\t\t\ttry {\n\t\t\t\t\tconst lastFilter = _.last(this.getFiltersOfCase(MatchedCase));\n\t\t\t\t\tfilter = lastFilter && !asNewFilter ?\n\t\t\t\t\t\tlastFilter :\n\t\t\t\t\t\tthis.createFilter({ type: MatchedCase.type });\n\n\t\t\t\t\tconst actionDescription = await filter.updateByInputConstruction(deconstructed, true);\n\t\t\t\t\t/*:: if (!actionDescription ) throw new Error(); */\n\t\t\t\t\tmessage = `${filter.parent ? `Modify \"${filter.getStateText(filter.state)}\"` : 'New filter'}: ${actionDescription}`;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmessage = `Error: ${e.message}`;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfilter = null;\n\t\t\t\tmessage = 'No filter selected.';\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\t'<pre>',\n\t\t\t\t'Syntax: [modifiers] filterName [criterion]',\n\t\t\t\t'',\n\t\t\t\tmessage,\n\t\t\t\t'',\n\t\t\t\t'Filters:',\n\t\t\t\t...findMatchingCases('').map(v =>\n\t\t\t\t\t` ${(MatchedCase === v.cls) ? `<b>${v.name}</b>` : v.name} ${v.cls.pattern}`,\n\t\t\t\t),\n\t\t\t\t'',\n\t\t\t\t'Modifiers:',\n\t\t\t\t' /  disable the filter',\n\t\t\t\t' !  reverse the active state',\n\t\t\t\t' +  create as new filter',\n\t\t\t\t' =  use the currently selected post\\'s data as criterion',\n\t\t\t\t'',\n\t\t\t\t'Examples:',\n\t\t\t\t' =postAfter    filter posts older than selected',\n\t\t\t\t' +=!postAfter  new filter, filter posts younger than selected',\n\t\t\t\t'</pre>',\n\t\t\t].join('\\n');\n\t\t}\n\n\t\tfunction executeCommand(val) {\n\t\t\tif (!filter) return;\n\t\t\tif (!filter.parent) this.addFilter(filter);\n\t\t\tfilter.updateByInputConstruction(deconstruct(val));\n\t\t\tfilter = null;\n\t\t}\n\n\t\treturn { getTip: getTip.bind(this), executeCommand: executeCommand.bind(this) };\n\t}\n\n\tcreateFilter(opts: $Shape<NewFilterOpts>) {\n\t\tconst {\n\t\t\tFilter = LineFilter,\n\t\t\tid = `~${performance.timing.navigationStart + performance.now()}`, // timestamp, so that filters will restored in the same order as they initially were created\n\t\t\tadd = false,\n\t\t\tsave = true,\n\t\t\ttype,\n\t\t\tcriterion,\n\t\t\teffects,\n\t\t\tname,\n\t\t\tstate,\n\t\t} = opts;\n\t\tlet { conditions } = opts;\n\n\t\tif (this.deferredFilters.hasOwnProperty(id)) return this.createFilterFromStateValues(id, opts);\n\n\t\tconst CaseClass = Cases.get(type);\n\t\tif (CaseClass.unique) {\n\t\t\tconst [existing] = this.getFiltersOfCase(CaseClass);\n\t\t\tif (existing) return existing;\n\t\t}\n\n\t\tif (!conditions && criterion) {\n\t\t\t// Legacy; `criterion` is no longer saved to storage\n\t\t\tconditions = CaseClass.criterionToConditions(criterion);\n\t\t}\n\n\t\tconst filter = new Filter(id, CaseClass, name, conditions, state, effects);\n\n\t\tif (add) {\n\t\t\tthis.addFilter(filter);\n\t\t\tif (save) this.save();\n\t\t}\n\n\t\treturn filter;\n\t}\n\n\taddFilter(filter: Filter) {\n\t\tfilter.setParent(this);\n\n\t\tthis.filters.push(filter);\n\n\t\tif (this.isInitialized()) {\n\t\t\tthis.sortedFilters.push(filter);\n\t\t\tthis.refresh(filter);\n\t\t}\n\n\t\tif (this.filterContainer) this.addFilterElements([filter]);\n\t}\n\n\tasync removeFilter(filter: Filter) {\n\t\tif (filter.element) filter.element.remove();\n\t\tif (this.isInitialized()) await this.refresh(filter);\n\t\t_.pull(this.filters, filter);\n\t\t_.pull(this.sortedFilters, filter);\n\t\tthis.save();\n\t}\n\n\tgetFilter(id: string): ?Filter {\n\t\treturn this.filters.find(filter => filter.id === id);\n\t}\n\n\tgetActiveFilters() {\n\t\treturn this.filters.filter(v => v.active);\n\t}\n\n\tavailableEffects: {\n\t\t[key: string]: (Thing, Filter) => void,\n\t} = {\n\t\tpropagate: (thing, match) => {\n\t\t\tthing.element.classList.toggle('res-thing-hide-children', !!match);\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t\thighlight: (thing, match) => {\n\t\t\tthing.entry.style.backgroundColor = match ? 'rgba(255, 155, 155, .16)' : '';\n\t\t},\n\t\thide: (thing, match) => {\n\t\t\tthing.setHideFilter(match);\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t\tplaceholder: (thing, match) => {\n\t\t\tfunction removePlaceholders() {\n\t\t\t\tthing.element.classList.remove('res-thing-has-placeholder');\n\t\t\t\tfor (const ele of thing.entry.querySelectorAll('.res-thing-placeholder-message')) ele.remove();\n\t\t\t}\n\n\t\t\tfunction replaceWithPlaceholder(ele) {\n\t\t\t\tif (!ele) return;\n\t\t\t\tconst placeholder = string.html`<span class=\"res-thing-placeholder-message\">\n\t\t\t\t\t<span class=\"res-icon\">&#xF093;</span> Content ignored. Click to show anyway.\n\t\t\t\t</span>`;\n\t\t\t\tele.after(placeholder);\n\t\t\t\tthing.element.classList.add('res-thing-has-placeholder');\n\t\t\t\twaitForEvent(placeholder, 'click').then(removePlaceholders);\n\t\t\t}\n\n\t\t\tif (match) {\n\t\t\t\treplaceWithPlaceholder(thing.getTitleElement());\n\t\t\t\treplaceWithPlaceholder(thing.getTextBody());\n\t\t\t} else {\n\t\t\t\tremovePlaceholders();\n\t\t\t}\n\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t\tcollapse: (thing, match) => {\n\t\t\tthing.setCommentCollapse(!!match, 'filterline', true);\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t};\n\n\t_refreshAfterChange = frameThrottle(() => {\n\t\tSelectedThing.refresh();\n\t\tthis.checkEmptyState();\n\t});\n\n\tgetFiltersToTest(currentFilter?: Filter, invokedByFilter?: Filter): Filter[] {\n\t\tif (!invokedByFilter) return this.sortedFilters;\n\n\t\tconst invokedByFilterIndex = this.sortedFilters.indexOf(invokedByFilter);\n\t\tconst currentFilterIndex = this.sortedFilters.indexOf(currentFilter);\n\n\t\tif (!currentFilter) {\n\t\t\t// No other filters did match last time; only retest this\n\t\t\treturn [invokedByFilter];\n\t\t} else if (currentFilter === invokedByFilter) {\n\t\t\t// The invokedBy filter matched last time; start testing from that one\n\t\t\treturn this.sortedFilters.slice(invokedByFilterIndex);\n\t\t} else if (currentFilterIndex > invokedByFilterIndex) {\n\t\t\t// Always store a reference to the first matched filter\n\t\t\treturn [invokedByFilter, currentFilter];\n\t\t} else {\n\t\t\t// Some earlier filter matched last time; ignore\n\t\t\treturn [];\n\t\t}\n\t}\n\n\trefreshThing = keyedMutex(fastAsync(function*(thing: Thing, invokedByFilter?: Filter) {\n\t\tif (!this.currentMatches.has(thing)) this.currentMatches.set(thing, {});\n\t\tconst currentMatches = this.currentMatches.get(thing);\n\n\t\tconst effectsToRefresh = Object.keys(this.availableEffects);\n\n\t\tconst filtersToTest = _.union(...effectsToRefresh.map(effect => this.getFiltersToTest(currentMatches[effect], invokedByFilter)))\n\t\t\t// Keep order\n\t\t\t.sort((a, b) => this.sortedFilters.indexOf(a) - this.sortedFilters.indexOf(b));\n\n\t\t_.remove(effectsToRefresh, effect =>\n\t\t\t// Only update effects that the current filter has touched\n\t\t\tinvokedByFilter && !invokedByFilter.effects.hasOwnProperty(effect) ||\n\t\t\t// Don't update effects whose current matched filter will not be tested\n\t\t\tcurrentMatches[effect] && !filtersToTest.includes(currentMatches[effect]),\n\t\t);\n\n\t\tconst updateEffect = (effect, filter) => {\n\t\t\tconst old = currentMatches[effect];\n\t\t\tif (filter == old) return; // eslint-disable-line eqeqeq\n\t\t\tcurrentMatches[effect] = filter;\n\t\t\tthis.availableEffects[effect](thing, filter);\n\n\t\t\tif (this.displayReasons) this.refreshDisplayReasonsChunked([thing]);\n\t\t};\n\n\t\tfor (const filter of filtersToTest.filter(v => this.getActiveFilters().includes(v))) {\n\t\t\tconst effects = filter.getEffects().filter(v => effectsToRefresh.includes(v));\n\t\t\tif (effects.length && (yield filter.matches(thing))) {\n\t\t\t\tfor (const effect of effects) updateEffect(effect, filter);\n\t\t\t\t_.pull(effectsToRefresh, ...effects);\n\t\t\t}\n\t\t}\n\n\t\tfor (const effect of effectsToRefresh) {\n\t\t\tupdateEffect(effect, null);\n\t\t}\n\t}));\n\n\trefresh(invokedByFilter?: Filter, things: Array<Thing> = Array.from(this.things)) {\n\t\treturn Promise.all(things.map(thing => this.refreshThing(thing, invokedByFilter)));\n\t}\n\n\taddThing(thing: Thing) {\n\t\tthis.things.add(thing);\n\t\tif (this.isInitialized()) return this.refreshThing(thing);\n\t}\n\n\tgetThings(withEffect: string) {\n\t\treturn Array.from(this.currentMatches.entries())\n\t\t\t.filter(([, effects]) => effects[withEffect])\n\t\t\t.map(([thing]) => thing);\n\t}\n\n\tcheckEmptyState = (() => {\n\t\tlet notification;\n\t\tconst showNotification = _.debounce(() => {\n\t\t\tconst info = $('<p>').text(i18n('filteRedditEmptyNotificationInfo'));\n\t\t\tconst toggle = $('<button>').text(i18n('filteRedditEmptyNotificationToggleShowReason'))\n\t\t\t\t.click(() => { this.toggleDisplayReasons(); });\n\n\t\t\tnotification = Notifications.showNotification({\n\t\t\t\tmoduleID: FilteReddit.module.moduleID,\n\t\t\t\tnotificationID: 'everyThingHidden',\n\t\t\t\theader: i18n('filteRedditEmptyNotificationHeader'),\n\t\t\t\tmessage: $('<div>').append(info).append(toggle).get(0),\n\t\t\t\tcloseDelay: Infinity,\n\t\t\t});\n\t\t}, 3000);\n\n\t\treturn () => {\n\t\t\tif (Array.from(this.things).some(v => v.isVisible())) {\n\t\t\t\tshowNotification.cancel();\n\t\t\t\tif (notification) notification.close();\n\t\t\t} else if (!this.displayReasons && Array.from(this.currentMatches.values()).some(v => v.hide) /* check that the reason things are not visible, actually is a filter */) {\n\t\t\t\tshowNotification();\n\t\t\t}\n\t\t};\n\t})();\n\n\ttoggleDisplayReasons(newState?: boolean = !this.displayReasons) {\n\t\tthis.displayReasons = newState;\n\t\tthis.refreshDisplayReasonsChunked(this.things);\n\t\tBodyClasses.toggle(this.displayReasons, 'res-display-match-reason');\n\t}\n\n\trefreshDisplayReasonsChunked = forEachChunked(this.refreshDisplayReasons.bind(this));\n\n\tasync refreshDisplayReasons(thing: Thing) {\n\t\tconst reasons = this.displayReasons ? await Promise.all(\n\t\t\tObject.entries(this.currentMatches.get(thing) || {})\n\t\t\t\t.map(([effect, filter]) => filter && filter.buildReasonElement(thing, effect))\n\t\t\t\t.filter(Boolean),\n\t\t) : [];\n\n\t\tthing.setFilterReasons(reasons);\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { markdown } from 'snudown-js';\nimport { flow, filter, map, mapValues, keyBy, slice } from 'lodash/fp';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport {\n\tBodyClasses,\n\tSelectedThing,\n\tasyncFlow,\n\tbatch,\n\tcurrentDomain,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tfullLocation,\n\tCreateElement,\n\textendDeep,\n\tindexOptionTable,\n\tisCurrentMultireddit,\n\tisCurrentSubreddit,\n\tisAppType,\n\tisPageType,\n\tmutex,\n\twatchForThings,\n\tscrollToElement,\n\tstring,\n} from '../utils';\nimport { Storage, context, ajax, i18n } from '../environment';\nimport type { BuilderRootValue } from '../core/module';\nimport type { RedditListing, RedditLink } from '../types/reddit';\nimport * as CommandLine from './commandLine';\nimport * as CustomToggles from './customToggles';\nimport * as Notifications from './notifications';\nimport * as RESTips from './RESTips';\nimport * as Cases from './filteReddit/cases';\nimport { Case } from './filteReddit/Case';\nimport { Filterline } from './filteReddit/Filterline';\nimport { ExternalFilter } from './filteReddit/ExternalFilter';\n\nexport const module: Module<*> = new Module('filteReddit');\n\nmodule.moduleName = 'filteRedditName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'filteRedditDesc';\nmodule.keywords = ['filterreddit'];\nmodule.options = {\n\thideUntilProcessed: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditHideUntilProcessedDesc',\n\t\ttitle: 'filteRedditHideUntilProcessedTitle',\n\t\tadvanced: true,\n\t},\n\tNSFWfilter: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditNSFWfilterDesc',\n\t\ttitle: 'filteRedditNSFWfilterTitle',\n\t},\n\tallowNSFW: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddSubreddits',\n\t\tdescription: 'filteRedditAllowNSFWDesc',\n\t\ttitle: 'filteRedditAllowNSFWTitle',\n\t\tfields: [{\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'filteRedditSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'where',\n\t\t\tname: 'filteRedditAllowNSFWWhere',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditAllowNSFWWhenBrowsingSubreddit',\n\t\t\t\tvalue: 'visit',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}],\n\t\tvalue: ([]: Array<[string, 'everywhere' | 'visit']>),\n\t},\n\tNSFWQuickToggle: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditNSFWQuickToggleDesc',\n\t\ttitle: 'filteRedditNSFWQuickToggleTitle',\n\t\tadvanced: true,\n\t},\n\tshowFilterline: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditShowFilterlineDesc',\n\t\ttitle: 'filteRedditShowFilterlineTitle',\n\t},\n\texcludeOwnPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditExcludeOwnPostsDesc',\n\t\ttitle: 'filteRedditExcludeOwnPostsTitle',\n\t},\n\texcludeModqueue: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditExcludeModqueueDesc',\n\t\ttitle: 'filteRedditExcludeModqueueTitle',\n\t},\n\texcludeUserPages: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditExcludeUserPagesDesc',\n\t\ttitle: 'filteRedditExcludeUserPagesTitle',\n\t},\n\tkeywords: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'keyword',\n\t\t\tname: 'filteRedditKeyword',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'filteRedditApplyTo',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditEverywhereBut',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditOnlyOn',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'subreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'unlessKeyword',\n\t\t\tname: 'unlessKeyword',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditKeywordsDesc',\n\t\ttitle: 'filteRedditKeywordsTitle',\n\t},\n\tsubreddits: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'subreddit',\n\t\t\tname: 'filteRedditSubredditsSubreddits',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditSubredditsDesc',\n\t\ttitle: 'filteRedditSubredditsTitle',\n\t\tonChange() {\n\t\t\tif (module.options.useRedditFilters.value) {\n\t\t\t\treconcileNativeFilters();\n\t\t\t}\n\t\t},\n\t},\n\tfilterSubredditsFrom: {\n\t\ttype: 'enum',\n\t\tvalue: 'everywhere-except-subreddit',\n\t\tvalues: [{\n\t\t\tname: 'filteRedditFilterSubredditsEverywhereButSubreddit',\n\t\t\tvalue: 'everywhere-except-subreddit',\n\t\t}, {\n\t\t\tname: 'filteRedditEverywhere',\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tname: 'filteRedditFilterSubredditsAllPopularAndDomain',\n\t\t\tvalue: 'legacy',\n\t\t}],\n\t\tdescription: 'filteRedditFilterSubredditsFromDesc',\n\t\ttitle: 'filteRedditFilterSubredditsFromTitle',\n\t},\n\tuseRedditFilters: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditUseRedditFiltersDesc',\n\t\ttitle: 'filteRedditUseRedditFiltersTitle',\n\t\tonChange() {\n\t\t\tif (module.options.useRedditFilters.value) {\n\t\t\t\treconcileNativeFilters();\n\t\t\t}\n\t\t},\n\t},\n\tforceSyncFilters: {\n\t\ttype: 'button',\n\t\ttext: 'filteRedditForceSyncFiltersLabel',\n\t\tdescription: 'filteRedditForceSyncFiltersDesc',\n\t\ttitle: 'filteRedditForceSyncFiltersTitle',\n\t\tcallback() {\n\t\t\treturn reconcileNativeFilters({ warnNotLoggedIn: true });\n\t\t},\n\t},\n\tusers: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'username',\n\t\t\tname: 'filteRedditUsername',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditUsersDesc',\n\t\ttitle: 'filteRedditUsersTitle',\n\t},\n\tusersMatchAction: {\n\t\ttype: 'enum',\n\t\tvalue: 'hide',\n\t\tvalues: [{\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'hide',\n\t\t}, {\n\t\t\tname: 'Replaced with placeholder',\n\t\t\tvalue: 'placeholder',\n\t\t}],\n\t\tdescription: 'filteRedditUsersMatchActionDesc',\n\t\ttitle: 'filteRedditUsersMatchActionTitle',\n\t},\n\tusersMatchRepliesAction: {\n\t\ttype: 'enum',\n\t\tvalue: 'collapse',\n\t\tvalues: [{\n\t\t\tname: 'Kept visible',\n\t\t\tvalue: '',\n\t\t}, {\n\t\t\tname: 'Collapsed',\n\t\t\tvalue: 'collapse',\n\t\t}, {\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'propagate',\n\t\t}],\n\t\tdescription: 'filteRedditUsersMatchRepliesActionDesc',\n\t\ttitle: 'filteRedditUsersMatchRepliesActionTitle',\n\t},\n\tdomains: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'keyword',\n\t\t\tname: 'filteRedditKeyword',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'filteRedditApplyTo',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditEverywhereBut',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditOnlyOn',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'filteRedditSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditDomainsDesc',\n\t\ttitle: 'filteRedditDomainsTitle',\n\t},\n\tflair: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'keyword',\n\t\t\tname: 'filteRedditKeyword',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'filteRedditApplyTo',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditEverywhereBut',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditOnlyOn',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'filteRedditSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditFlairDesc',\n\t\ttitle: 'filteRedditFlairTitle',\n\t},\n\tcustomFiltersP: {\n\t\ttype: 'builder',\n\t\tadvanced: true, // VERY\n\t\tdescription: 'filteRedditCustomFiltersDesc',\n\t\ttitle: 'filteRedditCustomFiltersPTitle',\n\t\tvalue: [],\n\t\taddItemText: 'filteRedditAddCustomFilter',\n\t\tdefaultTemplate() {\n\t\t\treturn {\n\t\t\t\tnote: '',\n\t\t\t\tver: 3,\n\t\t\t\tbody: Cases.getConditions('group'),\n\t\t\t\tid: `customFilter-${Date.now()}`,\n\t\t\t\topts: {\n\t\t\t\t\tondemand: false,\n\t\t\t\t\tname: '',\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tcustomOptionsFields: [\n\t\t\t[{ type: 'check', id: 'ondemand', label: 'Only filter when added to Filterline (on-demand)' }],\n\t\t\t['Filterline name: ', { type: 'text', id: 'name' }],\n\t\t],\n\t\tget cases() { Cases.populatePrimitives(); return { ...Cases.getByContext('post'), ...Cases.getByContext('browse') }; },\n\t},\n\tcustomFiltersC: {\n\t\ttype: 'builder',\n\t\tadvanced: true, // VERY\n\t\tdescription: 'filteRedditCustomFiltersDesc',\n\t\ttitle: 'filteRedditCustomFiltersCTitle',\n\t\tvalue: [],\n\t\taddItemText: 'filteRedditAddCustomFilter',\n\t\tdefaultTemplate() {\n\t\t\treturn {\n\t\t\t\tnote: '',\n\t\t\t\tver: 3,\n\t\t\t\tbody: Cases.getConditions('group'),\n\t\t\t\tid: `customFilter-${Date.now()}`,\n\t\t\t\topts: {\n\t\t\t\t\tondemand: false,\n\t\t\t\t\tname: '',\n\t\t\t\t\tpropagate: false,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tcustomOptionsFields: [\n\t\t\t[{ type: 'check', id: 'ondemand', label: 'Only filter when added to Filterline (on-demand)' }],\n\t\t\t['Filterline name: ', { type: 'text', id: 'name' }],\n\t\t\t[{ type: 'check', id: 'propagate', label: 'Hide child commments' }],\n\t\t],\n\t\tget cases() { Cases.populatePrimitives(); return { ...Cases.getByContext('comment'), ...Cases.getByContext('browse') }; },\n\t},\n};\n\nmodule.include = [\n\t'linklist',\n\t'modqueue',\n\t'profile',\n\t'comments',\n\t'commentsLinklist',\n\t'search',\n];\n\nconst featureTips = {\n\tfilterline: {\n\t\tmessage: `\nRES allows you to easily apply complex filters to post listings and comments. To toggle Filterline, click on the tab.\n\t`,\n\t\ttitle: 'Filterline',\n\t\tposition: 6,\n\t\tquiet: true,\n\t},\n\tfilterlineVisible: {\n\t\t// Wrap as to avoid loading markdown unnecessarily\n\t\tmessage: () => markdown(`\n* Click once on a filter to enable it (e.g. clicking \\`expando\\` will only show posts with embedded media).\n* Click again to only show posts which do not not match.\n* A third click makes the filter inactive.\n* To clear a filter, right-click on it.\n* **Hover** on it to modify conditions, highlight or permanently hide all matches.\n\nTo find more filters and options, hover on icon to the left.\n\nYou can use the currently selected post as a basis for a new filter. To do this, click on **=** to the right of the filter name.\n\n**Complex filter** creates filters which matches when \\`none\\`, \\`one\\`, \\`any\\`, or \\`all\\` of the subfilters matches. Click \\`To on-demand\\` to make these filters available on other pages.\n\n**Use as default** lets you store the current filters to be used on other pages.\n\nTo see why a post is hidden, open dropdown and check **Show filter-reason**. This also gives you the opportunity to remove an external filter so that you don't have to look for it in the settings console.\n\nYou can use the command line to manipulate Filterline. Enter it by pressing the key \\`f\\`.\n\t\t`),\n\t\ttitle: 'Filterline  how to use it',\n\t\tposition: 7,\n\t\toptions: [{\n\t\t\tmoduleID: 'filteReddit',\n\t\t\tkey: 'showFilterline',\n\t\t}],\n\t},\n};\n\nexport type FilterStorageValues = {|\n\ttype: string,\n\tstate: boolean,\n\tcriterion?: string,\n\tname?: string,\n\tconditions?: {},\n\teffects?: {},\n|};\n\ntype LineState = {\n\tvisible?: boolean,\n\tfilters?: { [id: string]: FilterStorageValues },\n\tlastUsed?: number, // TODO Implement auto-pruning of unused storages (often from comment pages)\n};\n\nconst pageID = fullLocation();\nconst filterlineStorage = Storage.wrap(`filterline.${pageID}`, ({}: LineState));\nconst thingType = isPageType('comments', 'commentsLinklist') ? 'comment' : 'post';\nconst customFilterVariant = thingType === 'post' ? 'customFiltersP' : 'customFiltersC';\n\nconst createStateFromTypes = types => (\n\ttypes.reduce((acc, v, i) => {\n\t\tif (v) acc[`!${i}`] = { type: v };\n\t\treturn acc;\n\t}, {})\n);\n\n// If filterlineStorage is empty, look for default filters\nexport const defaultFilters: Array<{| type: string, text: string, storage: * |}> = []; // Decreasing precedense\nif (thingType === 'comment') {\n\tif (currentSubreddit()) {\n\t\tdefaultFilters.push({\n\t\t\ttype: 'subreddit',\n\t\t\ttext: 'This subreddit',\n\t\t\tstorage: Storage.wrap(`RESmodules.filteReddit.commentDefault-${String(currentSubreddit())}`, (null: null | *)),\n\t\t});\n\t}\n\tdefaultFilters.push({\n\t\ttype: 'everywhere',\n\t\ttext: 'Everywhere',\n\t\tstorage: Storage.wrap('RESmodules.filteReddit.commentDefault', createStateFromTypes([\n\t\t\t'hasExpando',\n\t\t\t'score',\n\t\t\t'isRead',\n\t\t])),\n\t});\n} else if (thingType === 'post') {\n\tdefaultFilters.push({\n\t\ttype: 'everywhere',\n\t\ttext: 'Everywhere',\n\t\tstorage: Storage.wrap('RESmodules.filteReddit.postDefault', createStateFromTypes([\n\t\t\t'isNSFW',\n\t\t\t'isSpoiler',\n\t\t\t'isVisited',\n\t\t\t'commentsOpened',\n\t\t\t'hasExpando',\n\t\t\t'score',\n\t\t])),\n\t});\n}\n\nlet nsfwToggle;\nlet filterline: Filterline;\nlet visible: boolean;\n\nlet _filterlineResolve;\nexport const filterlinePromise: Promise<Filterline> = new Promise(res => { _filterlineResolve = res; });\nexport let ensureFilterlineVisible;\n\nconst initial = (async () => {\n\tconst state = filterlineStorage.get();\n\tconst _default = Promise.all(defaultFilters.map(({ storage }) => storage.get()))\n\t\t.then(v => v.find(Boolean));\n\tlet { filters, visible, lastUsed } = await state; // eslint-disable-line prefer-const\n\tif (!filters || !Object.values(filters).length) filters = await _default;\n\treturn { filters, visible, lastUsed };\n})();\n\nmodule.beforeLoad = async () => {\n\tupdateNsfwBodyClass(module.options.NSFWfilter.value);\n\tnsfwToggle = new CustomToggles.Toggle('nsfwMode', i18n('nsfwSwitchToggleText'), module.options.NSFWfilter.value);\n\tnsfwToggle.onToggle(() => {\n\t\tmodule.options.NSFWfilter.value = nsfwToggle.enabled;\n\t\tOptions.save(module.options.NSFWfilter);\n\t});\n\tnsfwToggle.onStateChange(() => { updateNsfwBodyClass(nsfwToggle.enabled); });\n\tnsfwToggle.addCLI('nsfw');\n\twatchForThings(['post'], updateNsfwThingClass, { immediate: true });\n\n\tCases.populatePrimitives(['browse', thingType]);\n\tfilterline = new Filterline(filterlineStorage, thingType);\n\n\tconst { filters, visible: _visible, lastUsed } = await initial;\n\n\tfilterline.restoreState(filters);\n\tpopulateFromOptions();\n\n\t_filterlineResolve(filterline);\n\n\tconst hideUntilProcessed = module.options.hideUntilProcessed.value && filterline.getActiveFilters().length;\n\n\twatchForThings([thingType], async thing => {\n\t\tif (!shouldFilter(thing)) return;\n\n\t\tif (hideUntilProcessed) thing.element.classList.add('res-thing-filter-unprocessed');\n\t\t// Encapsulate this in try ... catch since failing could cause posts to be erroneously hidden\n\t\ttry { await filterline.addThing(thing); } catch (e) { console.error(e); }\n\t\tif (hideUntilProcessed) thing.element.classList.remove('res-thing-filter-unprocessed');\n\t}, { immediate: true, id: 'filter' });\n\n\tif (\n\t\tmodule.options.excludeModqueue.value && isPageType('modqueue') ||\n\t\tmodule.options.excludeUserPages.value && isPageType('profile')\n\t) filterline.togglePowered(false);\n\n\tvisible = typeof _visible === 'boolean' ?\n\t\t_visible :\n\t\tmodule.options.showFilterline.value || filterline.getActiveFilters().some(v => !(v instanceof ExternalFilter));\n\n\tif (lastUsed) requestIdleCallback(() => { filterlineStorage.patch({ lastUsed: Date.now() }); });\n};\n\nmodule.contentStart = () => {\n\tmakeFilterlineInteractable();\n\n\tif (module.options.NSFWQuickToggle.value) {\n\t\tnsfwToggle.addMenuItem(i18n('nsfwSwitchToggleTitle'), 8);\n\t}\n\n\tregisterSubredditFilterCommand();\n};\n\nconst shouldFilter = thing => (\n\t!(\n\t\tmodule.options.excludeOwnPosts.value && context.username &&\n\t\tcurrentUserProfile() !== context.username &&\n\t\tcontext.username === thing.getAuthor()\n\t)\n);\n\nfunction makeFilterlineInteractable() {\n\tconst insertFilterline = _.once(() => {\n\t\tfilterline.createElement();\n\n\t\tif (isAppType('r2')) {\n\t\t\tif (isPageType('comments')) {\n\t\t\t\tdocument.querySelector('.comments-page .nestedlisting').before(filterline.element);\n\t\t\t} else {\n\t\t\t\tdocument.querySelector('#siteTable, .search-result-listing').before(filterline.element);\n\t\t\t}\n\t\t} else {\n\t\t\tfilterlineTab.append(filterline.element);\n\t\t}\n\n\t\tRESTips.addFeatureTip('filterlineVisible', { ...featureTips.filterlineVisible, attachTo: filterline.element });\n\t});\n\n\tconst filterlineTab = CreateElement.tabMenuItem({\n\t\ttext: '',\n\t\ttitle: 'Toggle Filterline visibility',\n\t\tclassName: 'res-toggle-filterline-visibility',\n\t\tchecked: visible,\n\t\tonChange: active => {\n\t\t\tvisible = active;\n\n\t\t\tif (visible) {\n\t\t\t\tinsertFilterline();\n\t\t\t\tscrollToElement(filterline.element, null, { scrollStyle: 'legacy' });\n\t\t\t}\n\n\t\t\tif (filterline.element) filterline.element.hidden = !visible;\n\t\t\tfilterlineStorage.patch({ visible });\n\t\t},\n\t});\n\n\tensureFilterlineVisible = () => { if (!visible) filterlineTab.click(); };\n\n\tconst { getTip, executeCommand } = filterline.getCLI();\n\tCommandLine.registerCommand(\n\t\t/(fl|filterline)/,\n\t\t'fl - modify Filterline',\n\t\t(cmd, val) => getTip(val),\n\t\t(cmd, val) => { ensureFilterlineVisible(); executeCommand(val); },\n\t);\n\n\tCommandLine.registerCommand(\n\t\t/fp/,\n\t\t'fp - toggle filtering',\n\t\t() => 'Toggle filtering',\n\t\t() => { ensureFilterlineVisible(); filterline.poweredElement.click(); },\n\t);\n\n\tRESTips.addFeatureTip('filterline', {\n\t\t...featureTips.filterline,\n\t\tattachTo: filterlineTab,\n\t\tcontinuation: () => {\n\t\t\tensureFilterlineVisible();\n\t\t\treturn 'filterlineVisible';\n\t\t},\n\t});\n\n\tif (visible) insertFilterline();\n}\n\nclass ListFilter {\n\texternalKey: string;\n\tget list() { return module.options[this.externalKey].value; }\n\tfilter: *;\n\n\tconstructor(externalKey: $Keys<typeof module.options>) {\n\t\tthis.externalKey = externalKey;\n\t}\n\n\tinitialize(caseType: string, additionalCriteria: *, useEffects: * = ['hide']) {\n\t\tconst _listFilter = this; // eslint-disable-line consistent-this\n\t\tconst sources = new Map();\n\n\t\tconst getConditions = () => {\n\t\t\tsources.clear();\n\t\t\treturn Cases.resolveGroup(Cases.getGroup('any', this.list.map(v => {\n\t\t\t\tconst c = getStringMatchConditions(v, caseType, additionalCriteria);\n\t\t\t\tsources.set(c, v);\n\t\t\t\treturn c;\n\t\t\t})));\n\t\t};\n\n\t\tthis.filter = addExternalFilter(this.externalKey, i18n(module.options[this.externalKey].title), getConditions, class extends ExternalFilter {\n\t\t\tconstructor(id: *, BaseCase: *, name: *, conditions: *, state: *, effects: * = {}) {\n\t\t\t\tconst _effects = useEffects.reduce((acc, val) => {\n\t\t\t\t\tacc[val] = typeof effects[val] === 'boolean' ? effects[val] : true;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, {});\n\t\t\t\tsuper(id, BaseCase, name, conditions, state, _effects);\n\t\t\t\tthis.toggleEffects = useEffects;\n\t\t\t}\n\n\t\t\tasync getMatchingEntry(thing) {\n\t\t\t\tconst matching = Array.from(sources.keys()).map(v => Case.fromConditions(v).evaluate(thing) && sources.get(v));\n\t\t\t\treturn (await Promise.all(matching)).filter(Boolean);\n\t\t\t}\n\n\t\t\tremoveEntry(entries) { _listFilter.toggleEntry(false, ...entries); }\n\t\t});\n\t}\n\n\t// Note this is only a basic search for the string; `getMatchingEntry` also tests regexes\n\tfindEntry(matchString: string): * {\n\t\treturn this.list.find(([str]) => str.toLowerCase() === matchString.toLowerCase());\n\t}\n\n\ttoggleEntry(newState: boolean, ...entries: Array<*>) {\n\t\tif (newState) {\n\t\t\tthis.list.push(...entries);\n\t\t} else {\n\t\t\t_.pull(this.list, ...entries);\n\t\t}\n\n\t\tOptions.save(module.options[this.externalKey]);\n\t\tif (this.filter) return this.filter.update(undefined, null);\n\t}\n\n\tincludesString(matchString: string): boolean {\n\t\treturn !!this.findEntry(matchString);\n\t}\n\n\tasync toggleString(matchString: string, newState?: boolean = !this.includesString(matchString)) {\n\t\tif (SelectedThing.current) SelectedThing.current.anchor(); // Toggling the filter may move the viewport. Try to keep the selected post in place.\n\t\tawait this.toggleEntry(newState, this.findEntry(matchString) || [matchString]);\n\t}\n}\n\nexport const listFilters = {\n\tusers: new ListFilter('users'),\n\tsubreddits: new ListFilter('subreddits'),\n\tkeywords: new ListFilter('keywords'),\n\tdomains: new ListFilter('domains'),\n\tflair: new ListFilter('flair'),\n};\n\nexport function addExternalFilter(id: string, name: string, getConditions: () => *, Filter: Class<ExternalFilter> = ExternalFilter) {\n\tconst cased = Cases.createAdHoc(id, getConditions, 'external', thingType);\n\treturn filterline.createFilter({ Filter, id, name, type: cased.type, state: false, add: true, save: false });\n}\n\nfunction populateFromOptions() {\n\tconst customFilters = _.groupBy(\n\t\tmodule.options[customFilterVariant].value,\n\t\t({ opts: { ondemand } = {} }) => ondemand ? 'ondemand' : 'always',\n\t);\n\n\tif (customFilters.ondemand) {\n\t\tconst cases = customFilters.ondemand.map(v => addOndemandCase(v, true));\n\t\tfilterline.resumeDeferredTypes(cases.map(({ type }) => type));\n\t}\n\n\t// Make customFilter(C|P) so that the settings link is available\n\taddExternalFilter(customFilterVariant, i18n(module.options[customFilterVariant].title), () => ({ type: 'false' }));\n\n\tfor (const customFilter of (customFilters.always || [])) {\n\t\tconst conditions = Cases.resolveGroup(customFilter.body);\n\t\tif (!Cases.isUseful(conditions.type)) continue;\n\t\taddExternalFilter(customFilter.id, (customFilter.opts || {}).name, () => conditions, class extends ExternalFilter {\n\t\t\tconstructor(id: *, BaseCase: *, name: *, conditions: *, state: *, effects: *) {\n\t\t\t\tconst propagate = !!(customFilter.opts && customFilter.opts.propagate);\n\t\t\t\tsuper(id, BaseCase, name, conditions, state, { hide: true, propagate, ...effects });\n\t\t\t}\n\t\t});\n\t}\n\n\tif (!isPageType('profile')) { // Don't ignore users on profile pages\n\t\tconst effects = [\n\t\t\tmodule.options.usersMatchAction.value,\n\t\t\tmodule.options.usersMatchRepliesAction.value,\n\t\t].filter(Boolean);\n\t\tlistFilters.users.initialize('username', undefined, effects);\n\t}\n\n\tif (thingType === 'post') {\n\t\tlistFilters.keywords.initialize('postTitle');\n\t\tlistFilters.domains.initialize('domain', { fullMatch: false });\n\t\tif (\n\t\t\tmodule.options.filterSubredditsFrom.value === 'everywhere' ||\n\t\t\tmodule.options.filterSubredditsFrom.value === 'everywhere-except-subreddit' && !currentSubreddit() ||\n\t\t\tisCurrentSubreddit('all') || isCurrentSubreddit('popular') ||\n\t\t\tcurrentDomain() ||\n\t\t\tisCurrentMultireddit('me/f/all')\n\t\t) {\n\t\t\tlistFilters.subreddits.initialize('subreddit');\n\t\t}\n\t\tlistFilters.flair.initialize('linkFlair');\n\t}\n}\n\nexport function addOndemandCase(customFilter: BuilderRootValue, onlyUseful: boolean = false) {\n\tconst getConditions = () => Cases.resolveGroup(customFilter.body);\n\n\tif (!onlyUseful || Cases.isUseful(getConditions().type)) {\n\t\treturn Cases.createAdHoc(customFilter.id, getConditions, 'ondemand', thingType, customFilter);\n\t} else {\n\t\treturn Cases.Inert;\n\t}\n}\n\nexport function addCustomFilter({ body, opts }: {| body: *, opts?: * |}): BuilderRootValue {\n\tconst customFilter = {\n\t\tnote: `From ${fullLocation()}`,\n\t\tver: 3,\n\t\tid: `customFilter-${Date.now()}`,\n\t\tbody,\n\t\topts,\n\t};\n\n\tmodule.options[customFilterVariant].value.unshift(customFilter);\n\tOptions.save(module.options[customFilterVariant]);\n\n\treturn customFilter;\n}\n\nexport function updateCustomFilter(customFilter: BuilderRootValue, val: $Shape<BuilderRootValue>) {\n\t// XXX May leave trash in the object\n\textendDeep((customFilter: any), (val: any)); // This mutates the option array\n\tOptions.save(module.options[customFilterVariant]);\n}\n\nexport async function saveFilterlineStateAsDefault(type: string) {\n\tconst { storage } = defaultFilters.find(v => v.type === type) || {};\n\tif (!storage) throw new Error(`Could not find storage for type ${type}`);\n\n\tconst v: LineState = (await filterlineStorage.get(): any);\n\tlet { filters } = _.cloneDeep(v) || {};\n\tif (_.isEmpty(filters)) filters = null;\n\tawait storage.set(filters);\n\tNotifications.showNotification('Saved.', 1000);\n}\n\nfunction getStringMatchConditions(source, caseType, additionalCriteria) {\n\tconst [matchString = '', applyTo = 'everywhere', applyList = '', except = ''] = source;\n\n\tconst mainFilter = {\n\t\ttype: caseType,\n\t\tpatt: matchString,\n\t\t...additionalCriteria,\n\t};\n\n\tif (source.length === 1) return mainFilter;\n\n\tlet applyToConditions;\n\tif (applyTo !== 'everywhere') {\n\t\tconst subreddits = applyList.split(',');\n\n\t\tif (subreddits.findIndex(v => !v) !== -1) {\n\t\t\tconsole.error('Filter must have subreddits specified', source);\n\t\t\treturn { type: 'false' };\n\t\t}\n\n\t\tapplyToConditions = Cases.getGroup(applyTo === 'exclude' ? 'none' : 'any', [\n\t\t\t// /r/all special case\n\t\t\t// (nothing is posted to /r/all, but we could be browsing it)\n\t\t\tsubreddits.includes('all') ? {\n\t\t\t\ttype: 'currentSub',\n\t\t\t\tpatt: 'all',\n\t\t\t} : null,\n\t\t\t// and the same for /r/popular\n\t\t\tsubreddits.includes('popular') ? {\n\t\t\t\ttype: 'currentSub',\n\t\t\t\tpatt: 'popular',\n\t\t\t} : null,\n\t\t\t// normal subreddit include/exclude\n\t\t\t...subreddits.map(sr => ({\n\t\t\t\ttype: 'subreddit',\n\t\t\t\tpatt: sr,\n\t\t\t})),\n\t\t].filter(Boolean));\n\t}\n\n\treturn Cases.getGroup('all', [\n\t\t// applyTo filtering\n\t\tapplyToConditions || null,\n\t\t// main filter\n\t\tmainFilter,\n\t\t// filter exclusions\n\t\t(except && except.length) && Cases.getGroup('none', [{\n\t\t\ttype: caseType,\n\t\t\tpatt: except,\n\t\t\t...additionalCriteria,\n\t\t}]) || null,\n\t].filter(Boolean));\n}\n\nconst reconcileNativeFilters = (() => {\n\t// Ideally, we would just get the subscriber count for each subreddit.\n\t// However, there's no batch endpoint for subreddit info.\n\t// So we use a different proxy for subreddit popularity: the top post score from the last day.\n\t// By doing so, we can leverage ad-hoc multireddits to get multiple results from a single request.\n\t// In testing, this method achieves ~15 requests/500 subreddits or ~33 subreddits/request.\n\tconst MAX_RETRIES = 5;\n\tconst getTopScore = batch(async requests => {\n\t\tconst resp = (await ajax({\n\t\t\turl: `/r/${requests.map(r => r.sub).join('+')}/top.json`,\n\t\t\tquery: { t: 'day', limit: 100 },\n\t\t\ttype: 'json',\n\t\t}): RedditListing<RedditLink>);\n\n\t\tif (!resp.data.children.length) {\n\t\t\t// guarantee that we always make progress:\n\t\t\t// if there are no posts, return `0` for all requests\n\t\t\treturn requests.map(() => 0);\n\t\t}\n\n\t\tconst topScoreBySub = flow(\n\t\t\t() => resp.data.children.reverse(),\n\t\t\tkeyBy(post => post.data.subreddit.toLowerCase()),\n\t\t\tmapValues(post => post.data.score),\n\t\t)();\n\n\t\treturn requests.map(({ sub, depth = 0 }: {| sub: string, depth?: number |}) => {\n\t\t\tconst score = topScoreBySub[sub.toLowerCase()];\n\n\t\t\tif (score !== undefined) {\n\t\t\t\t// post found\n\t\t\t\treturn score;\n\t\t\t} else if (depth > MAX_RETRIES) {\n\t\t\t\t// out of retries\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\t// try again until we get a score\n\t\t\t\treturn getTopScore({ sub, depth: depth + 1 });\n\t\t\t}\n\t\t});\n\t}, { size: 100, delay: 2000 });\n\n\tasync function sortByPopularity(subreddits: string[]): Promise<string[]> {\n\t\tconst scores = await Promise.all(subreddits.map(sub => getTopScore({ sub })));\n\n\t\treturn _.sortBy(_.zip(subreddits, scores), ([, score]) => score)\n\t\t\t.map(([sub]) => sub)\n\t\t\t.filter(Boolean)\n\t\t\t.reverse();\n\t}\n\n\treturn mutex(async ({ warnNotLoggedIn = false }: {| warnNotLoggedIn?: boolean |} = {}) => {\n\t\tconst user = context.username;\n\n\t\tif (!user) {\n\t\t\tif (warnNotLoggedIn) {\n\t\t\t\tNotifications.showNotification({\n\t\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\t\tnotificationID: 'filterSyncNotLoggedIn',\n\t\t\t\t\theader: 'Filters not synced',\n\t\t\t\t\tmessage: 'You must log in to sync filters.',\n\t\t\t\t});\n\t\t\t}\n\t\t\tconsole.warn('Not syncing filters, not logged in...');\n\t\t\treturn;\n\t\t}\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: 'filterSyncStarted',\n\t\t\tmessage: 'Filter sync started...',\n\t\t});\n\n\t\tconst { data: { subreddits } } = await ajax({\n\t\t\turl: `/api/filter/user/${user}/f/all`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst existing = subreddits.map(({ name }) => name.toLowerCase());\n\n\t\tconst desired = await asyncFlow(\n\t\t\tmap(([sr]) => sr),\n\t\t\tfilter(sr => !string.regexRegex.test(sr)),\n\t\t\tmap(name => name.toLowerCase()),\n\t\t\tsortByPopularity,\n\t\t\tslice(0, 100),\n\t\t)(module.options.subreddits.value);\n\n\t\tconst toRemove = _.difference(existing, desired).length;\n\t\tconst toAdd = _.difference(desired, existing).length;\n\n\t\tif (!toRemove && !toAdd) {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'useRedditFilters',\n\t\t\t\tnotificationID: 'filterSyncNoneAddedOrRemoved',\n\t\t\t\tcloseDelay: 5000,\n\t\t\t\theader: 'No filters synced',\n\t\t\t\tmessage: `\n\t\t\t\t\tEither no subreddit filters were changed, or you have more than 100 subreddits filtered.\n\t\t\t\t\tReddit's native /r/all filtering is limited to 100 subreddits.\n\t\t\t\t`,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\t// when `model` is provided, this replaces all subreddits\n\t\t\tawait ajax({\n\t\t\t\tmethod: 'PUT',\n\t\t\t\turl: `/api/filter/user/${user}/f/all`,\n\t\t\t\tdata: {\n\t\t\t\t\tmodel: JSON.stringify({\n\t\t\t\t\t\tsubreddits: desired.map(name => ({ name })),\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'useRedditFilters',\n\t\t\t\tnotificationID: 'filterSyncError',\n\t\t\t\theader: 'Error syncing filters',\n\t\t\t\tmessage: `Filters could not be synced: ${e}`,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\toptionKey: 'useRedditFilters',\n\t\t\tnotificationID: 'filterSyncSuccess',\n\t\t\theader: 'Successfully synced filters',\n\t\t\tmessage: `Removed ${toRemove} and added ${toAdd} filters.`,\n\t\t});\n\t});\n})();\n\nconst subredditAllowNsfwOption = _.once(() => indexOptionTable(module.options.allowNSFW, 0, key => key.toLowerCase()));\n\nconst allowAllNsfw = _.memoize(subreddit => {\n\tconst currOptionValue = subredditAllowNsfwOption()[subreddit.toLowerCase()];\n\treturn currOptionValue && currOptionValue[0][1] === 'visit';\n});\n\nfunction allowNSFW(postSubreddit, currSubreddit = currentSubreddit()) {\n\tif (!module.options.allowNSFW.value || !module.options.allowNSFW.value.length) return false;\n\n\tif (currSubreddit && allowAllNsfw(currSubreddit)) {\n\t\treturn true;\n\t}\n\n\tif (!postSubreddit) postSubreddit = currSubreddit;\n\tif (!postSubreddit) return false;\n\tconst postOptionValue = subredditAllowNsfwOption()[postSubreddit.toLowerCase()];\n\tif (postOptionValue) {\n\t\tif (postOptionValue[0][1] === 'everywhere') {\n\t\t\treturn true;\n\t\t} else { // optionValue[1] == visit (subreddit or multisubreddit)\n\t\t\treturn (currSubreddit || '').split('+').includes(postSubreddit);\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction updateNsfwThingClass(thing) {\n\tif (thing.isNSFW()) {\n\t\tif (allowNSFW(thing.getSubreddit(), currentSubreddit())) {\n\t\t\tthing.element.classList.add('allowOver18');\n\t\t}\n\n\t\t// backfill for new post layout\n\t\tthing.element.classList.add('over18');\n\t}\n}\n\nfunction updateNsfwBodyClass(filterOn) {\n\tBodyClasses.toggle(filterOn, 'hideOver18');\n}\n\nfunction registerSubredditFilterCommand() {\n\tconst getSubreddit = val => (\n\t\tval ||\n\t\tSelectedThing.current && SelectedThing.current.getSubreddit() ||\n\t\tcurrentSubreddit() ||\n\t\t''\n\t);\n\n\tCommandLine.registerCommand(/^f(?:ilter)?/, 'f[ilter] [subreddit] - toggle subreddit filter',\n\t\t(cmd, val) => {\n\t\t\tconst subreddit = getSubreddit(val);\n\t\t\treturn `toggle subreddit filter for: ${subreddit}`;\n\t\t},\n\t\t(cmd, val) => {\n\t\t\tconst subreddit = getSubreddit(val);\n\t\t\tif (!subreddit) return 'no subreddit specified or post selected';\n\t\t\tlistFilters.subreddits.toggleString(subreddit);\n\t\t},\n\t);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { PageAction, Storage, i18n } from '../environment';\nimport {\n\tBodyClasses,\n\tPagePhases,\n\tasyncSome,\n\tcurrentSubreddit,\n\tmutex,\n\tstring,\n\twaitForChild,\n} from '../utils';\nimport * as CustomToggles from './customToggles';\nimport * as NightMode from './nightMode';\n\nexport const module: Module<*> = new Module('subredditStyleToggle');\n\nmodule.moduleName = 'subredditStyleToggleName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'subredditStyleToggleDesc';\nmodule.alwaysEnabled = true; // Not implemented to be disabled\nmodule.options = {\n\tbrowserToolbarButton: {\n\t\ttitle: 'subredditStyleToggleBrowserToolbarButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditStyleToggleBrowserToolbarButtonDesc',\n\t\tkeywords: ['css'],\n\t\t// can't be disabled in Chrome since Chrome 49\n\t\tnoconfig: process.env.BUILD_TARGET === 'chrome',\n\t},\n\tcheckbox: {\n\t\ttitle: 'subredditStyleToggleCheckboxTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditStyleToggleCheckboxDesc',\n\t\tkeywords: ['css'],\n\t},\n};\n\nconst ignoredStorage = Storage.wrap('RESmodules.subredditStyleToggle.ignored', ([]: string[]));\nlet toggle: CustomToggles.Toggle;\nexport let refresh: ?() => *;\n\nmodule.onInit = () => {\n\t// Hide the toolbar button while it is not active\n\tPageAction.hide();\n\n\tconst ready = Promise.all([\n\t\tshouldDisable(),\n\t\thasToggleableElements(),\n\t]).then(([disable, has]) => {\n\t\tif (has) {\n\t\t\tBodyClasses.add('res-srstyle-enabled');\n\t\t\tcreateToggle(!disable);\n\t\t}\n\t});\n\n\trefresh = (nightmodeCompatible?: boolean) => ready.then(async () => {\n\t\tif (toggle) toggle.toggle('auto', !await shouldDisable(nightmodeCompatible));\n\t});\n};\n\nfunction createToggle(initialState) {\n\tconst subreddit = (currentSubreddit() || '').toLowerCase();\n\tif (toggle || !subreddit) return;\n\n\ttoggle = new CustomToggles.Toggle(`${module.moduleID}.${subreddit}`, 'Custom subreddit style', true);\n\n\ttoggle.onToggle(async type => {\n\t\tif (type !== 'manual') return;\n\n\t\t// wait for nightmode to react to subreddit style toggle so `isNightmodeCompatible` check below is accurate\n\t\tawait NightMode.toggledSubredditStyle(toggle.enabled);\n\n\t\tconst ignoredSubreddits = new Set(await ignoredStorage.get());\n\t\tif (toggle.enabled) {\n\t\t\tignoredSubreddits.delete(subreddit);\n\t\t} else if (await NightMode.isNightmodeCompatible()) {\n\t\t\t// disabled and compatible with nightmode, or in a different subreddit, so add it to our ignore list\n\t\t\t// DO NOT add to our ignore list otherwise (current subreddit and incompatible with nightmode),\n\t\t\t// because in that case it will be disabled due to nightmode incompatibility\n\t\t\tignoredSubreddits.add(subreddit);\n\t\t}\n\n\t\tignoredStorage.set(Array.from(ignoredSubreddits));\n\t});\n\n\ttoggle.onStateChange(() => {\n\t\ttoggleElements(toggle.enabled);\n\t\tBodyClasses.toggle(toggle.enabled, 'res-srstyle-enabled');\n\t\tBodyClasses.toggle(!toggle.enabled, 'res-srstyle-disabled');\n\t});\n\n\ttoggle.toggle('auto', initialState);\n\n\tmakeInteractable();\n}\n\nfunction makeInteractable() {\n\tif (module.options.checkbox.value) {\n\t\tPagePhases.sitetableStarted.then(() => {\n\t\t\tconst place = document.body.querySelector('.titlebox h1.redditname');\n\t\t\tif (place) insertCheckbox(place);\n\t\t});\n\t}\n\n\tif (module.options.browserToolbarButton.value) {\n\t\tPageAction.show(toggle.enabled);\n\t\ttoggle.onStateChange(() => { PageAction.show(toggle.enabled); });\n\t\tPageAction.onClick(() => { toggle.toggle('manual'); });\n\t}\n\n\ttoggle.addCLI('srstyle');\n\n\tif ($('#show_stylesheets').length) {\n\t\t$('label[for=show_stylesheets]').after(string.escape` <span class=\"little gray\">(${i18n('subredditStyleToggleRedditPrefsMessage')} <a href=\"/r/Enhancement/wiki/srstyle\">${i18n('subredditStyleToggleClickToLearnMore')}</a>)</span>`);\n\t}\n}\n\nfunction insertCheckbox(place) {\n\tconst container = string.html`\n\t\t<form class=\"toggle res-sr-style-toggle\">\n\t\t\t<label for=\"res-style-checkbox\">${i18n('subredditStyleToggleUse')}</label>\n\t\t</form>\n\t`;\n\n\tconst checkbox = toggle.buildCheckbox();\n\tcheckbox.setAttribute('id', 'res-style-checkbox');\n\tcheckbox.setAttribute('name', 'res-style-checkbox');\n\tcontainer.prepend(checkbox);\n\tplace.after(container);\n}\n\nconst shouldDisable = (nightmodeCompatible: boolean | Promise<boolean> = NightMode.isNightmodeCompatible(true)) => asyncSome([\n\t// subreddit style ignored by this module\n\tasync () => (await ignoredStorage.get()).includes((currentSubreddit() || '').toLowerCase()),\n\t// subreddit style incompatible with nightmode\n\tasync () => !(await nightmodeCompatible),\n], f => f());\n\nconst hasToggleableElements = () => asyncSome([\n\tgetStylesheet,\n\tasync () => !!(await getHeaderImg()).headerImg,\n], f => f());\n\nconst getStylesheet = _.once(async () => {\n\tconst query = () => (document.head || document.documentElement).querySelector('link[title=applied_subreddit_stylesheet]');\n\n\treturn (\n\t\t// parsing has started\n\t\t// the stylesheet element may or may not be in the DOM\n\t\tquery() ||\n\t\t// <body> parsing has started (i.e. the entire <head> is parsed)\n\t\t// if there is a stylesheet, the element will be in the DOM\n\t\tawait PagePhases.bodyStart.then(query) ||\n\t\t// subreddit styles disabled natively; no stylesheet element\n\t\tnull\n\t);\n});\n\nconst getHeaderImg = _.once(async () => {\n\t// subreddits with a custom header image will have:\n\t// `<a id=\"header-img-a\"><img id=\"header-img\"/></a>`\n\t// subreddits with the default will just have:\n\t// `<a id=\"header-img\" class=\"default-header\"></a>`\n\tconst query = () => document.getElementById('header-img-a');\n\tconst imgQuery = () => document.getElementById('header-img');\n\n\tconst imgWrapper = (\n\t\tawait PagePhases.bodyStart.then(query) ||\n\t\tawait waitForChild(document.body, '#header').then(query) ||\n\t\tawait PagePhases.contentLoaded.then(query)\n\t);\n\n\treturn { imgWrapper, headerImg: imgWrapper && imgQuery() };\n});\n\nconst toggleElements = (() => {\n\tconst toggleStylesheet = mutex(async shouldRestore => {\n\t\tconst subredditStylesheet = await getStylesheet();\n\n\t\tif (!subredditStylesheet) return;\n\n\t\tif (shouldRestore) {\n\t\t\t// only add element if not mounted\n\t\t\tif (!subredditStylesheet.parentNode) {\n\t\t\t\tdocument.head.appendChild(subredditStylesheet);\n\t\t\t}\n\t\t} else {\n\t\t\tif (subredditStylesheet.parentNode) {\n\t\t\t\tsubredditStylesheet.remove();\n\t\t\t}\n\t\t}\n\t});\n\n\tconst toggleHeaderImg = mutex(async shouldRestore => {\n\t\tconst { imgWrapper, headerImg } = await getHeaderImg();\n\n\t\tif (!imgWrapper || !headerImg) return;\n\n\t\tif (shouldRestore) {\n\t\t\tif (!headerImg.parentNode) {\n\t\t\t\timgWrapper.id = 'header-img-a';\n\t\t\t\timgWrapper.classList.remove('default-header');\n\t\t\t\timgWrapper.appendChild(headerImg);\n\t\t\t}\n\t\t} else {\n\t\t\tif (headerImg.parentNode) {\n\t\t\t\theaderImg.remove();\n\t\t\t\timgWrapper.id = 'header-img';\n\t\t\t\timgWrapper.classList.add('default-header');\n\t\t\t}\n\t\t}\n\t});\n\n\treturn shouldRestore => Promise.all([\n\t\ttoggleStylesheet(shouldRestore),\n\t\ttoggleHeaderImg(shouldRestore),\n\t]);\n})();\n","/* @flow */\n\nimport _ from 'lodash';\nimport { getTimes as getSunriseSunset } from 'suncalc';\nimport { Module } from '../core/module';\nimport * as Init from '../core/init';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport {\n\tappType,\n\tAlert,\n\tBodyClasses,\n\tPagePhases,\n\tcurrentSubreddit,\n\twaitForChild,\n\tHOUR,\n} from '../utils';\nimport { Session, Storage, i18n } from '../environment';\nimport * as CustomToggles from './customToggles';\nimport * as SubredditStyleToggle from './subredditStyleToggle';\n\nexport const module: Module<*> = new Module('nightMode');\n\nmodule.moduleName = 'nightModeName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'nightModeDesc';\nmodule.options = {\n\tnightModeOn: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nightModeNightModeOnDesc',\n\t\ttitle: 'nightModeNightModeOnTitle',\n\t},\n\tnightSwitch: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nightModeNightSwitchDesc',\n\t\ttitle: 'nightModeNightSwitchTitle',\n\t\tadvanced: true,\n\t},\n\tautomaticNightMode: {\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'nightModeAutomaticNightModeNone',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'nightModeAutomaticNightModeAutomatic',\n\t\t\tvalue: 'automatic',\n\t\t}, {\n\t\t\tname: 'nightModeAutomaticNightModeUser',\n\t\t\tvalue: 'user',\n\t\t}, {\n\t\t\tname: 'nightModeAutomaticNightModeSystem',\n\t\t\tvalue: 'system',\n\t\t}],\n\t\tdescription: 'nightModeAutomaticNightModeDesc',\n\t\ttitle: 'nightModeAutomaticNightModeTitle',\n\t},\n\tnightModeStart: {\n\t\ttype: 'text',\n\t\tvalue: '20:00',\n\t\tdescription: 'nightModeNightModeStartDesc',\n\t\ttitle: 'nightModeNightModeStartTitle',\n\t\tdependsOn: options => options.automaticNightMode.value === 'user',\n\t},\n\tnightModeEnd: {\n\t\ttype: 'text',\n\t\tvalue: '6:00',\n\t\tdescription: 'nightModeNightModeEndDesc',\n\t\ttitle: 'nightModeNightModeEndTitle',\n\t\tdependsOn: options => options.automaticNightMode.value === 'user',\n\t},\n\tnightModeOverrideHours: {\n\t\ttype: 'text',\n\t\tvalue: '8',\n\t\tdescription: 'nightModeNightModeOverrideHoursDesc',\n\t\ttitle: 'nightModeNightModeOverrideHoursTitle',\n\t\tdependsOn: options => options.automaticNightMode.value !== 'none',\n\t},\n\tuseSubredditStyles: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nightModeUseSubredditStylesDesc',\n\t\ttitle: 'nightModeUseSubredditStylesTitle',\n\t\tadvanced: true,\n\t},\n\tsubredditStylesWhitelist: {\n\t\ttype: 'list',\n\t\tvalue: '',\n\t\tlistType: 'subreddits',\n\t\tdescription: 'nightModeSubredditStylesWhitelistDesc',\n\t\ttitle: 'nightModeSubredditStylesWhitelistTitle',\n\t},\n\tcoloredLinks: {\n\t\ttype: 'boolean',\n\t\tbodyClass: true,\n\t\tvalue: false,\n\t\tdescription: 'nightModeColoredLinksDesc',\n\t\ttitle: 'nightModeColoredLinksTitle',\n\t},\n};\n\nconst localStorageKey = 'RES_nightMode';\nexport const nightModeActive = () => typeof localStorage === 'object' && !!localStorage.getItem(localStorageKey);\nconst nightmodeOverrideStorage = Storage.wrap('RESmodules.nightMode.nightModeOverrideStart', (null: null | number));\nlet toggle;\n\nmodule.onInit = () => {\n\t// To avoid the flash of unstyled content, the very first thing we should do is get a hold\n\t// of the document object and add necessary classes...\n\tif (nightModeActive()) addStyle();\n};\n\nmodule.beforeLoad = () => {\n\ttoggle = new CustomToggles.Toggle('nightMode', i18n('nightModeToggleText'), module.options.nightModeOn.value);\n\ttoggle.onToggle(type => {\n\t\tOptions.save(module.options.nightModeOn);\n\t\t// Update cache\n\t\tisNightmodeCompatible();\n\t\tif (type === 'manual') nightmodeOverrideStorage.set(Date.now());\n\t});\n\ttoggle.onStateChange(() => {\n\t\tmodule.options.nightModeOn.value = toggle.enabled;\n\t\trefreshStyle();\n\t});\n\ttoggle.addCLI('ns');\n\tif (module.options.nightSwitch.value) toggle.addMenuItem(i18n('nightModeToggleTitle'), 7, '', '');\n\n\tif (module.options.automaticNightMode.value !== 'none') {\n\t\trefreshAutomaticNightMode();\n\t}\n};\n\nmodule.always = () => {\n\t// Nightmode might have been erronously applied in `onInit`\n\trefreshStyle();\n};\n\nexport async function isNightmodeCompatible(useCache: boolean = false): Promise<boolean> {\n\tconst subreddit = currentSubreddit();\n\n\tif (!subreddit) {\n\t\t// not in a subreddit, vanilla reddit is compatible\n\t\treturn true;\n\t}\n\n\tif (['all', 'popular', 'friends', 'mod'].includes(subreddit)) {\n\t\t// special-case subreddits are always compatible\n\t\treturn true;\n\t}\n\n\tconst isAllowedByOptions = async () => {\n\t\tawait Init.loadOptions;\n\n\t\tif (!nightModeActive()) {\n\t\t\t// nightmode is off\n\t\t\treturn true;\n\t\t}\n\n\t\tif (module.options.useSubredditStyles.value) {\n\t\t\t// user has chosen to always use subreddit styles regardless of compatibility\n\t\t\treturn true;\n\t\t}\n\n\t\tconst isWhitelisted = module.options.subredditStylesWhitelist.value.split(',').includes(subreddit.toLowerCase());\n\t\tif (isWhitelisted) {\n\t\t\t// This subreddit is whitelisted.\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst isSubredditCompatible = async () => {\n\t\t// Check the sidebar for a link [](#/RES_SR_Config/NightModeCompatible) that indicates the sub is night mode compatible.\n\t\tconst query = () => !!document.querySelector('.side a[href$=\"#/RES_SR_Config/NightModeCompatible\"]');\n\t\treturn (\n\t\t\tquery() ||\n\t\t\tawait PagePhases.bodyStart.then(query) ||\n\t\t\tawait waitForChild(document.body, '.side').then(query) ||\n\t\t\tPagePhases.sitetableStarted.then(query)\n\t\t);\n\t};\n\n\tconst id = `isNightmodeCompatible.${subreddit.toLowerCase()}`;\n\tconst updatePromise = update();\n\tconst stored = await Session.get(id);\n\tconst cached = typeof stored === 'boolean' ? stored : !nightModeActive();\n\treturn useCache ? cached : updatePromise;\n\n\tasync function update() {\n\t\tconst compatible = await isAllowedByOptions() || await isSubredditCompatible();\n\t\tawait Session.set(id, compatible);\n\t\tif (cached !== compatible && SubredditStyleToggle.refresh) SubredditStyleToggle.refresh(compatible);\n\t\treturn compatible;\n\t}\n}\n\nexport async function toggledSubredditStyle(toggledOn: boolean): Promise<void> {\n\tconst currSub = currentSubreddit();\n\tif (!nightModeActive() || !currSub) {\n\t\t// nightmode is off or not in a subreddit, subreddit style toggling is irrelevant\n\t\treturn;\n\t}\n\n\tconst subreddit = currSub.toLowerCase();\n\tconst whitelist = module.options.subredditStylesWhitelist.value.split(',');\n\n\tif (toggledOn && !(await isNightmodeCompatible())) {\n\t\t// toggled on and incompatible, add to whitelist\n\t\tif (!whitelist.includes(subreddit)) {\n\t\t\twhitelist.push(subreddit);\n\t\t}\n\t} else if (!toggledOn) {\n\t\t// toggled off, remove from whitelist\n\t\t_.pull(whitelist, subreddit);\n\t}\n\n\tmodule.options.subredditStylesWhitelist.value = whitelist.join(',');\n\treturn Options.save(module.options.subredditStylesWhitelist);\n}\n\nasync function refreshAutomaticNightMode() {\n\tconst nightModeOverrideStart = await nightmodeOverrideStorage.get();\n\tconst nightModeOverrideLength = HOUR * parseFloat(module.options.nightModeOverrideHours.value);\n\tconst nightModeOverrideEnd = (parseInt(nightModeOverrideStart, 10) || 0) + nightModeOverrideLength;\n\tif (Date.now() <= nightModeOverrideEnd) return;\n\n\ttoggle.toggle('auto', await isTimeForNightMode());\n}\n\n/**\n * Gets user's latitude and longitude using Geolocation API.\n */\nfunction getGeolocation() {\n\treturn new Promise((resolve, reject) => {\n\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\tposition => resolve(position.coords),\n\t\t\treject,\n\t\t);\n\t});\n}\n\n/**\n * Determines night mode startind time and ending time based on user's peferences.\n * If automatic mode is enabled, it will try to determine user's geolocation and use it\n * to calculate sunrise and sunset times.\n * If the user chose user-defined hours or the function will fail to determine user's location,\n * nightModeStart and nightModeEnd values will be used.\n */\nasync function getNightModeTimes() {\n\tswitch (module.options.automaticNightMode.value) {\n\t\tcase 'automatic':\n\t\t\ttry {\n\t\t\t\tconst { latitude, longitude } = await getGeolocation();\n\t\t\t\tconst { sunrise, sunset } = getSunriseSunset(new Date(), latitude, longitude);\n\t\t\t\treturn { startingTime: sunset, endingTime: sunrise };\n\t\t\t} catch (err) {\n\t\t\t\tconsole.warn('Failed to init automatic night mode:', err);\n\n\t\t\t\tswitch (err.code) {\n\t\t\t\t\tcase err.PERMISSION_DENIED:\n\t\t\t\t\t\treturn Alert.open(i18n('nightModeAutomaticNightModeDenied', 'confirm'), { cancelable: true })\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t// they clicked confirm, turn it off\n\t\t\t\t\t\t\t\tmodule.options.automaticNightMode.value = 'none';\n\t\t\t\t\t\t\t\tOptions.save(module.options.automaticNightMode);\n\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tstartingTime: new Date(0),\n\t\t\t\t\t\t\t\t\tendingTime: new Date(0),\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t});\n\t\t\t\t\tcase err.POSITION_UNAVAILABLE:\n\t\t\t\t\tcase err.TIMEOUT:\n\t\t\t\t\tcase err.UNKNOWN_ERROR:\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow err;\n\t\t\t\t}\n\t\t\t}\n\t\tcase 'user':\n\t\t\treturn {\n\t\t\t\tstartingTime: timeStringToDate(module.options.nightModeStart.value),\n\t\t\t\tendingTime: timeStringToDate(module.options.nightModeEnd.value),\n\t\t\t};\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid automaticNightMode value: ${module.options.automaticNightMode.value}`);\n\t}\n}\n\nasync function isTimeForNightMode() {\n\tif (module.options.automaticNightMode.value === 'system') {\n\t\treturn window.matchMedia('(prefers-color-scheme: dark)').matches;\n\t}\n\n\tconst currentTime = new Date();\n\tconst { startingTime, endingTime } = await getNightModeTimes();\n\n\tif (startingTime <= endingTime) {\n\t\t// e.g. enabled between 6am (600) and 8pm (2000)\n\t\treturn (startingTime <= currentTime) && (currentTime < endingTime);\n\t} else {\n\t\t// e.g. enabled between 8pm (2000) and 6am (600)\n\t\treturn (startingTime <= currentTime) || (currentTime < endingTime);\n\t}\n}\n\n/**\n * Converts a string of form \"12:30\" to the current date at that time.\n */\nfunction timeStringToDate(timeString) {\n\tconst [hour, minute] = timeString.split(':').map(s => parseInt(s, 10));\n\tconst date = new Date();\n\tdate.setHours(hour, minute, 0 /* s */, 0 /* ms */);\n\treturn date;\n}\n\nconst className = () => {\n\tswitch (appType()) {\n\t\tcase 'r2':\n\t\tcase 'options':\n\t\t\treturn 'res-nightmode';\n\t\tcase 'd2x':\n\t\t\treturn 'res-d2x-nightmode';\n\t\tdefault:\n\t\t\tthrow new Error(`Impossible appType: ${appType()}`);\n\t}\n};\n\nconst addStyle = () => BodyClasses.add(className());\nconst removeStyle = () => BodyClasses.remove(className());\n\nconst refreshStyle = () => {\n\tif (Modules.isRunning(module) && module.options.nightModeOn.value) {\n\t\taddStyle();\n\t\t// Set a localStorage token so that in the future we can add nightmode to the page prior to page load.\n\t\tlocalStorage.setItem(localStorageKey, 'true');\n\t} else {\n\t\tremoveStyle();\n\t\tlocalStorage.removeItem(localStorageKey);\n\t}\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport {\n\tAlert,\n\tCreateElement,\n\tSelectedThing,\n\tTable,\n\tThing,\n\taddDashboardTab,\n\tdowncast,\n\tisPageType,\n\tusernameSelector,\n\tgetUsernameFromLink,\n\tloggedInUser,\n\tpreventCloning,\n\tstring,\n\twatchForElements,\n\twatchForThings,\n\tempty,\n\twatchForRedditEvents,\n\tisAppType,\n} from '../utils';\nimport { Storage, openNewTabs, i18n } from '../environment';\nimport * as CommandLine from './commandLine';\nimport * as FilteReddit from './filteReddit';\nimport * as Hover from './hover';\nimport * as NightMode from './nightMode';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('userTagger');\n\nconst bgToTextColorMap = {\n\tnone: 'inherit',\n\taqua: 'black',\n\tblack: 'white',\n\tblue: 'white',\n\tcornflowerblue: 'white',\n\tfuchsia: 'white',\n\tgray: 'white',\n\tgreen: 'white',\n\tlime: 'black',\n\tmaroon: 'white',\n\tnavy: 'white',\n\tolive: 'white',\n\torange: 'white',\n\torangered: 'white',\n\tpink: 'black',\n\tpurple: 'white',\n\tred: 'white',\n\tsilver: 'black',\n\tteal: 'white',\n\twhite: 'black',\n\tyellow: 'black',\n};\n\nmodule.moduleName = 'userTaggerName';\nmodule.category = 'usersCategory';\nmodule.description = 'userTaggerDesc';\nmodule.options = {\n\tshowTaggingIcon: {\n\t\ttitle: 'userTaggerShowTaggingIconTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerShowTaggingIconDesc',\n\t},\n\tstoreSourceLink: {\n\t\ttitle: 'userTaggerStoreSourceLinkTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerStoreSourceLinkDesc',\n\t\tadvanced: true,\n\t},\n\tuseCommentsLinkAsSource: {\n\t\ttitle: 'userTaggerUseCommentsLinkAsSourceTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerUseCommentsLinkAsSourceDesc',\n\t\tadvanced: true,\n\t},\n\ttrackVoteWeight: {\n\t\ttitle: 'userTaggerTrackVoteWeightTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerTrackVoteWeightDesc',\n\t\tadvanced: true,\n\t},\n\tvwNumber: {\n\t\ttitle: 'userTaggerVwNumberTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerVWNumberDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.trackVoteWeight.value,\n\t},\n\ttruncateTag: {\n\t\ttitle: 'userTaggerTruncateTagTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerTruncateTagDesc',\n\t\tadvanced: true,\n\t},\n\tpresetTags: {\n\t\ttitle: 'userTaggerPresetTagsTitle',\n\t\ttype: 'table',\n\t\taddRowText: '+add preset',\n\t\tfields: [{\n\t\t\tkey: 'text',\n\t\t\tname: 'text',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'color',\n\t\t\tname: 'color',\n\t\t\ttype: 'select',\n\t\t\tvalue: 'none',\n\t\t\tvalues: Object.entries(bgToTextColorMap).map(([k, v]) => ({\n\t\t\t\tname: k,\n\t\t\t\tvalue: k,\n\t\t\t\tstyle: `color: ${v}; background-color: ${k};`,\n\t\t\t})),\n\t\t}],\n\t\tvalue: ([]: Array<[string, string]>),\n\t\tdescription: 'userTaggerPresetTagsDesc',\n\t\tadvanced: true,\n\t},\n};\n\nconst tagStorage = Storage.wrapPrefix('tag.', () => (null: ?{|\n\ttext?: string,\n\tlink?: string,\n\tcolor?: string,\n\tvotesDown?: number,\n\tvotesUp?: number,\n|}), user => user.toLowerCase(), true);\n\nmodule.beforeLoad = () => {\n\t// Immediately load data in order to have it ready on mutation\n\twatchForThings(null, thing => {\n\t\tconst user = thing.getAuthor();\n\t\tif (user) Tag.get(user);\n\t}, { immediate: true });\n\n\twatchForElements(['page', 'selfText'], usernameSelector, applyFromElement);\n\n\twatchForRedditEvents('postAuthor', (element, { author, _: { update } }) => {\n\t\tif (update) return;\n\n\t\t// Remove previously added tags, as Reddit may not empty the container when navigating posts\n\t\tfor (const tag of element.getElementsByClassName('RESUserTag')) tag.remove();\n\n\t\tapplyToUser(element, { username: author });\n\t});\n\twatchForRedditEvents('commentAuthor', (element, { author, _: { update } }) => {\n\t\tif (update) return;\n\t\tapplyToUser(element, { username: author });\n\t});\n\twatchForRedditEvents('userHovercard', (element, { user: { username }, _: { update } }) => {\n\t\tif (update) return;\n\t\tapplyToUser(element, { username, renderTaggingIcon: false });\n\t});\n};\n\nmodule.contentStart = () => {\n\tif (module.options.trackVoteWeight.value && loggedInUser()) {\n\t\tattachVoteHandler();\n\t}\n\n\tregisterCommandLine();\n\n\taddDashboardTab('userTaggerContents', i18n('userTaggerMyUserTags'), module.moduleID, addDashboardFunctionality);\n};\n\nfunction applyFromElement(element) {\n\tconst username = getUsernameFromLink(element);\n\tif (username) return applyToUser(element, { username });\n}\n\nexport function applyToUser(element: HTMLElement, {\n\tusername,\n\trenderTaggingIcon = module.options.showTaggingIcon.value && username !== loggedInUser(),\n\trenderVoteWeight = module.options.trackVoteWeight.value && username !== loggedInUser(),\n}: {|\n\tusername: string,\n\trenderTaggingIcon?: boolean,\n\trenderVoteWeight?: boolean,\n|} = {}) {\n\t// Display tag immediately so that it can be rendered at once without having to wait for storage\n\t// since in most cases there's no applied tag\n\tconst tag = Tag.getUnfilled(username);\n\ttag.add(element, { renderVoteWeight, renderTaggingIcon });\n\ttag.fill();\n}\n\nexport const tags: Map<string, Tag> = new Map();\n\ntype RenderInstance = {|\n\telement: HTMLElement,\n\ttagger?: HTMLElement,\n\tvw?: HTMLElement,\n\trenderTaggingIcon?: boolean,\n\trenderVoteWeight?: boolean,\n\tappend?: boolean,\n|};\n\nexport class Tag {\n\tstatic defaultTagElement = (e => () => e().cloneNode(true))(_.once(() => Tag.buildTagElement()));\n\tstatic buildTagElement({ text, color }: { text: ?string, color: ?string } = {}) {\n\t\treturn string.html`\n\t\t\t<span class=\"RESUserTag\">\n\t\t\t\t<a\n\t\t\t\t\tclass=\"userTagLink ${(text || color) ? 'hasTag' : 'RESUserTagImage'} ${module.options.truncateTag.value ? 'truncateTag' : ''}\"\n\t\t\t\t\t${(text || color) && string._html`style=\"background-color: ${color || 'none'}; color: ${bgToTextColorMap[color || 'none']} !important;\"`}\n\t\t\t\t\ttitle=\"${text || 'set a tag'}\"\n\t\t\t\t\thref=\"javascript:void 0\"\n\t\t\t\t>${text || '\\u00A0'/* nbsp */}</a>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tstatic async getStored(): Promise<Array<Tag>> {\n\t\treturn Object.entries(await tagStorage.getAll())\n\t\t\t.map(([k, v]) => {\n\t\t\t\tconst tag = Tag.getUnfilled(k);\n\t\t\t\ttag.load(v);\n\t\t\t\treturn tag;\n\t\t\t});\n\t}\n\n\tstatic getUnfilled(id: string): Tag {\n\t\tlet tag = tags.get(id);\n\t\tif (!tag) {\n\t\t\ttag = new Tag(id);\n\t\t\ttags.set(id, tag);\n\t\t}\n\n\t\treturn tag;\n\t}\n\n\tstatic async get(id: string): Promise<Tag> {\n\t\tconst tag = Tag.getUnfilled(id);\n\t\tawait tag.fill();\n\t\treturn tag;\n\t}\n\n\tid: string;\n\ttext: ?string = null;\n\tlink: ?string = null;\n\tcolor: ?string = null;\n\tvotesUp: number = 0;\n\tvotesDown: number = 0;\n\n\tget ignored(): boolean { return FilteReddit.listFilters.users.includesString(this.id); }\n\n\tinstances: Array<RenderInstance> = [];\n\n\tconstructor(id: $PropertyType<this, 'id'> = '~dummy') {\n\t\tthis.id = id;\n\t}\n\n\tfill = _.once(async () => {\n\t\tconst data = await tagStorage.get(this.id);\n\t\tif (data) {\n\t\t\tif (Object.keys(this.getBaseDifference(data)).length) {\n\t\t\t\tthis.load(data);\n\t\t\t} else {\n\t\t\t\tthis.delete();\n\t\t\t}\n\t\t}\n\t});\n\n\tload(data: *) {\n\t\tif (data.color !== undefined) this.color = data.color;\n\t\telse if (data.color === 'none' /* legacy value */) this.color = null;\n\t\tif (data.link !== undefined) this.link = data.link;\n\t\tif (data.text !== undefined) this.text = data.text;\n\t\tif (data.votesDown !== undefined) this.votesDown = data.votesDown;\n\t\tif (data.votesUp !== undefined) this.votesUp = data.votesUp;\n\n\t\tfor (const instance of this.instances) this.render(instance);\n\t}\n\n\textract() {\n\t\treturn {\n\t\t\tcolor: this.color,\n\t\t\tlink: this.link,\n\t\t\ttext: this.text,\n\t\t\tvotesDown: this.votesDown,\n\t\t\tvotesUp: this.votesUp,\n\t\t};\n\t}\n\n\tsave() {\n\t\ttagStorage.set(this.id, this.getBaseDifference());\n\t}\n\n\tgetBaseDifference(data: * = this.extract()) {\n\t\tconst base = (new Tag()).extract();\n\t\treturn _.pickBy(data, (v, k) => base[k] !== v);\n\t}\n\n\tdelete() {\n\t\ttagStorage.delete(this.id);\n\t}\n\n\tadd(element: HTMLAnchorElement | HTMLElement, { renderTaggingIcon, renderVoteWeight, append = isAppType('d2x') }: {| renderTaggingIcon?: boolean, renderVoteWeight?: boolean, append?: boolean |} = {}) {\n\t\tconst instance: RenderInstance = this.instances.find(v => v.element === element) || { element };\n\t\tinstance.append = append;\n\t\tif (!this.instances.includes(instance)) this.instances.push(instance);\n\t\tif (renderTaggingIcon) instance.renderTaggingIcon = true;\n\t\tif (renderVoteWeight) instance.renderVoteWeight = true;\n\t\tthis.render(instance);\n\t}\n\n\tget votes(): number {\n\t\treturn this.votesUp - this.votesDown;\n\t}\n\n\tignore({ showNotice = true }: { showNotice: boolean } = {}) {\n\t\tif (showNotice) {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\tnotificationID: 'addedToIgnoreList',\n\t\t\t\tmessage: `\n\t\t\t\t\t<p>Now ignoring content posted by ${this.id}.</p>\n\t\t\t\t\t${isPageType('inbox') ? `\n\t\t\t\t\t\t<p>If you wish to block ${this.id} from sending you messages, go to <a href=\"/message/messages/\">your messages</a> and click 'block user' underneath their last message.</p>\n\t\t\t\t\t\t<p><a href=\"https://www.reddit.com/r/changelog/comments/ijfps/reddit_change_users_may_block_other_users_that/\">About blocking users</a>.</p>\n\t\t\t\t\t` : ''}\n\t\t\t\t`,\n\t\t\t\tcloseDelay: 5000,\n\t\t\t});\n\t\t}\n\n\t\tFilteReddit.listFilters.users.toggleString(this.id, true);\n\t\tif (!this.text) this.load({ text: 'ignored' });\n\t\tthis.save();\n\t}\n\n\tunignore() {\n\t\tFilteReddit.listFilters.users.toggleString(this.id, false);\n\t\tif (this.text === 'ignored') this.load({ text: null });\n\t\tthis.save();\n\t}\n\n\topenPrompt(instance: *) {\n\t\tif (this.link === null && module.options.storeSourceLink.value) {\n\t\t\t// since we haven't yet set a tag or a link for this user, auto populate a link for the\n\t\t\t// user based on where we are tagging from.\n\t\t\tthis.link = getLinkBasedOnTagLocation(instance.element);\n\t\t}\n\n\t\tHover.infocard('userTagger')\n\t\t\t.target(instance.tagger || instance.element)\n\t\t\t.options({ openDelay: 0, width: 350, closeOnMouseOut: false })\n\t\t\t.populateWith(card => populateDialog(this, card))\n\t\t\t.begin();\n\t}\n\n\trender(instance: *) {\n\t\tif (instance.vw) instance.vw.remove();\n\t\tif (instance.renderVoteWeight && (this.votesUp || this.votesDown)) {\n\t\t\tinstance.vw = preventCloning(string.html`\n\t\t\t\t<a\n\t\t\t\t\tclass=\"voteWeight\"\n\t\t\t\t\thref=\"javascript:void 0\"\n\t\t\t\t\ttitle=\"${i18n('userTaggerYourVotesFor', this.id, `+${this.votesUp} -${this.votesDown}`)}\"\n\t\t\t\t\tstyle=\"${getVoteWeightStyle(this)}\"\n\t\t\t\t>${module.options.vwNumber.value ? `[${this.votes > 0 ? '+' : ''}${this.votes}]` : '[vw]'}</a>\n\t\t\t`);\n\t\t\tinstance.vw.addEventListener('click', () => this.openPrompt(instance));\n\t\t\tif (instance.append) {\n\t\t\t\t(instance.tagger || instance.element).appendChild(instance.vw);\n\t\t\t} else {\n\t\t\t\t(instance.tagger || instance.element).after(instance.vw);\n\t\t\t}\n\t\t}\n\n\t\tif (instance.tagger) instance.tagger.remove();\n\t\tif (this.text || this.color || instance.renderTaggingIcon) {\n\t\t\t// `defaultTagElement` is a lot fast than `buildTagElement`\n\t\t\tinstance.tagger = preventCloning((this.text || this.color) ? Tag.buildTagElement(this) : Tag.defaultTagElement());\n\t\t\tinstance.tagger.addEventListener('click', () => this.openPrompt(instance));\n\t\t\tif (instance.append) {\n\t\t\t\tinstance.element.appendChild(instance.tagger);\n\t\t\t} else {\n\t\t\t\tinstance.element.after(instance.tagger);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction populateDialog(tag: Tag, card) {\n\tconst head = string.html`<div class=\"userTagger-dialog-head\">\n\t\t<span class=\"res-icon\">&#xF0AC;</span>\n\t\t<span>${tag.id}</span>\n\t\t<span class=\"res-usertag-ignore\"></span>\n\t\t</div>\n\t</div>`;\n\n\tconst colors = Object.entries(bgToTextColorMap)\n\t\t.map(([color, textColor]) => ({\n\t\t\ttextColor,\n\t\t\tcolor,\n\t\t}));\n\n\tconst presetTags = module.options.presetTags.value;\n\n\tconst body = string.html`\n\t\t<form id=\"userTaggerToolTip\">\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerText\">Text</label>\n\t\t\t\t<input class=\"fieldPair-text\" type=\"text\" id=\"userTaggerText\" value=\"${tag.text}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerColor\">Color</label>\n\t\t\t\t<select id=\"userTaggerColor\">\n\t\t\t\t\t${colors.map(({ textColor, color }) => string._html`\n\t\t\t\t\t\t<option style=\"color: ${textColor}; background-color: ${color}\" value=\"${color}\" ${tag.color === color && string._html`selected`}>${color}</option>\n\t\t\t\t\t`)}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\" style=\"flex-wrap: wrap\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerPreview\">Preview</label>\n\t\t\t\t<span id=\"userTaggerPreview\"></span>\n\t\t\t\t<a id=\"userTaggerPresetSaveAs\" title=\"save as preset\" href=\"javascript:void 0\">save as preset</a>\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerLink\">\n\t\t\t\t\t<span class=\"userTaggerOpenLink\">\n\t\t\t\t\t\t<a title=\"open link\" href=\"javascript:void 0\">Source URL</a>\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\t\t\t\t<input class=\"fieldPair-text\" type=\"text\" id=\"userTaggerLink\" value=\"${tag.link}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerVotesUp\" title=\"Upvotes you have given this redditor\">Upvotes</label>\n\t\t\t\t<input type=\"number\" style=\"width: 50px;\" id=\"userTaggerVotesUp\" value=\"${tag.votesUp}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerVotesDown\" title=\"Downvotes you have given this redditor\">Downvotes</label>\n\t\t\t\t<input type=\"number\" style=\"width: 50px;\" id=\"userTaggerVotesDown\" value=\"${tag.votesDown}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\" ${!presetTags.length && 'hidden'}>\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerPresetTags\">Presets</label>\n\t\t\t\t<span id=\"userTaggerPresetTags\"></span>\n\t\t\t</div>\n\t\t\t<div class=\"res-usertagger-footer\">\n\t\t\t\t<a href=\"/r/dashboard#userTaggerContents\" target=\"_blank\" rel=\"noopener noreferer\">View tagged users</a>\n\t\t\t\t<input type=\"submit\" id=\"userTaggerSave\" value=\" save tag\">\n\t\t\t</div>\n\t\t</form>\n\t`;\n\n\tconst elements = {\n\t\tcolor: downcast(body.querySelector('#userTaggerColor'), HTMLSelectElement),\n\t\tpresetSaveAs: downcast(body.querySelector('#userTaggerPresetSaveAs'), HTMLAnchorElement),\n\t\tpresetTag: downcast(body.querySelector('#userTaggerPresetTags'), HTMLElement),\n\t\tpresetFieldPair: downcast(body.querySelector('#userTaggerPresetTags').parentElement, HTMLElement),\n\t\tlink: downcast(body.querySelector('#userTaggerLink'), HTMLInputElement),\n\t\topenLink: downcast(body.querySelector('.userTaggerOpenLink a'), HTMLAnchorElement),\n\t\tpreview: downcast(body.querySelector('#userTaggerPreview'), HTMLElement),\n\t\tsave: downcast(body.querySelector('#userTaggerSave'), HTMLElement),\n\t\ttext: downcast(body.querySelector('#userTaggerText'), HTMLInputElement),\n\t\tvotesDown: downcast(body.querySelector('#userTaggerVotesDown'), HTMLInputElement),\n\t\tvotesUp: downcast(body.querySelector('#userTaggerVotesUp'), HTMLInputElement),\n\t};\n\n\thead.querySelector('.res-usertag-ignore').append(\n\t\tCreateElement.toggleButton(\n\t\t\tignore => {\n\t\t\t\tconst textShouldBeUpdated = extract().text === tag.text; // Override text only if not manually changed\n\t\t\t\tif (ignore) tag.ignore(); else tag.unignore();\n\t\t\t\tif (textShouldBeUpdated) elements.text.value = tag.text || '';\n\t\t\t\tupdateTagPreview();\n\t\t\t},\n\t\t\t'userTaggerIgnore',\n\t\t\ttag.ignored,\n\t\t\t'\\uF038' /* ignored */,\n\t\t\t'\\uF03B' /* normal */,\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t),\n\t);\n\n\tfunction extract() {\n\t\treturn {\n\t\t\tcolor: elements.color.value !== 'none' ? elements.color.value : null,\n\t\t\tlink: elements.link.value || null,\n\t\t\ttext: elements.text.value || null,\n\t\t\tvotesDown: parseInt(elements.votesDown.value, 10) || 0,\n\t\t\tvotesUp: parseInt(elements.votesUp.value, 10) || 0,\n\t\t};\n\t}\n\n\tfunction updateTagPreview() {\n\t\tempty(elements.preview);\n\t\telements.preview.appendChild(Tag.buildTagElement(extract()));\n\t}\n\n\tfunction buildPresetTagElement(text: ?string, color: ?string) {\n\t\tconst element = Tag.buildTagElement({ text, color });\n\t\telement.addEventListener('click', () => {\n\t\t\ttag.load({ text, color });\n\t\t\ttag.save();\n\t\t\tcard.close();\n\t\t});\n\t\treturn element;\n\t}\n\n\tfunction saveAsPreset() {\n\t\tconst { text, color } = extract();\n\t\tif (text || color) {\n\t\t\telements.presetFieldPair.hidden = false;\n\t\t\telements.presetTag.append(buildPresetTagElement(text, color));\n\t\t\tmodule.options.presetTags.value.push([String(text), String(color)]);\n\t\t\tOptions.save(module.options.presetTags);\n\t\t} else {\n\t\t\twindow.alert('Tag text must be specified in order to save as preset.');\n\t\t}\n\t}\n\n\telements.openLink.addEventListener('click', () => openNewTabs('none', ...elements.link.value.split(/\\s/)));\n\telements.presetTag.append(...presetTags.map(([text, color]) => buildPresetTagElement(text, color)));\n\telements.presetSaveAs.addEventListener('click', () => saveAsPreset());\n\n\t$(body).on('change input click', updateTagPreview);\n\tbody.addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\ttag.load(extract());\n\t\ttag.save();\n\t\tcard.close();\n\t});\n\n\tupdateTagPreview();\n\tsetTimeout(() => {\n\t\telements.text.setSelectionRange(elements.text.value.length, elements.text.value.length);\n\t\telements.text.focus();\n\t});\n\n\treturn [head, body];\n}\n\nfunction registerCommandLine() {\n\tlet tag;\n\n\tCommandLine.registerCommand('tag', `tag [text] - ${i18n('userTaggerCommandLineDescription')}`,\n\t\tasync (command, val) => {\n\t\t\tconst username = SelectedThing.current && SelectedThing.current.getAuthor();\n\t\t\ttag = username && await Tag.get(username);\n\t\t\treturn tag ?\n\t\t\t\ti18n(val ? 'userTaggerTagUserAs' : 'userTaggerTagUser', tag.id, val) :\n\t\t\t\ti18n('userTaggerTagCanNotSetTag');\n\t\t},\n\t\t(command, val) => {\n\t\t\tif (tag) {\n\t\t\t\ttag.load({ text: val });\n\t\t\t\ttag.save();\n\t\t\t} else {\n\t\t\t\treturn i18n('userTaggerTagCanNotSetTag');\n\t\t\t}\n\t\t},\n\t);\n}\n\nfunction attachVoteHandler() {\n\t// hand-rolled delegated listener because jQuery doesn't support useCapture\n\t// which is necessary so we run before reddit's handler\n\tdocument.body.addEventListener('click', (e: MouseEvent) => {\n\t\tif (e.button !== 0) return;\n\t\tif (e.target.classList.contains('arrow')) {\n\t\t\thandleVoteClick(e.target);\n\t\t}\n\t}, true);\n}\n\nasync function handleVoteClick(arrow) {\n\tconst $this = $(arrow);\n\tconst $otherArrow = $this.siblings('.arrow');\n\n\t// Stop if the post is archived (unvotable)\n\tif ($this.hasClass('archived')) {\n\t\treturn;\n\t}\n\n\t// there are 6 possibilities here:\n\t// 1) no vote yet, click upmod\n\t// 2) no vote yet, click downmod\n\t// 3) already upmodded, undoing\n\t// 4) already downmodded, undoing\n\t// 5) upmodded before, switching to downmod\n\t// 6) downmodded before, switching to upmod\n\n\t// classes are changed AFTER this event is triggered\n\tlet up = 0;\n\tlet down = 0;\n\tif ($this.hasClass('up')) {\n\t\t// adding an upvote\n\t\tup = 1;\n\t\tif ($otherArrow.hasClass('downmod')) {\n\t\t\t// also removing a downvote\n\t\t\tdown = -1;\n\t\t}\n\t} else if ($this.hasClass('upmod')) {\n\t\t// removing an upvote directly\n\t\tup = -1;\n\t} else if ($this.hasClass('down')) {\n\t\t// adding a downvote\n\t\tdown = 1;\n\t\tif ($otherArrow.hasClass('upmod')) {\n\t\t\t// also removing an upvote\n\t\t\tup = -1;\n\t\t}\n\t} else if ($this.hasClass('downmod')) {\n\t\t// removing a downvote directly\n\t\tdown = -1;\n\t}\n\n\t// must load tag object _after_ checking the DOM, so that classes will not be changed\n\tconst thing = Thing.checkedFrom(arrow);\n\tconst username = thing.getAuthor();\n\n\t// ignore votes for self\n\tif (username === loggedInUser()) return;\n\n\tconst tag = username && await Tag.get(username);\n\tif (!tag) throw new Error('No tag');\n\ttag.load({\n\t\tvotesUp: tag.votesUp + up,\n\t\tvotesDown: tag.votesDown + down,\n\t});\n\ttag.save();\n}\n\nfunction getLinkBasedOnTagLocation(obj) {\n\tconst thing = Thing.from(obj);\n\tif (!thing) return '';\n\tconst link = !module.options.useCommentsLinkAsSource.value && thing.getTitleElement() ||\n\t\tthing.getCommentPermalink();\n\treturn link ? link.href : '';\n}\n\nfunction getVoteWeightStyle({ votes, votesUp, votesDown }) {\n\tlet red = 255;\n\tlet green = 255;\n\tlet blue = 255;\n\tlet alpha = 1;\n\tif (votesUp > votesDown) {\n\t\tred = Math.max(0, 255 - 8 * votes);\n\t\tgreen = 255;\n\t\tblue = Math.max(0, 255 - 8 * votes);\n\t\talpha = Math.abs(votes) / (votesUp + votesDown);\n\t} else if (votesUp < votesDown) {\n\t\tred = 255;\n\t\tgreen = Math.max(0, (255 - Math.abs(8 * votes)));\n\t\tblue = Math.max(0, (255 - Math.abs(8 * votes)));\n\t\talpha = Math.abs(votes) / (votesUp + votesDown);\n\t}\n\n\tconst color = `rgba(${red}, ${green}, ${blue}, ${0.2 + alpha * 0.8})`;\n\treturn NightMode.nightModeActive() ?\n\t\t`color: ${color};` :\n\t\t`background-color: ${color};`;\n}\n\nasync function addDashboardFunctionality(tabPage) {\n\tconst headers = {\n\t\tusername: i18n('userTaggerUsername'),\n\t\ttag: i18n('userTaggerTag'),\n\t\tcolor: i18n('userTaggerColor'),\n\t\tvotesDown: i18n('userTaggerVotesDown'),\n\t\tvotesUp: i18n('userTaggerVotesUp'),\n\t\tdelete: '',\n\t};\n\n\tconst data = await Tag.getStored();\n\n\tconst getRow = tag => {\n\t\tconst tagSpan = document.createElement('span');\n\t\ttag.add(tagSpan, { renderTaggingIcon: true, append: true });\n\n\t\tconst deleteSpan = string.html`<span class=\"res-icon res-right deleteIcon\" data-icon=\"&#xf056;\"></span>`;\n\t\tdeleteSpan.addEventListener('click', (e: MouseEvent) => {\n\t\t\tAlert.open(i18n('userTaggerAreYouSureYouWantToDeleteTag', tag.id), { cancelable: true }).then(() => {\n\t\t\t\ttag.delete();\n\t\t\t\t(e.currentTarget.closest('tr'): any).remove();\n\t\t\t\t_.pull(data, tag);\n\t\t\t});\n\t\t});\n\n\t\treturn {\n\t\t\tusername: string.html`<a href=\"/user/${tag.id}\">${tag.id}</a>`,\n\t\t\ttag: tagSpan,\n\t\t\tcolor: string.html`<span style=\"color: ${tag.color || 'initial'}\">${tag.color ? tag.color : ''}</span>`,\n\t\t\tvotesDown: tag.votesDown,\n\t\t\tvotesUp: tag.votesUp,\n\t\t\tdelete: deleteSpan,\n\t\t};\n\t};\n\n\tconst table = new Table.RESTable(headers, data, getRow, { sortBy: 'username' });\n\n\tconst element = document.createElement('div');\n\telement.append(\n\t\ttable.createSearchElement(tag => tag.id, 'Username', true),\n\t\ttable.createSelectFilters([\n\t\t\t{ name: i18n('userTaggerAllUsers'), filter: () => true, initialSelected: false },\n\t\t\t{ name: i18n('userTaggerTaggedUsers'), filter: tag => tag.text, initialSelected: true },\n\t\t]),\n\t\ttable.createPaginationElement(),\n\t\ttable.element,\n\t);\n\n\ttabPage.append(element);\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\nimport { Tag } from '../../userTagger';\n\nexport class UserTag extends PatternCase {\n\tstatic text = 'User tag';\n\n\tstatic async thingToCriterion(thing: *) {\n\t\tconst author = thing.getAuthor();\n\t\treturn author && (await Tag.get(author)).text || '';\n\t}\n\n\tstatic fields = ['author of this post has tag matching ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = '[RegEx]';\n\n\ttrueText = `user tag ${this.conditions.patt}`.trim();\n\n\tvalue = this.build(true, '/./');\n\n\tasync evaluate(thing: *) {\n\t\tconst author = thing.getAuthor();\n\t\tif (!author) return null;\n\t\tconst tag = (await Tag.get(author)).text;\n\t\treturn tag ? this.value.some(v => v.test(tag)) : false;\n\t}\n}\n","/* @flow */\n\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\nimport * as Modules from '../../../core/modules';\nimport * as UserTagger from '../../userTagger';\nimport { Case } from '../Case';\n\nexport class UserVoteWeight extends Case {\n\tstatic text = 'User vote weight';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic async thingToCriterion(thing: *) {\n\t\tconst username = thing.getAuthor();\n\t\tif (!username) throw new Error('No username');\n\t\treturn String((await UserTagger.Tag.get(username)).votes || 0);\n\t}\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['user\\'s vote weight is ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' votes'];\n\n\tstatic slow = 1;\n\tstatic get disabled(): boolean {\n\t\treturn !Modules.isEnabled(UserTagger) || !UserTagger.module.options.trackVoteWeight.value;\n\t}\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `vote weight ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `vote weight ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tasync evaluate(thing: *) {\n\t\tconst username = thing.getAuthor();\n\t\tif (!username) return null;\n\t\treturn numericalCompare(this.value.op, (await UserTagger.Tag.get(username)).votes, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class Username extends PatternCase {\n\tstatic text = 'Username';\n\n\tstatic thingToCriterion(thing: *) { return thing.getAuthor(); }\n\n\tstatic fields = ['posted by /u/', { type: 'text', id: 'patt' }];\n\n\ttrueText = `by ${this.conditions.patt}`;\n\n\tvalue = this.build(true);\n\n\tevaluate(thing: *) {\n\t\tconst user = thing.getAuthor();\n\t\tif (!user) return null;\n\t\treturn this.value.some(v => v.test(user));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nconst options = [\n\t['upvoted', 'upvote'],\n\t['downvoted', 'downvote'],\n\t['not voted', 'unvoted'],\n];\n\nexport class VoteType extends Case {\n\tstatic text = 'Vote type';\n\n\tstatic parseCriterion(input: *) { return { kind: input }; }\n\n\tstatic defaultConditions = { kind: 'unvoted' };\n\tstatic fields = ['post is ', { type: 'select', id: 'kind', options }, ' by me'];\n\n\tstatic pattern = `(${options.map(([, cls]) => cls).join('|')})`;\n\n\ttrueText = (options.find(([, cls]) => cls === this.conditions.kind) || [])[0];\n\n\tisValid() { return options.map(([, cls]) => cls).includes(this.value.kind); }\n\n\tevaluate(thing: *) {\n\t\tswitch (this.value.kind) {\n\t\t\tcase 'upvote': return thing.isUpvoted();\n\t\t\tcase 'downvote': return thing.isDownvoted();\n\t\t\tcase 'unvoted': return thing.isUnvoted();\n\t\t\tdefault: throw new Error('Invalid option');\n\t\t}\n\t}\n}\n","/* @flow */\n\nexport { CommentCount as commentCount } from './CommentCount';\nexport { NewCommentCount as newCommentCount } from './NewCommentCount';\nexport { CommentsOpened as commentsOpened } from './CommentsOpened';\nexport { Domain as domain } from './Domain';\nexport { Expando as hasExpando } from './Expando';\nexport { IsLocked as isLocked } from './IsLocked';\nexport { IsNSFW as isNSFW } from './IsNSFW';\nexport { IsSpoiler as isSpoiler } from './IsSpoiler';\nexport { IsVisited as isVisited } from './IsVisited';\nexport { LinkFlair as linkFlair } from './LinkFlair';\nexport { PostAfter as postAfter } from './PostAfter';\nexport { PostAge as postAge } from './PostAge';\nexport { PostTitle as postTitle } from './PostTitle';\nexport { PostType as postType } from './PostType';\nexport { Score as score } from './Score';\nexport { Selector as selector } from './Selector';\nexport { Subreddit as subreddit } from './Subreddit';\nexport { UserAttr as userAttr } from './UserAttr';\nexport { UserFlair as userFlair } from './UserFlair';\nexport { UserTag as userTag } from './UserTag';\nexport { UserVoteWeight as userVoteWeight } from './UserVoteWeight';\nexport { Username as username } from './Username';\nexport { VoteType as voteType } from './VoteType';\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class CommentContent extends PatternCase {\n\tstatic text = 'Comment content';\n\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\n\tstatic fields = ['comment contains ', { type: 'text', id: 'patt' }];\n\n\ttrueText = `comment contains ${this.conditions.patt}`;\n\n\tvalue = this.build(false);\n\n\tevaluate(thing: *) {\n\t\tconst body = thing.getTextBody();\n\t\tif (!body) return null;\n\t\treturn this.value.some(v => v.test(body.textContent));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nconst options = ['characters', 'words'];\n\nexport class CommentLength extends Case {\n\tstatic text = 'Comment length';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', kind: 'words', val: parseInt(input, 10) }; }\n\n\tstatic fields = ['comment length is ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' ', { type: 'select', id: 'kind', options }];\n\tstatic defaultConditions = { op: '>', kind: 'words', val: 0 };\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `length ${prettyOperator(this.conditions.op)} ${this.conditions.val} ${this.conditions.kind}`;\n\tfalseText = `length ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val} ${this.conditions.kind}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tevaluate(thing: *) {\n\t\tconst md = thing.entry.querySelector('.md');\n\t\tif (!md) return null;\n\t\tswitch (this.value.kind) {\n\t\t\tcase 'characters': return numericalCompare(this.value.op, md.textContent.length, this.value.val);\n\t\t\tcase 'words': return numericalCompare(this.value.op, md.textContent.split(' ').length, this.value.val);\n\t\t\tdefault: throw new Error('Invalid option');\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nexport class Depth extends Case {\n\tstatic text = 'Comment depth';\n\n\tstatic parseCriterion(input: *) { return { op: '==', val: parseInt(input, 10) }; }\n\tstatic thingToCriterion(thing: *) { return String(thing.getParents().length); }\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['comment\\'s depth ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }];\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `depth ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `depth ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return this.value.val >= 0; }\n\n\tevaluate(thing: *) {\n\t\tconst depth = thing.getParents().length;\n\t\treturn numericalCompare(this.value.op, depth, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsDeleted extends Case {\n\tstatic text = 'Deleted';\n\n\tstatic fields = ['comment is deleted'];\n\n\tstatic unique = true;\n\n\ttrueText = 'deleted';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isDeleted();\n\t}\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { Storage, isPrivateBrowsing } from '../environment';\nimport {\n\tThing,\n\tSelectedThing,\n\tbatch,\n\texecRegexes,\n\tmaybePruneOldEntries,\n\twatchForThings,\n} from '../utils';\nimport * as FilteReddit from './filteReddit';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('readComments');\n\nmodule.moduleName = 'readCommentsName';\nmodule.category = 'commentsCategory';\nmodule.description = 'readCommentsDesc';\nmodule.options = {\n\tcleanComments: {\n\t\ttype: 'text',\n\t\tvalue: '30',\n\t\tdescription: 'readCommentsCleanCommentsDesc',\n\t\ttitle: 'readCommentsCleanCommentsTitle',\n\t\tadvanced: true,\n\t},\n\tmonitorSelected: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'readCommentsMonitorSelectedDesc',\n\t\ttitle: 'readCommentsMonitorSelectedTitle',\n\t},\n\tmonitorWhenIncognito: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdependsOn: () => module.options.monitorSelected.value,\n\t\tdescription: 'readCommentsMonitorWhenIncognitoDesc',\n\t\ttitle: 'readCommentsMonitorWhenIncognitoTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.include = ['comments', 'commentsLinklist'];\n\nconst currentId = (execRegexes.comments(location.pathname) || [])[2] || location.pathname;\nconst entryStorage = Storage.wrapPrefix('readComments.', (): {|\n\tupdateTime: number,\n\tids: { [string]: true },\n|} => ({\n\tupdateTime: Date.now(),\n\tids: {},\n}));\n\nconst initial = entryStorage.get(currentId);\nlet ids;\n\nmodule.beforeLoad = async () => {\n\tids = await (initial.then(({ ids }) => new Set(Object.keys(ids))));\n\n\tmaybeHidePrevious();\n\n\tif (module.options.monitorSelected.value) {\n\t\tif (!module.options.monitorWhenIncognito.value && isPrivateBrowsing()) return;\n\n\t\tSelectedThing.addListener(current => {\n\t\t\tif (current.isComment() && current.isContentVisible()) add(current);\n\t\t}, 'beforePaint');\n\t}\n\n\tmaybePruneOldEntries('readComments', entryStorage, parseInt(module.options.cleanComments.value, 10));\n};\n\nasync function maybeHidePrevious() {\n\tif (!ids.size) return;\n\n\tconst filterline = await FilteReddit.filterlinePromise;\n\tconst filter = filterline.createFilter({ type: 'isRead', id: 'isRead' });\n\t// Don't display notification if the filter is already active\n\tif (filter.state === false && filter.effects.hide) return;\n\n\t// Display notification only when an already read comment is loaded\n\tawait new Promise(res => watchForThings(['comment'], thing => { if (isRead(thing)) res(); }));\n\n\tconst hideButton = document.createElement('button');\n\thideButton.textContent = 'Hide read comments';\n\thideButton.addEventListener('click', () => {\n\t\tfilter.update(false, undefined, { hide: true /* `, propagate: true` may be desirable */ });\n\t\tif (!filter.parent) filterline.addFilter(filter);\n\t\tif (FilteReddit.ensureFilterlineVisible) FilteReddit.ensureFilterlineVisible();\n\t\tnotification.close();\n\t});\n\n\tconst notification = Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\tnotificationID: 'hideRead',\n\t\theader: 'Previously read comments',\n\t\tmessage: hideButton,\n\t\tcloseDelay: 8000,\n\t});\n}\n\nconst _add = batch(ids => (\n\tentryStorage.patch(\n\t\tcurrentId,\n\t\t{ ids: ids.reduce((acc, id) => { acc[id] = true; return acc; }, {}), updateTime: Date.now() },\n\t)\n), { size: Infinity, delay: 5000, flushBeforeUnload: true });\n\nexport const add = (thing: Thing) => {\n\tif (!ids) return;\n\tconst id = thing.getFullname();\n\t_add(id);\n};\n\nexport const isRead = (thing: *) => {\n\tif (!ids) throw new Error();\n\treturn ids.has(thing.getFullname());\n};\n","/* @flow */\n\nimport { Case } from '../Case';\nimport * as ReadComments from '../../readComments';\nimport * as Modules from '../../../core/modules';\n\nexport class IsRead extends Case {\n\tstatic text = 'Read';\n\n\tstatic fields = ['comment is read'];\n\tstatic get disabled(): boolean {\n\t\treturn !Modules.isEnabled(ReadComments);\n\t}\n\n\tstatic unique = true;\n\n\ttrueText = 'read';\n\n\tevaluate(thing: *) {\n\t\treturn ReadComments.isRead(thing);\n\t}\n}\n","/* @flow */\n\nexport { CommentContent as commentContent } from './CommentContent';\nexport { CommentLength as commentLength } from './CommentLength';\nexport { Depth as depth } from './Depth';\nexport { Expando as hasExpando } from '../postCases/Expando';\nexport { IsDeleted as isDeleted } from './IsDeleted';\nexport { IsRead as isRead } from './IsRead';\nexport { PostAfter as postAfter } from '../postCases/PostAfter';\nexport { PostAge as postAge } from '../postCases/PostAge';\nexport { Score as score } from '../postCases/Score';\nexport { Selector as selector } from '../postCases/Selector';\nexport { UserAttr as userAttr } from '../postCases/UserAttr';\nexport { UserFlair as userFlair } from '../postCases/UserFlair';\nexport { UserVoteWeight as userVoteWeight } from '../postCases/UserVoteWeight';\nexport { Username as username } from '../postCases/Username';\nexport { UserTag as userTag } from '../postCases/UserTag';\nexport { VoteType as voteType } from '../postCases/VoteType';\n","/* @flow */\n\nimport {\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tisPageType,\n} from '../../../utils';\nimport { Case } from '../Case';\n\nexport class BrowsingFrontPage extends Case {\n\tstatic text = 'Browsing the front page';\n\tstatic fields = ['when browsing the front page'];\n\n\tevaluate() {\n\t\treturn isPageType('linklist') &&\n\t\t\t!currentSubreddit() &&\n\t\t\t!currentMultireddit() &&\n\t\t\t!currentUserProfile();\n\t}\n}\n","/* @flow */\n\nimport { fullLocation } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentLocation extends Case {\n\tstatic text = 'When browsing in location';\n\n\tstatic defaultConditions = { patt: fullLocation() };\n\tstatic fields = ['when browsing ', { type: 'text', id: 'patt' }];\n\n\tevaluate() {\n\t\treturn fullLocation() === this.value.patt;\n\t}\n}\n","/* @flow */\n\nimport { currentMultireddit } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentMulti extends Case {\n\tstatic text = 'When browsing a multireddit';\n\n\tstatic defaultConditions = { user: '', name: '' };\n\tstatic fields = ['when browsing /u/', { type: 'text', id: 'user' }, '/m/', { type: 'text', id: 'name' }];\n\n\tvalue = {\n\t\tname: Case.buildRegex(this.conditions.name),\n\t\tuser: Case.buildRegex(this.conditions.user),\n\t};\n\n\tevaluate() {\n\t\tconst rawMulti = currentMultireddit();\n\t\tif (!rawMulti) return false;\n\t\tconst parts = (/^(?:user\\/)?([a-z0-9_-]+)\\/m\\/([a-z0-9_-]+)$/i).exec(rawMulti);\n\t\tif (!parts) return false;\n\t\tconst [, user, multi] = parts;\n\t\tif (user === 'me' && this.conditions.name === 'me') {\n\t\t\treturn this.value.name.test(multi);\n\t\t} else {\n\t\t\treturn this.value.user.test(user) && this.value.name.test(multi);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { currentUserProfile } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentUserProfile extends Case {\n\tstatic text = 'When browsing a user profile';\n\n\tstatic defaultConditions = { patt: '' };\n\tstatic fields = ['when browsing /u/', { type: 'text', id: 'patt' }, '\\'s posts'];\n\n\tvalue = Case.buildRegex(this.conditions.patt);\n\n\tevaluate() {\n\t\tconst user = currentUserProfile();\n\t\treturn !!user && this.value.test(user);\n\t}\n}\n","/* @flow */\n\nimport { currentSubreddit } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentSub extends Case {\n\tstatic text = 'When browsing a subreddit';\n\n\tstatic defaultConditions = { patt: '' };\n\tstatic fields = ['when browsing /r/', { type: 'text', id: 'patt' }];\n\n\tvalue = Case.buildRegex(this.conditions.patt);\n\n\tevaluate() {\n\t\tconst sub = currentSubreddit();\n\t\treturn !!sub && this.value.test(sub);\n\t}\n}\n","/* @flow */\n\nimport { dayjs } from '../../../utils/localization';\nimport { Case } from '../Case';\n\nconst options = [\n\t['before', '<'],\n\t['on or after', '>='],\n];\n\nexport class Date extends Case {\n\tstatic text = 'Date';\n\n\tstatic defaultConditions = { op: '<', date: '2020-12-30' };\n\tstatic fields = ['today is ', { type: 'select', options, id: 'op' }, ' ', { type: 'text', id: 'date' }];\n\n\tvalue = { op: this.conditions.op, date: dayjs(this.conditions.date) };\n\n\tisValid() { return this.value.date.isValid(); }\n\n\tevaluate() {\n\t\treturn (this.value.op === '<') === dayjs().isBefore(this.value.date);\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nconst days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nexport class Dow extends Case {\n\tstatic text = 'Day of week';\n\n\tstatic defaultConditions = { days: [] };\n\tstatic fields = ['current day of the week is ', { type: 'checkset', items: days, id: 'days' }];\n\n\tevaluate() {\n\t\tconst currentDOW = days[new Date().getDay()];\n\t\treturn this.value.days.includes(currentDOW);\n\t}\n}\n","/* @flow */\n\nimport { PagePhases, loggedInUser } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class LoggedInAs extends Case {\n\tstatic text = 'Logged in user';\n\n\tstatic defaultConditions = { loggedInAs: '' }; // Don't try to fetch current username as the default value, as that may trigger `loggedInUser` prematurely\n\tstatic fields = ['logged in as /u/', { type: 'text', id: 'loggedInAs' }];\n\n\tvalue = Case.buildRegex(this.conditions.loggedInAs);\n\n\tasync evaluate() {\n\t\tawait PagePhases.sitetableStarted; // loggedInUser requires the header to be loaded\n\t\tconst myName = loggedInUser();\n\t\treturn !!myName && this.value.test(myName);\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport * as CustomToggles from '../../customToggles';\n\nconst getOptions = () => CustomToggles.getToggles().map(({ key, text }) => [text, key]);\n\nexport class Toggle extends Case {\n\tstatic text = 'Custom toggle';\n\n\tstatic defaultConditions = { toggleName: getOptions()[0] || '' }; // TODO Migrate `toggleName` to `key`\n\tstatic fields = [\n\t\t'custom toggle ',\n\t\t{ type: 'select', id: 'toggleName', get options() { return getOptions(); } },\n\t\t' is enabled',\n\t];\n\n\tevaluate() {\n\t\tconst key = this.value.toggleName;\n\t\treturn CustomToggles.toggleActive(key);\n\t}\n}\n","/* @flow */\n\nexport { BrowsingFrontPage as browsingFrontPage } from './BrowsingFrontPage';\nexport { CurrentLocation as currentLocation } from './CurrentLocation';\nexport { CurrentMulti as currentMulti } from './CurrentMulti';\nexport { CurrentUserProfile as currentUserProfile } from './CurrentUserProfile';\nexport { CurrentSub as currentSub } from './CurrentSub';\nexport { Date as date } from './Date';\nexport { Dow as dow } from './Dow';\nexport { LoggedInAs as loggedInAs } from './LoggedInAs';\nexport { Toggle as toggle } from './Toggle';\n","/* @flow */\n\nimport _ from 'lodash';\nimport { asyncFilter, fastAsync, randomHash } from '../../utils';\nimport type { BuilderValue } from '../../core/module';\nimport { Case } from './Case';\nimport * as postCases from './postCases';\nimport * as commentCases from './commentCases';\nimport * as browseCases from './browseCases';\n\nexport class Inert extends Case {\n\tisValid(): boolean { return false; }\n\n\tevaluate() { console.error('Evaluating inert case'); return false; }\n}\n\nclass True extends Case {\n\tstatic text = 'True';\n\n\tstatic fields = ['always true'];\n\n\tevaluate() { return true; }\n}\n\nclass False extends Case {\n\tstatic text = 'False';\n\n\tstatic fields = ['always false'];\n\n\tevaluate() { return false; }\n}\n\nexport class Group extends Case {\n\tstatic text = 'Group of conditions';\n\n\tstatic fields = [\n\t\t{ type: 'select', options: ['none', 'any', 'one', 'all'], id: 'op' },\n\t\t' of these are true:',\n\t\t{ type: 'multi', include: 'all', id: 'of' },\n\t];\n\n\tstatic +defaultConditions = { op: 'all', of: [] };\n\tstatic slow = 1; // May be considerably slower depending on children\n\n\t_cases = this.conditions.of.map(v => Case.fromConditions(v));\n\n\t// TODO This is unnecessary for some external filters\n\ttrueText = this._cases.length && this.toCriterion(this.conditions.op, this._cases) || 'empty group';\n\n\ttoCriterion(op: *, cases: *) {\n\t\tconst symbol = (op === 'any' || op === 'none') && '' || op === 'one' && '' || '';\n\t\tlet str = cases.map(v => v.trueText).join(` ${symbol} `);\n\t\tif (cases.length > 1) str = `(${str})`;\n\t\treturn op === 'none' ? ` ${str}` : str;\n\t}\n\n\tisValid() { return this._cases.every(v => v.isValid()); }\n\n\tvalue = (() => {\n\t\tconst op = this.conditions.op;\n\t\tconst [NONE, ANY, ONE, ALL] = [op === 'none', op === 'any', op === 'one', op === 'all'];\n\n\t\tconst evaluators = this._cases\n\t\t\t.sort((a, b) => a.constructor.slow - b.constructor.slow)\n\t\t\t.map(cased => cased.evaluate.bind(cased));\n\n\t\treturn fastAsync(function*(thing) {\n\t\t\tlet seenTrue = false;\n\n\t\t\tfor (const evaluator of evaluators) {\n\t\t\t\tif (yield evaluator(thing)) {\n\t\t\t\t\tif (NONE) return false;\n\t\t\t\t\telse if (ANY) return true;\n\t\t\t\t\telse if (ONE && seenTrue) return false;\n\t\t\t\t\tseenTrue = true;\n\t\t\t\t} else {\n\t\t\t\t\tif (ALL) return false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (NONE) return true;\n\t\t\telse if (ANY) return false;\n\t\t\telse if (ONE) return seenTrue;\n\t\t\telse /* if (ALL) */ return true;\n\t\t});\n\t})();\n\n\thasType(type: *) { return super.hasType(type) || this._cases.some(v => v.hasType(type)); }\n\n\tevaluate(thing: *) { return this.value(thing); }\n\n\tonObserve() {\n\t\treturn this._cases.map(v => v.observe(this)).some(v => v);\n\t}\n}\n\nconst falseConditions = { type: 'false' };\nconst trueConditions = { type: 'true' };\nconst inertConditions = { type: 'inert' };\n\ntype GroupConditions = { type: string, op: 'none' | 'any' | 'one' | 'all', of: Array<BuilderValue> };\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function resolveGroup(GroupConditions, boolean, true): GroupConditions;\ndeclare function resolveGroup(GroupConditions, ?boolean, ?boolean): BuilderValue;\n\nexport function resolveGroup(initial: GroupConditions, precompute: boolean = true, keepGroup: boolean = false) {\n\tlet seenTrue = false;\n\n\tlet of = [];\n\tlet op = initial.op;\n\n\tfor (let v of initial.of) {\n\t\tif (!has(v.type)) {\n\t\t\tconsole.error(`Type ${v.type} is not available`);\n\t\t\treturn inertConditions;\n\t\t}\n\n\t\tif (v.type === 'group') v = resolveGroup(v, precompute);\n\n\t\tif (\n\t\t\t!keepGroup &&\n\t\t\tprecompute &&\n\t\t\t!available[v.type].prototype.evaluate.length\n\t\t) {\n\t\t\t// browseCases only needs to be evaluated once in order to determine their impact\n\t\t\tconst match = Case.fromConditions(v).evaluate();\n\t\t\tif (typeof match === 'boolean') {\n\t\t\t\tif (match) {\n\t\t\t\t\tif (op === 'none') return falseConditions;\n\t\t\t\t\tif (op === 'any') return trueConditions;\n\t\t\t\t\tif (op === 'one' && seenTrue) return falseConditions;\n\t\t\t\t\tseenTrue = true;\n\t\t\t\t} else {\n\t\t\t\t\tif (op === 'all') return falseConditions;\n\t\t\t\t}\n\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\tof.push(v);\n\t}\n\n\tif (op === 'one' && seenTrue) {\n\t\t// Set `op` to `none` since a case has matched already\n\t\top = 'none';\n\t}\n\n\tif (!keepGroup) {\n\t\t// Single cases can be released\n\t\tif (of.length === 1) {\n\t\t\tconst p = of[0];\n\n\t\t\tif (op !== 'none') {\n\t\t\t\treturn p;\n\t\t\t} else if (p.type === 'group') {\n\t\t\t\tif (p.op === 'none') {\n\t\t\t\t\tp.op = 'any';\n\t\t\t\t\treturn p;\n\t\t\t\t} else if (p.op === 'any' || p.op === 'all') {\n\t\t\t\t\tp.op = 'none';\n\t\t\t\t\treturn p;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Empty groups can be resolved\n\t\tif (!of.length) {\n\t\t\tif (op === 'none') return trueConditions;\n\t\t\tif (op === 'any') return falseConditions;\n\t\t\tif (op === 'one') return falseConditions;\n\t\t\tif (op === 'all') return trueConditions;\n\t\t}\n\t}\n\n\tif (precompute && (op === 'any' || op === 'none')) {\n\t\tconst l = of.length;\n\t\tconst typeSorted = of.sort((a, b) => a.type === b.type ? 0 : a.type > b.type ? 1 : -1);\n\t\tof = [];\n\t\tfor (let i = 0; i < l; i++) { // eslint-disable-line no-restricted-syntax\n\t\t\tconst a = typeSorted[i];\n\t\t\tconst cls = available[a.type];\n\t\t\tconst reconcile = cls.reconcile;\n\t\t\tif (reconcile) {\n\t\t\t\tconst values = [a];\n\t\t\t\tlet b;\n\t\t\t\t// Look for more cases of same type\n\t\t\t\twhile ((b = typeSorted[i + 1]) && a.type === b.type) {\n\t\t\t\t\ti++;\n\t\t\t\t\tvalues.push(b);\n\t\t\t\t}\n\n\t\t\t\tof.push(...reconcile(values));\n\t\t\t} else {\n\t\t\t\tof.push(a);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { type: 'group', op, of };\n}\n/* eslint-enable no-redeclare, no-unused-vars */\n\nexport function getConditions(type: string, conditions?: ?{}): BuilderValue {\n\treturn { type, ...(available[type] && available[type].defaultConditions), ...conditions };\n}\n\nexport function getGroup(op: *, of: *): GroupConditions {\n\treturn getConditions('group', { op, of });\n}\n\nexport function createAdHoc(type: string, getConditions: *, variant: *, context: *, customFilter: *) {\n\tconst { opts: { name = type } = {} } = customFilter || {};\n\n\tclass AdHoc extends Case {\n\t\tstatic text = name;\n\n\t\t// Generate new conditions each time in order to avoid caching, as\n\t\t// `getConditions` can return updated values, e.g. if a external filter has been removed\n\t\tstatic get defaultConditions(): * { return getConditions(); }\n\n\t\tstatic unique = true;\n\n\t\tstatic variant = variant;\n\n\t\tstatic _customFilter = customFilter;\n\t}\n\n\tadd(type, AdHoc, context);\n\n\treturn AdHoc;\n}\n\nconst available: { [type: string]: Class<Case> } = {};\n\nfunction getUniqueTypeName(name: any): string {\n\tif (typeof name !== 'string') name = '';\n\twhile (!name || has(name)) {\n\t\t// Make sure filter has an unique name\n\t\tname += randomHash();\n\t}\n\n\treturn name;\n}\n\nexport function add(type: ?string, c: Class<Case>, ...contexts: Array<'post' | 'comment' | 'browse'>) {\n\tif (!type || (available.hasOwnProperty(type) && c !== available[type])) {\n\t\ttype = getUniqueTypeName(type);\n\t}\n\n\tc.type = type;\n\tif (!c.contexts) c.contexts = [];\n\tc.contexts.push(...contexts);\n\tavailable[type] = c;\n}\n\nconst primitives = new Set();\n\nexport function populatePrimitives(types: Array<*> = ['post', 'comment', 'browse']) {\n\tfunction fill(cases, ...contexts) {\n\t\tfor (const [k, v] of Object.entries(cases)) {\n\t\t\tadd(k, v, ...contexts);\n\t\t\tprimitives.add(v);\n\t\t}\n\t}\n\n\tfill({\n\t\tinert: Inert,\n\t\tfalse: False,\n\t\ttrue: True,\n\t});\n\n\tfill({ group: Group }, 'post', 'comment', 'browse');\n\n\tif (types.includes('post')) fill(postCases, 'post');\n\tif (types.includes('comment')) fill(commentCases, 'comment');\n\tif (types.includes('browse')) fill(browseCases, 'browse');\n}\n\nexport function filterThings(things: *, conditions: *) {\n\tif (!conditions) return things;\n\tconst cased = Case.fromConditions(conditions);\n\treturn asyncFilter(things, /*:: async */ thing => cased.evaluate(thing));\n}\n\nexport const remove = (type: string) => { delete available[type]; };\nexport const has = (type: string) => available.hasOwnProperty(type);\nexport const get = (type: string) => has(type) ? available[type] : Inert;\nexport const getByContext = (context: *, primitivesOnly: boolean = true) =>\n\t_.pickBy(available, v => v.contexts.includes(context) && (!primitivesOnly || primitives.has(v)));\nexport const isUseful = (type: ?string) => typeof type === 'string' && has(type) && ![Inert.type, False.type, True.type].includes(type);\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tBodyClasses,\n\taddFloater,\n\tformatDate,\n\tformatDateDiff,\n\tgetUserInfo,\n\tisLoggedIn,\n\tloggedInUser,\n\tmutex,\n\tstring,\n} from '../utils';\nimport { ajax, multicast, i18n } from '../environment';\nimport * as CommandLine from './commandLine';\nimport * as Hover from './hover';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('accountSwitcher');\n\nmodule.moduleName = 'accountSwitcherName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'accountSwitcherDesc';\nmodule.options = {\n\tkeepLoggedIn: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'accountSwitcherKeepLoggedInDesc',\n\t\ttitle: 'accountSwitcherKeepLoggedInTitle',\n\t\tkeywords: ['remember'],\n\t},\n\taccounts: {\n\t\ttype: 'table',\n\t\taddRowText: 'accountSwitcherAddAccount',\n\t\tfields: [{\n\t\t\tkey: 'username',\n\t\t\tname: 'accountSwitcherUsername',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'password',\n\t\t\tname: 'accountSwitcherPassword',\n\t\t\ttype: 'password',\n\t\t}, {\n\t\t\tkey: '2fa',\n\t\t\tname: 'accountSwitcherRequiresOtp',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: false,\n\t\t}],\n\t\tvalue: ([]: Array<[string, string, boolean]>),\n\t\tdescription: 'accountSwitcherAccountsDesc',\n\t\ttitle: 'accountSwitcherAccountsTitle',\n\t},\n\tupdateOtherTabs: {\n\t\ttype: 'boolean',\n\t\tdescription: 'accountSwitcherUpdateOtherTabsDesc',\n\t\ttitle: 'accountSwitcherUpdateOtherTabsTitle',\n\t\tvalue: true,\n\t\tadvanced: true,\n\t},\n\treloadOtherTabs: {\n\t\ttype: 'boolean',\n\t\tdescription: 'accountSwitcherReloadOtherTabsDesc',\n\t\ttitle: 'accountSwitcherReloadOtherTabsTitle',\n\t\tvalue: false,\n\t\tadvanced: true,\n\t},\n\tshowCurrentUserName: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'accountSwitcherShowCurrentUserNameDesc',\n\t\ttitle: 'accountSwitcherShowCurrentUserNameTitle',\n\t\tadvanced: true,\n\t},\n\tdropDownStyle: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'accountSwitcherSnoo',\n\t\t\tvalue: 'alien',\n\t\t}, {\n\t\t\tname: 'accountSwitcherSimpleArrow',\n\t\t\tvalue: 'arrow',\n\t\t}],\n\t\tvalue: 'alien',\n\t\tdescription: 'accountSwitcherDropDownStyleDesc',\n\t\ttitle: 'accountSwitcherDropDownStyleTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tshowUserDetails: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'accountSwitcherShowUserDetailsDesc',\n\t\ttitle: 'accountSwitcherShowUserDetailsTitle',\n\t\tadvanced: true,\n\t},\n\tshowKarma: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'accountSwitcherShowKarmaDesc',\n\t\ttitle: 'accountSwitcherShowKarmaTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.showUserDetails.value,\n\t},\n\tshowGold: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'accountSwitcherShowGoldDesc',\n\t\ttitle: 'accountSwitcherShowGoldTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.showUserDetails.value,\n\t},\n};\n\nlet hover;\n\nconst accounts = _.once(() =>\n\tmodule.options.accounts.value.reduce((acc, v) => {\n\t\tacc[v[0].toLowerCase()] = {\n\t\t\ttext: v[0],\n\t\t\tstoredPassword: v[1],\n\t\t\trequiresOtp: v[2],\n\t\t};\n\t\treturn acc;\n\t}, {}),\n);\n\nmodule.contentStart = () => {\n\tconst downArrow = module.options.dropDownStyle.value === 'alien' ?\n\t\tstring.html`<span id=\"RESAccountSwitcherIcon\"></span>` :\n\t\tstring.html`<span id=\"RESAccountSwitcherIcon\"><span class=\"downArrow\"></span></span>`;\n\tdownArrow.addEventListener('click', () => hover.begin());\n\tdownArrow.addEventListener('dblclick', manageAccounts);\n\n\tconst userLink = document.querySelector('#header-bottom-right > span.user > a');\n\tif (userLink) {\n\t\tuserLink.style.marginRight = '2px';\n\t\tuserLink.after(downArrow);\n\t} else {\n\t\taddFloater(downArrow, { order: 3 });\n\t}\n\n\thover = Hover.dropdownList(module.moduleID)\n\t\t.options({\n\t\t\tclassName: 'RESAccountSwitcherDropdown',\n\t\t\topenDelay: 0,\n\t\t\toffsetHeight: 5,\n\t\t})\n\t\t.populateWith(createAccountMenu)\n\t\t.target(downArrow);\n\n\tlet username;\n\tCommandLine.registerCommand(/^sw$/, `sw [username] - ${i18n('accountSwitcherCliHelp')}`,\n\t\t(command, val) => {\n\t\t\tconst usernames = Object.keys(accounts()).filter(username => username.startsWith(val.toLowerCase()));\n\t\t\tusername = usernames.includes(val) ? val : usernames[0];\n\t\t\treturn `${i18n('accountSwitcherCliSwitchToUsernamePrompt')} ${val}${_.without(usernames, val).length ? `[${usernames.map(v => v.replace(val, '')).filter(Boolean).join('|')}]` : ''}`;\n\t\t},\n\t\t() => {\n\t\t\tif (username) switchTo(username);\n\t\t\telse manageAccounts();\n\t\t},\n\t);\n};\n\nasync function createAccountMenu() {\n\tconst accountMenu = document.createDocumentFragment();\n\n\tconst users = await Promise.all(\n\t\tObject.entries(accounts())\n\t\t\t.map(async ([username, { text }]) => ({\n\t\t\t\ttext,\n\t\t\t\tusername,\n\t\t\t\tactive: username.localeCompare(loggedInUser() || '', { sensitivity: 'base' }) === 0,\n\t\t\t\tdata: module.options.showUserDetails.value && (await getUserInfo(username).catch(e => {\n\t\t\t\t\tconsole.error('Error loading userinfo for', username, e);\n\t\t\t\t\treturn {};\n\t\t\t\t})).data || {},\n\t\t\t})),\n\t);\n\n\tfor (const { text, username, active, data } of users) {\n\t\tif (!module.options.showCurrentUserName.value && active) continue;\n\n\t\tconst goldExpDate = data.gold_expiration && new Date(data.gold_expiration * 1000);\n\t\tconst element = string.html`\n\t\t\t<li class=\"accountName ${active && 'active'}\">\n\t\t\t\t<span style=\"margin-right: auto;\">${text}</span>\n\t\t\t\t${module.options.showKarma.value && data.link_karma && string._html`\n\t\t\t\t\t<span style=\"margin-left: 4px\">(${data.link_karma} &middot; ${data.comment_karma})</span>\n\t\t\t\t`}\n\t\t\t\t${module.options.showGold.value && data.is_gold && string._html`\n\t\t\t\t\t<span style=\"all: initial; margin-left: 4px; line-height: 0;\" class=\"gilded-icon\" title=\"${goldExpDate && i18n('accountSwitcherGoldUntil', formatDate(goldExpDate), formatDateDiff(new Date(), goldExpDate))}\"></span>\n\t\t\t\t`}\n\t\t\t\t<a style=\"margin-left: 4px\" onclick=\"event.stopPropagation()\" href=\"/user/${username}\" class=\"res-icon linkIcon\"></a>\n\t\t\t</li>\n\t\t`;\n\t\telement.addEventListener('click', async () => {\n\t\t\tBodyClasses.add('res-accountSwitcher-in-progress');\n\t\t\ttry {\n\t\t\t\tawait switchTo(username);\n\t\t\t} catch (e) {\n\t\t\t\tBodyClasses.remove('res-accountSwitcher-in-progress');\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t});\n\t\taccountMenu.append(element);\n\t}\n\n\t{\n\t\tconst element = string.html`<li class=\"addAccount\">+ add account</li>`;\n\t\telement.addEventListener('click', manageAccounts);\n\t\taccountMenu.append(element);\n\t}\n\n\treturn [accountMenu];\n}\n\nconst switchTo = mutex(async (username: string) => {\n\tconst { storedPassword, requiresOtp } = accounts()[username];\n\n\t// Don't await promise yet so that the password and OTP can be entered while logging out\n\tconst logoutPromise = isLoggedIn() && ajax({ method: 'POST', url: '/logout' });\n\n\tconst password = storedPassword ? storedPassword : window.prompt(i18n('accountSwitcherPasswordPrompt', username));\n\n\tlet otp;\n\tif (requiresOtp) {\n\t\totp = {\n\t\t\totp: window.prompt(i18n('accountSwitcherOptPrompt', username)),\n\t\t};\n\t}\n\n\tawait logoutPromise;\n\n\tconst { success, jquery } = await ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/login',\n\t\tdata: {\n\t\t\tuser: username,\n\t\t\tpasswd: password,\n\t\t\t...otp,\n\t\t\trem: module.options.keepLoggedIn.value ? 'on' : 'off',\n\t\t},\n\t\ttype: 'json',\n\t}).catch(e => {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'accountSwitcher',\n\t\t\tmessage: i18n('accountSwitcherAccountSwitchError'),\n\t\t});\n\n\t\tthrow e;\n\t});\n\n\tif (module.options.updateOtherTabs.value) {\n\t\tswitchedAccountElsewhere(success ? username : null);\n\t}\n\n\tif (success) {\n\t\treloadPage();\n\t} else {\n\t\t// (hackily) try to figure out why login failed\n\t\tconst jqueryRpc = JSON.stringify(jquery);\n\t\tconst message =\n\t\t\t(jqueryRpc.includes('PASSWORD') && i18n('accountSwitcherLoginError', username)) ||\n\t\t\t(jqueryRpc.includes('RATELIMIT') && i18n('accountSwitcherRateLimitError')) ||\n\t\t\ti18n('accountSwitcherUnknownError', username, jqueryRpc);\n\t\tAlert.open(message, { cancelable: true })\n\t\t\t.then(manageAccounts);\n\t}\n});\n\nconst switchedAccountElsewhere = multicast(username => {\n\tconst hasDraft = Array.from(document.getElementsByTagName('textarea'))\n\t\t.some(textarea => textarea.value);\n\n\tif (!hasDraft && module.options.reloadOtherTabs.value) {\n\t\treloadPage();\n\t\treturn;\n\t}\n\n\tlet message = username ?\n\t\ti18n('accountSwitcherUserSwitched', username) :\n\t\ti18n('accountSwitcherLoggedOut');\n\n\tif (hasDraft) {\n\t\tmessage += ` ${i18n('accountSwitcherDraft', loggedInUser() || '')}`;\n\t}\n\n\tmessage += ` <p><a class=\"RESNotificationButtonBlue\" href=\"${location.pathname}\">${i18n('accountSwitcherReload')}</a></p>`;\n\n\tNotifications.showNotification({\n\t\tmoduleID: 'accountSwitcher',\n\t\toptionKey: 'updateOtherTabs',\n\t\tmessage,\n\t});\n}, { name: 'switchedAccountElsewhere', local: false, crossContext: false });\n\nfunction manageAccounts() {\n\thover.close();\n\tSettingsNavigation.open(module.moduleID, 'accounts');\n}\n\nfunction reloadPage() {\n\t// Create a new history entry, in case the current one contains state data specific to the old user\n\thistory.pushState({}, '');\n\tlocation.reload();\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport * as Metadata from '../core/metadata';\nimport { guiders } from '../vendor/guiders';\nimport { Module } from '../core/module';\nimport { BrowserDetect, regexes, string } from '../utils';\nimport { ajax } from '../environment';\nimport type { RedditWikiPage } from '../types/reddit';\nimport * as NightMode from './nightMode';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('submitIssue');\n\nmodule.moduleName = 'submitIssueName';\nmodule.category = 'aboutCategory';\nmodule.alwaysEnabled = true;\nmodule.sort = -7;\nmodule.description = 'submitIssueDesc';\nmodule.include = ['submit'];\n\nconst subreddits = ['enhancement', 'resissues'];\nconst subredditsForDiagnostics = ['beta', 'help', 'resbetatesting'];\n\nmodule.go = () => {\n\tcheckIfSubmitting();\n};\n\nconst submitWizardTemplate = ({ foolin, settings, bugs, requests }) => string.html`\n\t<div>\n\t\t${foolin && string._html`\n\t\t\t<h2>Enjoy April Fool's</h2>\n\t\t\t<p>RES can't turn off any of Reddit's shenanigans. However, <a href=\"/r/Enhancement/wiki/faq/srstyle\" target=\"_blank\" rel=\"noopener noreferer\">you can turn off subreddit styles</a>.</p>\n\t\t`}\n\n\t\t<h2>Something is broken in RES. How do I fix it?</h2>\n\n\t\t<p>Take a minute to read through other posts. Someone might have already posted a solution.</p>\n\n\t\t<ol id=\"RESKnownBugs\">\n\t\t\t${bugs.map(({ url, title }) => string._html`\n\t\t\t\t<li>\n\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" href=\"${url}\">${title}</a>\n\t\t\t\t</li>\n\t\t\t`)}\n\t\t</ol>\n\n\t\t<p><a href=\"/r/RESissues/submit/\" class=\"blueButton\">Ask how to fix RES</a></p>\n\n\t\t<p>Please write some text about:</p>\n\t\t<dl>\n\n\t\t\t<dt>What makes this happen?</dt>\n\t\t\t<dd>\n\t\t\t\tclicking a button, opening an image preview, ...\n\t\t\t</dd>\n\n\n\t\t\t<dt>Where does this happen?</dt>\n\t\t\t<dd>\n\t\t\t\tin a particular subreddit, on comments pages, on frontpage (reddit.com), on /r/all, ...\n\t\t\t</dd>\n\n\t\t\t<dt>Screenshot/video of problem</dt>\n\t\t\t<dd>\n\t\t\t\t<a href=\"https://www.take-a-screenshot.org/\" target=\"_blank\" rel=\"noreferer noopener\">Take a screenshot</a>, <a href=\"https://imgur.com/upload\">upload it</a>, and copy-paste the link here.\n\t\t\t</dd>\n\t\t</dl>\n\n\n\t\t<h2>How do I customize or use RES features?</h2>\n\t\t<p>If you want to disable certain features of RES, try searching in <a href=\"${settings}\">RES settings</a>, your account's <a href=\"/prefs\">reddit preferences</a>, or <a href=\"/r/Enhancement/search?q=restrict_sr=on\">posts in r/Enhancement</a>.</p>\n\n\t\t<p><a href=\"/r/Enhancement/submit/\" class=\"blueButton\">Get guidance on using RES</a></p>\n\n\n\t\t<h2>I have a suggestion.</h2>\n\n\t\t<p>Look for similar ideas before posting:</p>\n\t\t<ol id=\"RESKnownFeatureRequests\">\n\t\t\t${requests.map(({ url, title }) => string._html`\n\t\t\t\t<li>\n\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" href=\"${url}\">${title}</a>\n\t\t\t\t</li>\n\t\t\t`)}\n\t\t</ol>\n\t\t<p><a href=\"/r/Enhancement/submit/\" class=\"blueButton\">Post a request</a></p>\n\n\n\t\t<h2>I found a security issue.</h2>\n\t\t<p>Please report security issues privately using modmail.</p>\n\t\t<p><a href=\"/message/compose/?to=/r/Enhancement\" class=\"blueButton\">Report a security issue</a></p>\n\t</div>\n`;\n\nconst submitIssueDefaultBody = `\n*What's up?*\n???\n\n\n*Where does it happen?*\n???\n\n\n*Screenshots or mock-ups*\n???\n\n\n*What browser extensions are installed?*\n???\n`.trim();\n\nexport const diagnostics = _.once(() => `\n\n- Night mode: ${String(NightMode.nightModeActive())}\n- RES Version: ${Metadata.version}\n- Browser: ${BrowserDetect.browser}\n- Browser Version: ${BrowserDetect.version}\n- Cookies Enabled: ${String(navigator.cookieEnabled)}\n- Reddit beta: ${String($('.beta-hint').length > 0)}\n\n`);\n\nfunction checkIfSubmitting() {\n\tconst subredditInput: ?HTMLInputElement = (document.getElementById('sr-autocomplete'): any);\n\tconst selfText: ?HTMLTextAreaElement = (document.querySelector('.usertext-edit textarea'): any);\n\n\tif (subredditInput) {\n\t\tfunction check() {\n\t\t\tconst subreddit = subredditInput.value;\n\n\t\t\tif (subreddits.includes(subreddit.toLowerCase())) {\n\t\t\t\tshowWizard();\n\t\t\t\tinjectTemplate(selfText);\n\t\t\t} else {\n\t\t\t\thideWizard();\n\t\t\t\t// User can be smart about clearing the template on their own\n\t\t\t}\n\t\t}\n\n\t\tcheck();\n\n\t\tsubredditInput.addEventListener('change', e => {\n\t\t\tif ((e: any).res) return;\n\t\t\tcheck();\n\t\t});\n\n\t\t// don't delegate, reddit cancels bubbling\n\t\t// wait a moment, reddit loads some metadata\n\t\t// really this should be a MutationObserver on subredditInput\n\t\t$('#suggested-reddits .sr-suggestion').on('click', () => setTimeout(check, 500));\n\t}\n\n\tif (selfText && subredditInput) {\n\t\t$(selfText).add(subredditInput).on('blur', () => {\n\t\t\tconst subreddit = subredditInput.value;\n\t\t\tif ([...subreddits, ...subredditsForDiagnostics].includes(subreddit.toLowerCase())) {\n\t\t\t\tconst diagnosticsStripped = diagnostics().replace(/\\s/g, '');\n\t\t\t\tconst selfTextStripped = selfText.value.replace(/\\s/g, '');\n\t\t\t\tif (!selfTextStripped.includes(diagnosticsStripped)) {\n\t\t\t\t\tselfText.value += diagnostics();\n\t\t\t\t\t$(selfText).trigger('input');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tselfText.value = selfText.value.replace(diagnostics(), '');\n\t\t\t\t$(selfText).trigger('input');\n\t\t\t}\n\t\t});\n\t}\n}\n\n\nfunction updateSubreddit(subreddit) {\n\tconst input: HTMLInputElement = (document.querySelector('#sr-autocomplete'): any);\n\tinput.value = subreddit;\n\tconst e = new Event('change');\n\t(e: any).res = true;\n\tinput.dispatchEvent(e);\n}\n\nfunction injectTemplate(selfText) {\n\tif (selfText && !selfText.value) {\n\t\tselfText.value = submitIssueDefaultBody;\n\t}\n}\n\nasync function wizard() {\n\tconst [bugs, requests] = await Promise.all([\n\t\tfetchLinks('/r/Enhancement/wiki/knownbugs.json'),\n\t\tfetchLinks('/r/Enhancement/wiki/knownrequests.json'),\n\t]);\n\n\treturn submitWizardTemplate({\n\t\tfoolin: foolin(),\n\t\tbugs,\n\t\trequests,\n\t\tsettings: SettingsNavigation.makeUrlHash(),\n\t});\n}\n\nconst guiderId = 'RESSubmitWizard';\nasync function showWizard() {\n\tconst guider = guiders.get(guiderId);\n\tif (guider) {\n\t\tguiders.show(guider.id);\n\t\treturn;\n\t}\n\n\tconst description = await wizard();\n\n\tconst buttonCustomHTML = `\n\t\t<footer>\n\t\t\t<small>\n\t\t\t\t<a href=\"/r/RESissues/wiki/knownissues\">known issues</a>\n\t\t\t\t|  <a href=\"/r/RESissues/wiki/postanissue\">troubleshooting</a>\n\t\t\t</small>\n\t\t</footer>\n\t`;\n\n\tguiders.createGuider({\n\t\tattachTo: '.submit .usertext',\n\t\tdescription,\n\t\tbuttonCustomHTML,\n\t\tid: guiderId,\n\t\t// offset: { left: -200, top: 120 },\n\t\tposition: 3,\n\t\ttitle: 'What are you posting about?',\n\t}).show();\n\n\t$(document.body).on('click', '#RESSubmitWizard a[href$=\"/submit/\"]', (e: Event) => {\n\t\tconst match = (e.currentTarget: any).pathname.match(regexes.submit);\n\t\tif (!match) return;\n\t\tupdateSubreddit(match[1]);\n\t\te.preventDefault();\n\t});\n}\n\nfunction hideWizard() {\n\tif (guiders.get(guiderId)) {\n\t\t// Why is there no `guiders.hide(id)`\n\t\tguiders.hideAll();\n\t}\n}\n\nasync function fetchLinks(url) {\n\ttry {\n\t\tconst { data } = (await ajax({ url, type: 'json' }): RedditWikiPage);\n\t\treturn parseObjectList(data && data.content_md);\n\t} catch (e) {\n\t\treturn [];\n\t}\n}\n\nfunction parseObjectList(text) {\n\tif (!text) {\n\t\treturn [];\n\t}\n\n\tconst items = text.split(/\\s*-{3,}\\s*/).filter(x => x.match(/[^\\s\\n]/));\n\n\treturn items.map(dictText => {\n\t\tconst item = {};\n\t\tconst dictMapping = dictText.replace(/\\r/g, '').split('\\n');\n\n\t\tfor (const rawLine of dictMapping) {\n\t\t\tconst line = $.trim(rawLine).split(':');\n\t\t\tif (line.length > 0) {\n\t\t\t\tconst key = line.shift();\n\t\t\t\tif (key) {\n\t\t\t\t\titem[key] = line.join(':');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn item;\n\t});\n}\n\nfunction foolin() {\n\tconst now = new Date();\n\treturn (\n\t\t(now.getMonth() === 2 && now.getDate() > 30) ||\n\t\t(now.getMonth() === 3 && now.getDate() <= 2)\n\t);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport {\n\tAlert,\n\tDAY,\n\tNAMED_KEYS,\n\tThing,\n\tcheckKeysForEvent,\n\tclick,\n\tcurrentSubreddit,\n\tisCurrentSubreddit,\n\tescapeHTML,\n\tempty,\n\tisPageType,\n\tloggedInUser,\n\tniceKeyCode,\n\trange,\n\tregexes,\n\tstring,\n} from '../utils';\nimport type { KeyArray } from '../utils/keycode';\nimport { ajax, i18n } from '../environment';\nimport type { RedditSearchSubredditNames, RedditSearchWikiNames } from '../types/reddit';\nimport * as AccountSwitcher from './accountSwitcher';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as UserTagger from './userTagger';\nimport * as SubmitIssue from './submitIssue';\n\nexport const module: Module<*> = new Module('commentTools');\n\nmodule.moduleName = 'commentToolsName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentToolsDesc';\nmodule.options = {\n\tuserAutocomplete: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsUserAutoCompleteDesc',\n\t\ttitle: 'commentToolsUserAutoCompleteTitle',\n\t\tkeywords: ['autosuggest'],\n\t\tadvanced: true,\n\t},\n\tsubredditAutocomplete: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsSubredditAutocompleteDesc',\n\t\ttitle: 'commentToolsSubredditAutocompleteTitle',\n\t\tkeywords: ['autosuggest'],\n\t\tadvanced: true,\n\t},\n\twikiAutocomplete: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsWikiAutocompleteDesc',\n\t\ttitle: 'commentToolsWikiAutocompleteTitle',\n\t\tadvanced: true,\n\t},\n\tformattingToolButtons: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsFormattingToolButtonsDesc',\n\t\ttitle: 'commentToolsFormattingToolButtonsTitle',\n\t},\n\tkeyboardShortcuts: {\n\t\tdependsOn: options => options.formattingToolButtons.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsKeyboardShortcutsDesc',\n\t\ttitle: 'commentToolsKeyboardShortcutsTitle',\n\t},\n\tboldKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [66, false, true, false, false], // ctrl-b\n\t\tdescription: 'commentToolsBoldKeyDesc',\n\t\ttitle: 'commentToolsBoldKeyTitle',\n\t},\n\titalicKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [73, false, true, false, false], // ctrl-i\n\t\tdescription: 'commentToolsItalicKeyDesc',\n\t\ttitle: 'commentToolsItalicKeyTitle',\n\t},\n\tstrikeKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [83, false, true, false, false], // ctrl-s\n\t\tdescription: 'commentToolsStrikeKeyDesc',\n\t\ttitle: 'commentToolsStrikeKeyTitle',\n\t},\n\tsuperKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [187, false, true, true, false], // ctrl-+ (ctrl-shift-=)\n\t\tdescription: 'commentToolsSuperKeyDesc',\n\t\ttitle: 'commentToolsSuperKeyTitle',\n\t},\n\tlinkKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [75, false, true, false, false], // ctrl-k\n\t\tdescription: 'commentToolsLinkKeyDesc',\n\t\ttitle: 'commentToolsLinkKeyTitle',\n\t},\n\tquoteKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [190, false, true, true, false], // ctrl-> (strl-shift-.)\n\t\tdescription: 'commentToolsQuoteKeyDesc',\n\t\ttitle: 'commentToolsQuoteKeyTitle',\n\t},\n\tctrlEnterSubmitsComments: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCtrlEnterSubmitsCommentsDesc',\n\t\ttitle: 'commentToolsCtrlEnterSubmitsCommentsTitle',\n\t},\n\tctrlEnterSavesLiveThreads: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCtrlEnterSavesLiveThreadsDesc',\n\t\ttitle: 'commentToolsCtrlEnterSavesLiveThreadsTitle',\n\t},\n\tctrlEnterSubmitsPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCtrolEnterSubmitsPostsDesc',\n\t\ttitle: 'commentToolsCtrolEnterSubmitsPostsTitle',\n\t},\n\tcommentingAs: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCommentingAsDesc',\n\t\ttitle: 'commentToolsCommentingAsTitle',\n\t},\n\thighlightIfAltAccount: {\n\t\tdependsOn: options => options.commentingAs.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsHighlightIfAltAccountDesc',\n\t\ttitle: 'commentToolsHighlightIfAltAccountTitle',\n\t},\n\tshowInputLength: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsShowInputLengthDesc',\n\t\ttitle: 'commentToolsShowInputLengthTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tmacroButtons: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsMacroButtonsDesc',\n\t\ttitle: 'commentToolsMacroButtonsTitle',\n\t\tbodyClass: true,\n\t},\n\tmacros: {\n\t\tdependsOn: options => options.macroButtons.value,\n\t\ttype: 'table',\n\t\taddRowText: 'commentToolsAddShortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'commentToolsLabel',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'text',\n\t\t\tname: 'commentToolsText',\n\t\t\ttype: 'textarea',\n\t\t}, {\n\t\t\tkey: 'category',\n\t\t\tname: 'commentToolsCategory',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'key',\n\t\t\tname: 'commentToolsKey',\n\t\t\ttype: 'keycode',\n\t\t}],\n\t\tvalue: ([\n\t\t\t['reddiquette', '[reddiquette](/wiki/reddiquette) ', undefined, undefined],\n\t\t\t['Promote RES', '[Reddit Enhancement Suite](https://redditenhancementsuite.com \"also /r/Enhancement\") ', undefined, undefined],\n\t\t\t['Current timestamp', '{{now}} ', undefined, undefined],\n\t\t]: Array<[string, string, string | void, KeyArray | void]>),\n\t\tdescription: 'commentToolsMacrosDesc',\n\t\ttitle: 'commentToolsMacrosTitle',\n\t},\n\tkeepMacroListOpen: {\n\t\tdependsOn: options => options.macroButtons.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentToolsKeepMacroListOpenDesc',\n\t\ttitle: 'commentToolsKeepMacroListOpenTitle',\n\t\tadvanced: true,\n\t},\n\tmacroPlaceholders: {\n\t\tdependsOn: options => options.macroButtons.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsMacroPlaceholdersDesc',\n\t\ttitle: 'commentToolsMacroPlaceholdersTitle',\n\t},\n\tenabledOnBanMessages: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsEnableOnBanMessagesDesc',\n\t\ttitle: 'commentToolsEnableOnBanMessagesTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.include = [\n\t'comments',\n\t'inbox',\n\t'submit',\n\t'profile',\n\t'modqueue',\n\t'subredditAbout',\n\t'liveThread',\n\t/^\\/r\\/[\\-\\w\\.]+\\/wiki\\/(?:create|edit)(\\/\\w+)?/i,\n];\n\nconst SUBMIT_LIMITS = {\n\tSTYLESHEET: 128 * 1024,\n\tSIDEBAR: 10240,\n\tDESCRIPTION: 500,\n\tWIKI: 512 * 1024,\n\tCOMMENT: 10000,\n\tLIVE_COMMENT: 4096,\n\tPOST: 40000,\n\tPOST_TITLE: 300,\n\tBAN_MESSAGE: 1000,\n};\nconst macroCallbackTable: Array<(box: HTMLTextAreaElement) => void> = [];\nconst macroKeyTable: Array<[KeyArray, number]> = [];\n\nmodule.contentStart = () => {\n\t$(document.body).on('focus', commentTextareaSelector, attachEditorToUsertext);\n\n\tinitializeCtrlEnterToSubmit();\n\tinitializeLengthCounters();\n\tinitializeAutocomplete();\n};\n\nfunction initializeCtrlEnterToSubmit() {\n\tif (module.options.ctrlEnterSubmitsComments.value) {\n\t\tonCtrlEnter(\n\t\t\t'.usertext-edit textarea, #BigEditor textarea, #wiki_page_content',\n\t\t\te => {\n\t\t\t\tconst currentForm = $(e.currentTarget).closest('form');\n\t\t\t\tconst saveButton = currentForm.find('.save')[0] || currentForm.find('#wiki_save_button')[0] || $('.BEFoot button')[0];\n\t\t\t\tif (saveButton) click(saveButton);\n\t\t\t},\n\t\t);\n\t}\n\n\tif (module.options.ctrlEnterSavesLiveThreads.value) {\n\t\tonCtrlEnter(\n\t\t\t'.usertext-edit textarea',\n\t\t\t() => {\n\t\t\t\tconst saveButton = $('#new-update-form .save-button button')[0];\n\t\t\t\tif (saveButton) click(saveButton);\n\t\t\t},\n\t\t);\n\t}\n\n\tif (module.options.ctrlEnterSubmitsPosts.value) {\n\t\tonCtrlEnter(\n\t\t\t'#title-field textarea, #text-field textarea, #url, #sr-autocomplete, input.captcha',\n\t\t\t() => {\n\t\t\t\tconst $captcha = $('input.captcha:not(.cap-text)');\n\t\t\t\tif ($captcha.length && $captcha.val() === '') {\n\t\t\t\t\t$captcha.focus();\n\t\t\t\t} else {\n\t\t\t\t\tclick($('.spacer .btn')[0]);\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\t}\n}\n\nfunction initializeLengthCounters() {\n\tif (module.options.showInputLength.value) {\n\t\t$(document.body).on('input', '.usertext-edit textarea, #title-field textarea, #BigEditor textarea, #wiki_page_content, #ban_message', function() {\n\t\t\tupdateCounter(this);\n\t\t});\n\n\t\t// add title counter\n\t\t$('.submit-page #title-field span.title').prepend('<span class=\"RESCharCounter\" title=\"character limit: 0/300\">0/300</span>');\n\t}\n}\n\nconst initializeEditorTools = _.once(() => {\n\t$(document.body).on('click', 'div.markdownEditor-wrapper a:not(.userTagLink)', function(e: Event) {\n\t\te.preventDefault();\n\n\t\tconst index = parseInt($(this).attr('data-macro-index'), 10);\n\t\tconst box = findTextareaForElement(this);\n\t\tif (!box) {\n\t\t\tconsole.error('Failed to locate textarea.');\n\t\t\treturn;\n\t\t}\n\t\tconst handler = macroCallbackTable[index];\n\t\tif (!handler) {\n\t\t\tthrow new Error(`No macro callback at index: ${index}.`);\n\t\t}\n\t\thandler(box);\n\n\t\tbox.focus();\n\t\t// Fire an input event to refresh the preview\n\t\tbox.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\t}).on('click', '.RESMacroDropdownTitle', function(e: Event) {\n\t\tconst thisCat = e.currentTarget;\n\t\tif (thisCat.classList.contains('openMacro')) {\n\t\t\tthisCat.classList.remove('openMacro');\n\t\t} else {\n\t\t\t$('.RESMacroWrappingSpan span').removeClass('openMacro');\n\t\t\tthisCat.classList.add('openMacro');\n\t\t}\n\t\t// position the drop down so it's flush with the right of the category button.\n\t\t$(this).next().css({\n\t\t\ttop: `${thisCat.offsetTop + thisCat.offsetHeight}px`,\n\t\t\tleft: `${thisCat.offsetLeft + thisCat.offsetWidth - (thisCat.nextSibling: any).offsetWidth}px`,\n\t\t});\n\t});\n\n\tif (module.options.keyboardShortcuts.value) {\n\t\t$(document.body).on('keydown', '.usertext-edit textarea, #BigEditor textarea, #wiki_page_content, #ban_message', function(e: KeyboardEvent) {\n\t\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t\tthis.blur();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (const [testedKeyArray, macroIndex] of macroKeyTable) {\n\t\t\t\tif (checkKeysForEvent(e, testedKeyArray)) {\n\t\t\t\t\tconst handler = macroCallbackTable[macroIndex];\n\t\t\t\t\thandler(this);\n\n\t\t\t\t\t// Fire an input event to refresh the preview\n\t\t\t\t\tthis.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nexport const commentTextareaSelector = [\n\t'textarea[name=text]',\n\t'textarea[name=description]',\n\t'textarea[name=public_description]',\n\t'textarea[name=body]',\n\t'textarea[name=ban_message]',\n\t'textarea[name=content]',\n\t'textarea[name=title]',\n].join(':not([readonly]),');\n\nfunction getFieldLimit(elem) {\n\tswitch (elem.name) {\n\t\tcase 'title':\n\t\t\treturn SUBMIT_LIMITS.POST_TITLE;\n\t\tcase 'text': // https://github.com/honestbleeps/Reddit-Enhancement-Suite/issues/829\n\t\t\tif (isPageType('submit') || $(elem).closest('.thing').hasClass('self')) {\n\t\t\t\treturn SUBMIT_LIMITS.POST;\n\t\t\t}\n\t\t\treturn SUBMIT_LIMITS.COMMENT;\n\t\tcase 'description':\n\t\t\treturn SUBMIT_LIMITS.SIDEBAR;\n\t\tcase 'body':\n\t\t\treturn SUBMIT_LIMITS.LIVE_COMMENT;\n\t\tcase 'public_description':\n\t\t\treturn SUBMIT_LIMITS.DESCRIPTION;\n\t\tcase 'content':\n\t\t\treturn SUBMIT_LIMITS.WIKI;\n\t\tcase 'ban_message':\n\t\t\treturn SUBMIT_LIMITS.BAN_MESSAGE;\n\t\t// case 'description_conflict_old':\n\t\t// case 'public_description_conflict_old':\n\t\tdefault:\n\t\t\treturn 1337; // should be easier to debug than 0\n\t}\n}\n\nfunction attachEditorToUsertext() {\n\tif (this.hasAttribute('commentTools-initialized')) return;\n\tthis.setAttribute('commentTools-initialized', true);\n\n\tif (this.hasAttribute('data-max-length')) {\n\t\treturn;\n\t}\n\tconst limit = getFieldLimit(this);\n\n\tthis.setAttribute('data-limit', limit);\n\n\tif (this.name === 'title') {\n\t\treturn;\n\t}\n\n\tif (this.id === 'ban_message' && !module.options.enabledOnBanMessages.value) {\n\t\treturn;\n\t}\n\n\tif (this.id === 'ban_message') {\n\t\tthis.style.width = '500px';\n\t\tthis.style.height = '100px';\n\t}\n\n\tconst bar = makeEditBar();\n\tif (this.id === 'wiki_page_content' || this.id === 'ban_message') {\n\t\t$(this).parent().prepend(bar);\n\t} else {\n\t\t$(this).parent().before(bar);\n\t}\n\tupdateCounter(this);\n}\n\nexport function updateCounter(textarea: HTMLElement) {\n\tconst length = $(textarea).val().length;\n\tconst limit = textarea.getAttribute('data-limit');\n\tconst counter = $(textarea).parent().parent().find('.RESCharCounter');\n\tcounter.attr('title', `character limit: ${length}/${limit}`);\n\tcounter.text(`${length}/${limit}`);\n\tif (length > limit) {\n\t\tcounter.addClass('tooLong');\n\t} else {\n\t\tcounter.removeClass('tooLong');\n\t}\n}\n\nlet cachedEditBar;\n\nexport function makeEditBar() {\n\tinitializeEditorTools();\n\n\tif (cachedEditBar) {\n\t\treturn $(cachedEditBar).clone();\n\t}\n\n\tconst $editBar = $('<div class=\"markdownEditor\">');\n\t// Wrap the edit bar in a <div> of its own\n\tconst wrappedEditBar = $('<div class=\"markdownEditor-wrapper\">').append($editBar);\n\n\tif (module.options.commentingAs.value) {\n\t\t// show who we're commenting as...\n\t\tconst commentingAsMessage = location.href.match(/^https?:\\/\\/(?:[\\-\\w\\.]+\\.)?reddit\\.com\\/r\\/[\\-\\w\\.]+\\/about\\/banned\\/?/i) ? 'Moderating as' : 'Speaking as';\n\n\t\tconst commentingAs = $('<div class=\"commentingAs\">')\n\t\t\t.html(`${commentingAsMessage}: `)\n\t\t\t.append($('#header-bottom-right .user a:first')\n\t\t\t\t.clone()\n\t\t\t\t.wrap('<span class=\"commentingAsUser\"></span>')\n\t\t\t\t.parent(),\n\t\t\t);\n\t\tconst loggedIn = loggedInUser();\n\t\tif (loggedIn && Modules.isRunning(UserTagger)) {\n\t\t\tUserTagger.applyToUser((commentingAs.find('a')[0]: any), { username: loggedIn, renderVoteWeight: false });\n\t\t}\n\t\tif (\n\t\t\tmodule.options.highlightIfAltAccount.value &&\n\t\t\tAccountSwitcher.module.options.accounts.value.length &&\n\t\t\tloggedIn &&\n\t\t\tloggedIn.toLowerCase() !== AccountSwitcher.module.options.accounts.value[0][0].toLowerCase()\n\t\t) {\n\t\t\tcommentingAs.addClass('highlightedAltAccount');\n\t\t}\n\t\twrappedEditBar.append(commentingAs);\n\t}\n\n\tif (module.options.formattingToolButtons.value) {\n\t\tconst shortcuts = module.options.keyboardShortcuts.value;\n\t\t$editBar.append(makeEditButton('<b>Bold</b>', `bold${shortcuts ? ` (${niceKeyCode(module.options.boldKey.value)})` : ''}`, module.options.boldKey.value, 'btn-bold', box => {\n\t\t\twrapSelection(box, '**', '**');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<i>Italic</i>', `italic${shortcuts ? ` (${niceKeyCode(module.options.italicKey.value)})` : ''}`, module.options.italicKey.value, 'btn-italic', box => {\n\t\t\twrapSelection(box, '*', '*');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<del>strike</del>', `strike${shortcuts ? ` (${niceKeyCode(module.options.strikeKey.value)})` : ''}`, module.options.strikeKey.value, 'btn-strike', box => {\n\t\t\twrapSelection(box, '~~', '~~');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<sup>sup</sup>', `super${shortcuts ? ` (${niceKeyCode(module.options.superKey.value)})` : ''}`, module.options.superKey.value, 'btn-superscript', box => {\n\t\t\twrapSelectedWords(box, '^');\n\t\t}));\n\t\t$editBar.append(makeEditButton('Link', `link${shortcuts ? ` (${niceKeyCode(module.options.linkKey.value)})` : ''}`, module.options.linkKey.value, 'btn-link', box => {\n\t\t\tlinkSelection(box);\n\t\t}));\n\t\t$editBar.append(makeEditButton('>Quote', `quote${shortcuts ? ` (${niceKeyCode(module.options.quoteKey.value)})` : ''}`, module.options.quoteKey.value, 'btn-quote', box => {\n\t\t\twrapSelectedLines(box, '> ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<span style=\"font-family: monospace\">Code</span>', 'code', null, 'btn-code', box => {\n\t\t\twrapSelectedLines(box, '    ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('&bull;Bullets', 'bullet list', null, 'btn-list-unordered', box => {\n\t\t\twrapSelectedLines(box, '* ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('1.Numbers', 'number list', null, 'btn-list-ordered', box => {\n\t\t\twrapSelectedLines(box, '1. ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<span style=\"border: 1px black solid;\">Table</span>', 'table', null, 'btn-table', box => {\n\t\t\t// First check if the selected text is a table, this also clean the selection\n\t\t\tconst selectedText = box.value.substring(box.selectionStart, box.selectionEnd).replace(/^[\\s]+/, '').replace(/[\\s]+$/, '').split('\\n'); // In fact, if the header start by '   |' this is not a table. But it's better to accept it then after editing the table it will work\n\t\t\tlet isTable;\n\t\t\tif (selectedText.length >= 2) {\n\t\t\t\tif (selectedText[0].includes('|')) {\t// Check if there is at least one '|' to check if it's a table\n\t\t\t\t\tselectedText[0] = selectedText[0].replace(/^\\|/, '').replace(/\\|\\s+$/, ''); // Avoid '| foo | bar |' instead of 'foo | bar'\n\t\t\t\t\tconst numSeparator = selectedText[0].split('|').length;\n\t\t\t\t\t/*\n\t\t\t\t\t\tnumSeparator can be 0 for example with :\n\t\t\t\t\t\t\tfoo |\n\t\t\t\t\t\t\t----|\n\t\t\t\t\t\t\tbar |\n\t\t\t\t\t\tbut it's important to check for each line before removing starting/ending '|' if there is at least one '|' to check if it's really a table\n\t\t\t\t\t*/\n\t\t\t\t\tisTable = true;\n\n\t\t\t\t\t// Check the HEADER/BODY separator\n\t\t\t\t\tselectedText[1] = selectedText[1].replace(/\\|[^|\\-]+$/, ''); // '-|-|-|ILOVECOOKIE' is correct, so clean it. But '-|-|-ILOVECOOKIE' is not correct if there is 3 column (okay if there is less though, but will not be detected). Also '-      |     -    |   -' is correct and will not be detected.\n\t\t\t\t\tselectedText[1] = selectedText[1].replace(/-/g, '--'); // Required to allow -|-|- to work (else the split would give ['', '|-'])\n\t\t\t\t\tif (!selectedText[1].includes('-|') && !selectedText[1].includes('|-')) {\n\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedText[1] = selectedText[1].replace(/^\\]+/, '').replace(/[\\s|]+$/, '');\n\t\t\t\t\tif (selectedText[1].split('-|-').length < numSeparator) { // Check if there is enough '-|-'\n\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t}\n\t\t\t\t\tif ((/[^|\\-]/).test(selectedText[1])) { // If the separator contain an other character than | or -\n\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Now check the BODY\n\t\t\t\t\tif (isTable) {\n\t\t\t\t\t\tfor (const i of range(2, selectedText.length)) {\n\t\t\t\t\t\t\tif (!selectedText[i].includes('|')) {\n\t\t\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselectedText[i] = selectedText[i].replace(/^\\|/, '').replace(/[\\s|]+$/, '');\n\t\t\t\t\t\t\tif (selectedText[i].split('|').length !== numSeparator)\t{ // Check if there is the same '|' number\n\t\t\t\t\t\t\t\t// In fact this should be >= but that would means make disappear some content, so I will consider this is not a table\n\t\t\t\t\t\t\t\t// in fact this is useless, because if we omit last cell they will be void. But this would complicate the generation part by managing void cell and the code is enough complicate.\n\t\t\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet startTable;\n\t\t\tif (isTable) {\n\t\t\t\t// The selected text is a table, now transform it to HTML!\n\t\t\t\tstartTable = selectedText.reduce((prevTable, currText, i) => {\n\t\t\t\t\tif (i === 1) {\n\t\t\t\t\t\treturn prevTable;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn `${prevTable}<tr><td>${escapeHTML(currText).replace(/\\|/g, '</td><td>')}</td></tr>`;\n\t\t\t\t}, '');\n\t\t\t} else {\n\t\t\t\tstartTable = '<tr><td>Foo</td><td>Bar</td></tr><tr><td>Foo</td><td>Bar</td></tr>';\n\t\t\t}\n\t\t\tconst element = string.html`<div><div class=\"buttonContainer\"></div><table class=\"commentPreview\" contenteditable=\"true\">${string.safe(startTable)}</table></div>`;\n\t\t\tAlert.open(element, { cancelable: true })\n\t\t\t\t.then(() => {\n\t\t\t\t\tlet generatedTable = '\\n\\n';\n\t\t\t\t\tlet generatedTableSeparation = '';\n\t\t\t\t\t$('tr:first td', element).each(function() {\n\t\t\t\t\t\tconst text = $(this).text().replace(/[\\n|]/g, '');\n\t\t\t\t\t\tgeneratedTable += `${text} | `;\n\t\t\t\t\t\tgeneratedTableSeparation += '-'.repeat(text.length);\n\t\t\t\t\t\tgeneratedTableSeparation += '|';\n\t\t\t\t\t});\n\t\t\t\t\tgeneratedTableSeparation = generatedTableSeparation.substr(0, generatedTableSeparation.length - 1);\n\t\t\t\t\tgeneratedTable = `${generatedTable.substr(0, generatedTable.length - 3)}\\n${generatedTableSeparation}\\n`;\n\t\t\t\t\t$('tr:gt(0)', element).each(function() {\n\t\t\t\t\t\t$(this).find('td').each(function() {\n\t\t\t\t\t\t\tgeneratedTable += `${$(this).text().replace(/[\\n|]/g, '')} | `;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tgeneratedTable = `${generatedTable.substr(0, generatedTable.length - 3)}\\n`;\n\t\t\t\t\t});\n\t\t\t\t\tif (isTable) {\n\t\t\t\t\t\treplaceSelection(box, generatedTable);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twrapSelection(box, generatedTable, '');\n\t\t\t\t\t}\n\t\t\t\t\t$(box).trigger('input'); // update preview\n\t\t\t\t});\n\n\t\t\tconst addRow = Alert.makeButton('+ Row');\n\t\t\tconst remRow = Alert.makeButton('- Row');\n\t\t\tconst addCol = Alert.makeButton('+ Col');\n\t\t\tconst remCol = Alert.makeButton('- Col');\n\t\t\taddRow.addEventListener('click', () => {\n\t\t\t\tconst nbCol = $('tr:first td', element).length;\n\t\t\t\tconst newRow = '<td>text</td>'.repeat(nbCol);\n\t\t\t\t$('table', element).append(`<tr>${newRow}</tr>`);\n\t\t\t});\n\t\t\tremRow.addEventListener('click', () => {\n\t\t\t\tif ($('tr', element).length > 1) {\n\t\t\t\t\t$('table tr:last', element).remove();\n\t\t\t\t}\n\t\t\t});\n\t\t\taddCol.addEventListener('click', () => {\n\t\t\t\t$('table tr', element).append('<td>text</td>');\n\t\t\t});\n\t\t\tremCol.addEventListener('click', () => {\n\t\t\t\tif ($('tr:first td', element).length > 1) {\n\t\t\t\t\t$('table tr td:last-of-type', element).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst $buttonContainer = $('.buttonContainer', element);\n\t\t\t$buttonContainer.append(addRow);\n\t\t\t$buttonContainer.append(remRow);\n\t\t\t$buttonContainer.append(addCol);\n\t\t\t$buttonContainer.append(remCol);\n\t\t}));\n\t}\n\n\tif (module.options.showInputLength.value) {\n\t\tconst $counter = $('<span class=\"RESCharCounter\" title=\"character limit: 0/?????\">0/?????</span>');\n\t\t$editBar.prepend($counter); // prepend for more reliable css floating.\n\t}\n\n\tif (module.options.macroButtons.value) {\n\t\tbuildMacroDropdowns(wrappedEditBar);\n\n\t\tconst addMacroButton = makeEditButton(i18n(module.options.macros.addRowText), null, null, 'btn-macro btn-macro-add', () => {\n\t\t\tSettingsNavigation.open(module.moduleID, 'macros');\n\t\t\t$('.RESMacroWrappingSpan span').removeClass('openMacro');\n\t\t});\n\t\taddButtonToMacroGroup('', addMacroButton);\n\t}\n\n\tcachedEditBar = wrappedEditBar;\n\treturn cachedEditBar;\n}\n\nconst macroDropDownTable = new Map();\n\nfunction getMacroGroup(groupName) {\n\t// Normalize and supply a default group name{}\n\tgroupName = (groupName || '').toString().trim() || 'macros';\n\tlet macroGroup = macroDropDownTable.get(groupName);\n\tif (macroGroup === undefined) {\n\t\tmacroGroup = {};\n\t\tmacroGroup.titleButton = $(`<span class=\"RESMacroDropdownTitle\">${groupName}</span>`);\n\t\tmacroGroup.container = $('<span class=\"RESMacroDropdown\"></span>');\n\t\tmacroGroup.dropdown = $('<ul class=\"RESMacroDropdownList\"></ul>');\n\t\tmacroGroup.container.append(macroGroup.dropdown);\n\t\tmacroDropDownTable.set(groupName, macroGroup);\n\t}\n\treturn macroGroup;\n}\n\nfunction addButtonToMacroGroup(groupName, button) {\n\tconst group = getMacroGroup(groupName);\n\tgroup.dropdown.append($('<li>').append(button));\n}\n\nfunction getDebugMacros() {\n\tif (!isCurrentSubreddit('Enhancement', 'RESissues')) return [];\n\treturn [\n\t\t['RES modified settings', '\\n\\n{{resmodifiedsettings}}\\n', null, null],\n\t\t['RES diagnostics', '{{resdiagnostics}}', null, null],\n\t];\n}\n\nfunction buildMacroDropdowns(editBar) {\n\tconst macros = [...module.options.macros.value, ...getDebugMacros()];\n\n\tfor (const [title, text, category, key] of macros) {\n\t\tconst button = makeEditButton(title, null, key, 'btn-macro', box => {\n\t\t\tmacroSelection(box, text);\n\t\t});\n\t\taddButtonToMacroGroup(category, button);\n\t}\n\n\tconst $macroWrapper = $('<span class=\"RESMacroWrappingSpan\">');\n\n\tconst defaultGroup = getMacroGroup('');\n\t$macroWrapper.append(defaultGroup.titleButton);\n\t$macroWrapper.append(defaultGroup.container);\n\n\tfor (const [category, macroGroup] of macroDropDownTable) {\n\t\tif (category === 'macros') {\n\t\t\tcontinue;\n\t\t}\n\t\t$macroWrapper.append(macroGroup.titleButton);\n\t\t$macroWrapper.append(macroGroup.container);\n\t}\n\teditBar.append($macroWrapper);\n}\n\nfunction makeEditButton(label, title, key, cls, handler) {\n\tif (label === null) {\n\t\tlabel = 'unlabeled';\n\t}\n\tif (title === null) {\n\t\ttitle = '';\n\t}\n\tconst macroButtonIndex = macroCallbackTable.length;\n\tconst button = string.html`<a class=\"edit-btn ${cls}\" title=\"${title}\" href=\"#\" tabindex=\"1\" data-macro-index=\"${macroButtonIndex}\">${label}</a>`;\n\n\tif (key && key[0] !== null) {\n\t\tmacroKeyTable.push([key, macroButtonIndex]);\n\t}\n\tmacroCallbackTable[macroButtonIndex] = handler;\n\treturn button;\n}\n\nfunction linkSelection(box) {\n\tlet url = prompt('Enter the URL:', '');\n\tif (url) {\n\t\t// escape parens in url\n\t\turl = url.replace(/[\\(\\)]/g, '\\\\$&');\n\t\t// escape brackets and parens in text\n\t\twrapSelection(box, '[', `](${url})`, text => text.replace(/[\\[\\]\\(\\)]/g, '\\\\$&'));\n\t}\n}\n\nfunction macroSelection(box, macroText) {\n\tif (!module.options.keepMacroListOpen.value) {\n\t\t$('.RESMacroWrappingSpan span').removeClass('openMacro');\n\t}\n\tif (module.options.macroPlaceholders.value) {\n\t\tconst formatText = selectedText => fillPlaceholders(box, macroText, selectedText);\n\t\twrapSelection(box, '', '', formatText);\n\t} else {\n\t\twrapSelection(box, macroText, '');\n\t}\n}\n\nfunction fillPlaceholders(box, macroText, selectedText) {\n\tconst placeholders = macroText.match(/\\{\\{\\w+\\}\\}/g);\n\tif (placeholders) {\n\t\tconst completedPlaceholders = new Set();\n\t\tfor (const placeholder of placeholders) {\n\t\t\tif (completedPlaceholders.has(placeholder)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcompletedPlaceholders.add(placeholder);\n\n\t\t\tconst placeholderInnerText = placeholder.substring(2, placeholder.length - 2).toLowerCase();\n\t\t\tlet value;\n\t\t\ttry {\n\t\t\t\tvalue = getMagicPlaceholderValue(placeholderInnerText, macroText, selectedText, box);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Error getting magic placeholder value', placeholderInnerText);\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t\tif (value === undefined) {\n\t\t\t\tvalue = promptForPlaceholderValue(placeholder, macroText);\n\t\t\t}\n\n\t\t\tif (value === null) {\n\t\t\t\t// user cancelled\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Replace placeholder with value\n\t\t\tmacroText = macroText.replace(new RegExp(placeholder, 'g'), value);\n\t\t}\n\t}\n\n\treturn macroText;\n}\n\nfunction getMagicPlaceholderValue(placeholder, macroText, selectedText, box) {\n\tconst handler = magicPlaceholders.find(current => current.matches.includes(placeholder));\n\n\tif (handler) {\n\t\treturn handler.handle(macroText, selectedText, box);\n\t}\n}\n\nconst magicPlaceholders: Array<{|\n\tmatches: string[],\n\thandle: (macroText: string, selectedText: string, box: HTMLTextAreaElement) => void | string,\n|}> = [\n\t{\n\t\tmatches: ['subreddit'],\n\t\thandle(macroText, selectedText, box) {\n\t\t\tconst thing = Thing.from(box);\n\t\t\tconst subreddit = thing && thing.getSubreddit();\n\n\t\t\tif (subreddit) {\n\t\t\t\treturn `/r/${subreddit}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['me', 'my_username'],\n\t\thandle() {\n\t\t\tconst username = loggedInUser();\n\t\t\tif (username) {\n\t\t\t\treturn `/u/${username}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['op', 'op_username'],\n\t\thandle(macroText, selectedText, box) {\n\t\t\tlet profile: ?HTMLAnchorElement;\n\t\t\tif (isPageType('comments')) {\n\t\t\t\tprofile = (document.querySelector('.sitetable .author'): any);\n\t\t\t} else {\n\t\t\t\tlet $next = $(box);\n\t\t\t\tlet furthest = $next;\n\t\t\t\tdo {\n\t\t\t\t\tif ($next && $next.length) furthest = $next;\n\t\t\t\t\t$next = $next.parent().closest('.sitetable');\n\t\t\t\t} while ($next.length);\n\n\t\t\t\tprofile = (furthest.find('.author')[0]: any);\n\t\t\t}\n\n\t\t\tif (profile) {\n\t\t\t\tconst match = profile.pathname.match(regexes.profile);\n\t\t\t\tif (!match) throw new Error(`Invalid profile link: ${profile.href}`);\n\t\t\t\treturn `/u/${match[1]}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['url'],\n\t\thandle() {\n\t\t\treturn location.href;\n\t\t},\n\t}, {\n\t\tmatches: ['reply_to', 'reply_to_username'],\n\t\thandle(macroText, selectedText, box) {\n\t\t\tlet $base = $(box);\n\t\t\tconst isEditing = $base.closest('.thing, .entry').hasClass('entry');\n\n\t\t\tif (isEditing) {\n\t\t\t\t$base = $base.closest('.thing').parent();\n\t\t\t}\n\n\t\t\tconst profile: ?HTMLAnchorElement = ($base.closest('.thing').find('.entry .author')[0]: any);\n\n\t\t\tif (!profile) {\n\t\t\t\treturn getMagicPlaceholderValue('op', macroText, selectedText, box);\n\t\t\t} else {\n\t\t\t\tconst match = profile.pathname.match(regexes.profile);\n\t\t\t\tif (!match) throw new Error(`Invalid profile link: ${String(profile)}`);\n\t\t\t\treturn `/u/${match[1]}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['selected', 'selection'],\n\t\thandle(macroText, selectedText) {\n\t\t\treturn selectedText;\n\t\t},\n\t}, {\n\t\tmatches: ['now'],\n\t\thandle() {\n\t\t\tconst date = new Date();\n\t\t\treturn date.toTimeString();\n\t\t},\n\t}, {\n\t\tmatches: ['today'],\n\t\thandle() {\n\t\t\tconst date = new Date();\n\t\t\treturn date.toDateString();\n\t\t},\n\t}, {\n\t\tmatches: ['linkflair'],\n\t\thandle() {\n\t\t\tif (isPageType('comments')) {\n\t\t\t\treturn document.querySelector('.linkflairlabel').textContent;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['escaped'],\n\t\thandle(macroText, selectedText) {\n\t\t\treturn selectedText\n\t\t\t\t.replace(/[\\[\\]()\\\\\\*\\^~\\-_.]/g, '\\\\$&')\n\t\t\t\t// more than 3 spaces before a >quote starts a code block\n\t\t\t\t.replace(/^([ ]{0,3})>/gm, '$1\\\\>');\n\t\t},\n\t}, {\n\t\tmatches: ['resmodifiedsettings'],\n\t\thandle() { return Options.getModifiedText(); },\n\t}, {\n\t\tmatches: ['resdiagnostics'],\n\t\thandle() { return SubmitIssue.diagnostics(); },\n\t},\n];\n\nfunction promptForPlaceholderValue(placeholder, macroText) {\n\t// Get value for placeholder\n\tconst display = `${macroText}\\n\\n\\nEnter replacement for ${placeholder}:`;\n\tconst value = placeholder;\n\n\treturn prompt(display, value);\n}\n\nfunction wrapSelection(box, prefix, suffix, escapeFunction) {\n\tif (!box) {\n\t\treturn;\n\t}\n\t// record scroll top to restore it later.\n\tconst scrollTop = box.scrollTop;\n\n\t// We will restore the selection later, so record the current selection.\n\tconst selectionStart = box.selectionStart;\n\tconst selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tconst beforeSelection = text.substring(0, selectionStart);\n\tlet selectedText = text.substring(selectionStart, selectionEnd);\n\tconst afterSelection = text.substring(selectionEnd);\n\n\t// Markdown doesn't like it when you tag a word like **this **. The space messes it up. So we'll account for that because Firefox selects the word, and the followign space when you double click a word.\n\tlet trailingSpace = '';\n\tlet cursor = selectedText.length - 1;\n\twhile (cursor > 0 && selectedText[cursor] === ' ') {\n\t\ttrailingSpace += ' ';\n\t\tcursor--;\n\t}\n\tselectedText = selectedText.substring(0, cursor + 1);\n\n\tif (typeof escapeFunction === 'function') {\n\t\tselectedText = escapeFunction(selectedText);\n\t}\n\n\tbox.value = beforeSelection + prefix + selectedText + suffix + trailingSpace + afterSelection;\n\n\tbox.selectionEnd = beforeSelection.length + prefix.length + selectedText.length;\n\tif (selectionStart === selectionEnd) {\n\t\tbox.selectionStart = box.selectionEnd;\n\t} else {\n\t\tbox.selectionStart = beforeSelection.length + prefix.length;\n\t}\n\n\tbox.scrollTop = scrollTop;\n}\n\nfunction replaceSelection(box, replacement) {\n\tif (!box) {\n\t\treturn;\n\t}\n\t// record scroll top to restore it later.\n\tconst scrollTop = box.scrollTop;\n\n\t// We will restore the selection later, so record the current selection.\n\tconst selectionStart = box.selectionStart;\n\tconst selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tconst beforeSelection = text.substring(0, selectionStart);\n\tconst afterSelection = text.substring(selectionEnd);\n\n\n\tbox.value = beforeSelection + replacement + afterSelection;\n\n\tbox.selectionEnd = beforeSelection.length + replacement.length;\n\n\tbox.scrollTop = scrollTop;\n}\n\nfunction wrapSelectedLines(box, prefix, suffix) {\n\tconst scrollTop = box.scrollTop;\n\tlet selectionStart = box.selectionStart;\n\tlet selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tlet startPosition = 0;\n\tconst lines = text.split('\\n');\n\tfor (const i of range(0, lines.length)) {\n\t\tlet lineStart = startPosition;\n\t\tlet lineEnd = lineStart + lines[i].length;\n\t\t// Check if either end of the line is within the selection\n\t\tif (selectionStart <= lineStart && lineStart <= selectionEnd || selectionStart <= lineEnd && lineEnd <= selectionEnd ||\n\t\t\t\t// Check if either end of the selection is within the line\n\t\t\t\tlineStart <= selectionStart && selectionStart <= lineEnd || lineStart <= selectionEnd && selectionEnd <= lineEnd) {\n\t\t\tlines[i] = prefix + lines[i] + suffix;\n\t\t\t// Move the offsets separately so we don't throw off detection for the other end\n\t\t\tlet startMovement = 0;\n\t\t\tlet endMovement = 0;\n\t\t\tif (lineStart < selectionStart) {\n\t\t\t\tstartMovement += prefix.length;\n\t\t\t}\n\t\t\tif (lineEnd < selectionStart) {\n\t\t\t\tstartMovement += suffix.length;\n\t\t\t}\n\t\t\tif (lineStart < selectionEnd) {\n\t\t\t\tendMovement += prefix.length;\n\t\t\t}\n\t\t\tif (lineEnd < selectionEnd) {\n\t\t\t\tendMovement += suffix.length;\n\t\t\t}\n\n\t\t\tselectionStart += startMovement;\n\t\t\tselectionEnd += endMovement;\n\t\t\tlineStart += prefix.length;\n\t\t\tlineEnd += prefix.length + suffix.length;\n\t\t}\n\t\t// Remember the newline\n\t\tstartPosition = lineEnd + 1;\n\t}\n\n\tbox.value = lines.join('\\n');\n\tbox.selectionStart = selectionStart;\n\tbox.selectionEnd = selectionEnd;\n\tbox.scrollTop = scrollTop;\n}\n\nfunction wrapSelectedWords(box, prefix) {\n\tconst scrollTop = box.scrollTop;\n\tlet selectionStart = box.selectionStart;\n\tconst selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tconst beforeSelection = text.substring(0, selectionStart);\n\tconst selectedWords = text.substring(selectionStart, selectionEnd).split(' ');\n\tconst afterSelection = text.substring(selectionEnd);\n\n\tlet selectionModify = 0;\n\n\tfor (const i of range(0, selectedWords.length)) {\n\t\tif (selectedWords[i] !== '') {\n\t\t\tif (selectedWords[i].includes('\\n')) {\n\t\t\t\tconst newLinePosition = selectedWords[i].lastIndexOf('\\n') + 1;\n\t\t\t\tselectedWords[i] = selectedWords[i].substring(0, newLinePosition) + prefix + selectedWords[i].substring(newLinePosition);\n\t\t\t\tselectionModify += prefix.length;\n\t\t\t}\n\t\t\tif (selectedWords[i].charAt(0) !== '\\n') {\n\t\t\t\tselectedWords[i] = prefix + selectedWords[i];\n\t\t\t}\n\t\t\tselectionModify += prefix.length;\n\t\t} else if (selectedWords[i] === '' && selectedWords.length === 1) {\n\t\t\t// If nothing is selected, stick the prefix in there and move the cursor to the right side.\n\t\t\tselectedWords[i] = prefix + selectedWords[i];\n\t\t\tselectionModify += prefix.length;\n\t\t\tselectionStart += prefix.length;\n\t\t}\n\t}\n\n\tbox.value = beforeSelection + selectedWords.join(' ') + afterSelection;\n\tbox.selectionStart = selectionStart;\n\tbox.selectionEnd = selectionEnd + selectionModify;\n\tbox.scrollTop = scrollTop;\n}\n\n/**\n * Matches the following:\n * [0]: Full match\n * [1]: preceding character\n * [2]: subreddit name (no '/r/') (optional)\n * [3]: 'r', 'u', 'w', 'wiki'\n * [4]: query\n */\nconst autoCompleteMatchRegExp = /(^|\\W)\\/?(?:r\\/([\\w]+)\\/)?(wiki|w|r|u)\\/([-\\w]+)$/;\n\nfunction initializeAutocomplete() {\n\tif (\n\t\t!module.options.subredditAutocomplete.value &&\n\t\t!module.options.userAutocomplete.value &&\n\t\t!module.options.wikiAutocomplete.value\n\t) return;\n\n\t$(document.body).on('input', '.usertext .usertext-edit textarea, #BigText, #wiki_page_content', _.debounce(async e => {\n\t\tconst textarea: HTMLTextAreaElement = (e.currentTarget: any);\n\t\tconst prefixText = textarea.value.slice(0, textarea.selectionStart);\n\t\tconst [,, subreddit, [type] = [], query] = autoCompleteMatchRegExp.exec(prefixText) || [];\n\t\tconst completions = query && (\n\t\t\ttype === 'u' && module.options.userAutocomplete.value && await getUserCompletions(query) ||\n\t\t\t\ttype === 'r' && module.options.subredditAutocomplete.value && await getSubredditCompletions(query) ||\n\t\t\t\ttype === 'w' && module.options.wikiAutocomplete.value && await getWikiCompletions(query, subreddit || currentSubreddit() || '')\n\t\t) || [];\n\t\tautoComplete(textarea)(completions);\n\t}, 100));\n}\n\nconst autoComplete = _.memoize(textarea => {\n\tconst element = string.html`<div id=\"autocomplete_dropdown\" class=\"drop-choices srdrop\"></div>`;\n\tlet entries = [];\n\tlet index = 0;\n\n\telement.addEventListener('click', (e: MouseEvent) => {\n\t\tconst text = (e.target.closest('.choice') || e.target).textContent;\n\t\tconst caretPos = textarea.selectionStart;\n\t\tlet left = textarea.value.substr(0, caretPos);\n\t\tconst right = textarea.value.substr(caretPos);\n\t\tleft = left.replace(autoCompleteMatchRegExp, `$1${text} `);\n\t\ttextarea.value = left + right;\n\t\ttextarea.selectionStart = textarea.selectionEnd = left.length;\n\t\ttextarea.focus();\n\t\t// Fire an input event to refresh the preview\n\t\ttextarea.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\t});\n\n\tconst updateSelection = () => {\n\t\tfor (const entry of entries) entry.classList.remove('selectedItem');\n\t\tentries[index % entries.length].classList.add('selectedItem');\n\t};\n\n\tconst remove = () => {\n\t\telement.remove();\n\t\ttextarea.removeEventListener('keydown', navigate);\n\t\ttextarea.removeEventListener('blur', remove);\n\t};\n\n\tconst navigate = (e: KeyboardEvent) => {\n\t\t// Don't mess with shortcuts for fancier cursor movement\n\t\tif (e.metaKey || e.shiftKey || e.ctrlKey || e.altKey) return;\n\t\tif (!document.contains(element)) return;\n\t\tswitch (e.key) {\n\t\t\tcase NAMED_KEYS.Down:\n\t\t\tcase NAMED_KEYS.Right:\n\t\t\t\te.preventDefault();\n\t\t\t\tindex++;\n\t\t\t\tupdateSelection();\n\t\t\t\treturn;\n\t\t\tcase NAMED_KEYS.Up:\n\t\t\tcase NAMED_KEYS.Left:\n\t\t\t\te.preventDefault();\n\t\t\t\tindex--;\n\t\t\t\tupdateSelection();\n\t\t\t\treturn;\n\t\t\tcase NAMED_KEYS.Tab:\n\t\t\tcase NAMED_KEYS.Enter:\n\t\t\t\te.preventDefault();\n\t\t\t\tentries[index % entries.length].click();\n\t\t\t\treturn;\n\t\t\tcase NAMED_KEYS.Escape:\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tremove();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t// Function to update the auto-complete\n\treturn matches => {\n\t\tif (!matches.length || document.activeElement !== textarea) {\n\t\t\tremove();\n\t\t\treturn;\n\t\t}\n\n\t\tempty(element);\n\t\tentries = matches.slice(0, 20).map(text => string.html`<a class=\"choice\">${text}</a>`);\n\t\telement.append(...entries);\n\n\t\tindex = 0;\n\t\tupdateSelection();\n\n\t\tif (!document.contains(element)) {\n\t\t\tconst textareaOffset = $(textarea).offset();\n\t\t\ttextareaOffset.left += $(textarea).width();\n\t\t\t$(element).css(textareaOffset);\n\t\t\tdocument.body.append(element);\n\n\t\t\ttextarea.addEventListener('keydown', navigate);\n\t\t\ttextarea.addEventListener('blur', () => {\n\t\t\t\t// The `click` event when clicking on something else may come fairly long after `blur`\n\t\t\t\t// Try not to remove the autocomplete element prematurely, so that it is still there on `click`\n\t\t\t\tsetTimeout(() => { if (document.activeElement !== textarea) remove(); }, 200);\n\t\t\t});\n\t\t}\n\t};\n});\n\nasync function getSubredditCompletions(query) {\n\tconst { names } = (await ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/search_reddit_names.json',\n\t\tquery: { query }, // for the cache\n\t\tdata: { query },\n\t\ttype: 'json',\n\t\tcacheFor: DAY,\n\t}): RedditSearchSubredditNames);\n\n\treturn names.map(name => `/r/${name}`);\n}\n\nconst loadAllTags = _.once(() => UserTagger.Tag.getStored());\nasync function getUserCompletions(query) {\n\tawait loadAllTags();\n\t// Auto-complete users on this page in addition to previously tagged or upvoted users\n\treturn Array.from(UserTagger.tags.values())\n\t\t.filter(({ id }) => id.toLowerCase().startsWith(query.toLowerCase()))\n\t\t.filter(({ text, votesUp, instances }) => text || votesUp || instances.length)\n\t\t// Display users on this page first, but keep alphabetized\n\t\t.sort((a, b) => Number(b.instances.length > a.instances.length) || a.id.localeCompare(b.id))\n\t\t.map(({ id }) => `/u/${id}`);\n}\n\nasync function getWikiCompletions(query, subreddit: string) {\n\tconst { data: wikiPages } = (await ajax({\n\t\tmethod: 'GET',\n\t\turl: `/r/${subreddit}/wiki/pages.json`,\n\t\ttype: 'json',\n\t\tcacheFor: DAY,\n\t}): RedditSearchWikiNames);\n\n\treturn wikiPages\n\t\t.filter(wikiPage => wikiPage.toLowerCase().startsWith(query.toLowerCase()))\n\t\t.map(wikiPage => `/r/${subreddit}/wiki/${wikiPage}`);\n}\n\nfunction findTextareaForElement(elem): HTMLTextAreaElement | void {\n\tconst textarea = $(elem)\n\t\t.closest('.usertext-edit, #BigEditor, .wiki-page-content, #banned')\n\t\t.find('textarea')\n\t\t.filter('#BigText, [name=text], [name=description], [name=public_description], [name=body], #wiki_page_content, #ban_message')\n\t\t.get(0);\n\t// guaranteed to be an HTMLTextAreaElement due to `.find('textarea')`\n\treturn (textarea: any);\n}\n\nexport function onCtrlEnter(selector: string, callback: (e: KeyboardEvent) => Promise<void> | void) {\n\t$(document.body).on('keydown', selector, (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter && (e.ctrlKey || e.metaKey)) {\n\t\t\te.preventDefault();\n\t\t\tcallback(e);\n\t\t}\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { addCSS, loggedInUser, regexes } from '../utils';\nimport * as AccountSwitcher from './accountSwitcher';\n\nexport const module: Module<*> = new Module('usernameHider');\n\nmodule.moduleName = 'usernameHiderName';\nmodule.category = 'myAccountCategory';\nmodule.disabledByDefault = true;\nmodule.description = 'usernameHiderDesc';\n\nmodule.options = {\n\tdisplayText: {\n\t\ttitle: 'usernameHiderDisplayTextTitle',\n\t\ttype: 'text',\n\t\tvalue: '~anonymous~',\n\t\tdescription: 'usernameHiderDisplayTextDesc',\n\t},\n\tperAccountDisplayText: {\n\t\ttitle: 'usernameHiderPerAccountDisplayTextTitle',\n\t\ttype: 'table',\n\t\taddRowText: '+add account',\n\t\tfields: [{\n\t\t\tkey: 'username',\n\t\t\tname: 'username',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'displayText',\n\t\t\tname: 'displayText',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: ([]: Array<[string, string]>),\n\t\tdescription: 'usernameHiderPerAccountDisplayTextDesc',\n\t},\n\thideAllUsernames: {\n\t\ttitle: 'usernameHiderHideAllUsernamesTitle',\n\t\tadvanced: true,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'usernameHiderHideAllUsernamesDesc',\n\t},\n\thideAccountSwitcherUsernames: {\n\t\ttitle: 'usernameHiderHideAccountSwitcherUsernamesTitle',\n\t\tadvanced: true,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'usernameHiderHideAccountSwitcherUsernamesDesc',\n\t},\n\tshowUsernameOnHover: {\n\t\ttitle: 'usernameHiderShowUsernameOnHoverTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'usernameHiderShowUsernameOnHoverDesc',\n\t},\n};\n\nconst substitutes = _.once(() => new Map([\n\t[(loggedInUser() || '').toLowerCase(), module.options.displayText.value],\n\t...module.options.perAccountDisplayText.value.map(([username, substitute]) => [username.toLowerCase(), substitute]),\n]));\n\nexport const getDisplayText = (username: string, alt: string = username): string => substitutes().get(username.toLowerCase()) || alt;\n\nmodule.contentStart = () => {\n\tfor (const username of new Set([\n\t\tloggedInUser(),\n\t\t...(module.options.hideAllUsernames.value ? module.options.perAccountDisplayText.value.map(([username]) => username) : []),\n\t\t...(module.options.hideAccountSwitcherUsernames.value ? AccountSwitcher.module.options.accounts.value.map(([username]) => username) : []),\n\t].filter(Boolean)).values()) {\n\t\thideUsername(username, getDisplayText(username, module.options.displayText.value));\n\t}\n};\n\nfunction hideUsername(user, displayText) {\n\tif (!displayText || user === displayText) return;\n\n\tconst userHref = `[href*=\"/user/${user}\"]`;\n\n\t// Hide username\n\taddCSS(`\n\t\tp.tagline > a${userHref},\n\t\t#header .user > a${userHref},\n\t\t.titlebox .tagline a.author${userHref},\n\t\t.commentingAsUser a${userHref},\n\t\ta.author${userHref},\n\t\t.bottom a${userHref} {\n\t\t\tline-height: 0;\n\t\t\tfont-size: 0;\n\t\t}\n\n\t\tp.tagline > a${userHref}::after,\n\t\t#header .user > a${userHref}::after,\n\t\t.titlebox .tagline a.author${userHref}::after,\n\t\t.commentingAsUser a${userHref}::after,\n\t\ta.author${userHref}::after,\n\t\t.bottom a${userHref}::after {\n\t\t\tcontent: \"${displayText}\";\n\t\t\tletter-spacing: normal;\n\t\t\tfont-size: 10px;\n\t\t\tbackground-color: inherit;\n\t\t\tborder-radius: inherit;\n\t\t\tpadding: inherit;\n\t\t}\n\n\t\ta.author${userHref}::after {\n\t\t\tmargin-right: 0.5em;\n\t\t}\n\n\t\t.commentingAsUser a${userHref}::after {\n\t\t\tfont-size: small;\n\t\t}\n\t`);\n\n\t// Show username on hover\n\tif (module.options.showUsernameOnHover.value) {\n\t\taddCSS(`\n\t\t\tp.tagline > a${userHref}:hover,\n\t\t\t#header .user > a${userHref}:hover,\n\t\t\t.titlebox .tagline a.author${userHref}:hover,\n\t\t\t.commentingAsUser a${userHref}:hover,\n\t\t\ta.author${userHref}:hover,\n\t\t\t.bottom a${userHref}:hover {\n\t\t\t\tline-height: inherit;\n\t\t\t\tfont-size: inherit;\n\t\t\t}\n\n\t\t\tp.tagline > a${userHref}:hover::after,\n\t\t\t#header .user > a${userHref}:hover::after,\n\t\t\t.titlebox .tagline a.author${userHref}:hover::after,\n\t\t\t.commentingAsUser a${userHref}:hover::after,\n\t\t\ta.author${userHref}:hover::after,\n\t\t\t.bottom a${userHref}:hover::after {\n\t\t\t\tcontent: none;\n\t\t\t}\n\t\t`);\n\t}\n\n\tconst curatedBy: ?HTMLAnchorElement = (document.querySelector('.multi-details > h2 a'): any);\n\tif (curatedBy) {\n\t\tconst curatedByUsername = curatedBy.pathname.match(regexes.profile);\n\t\tif (curatedByUsername && curatedByUsername[1].toLowerCase() === user.toLowerCase()) {\n\t\t\tcuratedBy.textContent = curatedBy.textContent.replace(user, displayText);\n\n\t\t\t// Show username on hover\n\t\t\tif (module.options.showUsernameOnHover.value) {\n\t\t\t\t$(curatedBy)\n\t\t\t\t\t.on('mouseenter', function() {\n\t\t\t\t\t\tthis.textContent = this.textContent.replace(displayText, user);\n\t\t\t\t\t})\n\t\t\t\t\t.on('mouseleave', function() {\n\t\t\t\t\t\tthis.textContent = this.textContent.replace(user, displayText);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tHOUR,\n\tNAMED_KEYS,\n\tcheckKeysForEvent,\n\tcurrentSubreddit,\n\tisModeratorAnywhere,\n\tloggedInUser,\n\tregexes,\n\tdowncast,\n\tstring,\n} from '../utils';\nimport * as Modules from '../core/modules';\nimport { Storage, ajax } from '../environment';\nimport type { RedditListing, RedditSubreddit } from '../types/reddit';\nimport * as CommandLine from './commandLine';\nimport * as CommentTools from './commentTools';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as UsernameHider from './usernameHider';\n\nexport const module: Module<*> = new Module('quickMessage');\n\nmodule.moduleName = 'quickMessageName';\nmodule.category = 'usersCategory';\nmodule.description = 'quickMessageDesc';\nmodule.options = {\n\topenQuickMessage: {\n\t\ttitle: 'quickMessageOpenQuickMessageTitle',\n\t\ttype: 'keycode',\n\t\tvalue: [77, false, true, false, false], // control-m\n\t\tdescription: 'quickMessageOpenQuickMessageDesc',\n\t},\n\tdefaultSubject: {\n\t\ttitle: 'quickMessageDefaultSubjectTitle',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'quickMessageDefaultSubjectDesc',\n\t},\n\tsendAs: {\n\t\ttitle: 'quickMessageSendAsTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Current user',\n\t\t\tvalue: 'user',\n\t\t}, {\n\t\t\tname: 'Current subreddit',\n\t\t\tvalue: 'sub',\n\t\t}, {\n\t\t\tname: 'Last selected',\n\t\t\tvalue: 'last',\n\t\t}, {\n\t\t\tname: 'Last selected (this page load)',\n\t\t\tvalue: 'temporary',\n\t\t}],\n\t\tvalue: 'user',\n\t\tdescription: 'quickMessageSendAsDesc',\n\t},\n\thandleContentLinks: {\n\t\ttitle: 'quickMessageHandleContentLinksTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'quickMessageHandleContentLinksDesc',\n\t},\n\thandleSideLinks: {\n\t\ttitle: 'quickMessageHandleSideLinksTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'quickMessageHandleSideLinksDesc',\n\t},\n\tlinkToCurrentPage: {\n\t\ttitle: 'quickMessageLinkToCurrentPageTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'quickMessageLinkToCurrentPageDesc',\n\t},\n};\n\nconst lastSentAsStorage = Storage.wrapPrefix('RESmodules.quickMessage.lastSentAs.', () => (null: null | string));\n\nmodule.contentStart = () => {\n\tCommandLine.registerCommand(\n\t\t(cmd, val) => cmd === 'qm' && (/^(?:([^\\s]+)(?:\\s(.*))?)?$/).exec(val),\n\t\t'qm [recipient [message]] - open quick message dialog',\n\t\t(command, val, [, to, body]) => {\n\t\t\tif (body) {\n\t\t\t\treturn `quick message to ${to}: ${body}`;\n\t\t\t} else if (to) {\n\t\t\t\treturn `quick message to ${to}`;\n\t\t\t}\n\t\t\treturn 'quick message';\n\t\t},\n\t\t(command, val, [, to, body]) => {\n\t\t\topenQuickMessageDialog({ to, body });\n\t\t},\n\t);\n\n\t// global keyboard shortcut\n\twindow.addEventListener('keydown', e => {\n\t\tif (checkKeysForEvent(e, module.options.openQuickMessage.value)) {\n\t\t\te.preventDefault();\n\t\t\topenQuickMessageDialog();\n\t\t}\n\t}, true);\n\n\tif (module.options.handleContentLinks.value) {\n\t\t$('div.content[role=\"main\"]').on('click', 'a[href*=\"/message/compose\"]', messageLinkEventHandler);\n\t}\n\tif (module.options.handleSideLinks.value) {\n\t\t$('div.side').on('click', 'a[href*=\"/message/compose\"]', messageLinkEventHandler);\n\t}\n};\n\nconst quickMessageDialog = _.once(() => {\n\tconst $dialog = $(string.html`\n\t\t<div id=\"quickMessage\">\n\t\t\t<div id=\"quickMessageDialog\" class=\"RESDialogSmall\">\n\t\t\t\t<h3>Send Message<a class=\"gearIcon\" href=\"${SettingsNavigation.makeUrlHash(module.moduleID)}\"></a></h3>\n\t\t\t\t<div id=\"quickMessageDialogClose\" class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t\t<div id=\"quickMessageDialogContents\" class=\"RESDialogContents clear\">\n\t\t\t\t\t<form name=\"quickMessageDialogForm\" action=\"\">\n\t\t\t\t\t\t<label for=\"quickMessageDialogFrom\">From</label>\n\t\t\t\t\t\t<select id=\"quickMessageDialogFrom\"></select>\n\t\t\t\t\t\t<label for=\"quickMessageDialogTo\">To</label>\n\t\t\t\t\t\t<input type=\"text\" id=\"quickMessageDialogTo\" value=\"\"/>\n\t\t\t\t\t\t<label for=\"quickMessageDialogSubject\">Subject</label>\n\t\t\t\t\t\t<input type=\"text\" id=\"quickMessageDialogSubject\" value=\"\"/>\n\t\t\t\t\t\t<label for=\"quickMessageDialogBody\">Body</label>\n\t\t\t\t\t\t<textarea id=\"quickMessageDialogBody\"></textarea>\n\t\t\t\t\t\t<div class=\"clear\"></div>\n\t\t\t\t\t\t<input type=\"button\" id=\"quickMessageDialogSend\" value=\" send message\"/>\n\t\t\t\t\t\t<a href=\"/message/compose\" class=\"fullMessageForm blueButton\">open full message form</a>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`);\n\tconst from = downcast($dialog.find('#quickMessageDialogFrom').get(0), HTMLSelectElement);\n\tconst to = downcast($dialog.find('#quickMessageDialogTo').get(0), HTMLInputElement);\n\tconst subject = downcast($dialog.find('#quickMessageDialogSubject').get(0), HTMLInputElement);\n\tconst body = downcast($dialog.find('#quickMessageDialogBody').get(0), HTMLTextAreaElement);\n\n\t// close dialog with \"x\" button\n\t$dialog\n\t\t.find('#quickMessageDialogClose')\n\t\t.on('click', (e: Event) => {\n\t\t\te.preventDefault();\n\t\t\tcloseQuickMessageDialog();\n\t\t});\n\n\t// close dialog with escape key\n\t$dialog\n\t\t.get(0)\n\t\t.addEventListener('keydown', (e: KeyboardEvent) => {\n\t\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcloseQuickMessageDialog();\n\t\t\t}\n\t\t}, true);\n\n\t// send with \"send message\" button\n\t$dialog\n\t\t.find('#quickMessageDialogSend')\n\t\t.get(0)\n\t\t.addEventListener('click', (e: Event) => {\n\t\t\te.preventDefault();\n\t\t\tsendMessage();\n\t\t}, true);\n\n\t// send with control-enter\n\tCommentTools.onCtrlEnter('#quickMessageDialog', sendMessage);\n\n\t// open full message form\n\t$dialog\n\t\t.find('a.fullMessageForm')\n\t\t// mousedown isn't fired if you tab over to the button\n\t\t.on('mousedown focus', e => { $(e.currentTarget).attr('href', getFullMessageFormUrl()); })\n\t\t.on('click', closeQuickMessageDialog);\n\n\t$dialog.find('a').on('keypress', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter) {\n\t\t\te.currentTarget.click();\n\t\t}\n\t});\n\n\t// show moderator shield when sending from subreddit and store the user's selection\n\tfrom.addEventListener('change', () => {\n\t\tconst val = from.value;\n\t\tupdateModeratorIcon(val.startsWith('/r/'));\n\t\tconst loggedIn = loggedInUser();\n\t\tif (loggedIn) lastSentAsStorage.set(loggedIn, val);\n\t});\n\n\t$dialog.appendTo(document.body);\n\n\treturn { $dialog, from, to, subject, body };\n});\n\nfunction updateModeratorIcon(state) {\n\tquickMessageDialog().$dialog\n\t\t.find('label[for=quickMessageDialogFrom]')\n\t\t.toggleClass('moderator', state);\n}\n\nexport function messageLinkEventHandler(e: MouseEvent) {\n\tconst { searchParams, pathname } = new URL(downcast(e.target, HTMLAnchorElement).href, location.href);\n\tconst hasModifier = e.ctrlKey || e.altKey || e.metaKey || e.shiftKey;\n\tif (e.button === 0 && !hasModifier && regexes.composeMessage.test(pathname)) {\n\t\te.preventDefault();\n\n\t\tconst srMatch = regexes.subreddit.exec(pathname);\n\n\t\topenQuickMessageDialog({\n\t\t\tfrom: srMatch ? `/r/${srMatch[1]}` : undefined,\n\t\t\tto: searchParams.get('to') || '',\n\t\t\tsubject: searchParams.get('subject') || '',\n\t\t\tbody: searchParams.get('message') || '',\n\t\t});\n\t\treturn true;\n\t}\n}\n\nasync function getValidSendFrom() {\n\tconst username = loggedInUser();\n\n\tif (!username) {\n\t\treturn [];\n\t}\n\n\tconst users = [{\n\t\tname: `/u/${username}`,\n\t\tdisplayText: `/u/${Modules.isRunning(UsernameHider) ? UsernameHider.getDisplayText(username) : username}`,\n\t}];\n\n\tif (isModeratorAnywhere()) {\n\t\tconst { data } = (await ajax({\n\t\t\turl: '/subreddits/mine/moderator.json',\n\t\t\tquery: {\n\t\t\t\tlimit: 1000,\n\t\t\t\tshow: 'all',\n\t\t\t\tuser: loggedInUser() || '', // for the cache\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t\tcacheFor: HOUR,\n\t\t}): RedditListing<RedditSubreddit>);\n\t\tconst modSubs = data.children.map(({ data }) => {\n\t\t\tconst name = data.url.slice(0, -1);\n\t\t\treturn { name, displayText: name };\n\t\t});\n\t\tusers.push(...modSubs);\n\t}\n\n\treturn users;\n}\n\nconst setUpSendFromDropdown = _.once(async () => {\n\tconst senders = await getValidSendFrom();\n\tfor (const { name, displayText } of senders) {\n\t\tconst currentOption = document.createElement('option');\n\t\tcurrentOption.value = name;\n\t\tcurrentOption.text = displayText;\n\t\tquickMessageDialog().from.add(currentOption);\n\t}\n\tquickMessageDialog().from.disabled = (senders.length < 2);\n});\n\nfunction focusFirstEmpty() {\n\t// $FlowIssue\n\tArray.from(quickMessageDialog().$dialog.find('input, textarea'))\n\t\t.find((ele, i, { length }) =>\n\t\t\t/*::\n\t\t\t\t(ele instanceof HTMLInputElement ||\n\t\t\t\tele instanceof HTMLTextAreaElement) &&\n\t\t\t*/\n\t\t\t!ele.value || i === length - 1)\n\t\t.focus();\n}\n\nasync function updateSelectedSender(desiredUser, loggedIn) {\n\tconst sendAsOptions = Array.from(quickMessageDialog().from.options).map(ele => $(ele).text().toLowerCase());\n\tlet indexToSelect = sendAsOptions.indexOf(desiredUser.toLowerCase());\n\n\tif (indexToSelect === -1) {\n\t\tswitch (module.options.sendAs.value) {\n\t\t\tcase 'sub':\n\t\t\t\tconst sub = currentSubreddit();\n\t\t\t\tif (sub) indexToSelect = sendAsOptions.indexOf(`/r/${sub.toLowerCase()}`);\n\t\t\t\tbreak;\n\t\t\tcase 'last':\n\t\t\t\tconst lastSelected = await lastSentAsStorage.get(loggedIn);\n\t\t\t\tif (lastSelected) {\n\t\t\t\t\tindexToSelect = sendAsOptions.indexOf(lastSelected.toLowerCase());\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'temporary':\n\t\t\t\tindexToSelect = quickMessageDialog().from.selectedIndex;\n\t\t\t\tbreak;\n\t\t\t// case 'user':\n\t\t\tdefault:\n\t\t\t\tindexToSelect = 0;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tquickMessageDialog().from.selectedIndex = (indexToSelect !== -1 ? indexToSelect : 0);\n\tupdateModeratorIcon(quickMessageDialog().from.value.startsWith('/r/'));\n}\n\ntype QuickMessageDialogOptions = {\n\tfrom?: string,\n\tto?: string,\n\tsubject?: string,\n\tbody?: string,\n};\n\nexport async function openQuickMessageDialog({ from = '', to = '', subject = module.options.defaultSubject.value, body = module.options.linkToCurrentPage.value ? location.href : '' }: QuickMessageDialogOptions = {}): Promise<void> {\n\tconst loggedIn = loggedInUser();\n\n\tif (!loggedIn) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'quickMessage',\n\t\t\tnotificationID: 'quickMessageNoUser',\n\t\t\theader: 'Not Logged In.',\n\t\t\tcloseDelay: 3000,\n\t\t\tmessage: 'You must log in to use the quick message dialog.',\n\t\t});\n\t\treturn;\n\t}\n\n\tawait setUpSendFromDropdown();\n\n\tawait updateSelectedSender(from, loggedIn);\n\tquickMessageDialog().to.value = to;\n\tquickMessageDialog().subject.value = subject;\n\tquickMessageDialog().body.value = body;\n\n\tquickMessageDialog().$dialog.fadeIn(300);\n\n\tfocusFirstEmpty();\n}\n\nfunction closeQuickMessageDialog() {\n\tquickMessageDialog().$dialog.fadeOut(300);\n\n\t// remove focus from any input fields\n\tfor (const ele of quickMessageDialog().$dialog.find('input, textarea, button')) {\n\t\tele.blur();\n\t}\n}\n\nfunction getFullMessageFormUrl() {\n\tconst subreddit = quickMessageDialog().from.value.startsWith('/r/') ? quickMessageDialog().from.value : '';\n\treturn subreddit +\n\t\tstring.encode`/message/compose?to=${quickMessageDialog().to.value}&subject=${quickMessageDialog().subject.value}&message=${quickMessageDialog().body.value}`;\n}\n\nconst presetSendErrors = {\n\tNO_USER: 'No recipient specified.',\n\tNO_SUBJECT: 'No subject specified.',\n\tNO_TEXT: 'Message body is empty.',\n\tBAD_CAPTCHA: '<p>Sorry, reddit requires you to enter a captcha to send messages. This is usually because your account is brand new or has low karma.</p><b>Click on \"open full message form\" and try again (your message will be preserved).</b>',\n\tTOO_LONG: 'Either your subject (max 100 characters) or body (max 10,000 characters) is too long.',\n};\n\nasync function sendMessage() {\n\tconst from = quickMessageDialog().from.value;\n\n\ttry {\n\t\tconst { json: { errors } } = await ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: '/api/compose',\n\t\t\tdata: {\n\t\t\t\tapi_type: 'json',\n\t\t\t\tfrom_sr: from.includes('/r/') ? from.slice(3) : '',\n\t\t\t\tsubject: quickMessageDialog().subject.value,\n\t\t\t\ttext: quickMessageDialog().body.value,\n\t\t\t\tto: quickMessageDialog().to.value,\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (errors[0]) {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: 'quickMessage',\n\t\t\t\tnotificationID: 'quickMessageSendError',\n\t\t\t\theader: 'Message not sent.',\n\t\t\t\tcloseDelay: 15000,\n\t\t\t\tmessage: presetSendErrors[errors[0][0]] || `${errors[0][0]} : ${errors[0][1]}`, // errors[0][0] is the error name, [1] is reddit's description of the error\n\t\t\t});\n\t\t} else {\n\t\t\tcloseQuickMessageDialog();\n\t\t}\n\t} catch (e) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'quickMessage',\n\t\t\tnotificationID: 'failedToSendQuickMessage',\n\t\t\theader: 'Sending Failed!',\n\t\t\tcloseDelay: 15000,\n\t\t\tmessage: 'Reddit is likely under heavy load. Either wait a minute or click on \"open full message form\" and try again (your message will be preserved).',\n\t\t});\n\t\tthrow e;\n\t}\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport {\n\tAlert,\n\tThing,\n\taddCSS,\n\tthrottle,\n\thashCode,\n\tisPageType,\n\tloggedInUser,\n\tgetUsernameFromLink,\n\twatchForElements,\n\twatchForThings,\n} from '../utils';\nimport { i18n } from '../environment';\nimport * as UserInfo from './userInfo';\n\nexport const module: Module<*> = new Module('userHighlight');\n\nmodule.moduleName = 'userHighlightName';\nmodule.category = 'usersCategory';\nmodule.description = 'userHighlightDesc';\nmodule.bodyClass = true;\nmodule.options = {\n\thighlightSelf: {\n\t\ttitle: 'userHighlightHighlightSelfTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'userHighlightHighlightSelfDesc',\n\t},\n\tselfColor: {\n\t\ttitle: 'userHighlightSelfColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#B8860B',\n\t\tdescription: 'userHighlightSelfColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightSelf.value,\n\t},\n\tselfColorHover: {\n\t\ttitle: 'userHighlightSelfColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#8A6508',\n\t\tdescription: 'userHighlightSelfColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightSelf.value,\n\t},\n\thighlightOP: {\n\t\ttitle: 'userHighlightHighlightOPTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightOPDesc',\n\t},\n\tOPColor: {\n\t\ttitle: 'userHighlightOPColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#0055DF',\n\t\tdescription: 'userHighlightOPColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOP.value,\n\t},\n\tOPColorHover: {\n\t\ttitle: 'userHighlightOPColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#4E7EAB',\n\t\tdescription: 'userHighlightOPColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOP.value,\n\t},\n\thighlightAdmin: {\n\t\ttitle: 'userHighlightHighlightAdminTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightAdminDesc',\n\t},\n\tadminColor: {\n\t\ttitle: 'userHighlightAdminColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#FF0011',\n\t\tdescription: 'userHighlightAdminColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAdmin.value,\n\t},\n\tadminColorHover: {\n\t\ttitle: 'userHighlightAdminColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#B3000C',\n\t\tdescription: 'userHighlightAdminColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAdmin.value,\n\t},\n\thighlightAlum: {\n\t\ttitle: 'userHighlightHighlightAlumTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightAlumDesc',\n\t},\n\talumColor: {\n\t\ttitle: 'userHighlightAlumColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#BE1337',\n\t\tdescription: 'userHighlightAlumColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAlum.value,\n\t},\n\talumColorHover: {\n\t\ttitle: 'userHighlightAlumColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#8F0E29',\n\t\tdescription: 'userHighlightAlumColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAlum.value,\n\t},\n\thighlightFriend: {\n\t\ttitle: 'userHighlightHighlightFriendTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightFriendDesc',\n\t},\n\tfriendColor: {\n\t\ttitle: 'userHighlightFriendColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#FF4500',\n\t\tdescription: 'userHighlightFriendColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFriend.value,\n\t},\n\tfriendColorHover: {\n\t\ttitle: 'userHighlightFriendColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#B33000',\n\t\tdescription: 'userHighlightFriendColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFriend.value,\n\t},\n\thighlightMod: {\n\t\ttitle: 'userHighlightHighlightModTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightModDesc',\n\t},\n\tmodColor: {\n\t\ttitle: 'userHighlightModColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#228822',\n\t\tdescription: 'userHighlightModColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightMod.value,\n\t},\n\tmodColorHover: {\n\t\ttitle: 'userHighlightModColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#134913',\n\t\tdescription: 'userHighlightModColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightMod.value,\n\t},\n\thighlightOpMentions: {\n\t\ttitle: 'userHighlightOpMentionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightOpMentionsDesc',\n\t},\n\topMentionsColor: {\n\t\ttitle: 'userHighlightOpMentionsColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#6D4731',\n\t\tdescription: 'userHighlightOpMentionsColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOpMentions.value,\n\t},\n\topMentionsHover: {\n\t\ttitle: 'userHighlightOpMentionsHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#C4946E',\n\t\tdescription: 'userHighlightOpMentionsHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOpMentions.value,\n\t},\n\thighlightFirstCommenter: {\n\t\ttitle: 'userHighlightHighlightFirstCommenterTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'userHighlightHighlightFirstCommenterDesc',\n\t},\n\tdontHighlightFirstComment: {\n\t\ttitle: 'userHighlightDontHighlightFirstCommentTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightDontHighlightFirstCommentDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFirstCommenter.value,\n\t},\n\tfirstCommentColor: {\n\t\ttitle: 'userHighlightFirstCommentColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#46B6CC',\n\t\tdescription: 'userHighlightFirstCommentColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFirstCommenter.value,\n\t},\n\tfirstCommentColorHover: {\n\t\ttitle: 'userHighlightFirstCommentColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#72D2E5',\n\t\tdescription: 'userHighlightFirstCommentColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFirstCommenter.value,\n\t},\n\tfontColor: {\n\t\ttitle: 'userHighlightFontColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#FFFFFF',\n\t\tdescription: 'userHighlightFontColorDesc',\n\t\tadvanced: true,\n\t},\n\tautoColorUsernames: {\n\t\ttitle: 'userHighlightAutoColorUsernamesTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'userHighlightAutoColorUsernamesDesc',\n\t},\n\tautoColorUsing: {\n\t\ttitle: 'userHighlightAutoColorUsingTitle',\n\t\tdescription: 'userHighlightAutoColorUsingDesc',\n\t\ttype: 'enum',\n\t\tvalue: 'hash-userid-notbright',\n\t\tvalues: [{\n\t\t\tname: 'Random color, not too bright, consistent for each user; night mode-friendly',\n\t\t\tvalue: 'hash-userid-notbright',\n\t\t}, {\n\t\t\tname: 'Simple random color, consistent for each user. (original)',\n\t\t\tvalue: 'hash-userid',\n\t\t}, {\n\t\t\tname: 'All black or, in night mode, all light gray.',\n\t\t\tvalue: 'monochrome',\n\t\t}],\n\t\tadvanced: true,\n\t\tdependsOn: options => options.autoColorUsernames.value,\n\t},\n\tgenerateHoverColors: {\n\t\ttitle: 'userHighlightGenerateHoverColorsTitle',\n\t\ttype: 'button',\n\t\ttext: 'Generate',\n\t\tcallback: generateHoverColors,\n\t\tdescription: 'userHighlightGenerateHoverColorsDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\t// Run these immediately since they add styles.\n\t// Adding styles would cause style recalculation at the end of every chunk, which is very expensive\n\n\tif (module.options.autoColorUsernames.value) {\n\t\twatchForThings(['post', 'comment', 'message'], updateNewUsernames, { immediate: true });\n\t}\n\n\tif (module.options.highlightFirstCommenter.value) {\n\t\twatchForThings(['comment'], updateFirstComments, { immediate: true });\n\t}\n\n\tif (module.options.highlightFriend.value) {\n\t\thighlight('friend', module.options.friendColor.value, module.options.friendColorHover.value);\n\t}\n\tif (module.options.highlightOP.value) {\n\t\thighlight('submitter', module.options.OPColor.value, module.options.OPColorHover.value);\n\t}\n\tif (module.options.highlightMod.value) {\n\t\thighlight('moderator', module.options.modColor.value, module.options.modColorHover.value);\n\t}\n\tif (module.options.highlightAdmin.value) {\n\t\thighlight('admin', module.options.adminColor.value, module.options.adminColorHover.value);\n\t}\n\tif (module.options.highlightAlum.value) {\n\t\thighlight('alum', module.options.alumColor.value, module.options.alumColorHover.value);\n\t}\n\n\tif (module.options.highlightOpMentions.value && isPageType('comments')) {\n\t\twatchForElements(['selfText'], null, selftext => {\n\t\t\tconst thing = Thing.from(selftext);\n\t\t\tconst author = thing && thing.getAuthor();\n\t\t\thighlightMentionedUsers(selftext, module.options.opMentionsColor.value, module.options.opMentionsHover.value, author);\n\t\t}, { immediate: true });\n\t}\n};\n\nmodule.contentStart = () => {\n\tconst username = loggedInUser();\n\tif (module.options.highlightSelf.value && username) {\n\t\thighlight(`author[href$=\"/${username}\"]`, module.options.selfColor.value, module.options.selfColorHover.value);\n\t}\n};\n\nfunction highlightMentionedUsers(element, color, hoverColor, ...exclude) {\n\tArray.from(element.querySelectorAll('a'))\n\t\t.map(getUsernameFromLink)\n\t\t.filter(Boolean)\n\t\t.filter(user => !exclude.includes(user))\n\t\t.forEach(user => highlight(`author[href$=\"/${user}\" i]`, color, hoverColor));\n}\n\nfunction updateFirstComments(thing) {\n\tif (!thing.isTopLevelComment()) return;\n\n\tconst idClass = Array.from(thing.element.classList).find(cls => cls.startsWith('id-t1_'));\n\tif (!idClass) return;\n\n\tconst author = thing.getAuthorElement();\n\tif (!author) return;\n\n\tconst authorClass = Array.from(author.classList).find(cls => cls.startsWith('id-t2_'));\n\n\tif (authorClass) {\n\t\tconst container = `.${idClass}${module.options.dontHighlightFirstComment.value ? ' .child' : ''}`;\n\t\thighlight(\n\t\t\tauthorClass,\n\t\t\tmodule.options.firstCommentColor.value,\n\t\t\tmodule.options.firstCommentColorHover.value,\n\t\t\tcontainer,\n\t\t);\n\t}\n}\n\nfunction updateNewUsernames(thing) {\n\tconst element = thing.getAuthorElement();\n\tif (!element) return;\n\n\tconst idClass = Array.from(element.classList).find(cls => cls.startsWith('id-t2_'));\n\tif (!idClass) return;\n\n\tconst colorGetter = autoColorUsing[module.options.autoColorUsing.value];\n\tconst color = colorGetter(idClass);\n\n\tdoTextColor(idClass, color);\n}\n\nconst autoColorUsing = {\n\t'hash-userid-notbright'(idClass) {\n\t\tconst hash = hashCode(idClass);\n\n\t\t// With help from /u/Rangi42\n\n\t\tconst r = (hash & 0xFF0000) >> 16;\n\t\tconst g = (hash & 0x00FF00) >> 8;\n\t\tconst b = hash & 0x0000FF;\n\t\t// Luminance formula: http://stackoverflow.com/a/596243/70175\n\t\tconst lum = Math.round(r * 0.299 + g * 0.587 + b * 0.114);\n\t\tconst minLum = 0x66; // Night mode background is #191919 or #222222\n\t\tconst maxLum = 0xAA; // Regular background is #FFFFFF or #F7F7F8\n\n\t\tlet color = [r, g, b];\n\t\tlet nightmodeColor = [r, g, b];\n\t\tif (lum < minLum) {\n\t\t\tconst scale = minLum / lum;\n\t\t\tnightmodeColor = [\n\t\t\t\tMath.round(r * scale),\n\t\t\t\tMath.round(g * scale),\n\t\t\t\tMath.round(b * scale),\n\t\t\t];\n\t\t} else if (lum > maxLum) {\n\t\t\tconst scale = maxLum / lum;\n\t\t\tcolor = [\n\t\t\t\tMath.round(r * scale),\n\t\t\t\tMath.round(g * scale),\n\t\t\t\tMath.round(b * scale),\n\t\t\t];\n\t\t}\n\t\tcolor = `rgb(${color.join(',')})`;\n\t\tnightmodeColor = `rgb(${nightmodeColor.join(',')})`;\n\n\t\treturn {\n\t\t\tcolor,\n\t\t\tnightmodeColor,\n\t\t};\n\t},\n\t'hash-userid'(idClass) {\n\t\t// Choose color\n\t\tlet hash = 5381;\n\t\tfor (const char of idClass) {\n\t\t\thash = ((hash << 5) + hash) + char.charCodeAt(0);\n\t\t\t/* hash * 33 + c */\n\t\t}\n\n\t\tconst r = (hash & 0xFF0000) >> 16;\n\t\tconst g = (hash & 0x00FF00) >> 8;\n\t\tconst b = hash & 0x0000FF;\n\t\tconst color = `rgb(${[r, g, b].join(',')})`;\n\n\t\treturn {\n\t\t\tcolor,\n\t\t};\n\t},\n\tmonochrome() {\n\t\treturn {\n\t\t\tcolor: 'black',\n\t\t\tnightmodeColor: '#ccc',\n\t\t};\n\t},\n};\n\nexport function highlightUser(userid: string) {\n\treturn highlight(\n\t\t`author.id-t2_${userid}`,\n\t\tUserInfo.module.options.highlightColor.value,\n\t\tUserInfo.module.options.highlightColorHover.value,\n\t);\n}\n\nconst css = [];\nconst throttled = throttle(() => { addCSS(css.splice(0, css.length).join('\\n')); });\nconst batch = v => { css.push(v); throttled(); };\n\nfunction highlight(selector, color, hoverColor, container = '') {\n\tbatch(`\n${container} .tagline .author.${selector},\n${container} .crosspost-preview-tagline .author.${selector} {\n\tcolor: ${module.options.fontColor.value} !important;\n\tfont-weight: bold;\n\tpadding: 0 2px 0 2px;\n\tborder-radius: 3px;\n\tbackground-color: ${color} !important;\n}\n${container} .collapsed .tagline .author.${selector},\n${container} .collapsed .crosspost-preview-tagline .author.${selector} {\n\tcolor: white !important;\n\tbackground-color: #AAA !important;\n}\n${container} .tagline .author.${selector}:hover,\n${container} .crosspost-preview-tagline .author.${selector}:hover {\n\tbackground-color: ${hoverColor} !important;\n\ttext-decoration: none !important;\n}\n\t`);\n}\n\nfunction doTextColor(selector, colorData) {\n\tconst color = colorData.color;\n\tconst nightmodeColor = colorData.nightmodeColor || colorData.color;\n\tbatch(`\n.tagline .author.${selector} {\n\tcolor: ${color} !important;\n}\n.res-nightmode .tagline .author.${selector} {\n\tcolor: ${nightmodeColor} !important;\n}\n\t`);\n}\n\nfunction generateHoverColor(color) { // generate a darker color\n\tif (!(/^#[0-9A-F]{6}$/i).test(color)) throw new Error('Input color must be a six digit hex value');\n\tlet R = parseInt(color.substr(1, 2), 16);\n\tlet G = parseInt(color.substr(3, 2), 16);\n\tlet B = parseInt(color.substr(5, 2), 16);\n\t// R = R + 0.25 *(255-R); // 25% lighter\n\tR = Math.round(0.75 * R) + 256; // we add 256 to add a 1 before the color in the hex format\n\tG = Math.round(0.75 * G) + 256; // then we remove the 1, this have for effect to\n\tB = Math.round(0.75 * B) + 256; // add a 0 before one char color in hex format (i.e. 0xA -> 0x10A -> 0x0A)\n\treturn `#${R.toString(16).substr(1)}${G.toString(16).substr(1)}${B.toString(16).substr(1)}`;\n}\n\nfunction generateHoverColors() { // apply generateHoverColor on all option\n\ttry {\n\t\tfor (const option of ['selfColor', 'OPColor', 'adminColor', 'friendColor', 'modColor', 'firstCommentColor', 'alumColor']) {\n\t\t\tconst current = (Options.stage.get(module.moduleID) || module.options)[option].value;\n\t\t\tOptions.set(module.moduleID, option, generateHoverColor(current));\n\t\t}\n\t\tAlert.open('Saved, but not yet updated in settings console. Reload page without saving to see new values.');\n\t} catch (e) {\n\t\tAlert.open(i18n('userHighlightColorCouldNotBeGenerated'));\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { ajax, i18n } from '../environment';\nimport * as Modules from '../core/modules';\nimport {\n\tclick,\n\tCreateElement,\n\tdowncast,\n\tformatDate,\n\tformatDateDiff,\n\tformatNumber,\n\tgetUserInfo,\n\tusernameSelector,\n\tgetUsernameFromLink,\n\tloggedInUser,\n\tstring,\n\tThing,\n} from '../utils';\nimport * as CommentNavigator from './commentNavigator';\nimport * as Hover from './hover';\nimport * as QuickMessage from './quickMessage';\nimport * as UserHighlight from './userHighlight';\nimport * as UserTagger from './userTagger';\n\nexport const module: Module<*> = new Module('userInfo');\n\nmodule.moduleName = 'userInfoName';\nmodule.category = 'usersCategory';\nmodule.description = 'userInfoDesc';\nmodule.options = {\n\thoverInfo: {\n\t\ttitle: 'userInfoHoverInfoTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoHoverInfoDesc',\n\t},\n\tuseQuickMessage: {\n\t\ttitle: 'userInfoUseQuickMessageTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoUseQuickMessageDesc',\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\thoverDelay: {\n\t\ttitle: 'userInfoHoverDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '800',\n\t\tdescription: 'userInfoHoverDelayDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'userInfoFadeDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'userInfoFadeDelayDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'userInfoFadeSpeedTitle',\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'userInfoFadeSpeedDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\tgildComments: {\n\t\ttitle: 'userInfoGildCommentsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoGildCommentsDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\thighlightButton: {\n\t\ttitle: 'userInfoHighlightButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoHighlightButtonDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\thighlightColor: {\n\t\ttitle: 'userInfoHighlightColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#5544CC',\n\t\tdescription: 'userInfoHighlightColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightButton.value,\n\t},\n\thighlightColorHover: {\n\t\ttitle: 'userInfoHighlightColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#6677AA',\n\t\tdescription: 'userInfoHighlightColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightButton.value,\n\t},\n};\n\nexport const highlightedUsers = {};\n\nmodule.contentStart = () => {\n\tif (module.options.hoverInfo.value) {\n\t\tHover.infocard(module.moduleID)\n\t\t\t.options({\n\t\t\t\twidth: 475,\n\t\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t\t})\n\t\t\t.populateWith(showUserInfo)\n\t\t\t.watch(usernameSelector);\n\t}\n};\n\nasync function showUserInfo(card) {\n\tconst username = getUsernameFromLink(card.getCheckedTarget());\n\n\tif (!username) {\n\t\tconsole.error(i18n('userInfoInvalidUsernameLink'));\n\t\treturn;\n\t}\n\n\tconst thing = Thing.from(card.getCheckedTarget());\n\tlet data;\n\n\ttry {\n\t\t({ data } = await getUserInfo(username));\n\t} catch (e) {\n\t\treturn [null, i18n('userInfoUserNotFound')];\n\t}\n\n\tif (data.is_suspended) {\n\t\treturn [null, i18n('userInfoUserSuspended')];\n\t}\n\n\tconst d = new Date(data.created_utc * 1000);\n\n\tconst header = string.html`\n\t\t<div>\n\t\t\t<a href=\"/user/${data.name}\">/u/${data.name}</a>\n\t\t \t(<a href=\"/user/${data.name}/submitted/\">${i18n('userInfoLinks')}</a>)\n\t\t \t(<a href=\"/user/${data.name}/comments/\">${i18n('userInfoComments')}</a>)\n\t\t</div>\n\t`;\n\n\tif (loggedInUser()) {\n\t\tconst button = CreateElement.fancyToggleButton(\n\t\t\ti18n('userInfoAddRemoveFriends'),\n\t\t\t'',\n\t\t\t() => data.is_friend,\n\t\t\tasync state => {\n\t\t\t\tajax({\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\turl: `/api/${state ? 'friend' : 'unfriend'}`,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\ttype: 'friend',\n\t\t\t\t\t\tname: data.name,\n\t\t\t\t\t\tcontainer: `t2_${(await getUserInfo()).data.id}`,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tajax.invalidate({ url: `/user/${data.name}/about.json` });\n\t\t\t},\n\t\t);\n\t\tbutton.style.marginLeft = '12px';\n\t\theader.appendChild(button);\n\t}\n\n\tcard.populate([header]);\n\n\tconst $body = $('<div id=\"authorInfoToolTip\" />');\n\n\tlet userHTML = string.escape`\n\t\t<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoRedditorSince')}</div> <div class=\"fieldPair-text\">${formatDate(d)} (${formatDateDiff(d)})</div></div>\n\t\t<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoPostKarma')}</div> <div class=\"fieldPair-text\">${formatNumber(data.link_karma)}</div></div>\n\t\t<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoCommentKarma')}</div> <div class=\"fieldPair-text\">${formatNumber(data.comment_karma)}</div></div>\n\t`;\n\n\tconst userTaggerEnabled = Modules.isRunning(UserTagger);\n\tconst userTag = userTaggerEnabled && await UserTagger.Tag.get(data.name);\n\n\tif (userTaggerEnabled) {\n\t\tuserHTML += `<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoUserTag')}</div> <div class=\"fieldPair-text\" style=\"display:flex\"><a class=\"author\" style=\"display: none;\" href=\"/u/${data.name}\"/></div></div>`;\n\t}\n\n\tif (userTag && userTag.link) {\n\t\tconst links = userTag.link.split(/\\s/).reduce((acc, url) => acc + string.escape`<a target=\"_blank\" rel=\"noopener noreferer\" href=\"${url}\">${url.replace(/^https?:\\/\\/(www\\.)?/, '')}</a>`, '');\n\t\tuserHTML += `<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoLink')}</div> <div class=\"fieldPair-text\">${links}</div></div>`;\n\t}\n\n\tuserHTML += string.escape`\n\t\t<div class=\"clear\"></div>\n\t\t<div class=\"bottomButtons\">\n\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" class=\"blueButton composeButton\" href=\"/message/compose/?to=${data.name}\"><img src=\"https://redditstatic.s3.amazonaws.com/mailgray.png\"> ${i18n('userInfoSendMessage')}</a>\n\t`;\n\n\tif (data.is_gold) {\n\t\tuserHTML += string.escape`<a target=\"_blank\" rel=\"noopener noreferer\" class=\"blueButton\" href=\"/gold/about\">${i18n('userInfoUserHasRedditGold')}</a>`;\n\t} else {\n\t\tuserHTML += string.escape`<a target=\"_blank\" rel=\"noopener noreferer\" id=\"gildUser\" class=\"blueButton\" href=\"/gold?goldtype=gift&recipient=${data.name}\">${i18n('userInfoGiftRedditGold')}</a>`;\n\t}\n\n\tif (module.options.highlightButton.value) {\n\t\tconst isHighlight = !highlightedUsers[data.id];\n\t\tuserHTML += string.escape`<div class=\"${isHighlight ? 'blueButton' : 'redButton'}\" id=\"highlightUser\" data-userid=\"${data.id}\">${isHighlight ? i18n('userInfoHighlight') : i18n('userInfoUnhighlight')}</div>`;\n\t}\n\n\tif (userTag) {\n\t\tconst getButton = () => string.html`<div class=\"${userTag.ignored ? 'redButton' : 'blueButton'}\" id=\"ignoreUser\">&empty; ${userTag.ignored ? i18n('userInfoUnignore') : i18n('userInfoIgnore')}</div>`;\n\n\t\t$body.on('click', '#ignoreUser', (e: Event) => {\n\t\t\tif (e.currentTarget.classList.contains('blueButton')) userTag.ignore();\n\t\t\telse userTag.unignore();\n\t\t\te.currentTarget.replaceWith(getButton());\n\t\t});\n\n\t\tuserHTML += getButton().outerHTML;\n\t}\n\n\tuserHTML += '<div class=\"clear\"></div></div>'; // closes bottomButtons div\n\n\t$body.append(userHTML);\n\n\tif (userTag) {\n\t\tuserTag.add(downcast($body.find('.author').get(0), HTMLAnchorElement), { renderTaggingIcon: true });\n\t}\n\n\tif (module.options.highlightButton.value) {\n\t\t$body.find('#highlightUser').on('click', ({ currentTarget }: Event) => {\n\t\t\tconst userid = currentTarget.getAttribute('data-userid');\n\t\t\ttoggleUserHighlight(currentTarget, userid, thing);\n\t\t});\n\t}\n\tif (module.options.gildComments.value && thing && thing.isComment()) {\n\t\t$body.find('#gildUser').on('click', (e: MouseEvent) => {\n\t\t\tif (!thing || e.ctrlKey || e.metaKey || e.shiftKey) return;\n\n\t\t\tcard.close();\n\t\t\tconst giveGold = thing.entry.querySelector('.give-gold');\n\t\t\tclick(giveGold);\n\t\t\te.preventDefault();\n\t\t});\n\t}\n\n\tif (module.options.useQuickMessage.value && Modules.isRunning(QuickMessage)) {\n\t\t$body.find('a.composeButton').on('click', (e: JQueryMouseEventObject) => {\n\t\t\tif (e.which === 1) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tlet entryUrl;\n\t\t\t\tif (QuickMessage.module.options.linkToCurrentPage.value && thing) {\n\t\t\t\t\tconst permalink = thing.getCommentPermalink();\n\t\t\t\t\tif (permalink) {\n\t\t\t\t\t\tentryUrl = permalink.href;\n\t\t\t\t\t\tif (!entryUrl.includes('?context=')) entryUrl += '?context=10';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tQuickMessage.openQuickMessageDialog({\n\t\t\t\t\tto: data.name,\n\t\t\t\t\tbody: entryUrl,\n\t\t\t\t});\n\t\t\t\tcard.close();\n\t\t\t}\n\t\t});\n\t}\n\n\treturn [null, $body];\n}\n\nfunction toggleUserHighlight(authorInfoToolTipHighlight, userid, thing) {\n\tif (highlightedUsers[userid]) {\n\t\thighlightedUsers[userid].remove();\n\t\tdelete highlightedUsers[userid];\n\t\ttoggleUserHighlightButton(authorInfoToolTipHighlight, true);\n\t} else {\n\t\thighlightedUsers[userid] = UserHighlight.highlightUser(userid);\n\t\ttoggleUserHighlightButton(authorInfoToolTipHighlight, false);\n\t}\n\n\tif (Modules.isRunning(CommentNavigator) && CommentNavigator.module.options.openOnHighlightUser.value) {\n\t\tCommentNavigator.setCategory('highlighted', true);\n\t\tif (thing) CommentNavigator.updateFromSelected(thing);\n\t\tCommentNavigator.toggle(false, true);\n\t}\n}\n\nfunction toggleUserHighlightButton(authorInfoToolTipHighlight, canHighlight) {\n\t$(authorInfoToolTipHighlight)\n\t\t.toggleClass('blueButton', canHighlight)\n\t\t.toggleClass('redButton', !canHighlight)\n\t\t.text(canHighlight ? i18n('userInfoHighlight') : i18n('userInfoUnhighlight'));\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { SelectedThing, addFloater, isPageType, string } from '../utils';\nimport * as SettingsNavigation from './settingsNavigation';\nimport { Expando } from './showImages/expando';\n\nexport const module: Module<*> = new Module('wheelBrowse');\n\nmodule.moduleName = 'wheelBrowseName';\nmodule.category = 'browsingCategory';\nmodule.description = 'wheelBrowseDesc';\n\nlet behavior: ?(HTMLElement => (('down' | 'up', Event) => void));\n\nmodule.contentStart = () => {\n\tif (!behavior && isPageType('linklist')) useLinklistBehavior();\n\tif (!behavior) return;\n\n\tconst wheelBrowseWidget = string.html`<div hidden class=\"res-wheel-browse\"></div>`;\n\n\tconst onWheel = behavior(wheelBrowseWidget);\n\n\tSelectedThing.addListener(current => {\n\t\twheelBrowseWidget.hidden = !current;\n\t}, 'instantly');\n\n\twheelBrowseWidget.addEventListener('wheel', (e: WheelEvent) => {\n\t\te.stopImmediatePropagation();\n\t\te.preventDefault();\n\t\tonWheel(e.deltaY > 0 ? 'down' : 'up', e);\n\t});\n\n\taddFloater(wheelBrowseWidget, { order: -1 });\n};\n\nexport function setCallback(v: typeof behavior) {\n\tbehavior = v;\n}\n\nfunction useLinklistBehavior() {\n\tconst galleryPart = string.html`<div hidden class=\"res-wheel-browse-gallery\"></div>`;\n\tlet media;\n\n\tfunction updateGalleryPart(direction?: 'up' | 'down') {\n\t\tconst expando = Expando.getEntryExpandoFrom(SelectedThing.current);\n\t\tmedia = expando && expando.media;\n\n\t\tgalleryPart.hidden = !(\n\t\t\tmedia &&\n\t\t\tmedia.element.classList.contains('res-gallery-slideshow') &&\n\t\t\t( // Do not show the gallery scroll widget when at the end of the gallery\n\t\t\t\t!(direction === 'down' && media.element.querySelector('[last-piece=true]')) &&\n\t\t\t\t!(direction === 'up' && media.element.querySelector('[first-piece=true]'))\n\t\t\t)\n\t\t);\n\t}\n\n\tsetCallback(wheelBrowseWidget => {\n\t\twheelBrowseWidget.addEventListener('click', () => SettingsNavigation.open(module.moduleID));\n\t\twheelBrowseWidget.addEventListener('mouseenter', () => { updateGalleryPart(); });\n\t\twheelBrowseWidget.append(galleryPart);\n\n\t\treturn (direction, { target }) => {\n\t\t\tif (target === wheelBrowseWidget) {\n\t\t\t\tSelectedThing.move(direction, { allowMediaBrowse: true, scrollStyle: 'top' });\n\t\t\t} else if (target === galleryPart) {\n\t\t\t\tconst clicker = media && media.element.querySelector(direction === 'down' ? '.res-gallery-next' : '.res-gallery-previous');\n\t\t\t\tif (clicker) clicker.click();\n\t\t\t\tupdateGalleryPart(direction);\n\t\t\t}\n\t\t};\n\t});\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { flow, map } from 'lodash/fp';\nimport { Module } from '../core/module';\nimport {\n\tSelectedThing,\n\tThing,\n\taddFloater,\n\tcaseBuilder,\n\tdowncast,\n\tfilterMap,\n\tframeThrottle,\n\tstring,\n\tisCurrentSubreddit,\n\tempty,\n\twatchForThings,\n} from '../utils';\nimport * as Options from '../core/options';\nimport * as Cases from './filteReddit/cases';\nimport * as CommandLine from './commandLine';\nimport * as UserInfo from './userInfo';\nimport * as WheelBrowse from './wheelBrowse';\n\nexport const module: Module<*> = new Module('commentNavigator');\n\nmodule.moduleName = 'commentNavName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentNavDesc';\nmodule.options = {\n\tshowByDefault: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentNavigatorShowByDefaultDesc',\n\t\ttitle: 'commentNavigatorShowByDefaultTitle',\n\t},\n\topenOnHighlightUser: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentNavigatorOpenOnHighlightUserDesc',\n\t\ttitle: 'commentNavigatorOpenOnHighlightUserTitle',\n\t\tadvanced: true,\n\t},\n\tpopularConditions: {\n\t\ttype: 'text',\n\t\tvalue: JSON.stringify({ type: 'commentLength', op: '>', kind: 'words', val: 0 }),\n\t\tdescription: 'commentNavigatorPopularConditionsDesc',\n\t\ttitle: 'commentNavigatorPopularConditionsTitle',\n\t\tadvanced: true,\n\t},\n};\nmodule.include = [\n\t'comments',\n];\n\nmodule.contentStart = () => {\n\tinstallEntryElement();\n\n\tif (module.options.showByDefault.value) {\n\t\tcommentNav();\n\t}\n\n\tWheelBrowse.setCallback(wheelBrowseWidget => {\n\t\twheelBrowseWidget.addEventListener('click', () => { toggle(); });\n\n\t\treturn direction => {\n\t\t\tif (direction === 'up') move('up');\n\t\t\telse move('down');\n\t\t};\n\t});\n\n\tconst getMatchingCategory = async val => val && (await getCategories()).find(({ category }) => category.startsWith(val));\n\tCommandLine.registerCommand('nav', 'nav [sortType] - open the comment navigator',\n\t\tasync (command, val) => {\n\t\t\tconst { category: matchingCategory = '' } = await getMatchingCategory(val) || {};\n\t\t\treturn `navigate comments by [(${(await getCategories()).map(({ category }) => matchingCategory === category ? `<b>${category}</b>` : category).join('|')})]`;\n\t\t},\n\t\tasync (command, val) => {\n\t\t\tconst { category: matchingCategory = '' } = await getMatchingCategory(val) || {};\n\t\t\tif (matchingCategory) setCategory(matchingCategory);\n\t\t\ttoggle(false, true);\n\t\t},\n\t);\n};\n\nconst initialize = _.once(() => {\n\t// `getPosts` is memoized. Keep up to date by reseting it when new comments loads\n\twatchForThings(['comment'], () => { _memoized.cache.clear(); });\n\n\tSelectedThing.addListener(updateFromSelected, 'instantly');\n\tif (SelectedThing.current) updateFromSelected(SelectedThing.current);\n});\n\nconst sortTypes: {\n\t[string]: {|\n\t\ttitle: string,\n\t\tgetElements?: () => Array<HTMLElement> | NodeList<*>,\n\t\tgetThings?: () => Promise<Array<Thing>>,\n\t\tconditions?: *, // Used in conjunction with filteReddit\n\t\tnonlinear?: boolean,\n\t\tdisabled?: () => boolean,\n\t|},\n} = {\n\tcustom: {\n\t\ttitle: 'Navigate custom category',\n\t\tconditions: { type: 'false' }, // Must be updated by `updateCustomCategory`\n\t},\n\tcomment: {\n\t\ttitle: 'Navigate comments',\n\t\tconditions: { type: 'true' },\n\t},\n\tsubmitter: {\n\t\ttitle: 'Navigate comments made by the post submitter',\n\t\tconditions: { type: 'userAttr', attr: 'submitter' },\n\t},\n\tmoderator: {\n\t\ttitle: 'Navigate comments made by moderators',\n\t\tconditions: { type: 'userAttr', attr: 'moderator' },\n\t},\n\tfriend: {\n\t\ttitle: 'Navigate comments made by users on your friends list',\n\t\tconditions: { type: 'userAttr', attr: 'friend' },\n\t},\n\tme: {\n\t\ttitle: 'Navigate comments made by you',\n\t\tconditions: { type: 'userAttr', attr: 'me' },\n\t},\n\tadmin: {\n\t\ttitle: 'Navigate comments made by reddit admins',\n\t\tconditions: { type: 'userAttr', attr: 'admin' },\n\t},\n\thighlighted: {\n\t\ttitle: 'Navigate comments made by highlighted user',\n\t\tgetElements() {\n\t\t\tconst highlightedUserSelector = Object.keys(UserInfo.highlightedUsers)\n\t\t\t\t.map(key => `.author.id-t2_${key}`)\n\t\t\t\t.join(', ');\n\t\t\treturn highlightedUserSelector ? document.querySelectorAll(highlightedUserSelector) : [];\n\t\t},\n\t},\n\ttagged: {\n\t\ttitle: 'Navigate comments made by tagged users',\n\t\tgetElements: () => document.querySelectorAll('.tagline .userTagLink.hasTag'),\n\t},\n\tgilded: {\n\t\ttitle: 'Navigate through gilded comments',\n\t\tgetElements: () => document.querySelectorAll('.gilded-icon'),\n\t},\n\tIAmA: {\n\t\ttitle: 'Navigate through questions that have been answered by the submitter (most useful in /r/IAmA)',\n\t\tgetThings: async () => filterMap(await getPosts('submitter'), thing => thing.parent ? [thing.parent] : undefined),\n\t},\n\timages: {\n\t\ttitle: 'Navigate through comments with images',\n\t\tconditions: { type: 'hasExpando', types: ['image'] },\n\t},\n\tvideos: {\n\t\ttitle: 'Navigate through comments with videos',\n\t\tconditions: { type: 'hasExpando', types: ['video'] },\n\t},\n\tpopular: {\n\t\ttitle: 'Navigate through comments in order of highest vote total',\n\t\tasync getThings() {\n\t\t\treturn flow(\n\t\t\t\tfilterMap(thing => {\n\t\t\t\t\tconst score = thing.getScore();\n\t\t\t\t\tif (typeof score === 'number') {\n\t\t\t\t\t\treturn [[score, thing]];\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tarr => arr.sort((a, b) => b[0] - a[0]),\n\t\t\t\tmap(([, thing]) => thing),\n\t\t\t)(await getPosts('comment'));\n\t\t},\n\t\tget conditions() { return JSON.parse(module.options.popularConditions.value); },\n\t\tnonlinear: true,\n\t},\n\tnew: {\n\t\ttitle: 'Navigate through new comments (Reddit Gold users only)',\n\t\tgetElements: () => document.querySelectorAll('.new-comment'),\n\t\tdisabled: () => !document.body.querySelector('.gold-accent.comment-visits-box'),\n\t},\n\tupvoted: {\n\t\ttitle: 'Navigate through comments you upvoted',\n\t\tconditions: { type: 'voteType', kind: 'upvote' },\n\t},\n};\n\nexport function updateCustomConditions(conditions: *) {\n\tsortTypes.custom.conditions = conditions;\n}\n\nfunction getCategories() {\n\treturn Promise.all(\n\t\tObject.entries(sortTypes)\n\t\t\t.filter(([, { disabled }]) => !disabled || !disabled())\n\t\t\t.map(async ([category, { title }]) => ({\n\t\t\t\tcategory,\n\t\t\t\tselected: category === currentCategory,\n\t\t\t\tsize: (await getVisiblePosts(category)).length,\n\t\t\t\ttitle,\n\t\t\t})),\n\t).then(v =>\n\t\tv.filter(({ size, selected }) => selected || size),\n\t);\n}\n\nconst _memoized = _.memoize(async (category: Category): Promise<Thing[]> => {\n\tconst { getElements, getThings, conditions } = sortTypes[category];\n\n\tlet things;\n\n\tif (getThings) {\n\t\tthings = _.uniq(await getThings());\n\t} else if (getElements) {\n\t\tthings = _.uniq(Array.from(getElements()).map(e => Thing.from(e)).filter(Boolean));\n\t} else {\n\t\tthings = Thing.things().filter(thing => thing.isComment());\n\t}\n\n\treturn Cases.filterThings(things, conditions);\n});\nconst getPosts = (category: Category = currentCategory) => _memoized(category);\nconst getVisiblePosts = category => getPosts(category).then(v => v.filter(thing => thing.isContentVisible()));\nlet lastNavigatedTo: ?Thing = null;\n\ntype Category = $Keys<typeof sortTypes>;\nlet currentCategory: Category = isCurrentSubreddit('IAmA', 'casualiama') ? 'IAmA' : 'popular';\nlet isOpen = false;\n\nconst commentNav = _.once(() => {\n\tconst box = string.html`\n\t\t<div id=\"REScommentNavBox\">\n\t\t\t<select id=\"commentNavBy\">\n\t\t\t\t<option selected value=\"${currentCategory}\">${currentCategory}</option>\n\t\t\t</select>\n\t\t\t<details id=\"commentNavByConditions\" hidden>\n\t\t\t\t<summary>Conditions</summary>\n\t\t<div class=\"builderItem\"></div>\n\t\t\t</details>\n\t\t\t<hr style=\"margin-bottom: 0\">\n\t\t\t<div id=\"commentNavButtons\">\n\t\t\t\t<button id=\"commentNavUp\">&#x25B2;</button>\n\t\t\t\t<div id=\"commentNavPostCount\"></div>\n\t\t\t\t<button id=\"commentNavDown\">&#x25BC;</button>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n\tconst select = downcast(box.querySelector('#commentNavBy'), HTMLSelectElement);\n\n\tselect.addEventListener('focus', async () => {\n\t\tempty(select);\n\t\tconst categories = await getCategories();\n\t\tselect.append(\n\t\t\t...categories.map(({ category, selected, size }) => string.html`\n\t\t\t\t<option ${selected && 'selected'} value=\"${category}\">${category}<span> (${size})</span></option>\n\t\t\t`),\n\t\t);\n\t}, true);\n\tselect.addEventListener('keyup', ({ which }: KeyboardEvent) => { if (which === 27 /* esc */) select.blur(); });\n\tselect.addEventListener('change', () => {\n\t\tconst selectedItem = select.options.item(select.selectedIndex);\n\t\tif (selectedItem !== null) {\n\t\t\tsetCategory(selectedItem.value);\n\t\t}\n\t\tupdateBuilder();\n\t});\n\n\tconst postCount = box.querySelector('#commentNavPostCount');\n\tpostCount.addEventListener('click', () => moveTo(lastNavigatedTo));\n\tconst up = downcast(box.querySelector('#commentNavUp'), HTMLButtonElement);\n\tup.addEventListener('click', () => move('up'));\n\tconst down = downcast(box.querySelector('#commentNavDown'), HTMLButtonElement);\n\tdown.addEventListener('click', () => move('down'));\n\n\taddFloater(box, { separate: true });\n\n\tconst ele = box.querySelector('#commentNavByConditions');\n\tele.addEventListener('click', _.once(() => {\n\t\tconst builderCases = Cases.getByContext('comment');\n\t\tconst group = Cases.resolveGroup(Cases.getGroup('any', [sortTypes[currentCategory].conditions]), true, true);\n\t\tconst $builderBlock = caseBuilder.drawBuilderBlock(group, builderCases, false);\n\t\t$builderBlock.on('change input', frameThrottle(() => {\n\t\t\tmodule.options.popularConditions.value = JSON.stringify(caseBuilder.readBuilderBlock($builderBlock, builderCases));\n\t\t\tOptions.save(module.options.popularConditions);\n\t\t\tsetCategory(currentCategory, true);\n\t\t}));\n\t\tconst wrapper = ele.querySelector('.builderItem');\n\t\twrapper.append($builderBlock.get(0));\n\t}));\n\n\tconst updateBuilder = () => {\n\t\tele.hidden = currentCategory !== 'popular';\n\t};\n\n\tfunction refresh(index, length, lastNavigatedToIndex) {\n\t\tup.disabled = lastNavigatedToIndex <= 0;\n\t\tdown.disabled = lastNavigatedToIndex >= length - 1;\n\t\tpostCount.textContent = length ? `${lastNavigatedToIndex === index ? '' : '~'}${lastNavigatedToIndex + 1}/${length}` : 'none';\n\t}\n\n\tfunction open() { isOpen = true; box.hidden = false; }\n\tfunction close() { isOpen = false; box.hidden = true; }\n\n\tinitialize();\n\tupdateBuilder();\n\tisOpen = true;\n\n\treturn {\n\t\tselect,\n\t\trefresh,\n\t\topen,\n\t\tclose,\n\t};\n});\n\nfunction installEntryElement() {\n\tconst location = document.body.querySelector('.commentarea .panestack-title');\n\tif (!location) return;\n\n\tconst commentNavToggle = string.html`<div class=\"res-commentNavToggle\">navigate by</div>`;\n\tconst choices = string.html`<div class=\"res-commentNavToggle-choices\"><div>`;\n\tcommentNavToggle.append(choices);\n\tlocation.append(commentNavToggle);\n\n\tcommentNavToggle.addEventListener('mouseenter', async () => {\n\t\tempty(choices);\n\t\tconst categories = await getCategories();\n\t\tchoices.append(...categories.map(({ category, title, size }) => {\n\t\t\tconst element = string.html`\n\t\t\t\t<div class=\"res-commentNavToggle-type\" title=\"${title}\" category=\"${category}\">${category} (${size})</div>\n\t\t\t`;\n\t\t\telement.addEventListener('click', () => { setCategory(category); });\n\t\t\treturn element;\n\t\t}));\n\t});\n}\n\nexport async function updateFromSelected(selected: Thing) {\n\tconst posts = await getVisiblePosts();\n\n\tif (\n\t\tposts.includes(selected) &&\n\t\t(\n\t\t\t// Non-linear comment categories are not sorted by distance from top,\n\t\t\t// so do not disturb the selection by automatically updating\n\t\t\t!sortTypes[currentCategory].nonlinear ||\n\t\t\t// But allow change if `selected` is adjecent to `lastNavigatedTo`\n\t\t\tMath.abs(posts.indexOf(lastNavigatedTo) - posts.indexOf(selected)) <= 1\n\t\t)\n\t) {\n\t\tlastNavigatedTo = selected;\n\t}\n\n\tcommentNav().refresh(posts.indexOf(selected), posts.length, posts.indexOf(lastNavigatedTo));\n}\n\nexport function setCategory(category: Category, keepSelected: boolean = false) {\n\tcurrentCategory = category;\n\tlastNavigatedTo = null;\n\n\tcommentNav().select.value = category;\n\n\t_memoized.cache.delete(currentCategory);\n\n\tif (keepSelected) {\n\t\tmove('refresh');\n\t} else {\n\t\tmove('top');\n\t}\n}\n\nexport function toggle(focus: boolean = false, open: boolean = !isOpen) {\n\tif (!open) {\n\t\tcommentNav().close();\n\t} else {\n\t\tcommentNav().open();\n\t\tif (focus) commentNav().select.focus();\n\t}\n}\n\nexport async function move(change: 'up' | 'down' | 'top' | 'refresh') {\n\tinitialize();\n\n\tif (!sortTypes[currentCategory].nonlinear) {\n\t\t// Return to the last navigated post if currently moved beyond it in the opposite direction\n\t\tconst all = Thing.things();\n\t\tconst lastNavigatedToIndex = all.indexOf(lastNavigatedTo);\n\t\tconst selectedIndex = all.indexOf(SelectedThing.current);\n\n\t\tif (\n\t\t\tchange === 'down' && selectedIndex < lastNavigatedToIndex ||\n\t\t\tchange === 'up' && selectedIndex > lastNavigatedToIndex\n\t\t) {\n\t\t\tmoveTo(lastNavigatedTo);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tconst visible = await getVisiblePosts();\n\n\tif (change === 'top') {\n\t\tmoveTo(visible[0]);\n\t} else {\n\t\t// Look through all posts in case the current post is not visible anymore\n\t\tconst all = [...(await getPosts())]; // Prevent `reverse` from mutatating source\n\t\tif (change === 'up') all.reverse();\n\t\tconst comment = all.slice(all.indexOf(lastNavigatedTo) + (change === 'refresh' ? 0 : 1)).find(v => visible.includes(v));\n\t\tmoveTo(comment);\n\t}\n}\n\nfunction moveTo(thing: ?Thing) {\n\tif (!thing) return;\n\n\tlastNavigatedTo = thing;\n\t// Force selection to run callbacks in case `thing` is already selected\n\tSelectedThing.set(thing, { scrollStyle: 'top' }, true);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('easterEgg');\n\nmodule.moduleName = 'easterEggName';\nmodule.category = 'coreCategory';\nmodule.description = 'easterEggDesc';\nmodule.hidden = true;\n\nlet konami;\n\nmodule.contentStart = () => {\n\tkonami = createKonami(() => {\n\t\tconst $baconBit = $('<div>', { id: 'baconBit' }).appendTo(document.body);\n\t\tNotifications.showNotification({\n\t\t\theader: 'RES Easter Eggies!',\n\t\t\tmessage: 'Mmm, bacon!',\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: 'konami',\n\t\t});\n\t\tsetTimeout(() => $baconBit.addClass('makeitrain'), 500);\n\t});\n};\n\nexport function konamiActive(): boolean {\n\treturn !!konami && konami.almostThere;\n}\n\n/*\n * Konami-JS ~\n * :: Now with support for touch events and multiple instances for\n * :: those situations that call for multiple easter eggs!\n * Code: https://github.com/snaptortoise/konami-js\n * Examples: http://www.snaptortoise.com/konami-js\n * Copyright (c) 2009 George Mandis (georgemandis.com, snaptortoise.com)\n * Version: 1.4.6 (3/2/2016)\n * Licensed under the MIT License (http://opensource.org/licenses/MIT)\n * Tested in: Safari 4+, Google Chrome 4+, Firefox 3+, IE7+, Mobile Safari 2.2.1 and Dolphin Browser\n */\nfunction createKonami(callback) {\n\tconst konami = {\n\t\tinput: '',\n\t\tpattern: '38384040373937396665',\n\t\talmostThere: false,\n\t\tprepattern: '383840403739373966',\n\t\tload: () => {\n\t\t\tdocument.addEventListener('keydown', (event: KeyboardEvent) => {\n\t\t\t\tkonami.input += event.keyCode;\n\n\t\t\t\tif (konami.input.length > konami.pattern.length) {\n\t\t\t\t\tkonami.input = konami.input.substr((konami.input.length - konami.pattern.length));\n\t\t\t\t}\n\n\t\t\t\tif (konami.input === konami.pattern) {\n\t\t\t\t\tkonami.code();\n\t\t\t\t\tkonami.input = '';\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} else if ((konami.input === konami.prepattern) || (konami.input.substr(2, konami.input.length) === konami.prepattern)) {\n\t\t\t\t\tkonami.almostThere = true;\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tkonami.almostThere = false;\n\t\t\t\t\t\tkonami.input = '';\n\t\t\t\t\t}, 2000);\n\t\t\t\t}\n\t\t\t}, false);\n\t\t},\n\t\tcode: () => {},\n\t};\n\n\tif (typeof callback === 'function') {\n\t\tkonami.code = callback;\n\t\tkonami.load();\n\t}\n\n\treturn konami;\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport { watchForThings, forEachChunked } from '../utils';\n\nexport const module: Module<*> = new Module('hideChildComments');\n\nmodule.moduleName = 'hideChildCommentsName';\nmodule.category = 'commentsCategory';\nmodule.description = 'hideChildCommentsDesc';\nmodule.options = {\n\tautomatic: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'hideChildCommentsAutomaticDesc',\n\t\ttitle: 'hideChildCommentsAutomaticTitle',\n\t},\n\tnested: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'hideChildCommentsNestedDesc',\n\t\ttitle: 'hideChildCommentsNestedTitle',\n\t},\n\thideNested: {\n\t\tdependsOn: options => options.nested.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'hideChildCommentsHideNestedDesc',\n\t\ttitle: 'hideChildCommentsHideNestedTitle',\n\t},\n};\nmodule.include = [\n\t'comments',\n];\n\nlet initialHide, toggleAllButton;\n\nmodule.beforeLoad = () => {\n\tinitialHide = module.options.automatic.value &&\n\t\t// ensure we're not in a permalinked post..\n\t\t!((/\\/comments\\/(?:\\w+)\\/(?:\\w+)\\/(\\w+)/).test(location.pathname));\n\n\twatchForThings(['comment'], addToggleChildrenButton);\n\twatchForThings(['post'], addToggleAllButton);\n};\n\nconst addToggleAllButton = _.once(thing => {\n\tconst menu = thing.element.querySelector('ul.buttons');\n\tif (!menu) return;\n\n\tfunction toggle(action) {\n\t\tconst includeChildren = module.options.nested.value && module.options.hideNested.value;\n\t\tconst selector = includeChildren ? '.thing.comment' : '.nestedlisting > .thing.comment';\n\t\tforEachChunked(document.querySelectorAll(`${selector} > .entry .toggleChildren[action=${action}]`), toggle => {\n\t\t\ttoggle.click();\n\t\t});\n\n\t\tif (action === 'hide') {\n\t\t\tinitialHide = true;\n\t\t\ta.setAttribute('action', 'show');\n\t\t\ta.setAttribute('title', 'Show all comments.');\n\t\t\ta.dataset.text = i18n('hideChildCommentsShowAllLinkLabel');\n\t\t} else {\n\t\t\tinitialHide = false;\n\t\t\ta.setAttribute('action', 'hide');\n\t\t\ta.setAttribute('title', 'Show only replies to original poster.');\n\t\t\ta.dataset.text = i18n('hideChildCommentsHideAllLinkLabel');\n\t\t}\n\t}\n\n\tconst li = document.createElement('li');\n\tconst a = document.createElement('a');\n\ta.setAttribute('href', '#');\n\ta.setAttribute('class', 'noCtrlF res-toggleAllChildren');\n\ta.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\ttoggle(a.getAttribute('action'));\n\t});\n\ttoggleAllButton = a;\n\n\ttoggle(initialHide ? 'hide' : 'show');\n\n\tli.appendChild(a);\n\tmenu.appendChild(li);\n});\n\nfunction addToggleChildrenButton(comment) {\n\tif (!module.options.nested.value && !comment.isTopLevelComment()) return;\n\tif (!comment.getNumberOfChildren()) return;\n\n\tconst children = comment.element.querySelector('div.child > .sitetable');\n\tconst menu = comment.element.querySelector('ul.buttons');\n\tif (!children || !menu) return;\n\n\tfunction toggle(action) {\n\t\tif (action === 'hide') {\n\t\t\tchildren.style.display = 'none';\n\t\t\ta.dataset.text = i18n('hideChildCommentsShowLinkLabel', comment.getNumberOfChildren());\n\t\t\ta.setAttribute('action', 'show');\n\t\t} else {\n\t\t\tchildren.style.display = '';\n\t\t\ta.dataset.text = i18n('hideChildCommentsHideLinkLabel');\n\t\t\ta.setAttribute('action', 'hide');\n\t\t}\n\n\t\tcomment.element.classList.toggle('res-children-hidden', action === 'hide');\n\t}\n\n\tconst li = document.createElement('li');\n\tconst a = document.createElement('a');\n\ta.setAttribute('href', '#');\n\ta.setAttribute('class', 'toggleChildren noCtrlF');\n\ta.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\ttoggle(a.getAttribute('action'));\n\t});\n\n\tconst hide = initialHide &&\n\t\t(module.options.hideNested.value || comment.isTopLevelComment());\n\ttoggle(hide ? 'hide' : 'show');\n\n\tli.appendChild(a);\n\tmenu.appendChild(li);\n}\n\nexport function toggleAll() {\n\tconst button = toggleAllButton;\n\tif (!button) throw new Error('Toggle all button not found');\n\tbutton.click();\n}\n\nexport function toggle(thing: *) {\n\tconst button = thing.entry.querySelector('a.toggleChildren');\n\tif (!button) throw new Error('Toggle button not found');\n\tbutton.click();\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { RES_NER_PAGE_HASH } from '../constants/urlHashes';\nimport { Module } from '../core/module';\nimport { Storage, ajax, context } from '../environment';\nimport {\n\taddFloater,\n\tHOUR,\n\tThing,\n\tSelectedThing,\n\taddCSS,\n\tscrollToElement,\n\tempty,\n\tregisterPage,\n\twatchForThings,\n\tdocumentLoggedInUser,\n\tisCurrentSubreddit,\n\tstring,\n} from '../utils';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('neverEndingReddit');\n\nmodule.moduleName = 'nerName';\nmodule.category = 'browsingCategory';\nmodule.description = 'nerDesc';\nmodule.options = {\n\treturnToPrevPage: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nerReturnToPrevPageDesc',\n\t\ttitle: 'nerReturnToPrevPageTitle',\n\t},\n\tautoLoad: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nerAutoLoadDesc',\n\t\ttitle: 'nerAutoLoadTitle',\n\t},\n\tpauseAfterEvery: {\n\t\tdependsOn: options => options.autoLoad.value,\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'nerPauseAfterEveryDesc',\n\t\ttitle: 'nerPauseAfterEveryTitle',\n\t},\n\tshowPauseButton: {\n\t\tdependsOn: options => options.autoLoad.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nerShowPauseButtonDesc',\n\t\ttitle: 'nerShowPauseButtonTitle',\n\t},\n\treversePauseIcon: {\n\t\tdependsOn: options => options.autoLoad.value && options.showPauseButton.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nerReversePauseIconDesc',\n\t\ttitle: 'nerReversePauseIconTitle',\n\t\tadvanced: true,\n\t},\n\tshowServerInfo: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nerShowServerInfoDesc',\n\t\ttitle: 'nerShowServerInfoTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n};\nmodule.exclude = [\n\t'wiki',\n\t'comments',\n\t'd2x',\n];\nmodule.shouldRun = () => !isCurrentSubreddit('dashboard');\n\nconst dupeSet = new Set();\nconst pauseReasonStorage = Storage.wrap('RESmodules.neverEndingReddit.pauseReason', (undefined: void | 'manual' | 'pauseAfterEvery'));\nlet pauseReason;\n\nmodule.beforeLoad = () => {\n\t// Loaded pages may repeat posts; remove those\n\twatchForThings(['post'], thing => {\n\t\t// `#siteTable` to avoid processing posts found in spotlight box\n\t\tif (document.contains(thing.element) && !thing.element.closest('#siteTable')) return;\n\t\tconst id = thing.getFullname();\n\t\tif (dupeSet.has(id)) thing.element.remove();\n\t\tdupeSet.add(id);\n\t}, { immediate: true });\n};\n\nmodule.go = async () => {\n\tpages[0] = { url: location.pathname, container: container(), nextPageUrl: retrieveNextPageUrl(container()) };\n\n\tconst loadReturnToPrevPage = initiateReturnToPrevPage();\n\tif (loadReturnToPrevPage) await loadReturnToPrevPage();\n\n\tif (module.options.autoLoad.value) {\n\t\tsetPause(await pauseReasonStorage.get());\n\n\t\tSelectedThing.addListener(current => {\n\t\t\tif (pauseReason) return;\n\t\t\tconst things = Thing.visibleThingElements();\n\t\t\tconst distanceFromBottom = things.length - (things.indexOf(current.element) + 1);\n\t\t\tif (distanceFromBottom === 1) prefetchNextPage();\n\t\t\telse if (distanceFromBottom < 1) loadNextPage();\n\t\t});\n\t}\n\n\tprepareNextPageLoad(false);\n};\n\nconst container = _.once(() => getLastSiteTable() || document.createElement('div'));\nconst pages: Array<{|\n\turl: string,\n\tcontainer: HTMLElement,\n\tnextPageUrl?: ?string,\n|}> = [];\n\nfunction retrieveNextPageUrl(container) {\n\tconst { buttons, next } = getNextPrevLinks(container);\n\tif (buttons) buttons.hidden = true;\n\treturn next;\n}\n\nconst getNextPageUrl = (page = pages.slice(-1)[0]): ?string => page.nextPageUrl;\nexport let loadNextPage: (opts?: { scrollToLoadWidget: boolean }) => void = () => {};\nlet refreshAutoLoad;\n\nfunction prepareNextPageLoad(displayEndBanner = true) {\n\tconst nextPageUrl = getNextPageUrl();\n\tif (!nextPageUrl) {\n\t\tif (displayEndBanner) endNER('No more pages');\n\t\treturn;\n\t}\n\n\tconst pauseAfterPages = parseInt(module.options.pauseAfterEvery.value, 10);\n\tif (module.options.autoLoad.value && pauseAfterPages) {\n\t\tif (pages.length % pauseAfterPages === 0) setPause('pauseAfterEvery');\n\t\telse if (pauseReason === 'pauseAfterEvery') setPause(null);\n\t}\n\n\tconst startPromise = new Promise(res => { loadNextPage = res; });\n\tconst donePromise = startPromise\n\t\t.then(() => loadPage(nextPageUrl, pages.length))\n\t\t.then(prepareNextPageLoad)\n\t\t.catch(e => {\n\t\t\tendNER(`Could not load the next page: ${e.message}`);\n\t\t\tconsole.error(e);\n\t\t});\n\n\tcreateLoaderWidget(startPromise, donePromise);\n\tif (refreshAutoLoad) refreshAutoLoad(false);\n}\n\nconst pauseButton = _.once(() => {\n\tconst element = $('<span>', {\n\t\tid: 'NREPause',\n\t\ttitle: 'Pause / Restart Never Ending Reddit',\n\t\tclick: () => setPause(pauseReason ? null : 'manual'),\n\t}).get(0);\n\taddFloater(element, { container: 'visibleAfterScroll' });\n\treturn element;\n});\n\nfunction setPause(source) {\n\tif (module.options.showPauseButton.value) {\n\t\tpauseButton().classList.toggle('paused', module.options.reversePauseIcon.value === !source);\n\t}\n\n\tpauseReason = source;\n\tif (pauseReason) pauseReasonStorage.set(source);\n\telse pauseReasonStorage.delete();\n\n\tif (refreshAutoLoad) refreshAutoLoad();\n}\n\nconst isNerUrl = () => location.hash.startsWith(RES_NER_PAGE_HASH);\n\nfunction setReturnToPage(selected: Thing) {\n\tlet number = 0;\n\n\tconst $earlierMarkers = $(selected.element).parent().prevAll('.NERPageMarker');\n\tconst marker = $earlierMarkers.get(0);\n\tif (marker) number = parseInt(marker.dataset.number, 10);\n\n\t// replaceState is expensive, so avoid it when possible\n\tconst { ner: saved } = history.state || {};\n\tif (saved && saved.number === number) return;\n\n\t// When restoring this page, the brower's auto scroll may not work properly; let selectedEntry scroll back to the thing\n\tif ($earlierMarkers.length > 1) history.scrollRestoration = 'manual';\n\n\tconst page = pages[number];\n\thistory.replaceState(\n\t\t{ ...history.state, ner: { number, url: page.url, nextPageUrl: page.nextPageUrl } },\n\t\t`${document.title}${number ? `- page ${number + 1}` : ''}`,\n\t\tnumber ? `${RES_NER_PAGE_HASH}=${number + 1}` : `${location.pathname}${location.search}${isNerUrl() ? '' : location.hash}`,\n\t);\n}\n\nconst initiateReturnToPrevPage = _.once(() => {\n\tif (!module.options.returnToPrevPage.value) return;\n\n\tconst { ner: { number, url } = {} } = history.state || {};\n\tlet append;\n\tif (number && url && isNerUrl()) {\n\t\tconst loadPromise = loadPage(url, number, new Promise(res => { append = () => { res(); return loadPromise; }; }));\n\t}\n\n\treturn async () => {\n\t\tif (append) await append();\n\t\tSelectedThing.addListener(setReturnToPage, 'instantly');\n\t};\n});\n\nfunction getLastSiteTable(body: HTMLElement = document.body): ?HTMLElement {\n\tconst selector = '.sitetable, .search-result-group';\n\tconst elements = Array.from(body.querySelectorAll(selector)).reverse();\n\t// Don't select a nested sitetable\n\tfor (const element of elements) {\n\t\tif (!element.parentElement || !element.parentElement.closest(selector)) return element;\n\t}\n}\n\nexport function getNextPrevLinks(ele: HTMLElement = document.body): { buttons?: HTMLElement, next?: ?string, prev?: ?string } {\n\tconst buttons = ele.matches('.modactionlisting') ? // /about/log differs from other pages\n\t\t(ele.nextElementSibling: any) : ele.querySelector('.nav-buttons');\n\treturn buttons ? {\n\t\tbuttons,\n\t\tnext: (buttons.querySelector('a[rel~=next]') || {}: any).href,\n\t\tprev: (buttons.querySelector('a[rel~=prev]') || {}: any).href,\n\t} : {};\n}\n\nfunction setLoaderWidgetActionText(widget) {\n\tempty(widget);\n\twidget.append(...string.html`<span>\n\t\t<h2>\n\t\t\tNever Ending Reddit\n\t\t\t${string.safe(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))}\n\t\t</h2>\n\t\t<p>\n\t\t\tClick here to just load the next page;\n\t\t\t${pauseReason ? string.safe(`or click ${pauseButton().outerHTML} in the top right corner;`) : null}\n\t\t</p>\n\t\t<p>\n\t\t\t<a id=\"NERStaticLink\" href=\"${getNextPageUrl() || ''}\">or open next page</a> (and clear Never-Ending stream)\n\t\t</p>\n\t</span>`.children);\n}\n\nfunction createLoaderWidget(startPromise, donePromise) {\n\tconst widget = document.createElement('div');\n\twidget.id = 'progressIndicator';\n\twidget.className = 'neverEndingReddit';\n\n\twidget.addEventListener('click', (e: Event) => {\n\t\tif (e.target.tagName === 'A') return;\n\t\tloadNextPage();\n\t});\n\n\tstartPromise.then(({ scrollToLoadWidget = false } = {}) => {\n\t\tempty(widget);\n\t\twidget.append(string.html`<span class=\"RESLoadingSpinner\"></span>`);\n\t\tif (scrollToLoadWidget) scrollToElement(widget, null, { scrollStyle: 'middle', direction: 'down' });\n\t});\n\n\tconst removeWidget = () => widget.remove();\n\tdonePromise.finally(removeWidget);\n\n\tconst prefetchIo = new IntersectionObserver(([{ isIntersecting }]) => {\n\t\tif (!isIntersecting) return;\n\t\tprefetchNextPage();\n\t}, { rootMargin: '100%' });\n\tprefetchIo.observe(widget);\n\n\tconst displayPauseReason = _.once(pauseReason =>\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: pauseReason,\n\t\t\tmessage: pauseReason === 'pauseAfterEvery' ? `\n\t\t\t\t<p>Time for a break!</p>\n\t\t\t\t<p>Never-Ending Reddit has been paused because you've passed ${module.options.pauseAfterEvery.value} pages.</p>\n\t\t\t` :\n\t\t\t`<p>Never-Ending Reddit is paused. Click ${pauseButton().outerHTML} button in the top right corner to unpause it.</p>`,\n\t\t}),\n\t);\n\n\tconst pauseReasonIo = new IntersectionObserver(([{ isIntersecting }]) => {\n\t\tif (isIntersecting && pauseReason) displayPauseReason(pauseReason);\n\t}, { threshold: [1] });\n\n\tconst loadNextPageIo = new IntersectionObserver(([{ isIntersecting }]) => {\n\t\tif (!isIntersecting) return;\n\t\tloadNextPage();\n\t}, { threshold: [1] });\n\n\trefreshAutoLoad = (updateWidget = true) => {\n\t\tconst enabled = module.options.autoLoad.value && !pauseReason;\n\t\tif (enabled) loadNextPageIo.observe(widget);\n\t\telse loadNextPageIo.disconnect();\n\t\tif (updateWidget) setLoaderWidgetActionText(widget);\n\t\tpauseReasonIo.observe(widget);\n\t};\n\n\tsetLoaderWidgetActionText(widget);\n\n\tstartPromise.then(() => {\n\t\tprefetchIo.disconnect();\n\t\tloadNextPageIo.disconnect();\n\t\tpauseReasonIo.disconnect();\n\t\trefreshAutoLoad = null;\n\t});\n\n\tpages.slice(-1)[0].container.append(widget);\n}\n\nconst fetchPage = _.memoize(url => ajax({ url, cacheFor: HOUR }));\nconst prefetchNextPage = () => { const url = getNextPageUrl(); if (url) fetchPage(url); };\n\nasync function loadPage(url: string, number: number, attachPromise: ?Promise<*>) {\n\tconst html = (await fetchPage(url))\n\t\t// remove some unnecessary elements which could cause longer parse times\n\t\t.replace(/<style(.|\\s)*?>|<link(.|\\s)*?>|<script(.|\\s)*?\\/script>/g, '');\n\n\tconst document = new DOMParser().parseFromString(html, 'text/html');\n\n\tif (context.username && context.username !== documentLoggedInUser(document.body)) {\n\t\tthrow new Error('Page loaded was not for current user');\n\t}\n\n\t// grab the siteTable out of there...\n\tconst newSiteTable = getLastSiteTable(document.body);\n\tif (!newSiteTable) throw Error('Could not find any siteTable');\n\n\tconst noresults = newSiteTable.querySelector('#noresults');\n\tif (noresults) throw new Error(noresults.textContent);\n\n\t// Avoid attributes (class, id etc) which have impact on styling\n\tfor (const { name } of newSiteTable.attributes) newSiteTable.removeAttribute(name);\n\n\tpages[number] = { url, container: newSiteTable, nextPageUrl: retrieveNextPageUrl(newSiteTable) };\n\n\t// Invoke watcher callbacks etc on page\n\tregisterPage(newSiteTable);\n\n\tconst pageMarker = string.html`<div class=\"NERPageMarker\" data-number=\"${number}\">\n\t\t<a href=\"${pages[number].url}\">Page ${number + 1}</a>\n\t\t${string.safe(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))}\n\t</div>`;\n\n\tawait attachPromise;\n\n\tconst firstLen = $(container()).find('.link:last .rank').text().length;\n\tconst lastLen = $(newSiteTable).find('.link:last .rank').text().length;\n\tif (lastLen > firstLen) {\n\t\taddCSS(`body.res > .content .link .rank { width: ${(lastLen * 1.1).toFixed(1)}ex; }`);\n\t}\n\n\tcontainer().append(pageMarker, newSiteTable);\n\n\twindow.dispatchEvent(new Event('neverEndingLoad', { bubbles: true, cancelable: true }));\n}\n\nfunction endNER(text) {\n\t$('<div>', {\n\t\tclass: 'NERPageMarker NERPageMarkerLast',\n\t\ttext,\n\t})\n\t\t.append(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))\n\t\t.append(`\n\t\t\t<p class=\"nextprev\">\n\t\t\t\t<a href=\"${location.href.split('#')[0]}\">start over</a>\n\t\t\t\t<a href=\"${getNextPageUrl() || ''}\">try again</a>\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" href=\"/r/Enhancement/wiki/faq/never_ending_reddit\">learn more</a>\n\t\t\t\t<a href=\"/r/random\">random subreddit</a>\n\t\t\t</p>\n\t\t`)\n\t\t.appendTo(container());\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tBodyClasses,\n\tclick,\n\tdowncast,\n\tisPageType,\n\tloggedInUser,\n} from '../utils';\nimport * as CommentTools from './commentTools';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('noParticipation');\n\n\nconst urls = {\n\tmoreinfo: 'https://www.reddit.com/r/NoParticipation/wiki/intro',\n};\n\nmodule.moduleName = 'noPartName';\nmodule.description = 'noPartDesc';\nmodule.category = 'subredditsCategory';\nmodule.options = {\n\tdisableVoteButtons: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'noPartDisableVoteButtonsDesc',\n\t\ttitle: 'noPartDisableVoteButtonsTitle',\n\t\tbodyClass: true,\n\t},\n\tdisableCommentTextarea: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'noPartDisableCommentTextareaDesc',\n\t\ttitle: 'noPartDisableCommentTextareaTitle',\n\t\tbodyClass: true,\n\t},\n\tevenIfSubscriber: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'noPartEvenIfSubscriberDesc',\n\t\ttitle: 'noPartEvenIfSubscriberTitle',\n\t},\n\tescapeNP: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'noPartEscapeNPDesc',\n\t\ttitle: 'noPartEscapeNPTitle',\n\t},\n};\n\nmodule.shouldRun = () => isNpHostname(location.hostname);\n\nconst boilerplateNotificationText = `\n\t<p>\n\t\t<div class=\"RES-spoiler\">\n\t\t\t<label class=\"RES-spoiler-title\">Hover here for more details</label>\n\t\t\t<div class=\"RES-spoiler-contents\">\n\t\t\t\tYou came to this page by following a <a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">NP</a> link, so you may be interfering with normal conversation.\n\t\t\t\tPlease respect reddit's <a href=\"https://reddit.com/rules\" target=\"_blank\" rel=\"noopener noreferer\">rules</a> by not commenting or voting. Violating these rules may get you banned.\n\t\t\t\t<a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">Find out more</a>\n\t\t\t</div>\n\t\t</div>\n\t</p>\n`;\n\nlet noParticipationActive;\n\nmodule.contentStart = () => {\n\tif (module.options.escapeNP.value) {\n\t\t$(document.body).on('mousedown', 'a', removeNpFromLink);\n\t}\n\n\tif (isNPIrrelevant()) {\n\t\tnotifyNpIrrelevant();\n\t} else if (loggedInUser()) {\n\t\tif (isPageType('comments', 'linklist') && !(document.body.classList.contains('front-page') || document.body.classList.contains('profile-page'))) {\n\t\t\tapplyNoParticipationMode();\n\t\t} else {\n\t\t\tnotifyNpIrrelevant();\n\t\t}\n\t}\n};\n\nfunction isNpHostname(hostname) {\n\t// np.reddit.com, np-nm.reddit.com, nm-np.reddit.com\n\treturn (/^(?:\\w+-)?np(?:-\\w+)?\\./i).test(hostname);\n}\n\nfunction removeNpFromLink(e: Event) {\n\tconst target: HTMLAnchorElement = (e.currentTarget: any);\n\t// in self text, rewrite relative links only (where the domain is inherited)\n\tif (!target.getAttribute('href').startsWith('/') && target.matches('.md a')) return;\n\n\tif (target.hostname.endsWith('np.reddit.com')) {\n\t\ttarget.hostname = 'www.reddit.com';\n\t}\n}\n\nfunction isNPIrrelevant() {\n\treturn !isPageType('comments') || isSubscriber() && !module.options.evenIfSubscriber.value;\n}\n\nexport function isVotingBlocked() {\n\treturn noParticipationActive && module.options.disableVoteButtons.value;\n}\n\nfunction isSubscriber() {\n\treturn document.body.classList.contains('subscriber');\n}\n\nexport function nonNpLocation(href: string = location.href) {\n\tconst nonNpUrl = new URL(href, location.href);\n\tif (isNpHostname(nonNpUrl.hostname)) nonNpUrl.hostname = 'www.reddit.com';\n\treturn nonNpUrl.href;\n}\n\nfunction notifyNpIrrelevant() {\n\tconst message = isSubscriber() ?\n\t\t`You're browsing in <a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">No Participation</a> mode, but you're a subscriber here.` :\n\t\t`You're still browsing in <a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">No Participation</a> mode, but it's no longer necessary.`;\n\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\tnotificationID: 'ok-participation',\n\t\tcloseDelay: 3000,\n\t\theader: 'Okay to Participate',\n\t\tmessage: `${message} <p><a href=\"${nonNpLocation()}\">Click here to return to normal reddit</a></p>`,\n\t});\n}\n\nfunction notifyNpActive() {\n\tconst message = isSubscriber() ? `\n\t\t\t<span class=\"res-icon\">&#xF15A;</span>\n\t\t\tPlease think before you comment or vote, and remember the subreddit's rules.\n\t\t\tAlthough you subscribe to this subreddit, you can still derail a particular thread.\n\t\t\t<p><a href=\"${nonNpLocation()}\">Click here to return to normal reddit.</a></p>\n\t\t` : `\n\t\t\t<strong>\n\t\t\t\t<span class=\"res-icon\">&#xF15A;</span>\n\t\t\t\tDo not vote or comment.\n\t\t\t</strong>\n\t\t`;\n\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\tnotificationID: 'no-participation',\n\t\tcloseDelay: 10000,\n\t\theader: 'No Participation',\n\t\tmessage: `${message}${boilerplateNotificationText}`,\n\t});\n}\n\nconst votedOnButtons = [];\n\nexport async function notifyNoVote(voteButton?: HTMLElement) {\n\t// classes are added after this listener runs\n\tconst canUndoVote = voteButton && !voteButton.matches('.upmod, .downmod');\n\n\tif (voteButton) votedOnButtons.push(voteButton);\n\n\tconst notification = await Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'disableVoteButtons',\n\t\tcooldown: 5000,\n\t\theader: 'No Participation',\n\t\tmessage: `\n\t\t\t<strong><span class=\"res-icon\">&#xF15A;</span> Do not vote.</strong>\n\t\t\t${boilerplateNotificationText}\n\t\t\t${canUndoVote ? '<p><button type=\"button\" class=\"redButton\" data-action=\"revertvote\">Undo vote</button></p>' : ''}\n\t\t`,\n\t});\n\n\tif (notification) {\n\t\t$(notification.element).find('[data-action=revertvote]').on('click', () => {\n\t\t\trevertVote(votedOnButtons);\n\t\t\tnotification.close();\n\t\t});\n\t}\n}\n\nconst notifyNoComment = _.once(() => {\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'disableCommentTextarea',\n\t\theader: 'No Participation',\n\t\tmessage: `<strong><span class=\"res-icon\">&#xF15A;</span> Do not comment.</strong>${boilerplateNotificationText}`,\n\t});\n});\n\nfunction applyNoParticipationMode() {\n\tnoParticipationActive = true;\n\n\tnotifyNpActive();\n\n\tBodyClasses.add('res-noParticipation');\n\n\twatchForVote();\n\n\t$(document.body).on('keydown', CommentTools.commentTextareaSelector, (e: Event) => {\n\t\tnotifyNoComment();\n\n\t\tif (module.options.disableCommentTextarea.value) {\n\t\t\tdowncast(e.currentTarget, HTMLTextAreaElement).disabled = true;\n\t\t}\n\t});\n}\n\nfunction watchForVote() {\n\t$(document.body).on('click', '.arrow', (e: Event) => {\n\t\tif (e.currentTarget.classList.contains('up') || e.currentTarget.classList.contains('down')) {\n\t\t\tnotifyNoVote(e.currentTarget);\n\t\t}\n\t});\n}\n\nfunction revertVote(voteButtons) {\n\tvoteButtons.forEach((voteButton, index) => {\n\t\tsetTimeout(() => {\n\t\t\tif (voteButton.classList.contains('upmod') || voteButton.classList.contains('downmod')) {\n\t\t\t\tclick(voteButton);\n\t\t\t}\n\t\t}, index * 2000 /* respect API limits */);\n\t});\n\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'disableVoteButtons',\n\t\theader: 'No Participation',\n\t\tmessage: `\n\t\t\t${voteButtons.length > 1 ? 'Your votes are being reverted.' : 'Your vote has been reverted.'}\n\t\t\tPlease remember not to vote!\n\t\t\t<p><a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">Find out more</a></p>\n\t\t`,\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { markdown } from 'snudown-js';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tCreateElement,\n\tWEEK,\n\taddDashboardTab,\n\tformatDate,\n\tformatDateDiff,\n\tformatDateTime,\n\tisPageType,\n\tniceKeyCode,\n\tpreventCloning,\n\tstring,\n\twatchForThings,\n\tThing,\n} from '../utils';\nimport { Storage, i18n } from '../environment';\nimport * as KeyboardNav from './keyboardNav';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('saveComments');\n\nmodule.moduleName = 'saveCommentsName';\nmodule.description = 'saveCommentsDesc';\nmodule.category = 'commentsCategory';\nmodule.exclude = [\n\t'submit',\n];\n\nconst savedCommentStorage = Storage.wrapBlob('RESmodules.saveComments.savedComments', (): {|\n\thref: string,\n\tusername: string,\n\tcomment: string,\n\ttimeSaved: string,\n|} => { throw new Error('Saved comment not found'); });\n\nmodule.beforeLoad = () => {\n\twatchForThings(['comment'], thing => {\n\t\tconst sibling = thing.element.querySelector('ul.buttons .comment-save-button');\n\t\tif (!sibling) return;\n\t\tsibling.after(saveElement());\n\t});\n};\n\nmodule.contentStart = () => {\n\tif (isPageType('profile')) {\n\t\tCreateElement.tabMenuItem({\n\t\t\ttext: 'saved - RES',\n\t\t\tonChange: () => { location.href = '/r/dashboard/#savedComments'; },\n\t\t});\n\t}\n\n\taddDashboardTab('savedComments', 'Saved Comments', module.moduleID, async tabPage => $(tabPage).append(await drawSavedComments()));\n};\n\nconst saveElement = (e => () => preventCloning(e().cloneNode(true)))(_.once(() => {\n\t$(document.body).on('click', 'li.saveComments', ({ currentTarget }: Event) => {\n\t\tif (currentTarget.classList.contains('saved-RES')) return;\n\n\t\tconst thing = Thing.checkedFrom(currentTarget);\n\t\tsaveComment(thing);\n\n\t\tconst a = (currentTarget.firstElementChild: any);\n\t\trequestAnimationFrame(() => {\n\t\t\ta.dataset.text = 'saved-RES';\n\t\t\ta.href = '/r/dashboard#savedComments';\n\t\t});\n\t});\n\n\treturn string.html`\n\t\t<li class=\"saveComments\">\n\t\t\t<a class=\"RES-save noCtrlF\" href=\"javascript:void 0\" title=\"Save using RES - which is local only, but preserves the full text in case someone edits/deletes it\" data-text=\"save-RES\"></a>\n\t\t</li>\n\t`;\n}));\n\nfunction getCommentContent(thing) {\n\tconst content = $(thing.entry.querySelector('div.usertext-body > div.md')).clone();\n\tcontent.find('.keyNavAnnotation, .expando-button, .res-expando-box, script, .userTagLink').remove();\n\treturn content.html();\n}\n\nasync function saveComment(thing: Thing) {\n\tconst permaLink = thing.getCommentPermalink();\n\tif (!permaLink) throw new Error('Comment lacks permalink');\n\n\tconst id = thing.getFullname().split('_').slice(-1)[0];\n\tif ((await savedCommentStorage.getAll()).hasOwnProperty(id)) return;\n\n\tsavedCommentStorage.set(id, {\n\t\thref: permaLink.href,\n\t\tusername: thing.getAuthor() || '[deleted]',\n\t\tcomment: getCommentContent(thing),\n\t\ttimeSaved: new Date().toString(),\n\t});\n}\n\nconst savedCommentsTemplate = ({ comments, keyNavTip, moduleDescription }) => string.html`\n\t<div id=\"res-saveComments\" class=\"sitetable linklisting\">\n\t\t${!comments.length && string._html`\n\t\t\t<div class=\"res-module-description md\">\n\t\t\t\t<h1>Saving comments with RES</h1>\n\t\t\t\t${string.safe(markdown(moduleDescription))}\n\t\t\t</div>\n\t\t`}\n\t\t${keyNavTip && keyNavTip.map(({ keyNavHash, savePostKey, saveCommentKey, saveRESKey }) => string._html`\n\t\t\t<div class=\"res-module-tip infobar\">\n\t\t\t\t<p><i>Keyboard Shortcuts</i> <a class=\"gearIcon\" href=\"${keyNavHash}\" title=\"RES settings\"></a></p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li><b>${savePostKey}</b>: save a submission.</li>\n\t\t\t\t\t<li><b>${saveCommentKey}</b>: save a comment (to your reddit account).</li>\n\t\t\t\t\t<li><b>${saveRESKey}</b>: save a comment with RES.</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t`)}\n\t\t<div class=\"res-saveComments-list\">\n\t\t\t${comments.map(({ id, link, username, dateTime, date, timeAgo, body }) => string._html`\n\t\t\t\t<div class=\"entry res-savedComment\">\n\t\t\t\t\t<div class=\"savedCommentHeader\">\n\t\t\t\t\t\t<a href=\"${link}\">\n\t\t\t\t\t\t\t<b>${username}</b>\n\t\t\t\t\t\t\t- saved <date title=\"${dateTime}\" datetime=\"${date}\">${timeAgo}</date> ago\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"savedCommentBody md\">${string.safe(body)}</div>\n\t\t\t\t\t<div class=\"savedCommentFooter\">\n\t\t\t\t\t\t<ul class=\"flat-list buttons\">\n\t\t\t\t\t\t\t<li><a href=\"${link}\">permalink</a></li>\n\t\t\t\t\t\t\t<li><a class=\"unsaveComment\" href=\"#\" data-unsaveID=\"${id}\">unsave-RES</a></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`)}\n\t\t</div>\n\t</div>\n`;\n\nconst drawSavedComments = _.once(async () => {\n\tconst savedComments = await savedCommentStorage.getAll();\n\n\tconst comments = Object.entries(savedComments).map(([id, { comment, href, username, timeSaved }]) => {\n\t\tconst date = new Date(timeSaved);\n\t\treturn {\n\t\t\tid,\n\t\t\tlink: href,\n\t\t\tusername,\n\t\t\tdate: formatDate(date),\n\t\t\tdateTime: formatDateTime(date),\n\t\t\ttimeAgo: formatDateDiff(date),\n\t\t\tbody: comment.replace(/<(script|iframe|video)(.|\\s)*?\\/(script|iframe|video)>/g, ''),\n\t\t};\n\t});\n\n\treturn $(savedCommentsTemplate({\n\t\tmoduleDescription: i18n(module.description),\n\t\tkeyNavTip: Modules.isEnabled(KeyboardNav) && [{\n\t\t\tkeyNavHash: SettingsNavigation.makeUrlHash(KeyboardNav.module.moduleID, 'savePost'),\n\t\t\tsavePostKey: niceKeyCode(KeyboardNav.module.options.savePost.value),\n\t\t\tsaveCommentKey: niceKeyCode(KeyboardNav.module.options.saveComment.value),\n\t\t\tsaveRESKey: niceKeyCode(KeyboardNav.module.options.saveRES.value),\n\t\t}],\n\t\tcomments,\n\t}))\n\t\t.on('click', '.unsaveComment', (e: Event) => {\n\t\t\te.preventDefault();\n\t\t\tsavedCommentStorage.delete(e.currentTarget.dataset.unsaveid);\n\t\t\te.currentTarget.textContent = 'removed';\n\t\t});\n});\n\nexport function showEducationalNotification() {\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'savePost',\n\t\tnotificationID: 'saveRES-educational',\n\t\tcloseDelay: 10000,\n\t\tcooldown: 3 * WEEK,\n\t\theader: 'Saving Posts and Comments',\n\t\tmessage: `\n\t\t\t<p>\n\t\t\t\tThe keyboard shortcuts <b>\"${niceKeyCode(KeyboardNav.module.options.savePost.value)}\"</b> (posts) and <b>\"${niceKeyCode(KeyboardNav.module.options.saveComment.value)}\"</b> (comments) will save a post/comment to your reddit account (same as the \"save\" button).\n\t\t\t\tIt will be accessible from anywhere that you're logged in, but the original text will not be preserved if it is edited or deleted.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThe keyboard shortcut <b>\"${niceKeyCode(KeyboardNav.module.options.saveRES.value)}\"</b> will save a comment to RES (same as the \"save-RES\" button).\n\t\t\t\tIt will only be available locally, but the original text will be preserved if the comment is edited or deleted.\n\t\t\t</p>\n\t\t\t<p>These shortcuts can be changed in the ${SettingsNavigation.makeUrlHashLink(KeyboardNav.module.moduleID, 'savePost', 'settings console')}.<p>\n\t\t`,\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Thing } from '../utils';\nimport { Module } from '../core/module';\nimport * as Hover from './hover';\n\nexport const module: Module<*> = new Module('showParent');\n\nmodule.moduleName = 'showParentName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'showParentDesc';\nmodule.options = {\n\thoverDelay: {\n\t\ttitle: 'showParentHoverDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '500',\n\t\tdescription: 'showParentHoverDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'showParentFadeDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'showParentFadeDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'showParentFadeSpeedTitle',\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'showParentFadeSpeedDesc',\n\t\tadvanced: true,\n\t},\n\tdirection: {\n\t\ttitle: 'showParentDirectionTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'down',\n\t\tvalues: [{\n\t\t\tname: 'Above',\n\t\t\tvalue: 'up',\n\t\t}, {\n\t\t\tname: 'Below',\n\t\t\tvalue: 'down',\n\t\t}],\n\t\tdescription: 'showParentDirectionDesc',\n\t\tbodyClass: true,\n\t},\n};\nmodule.include = [\n\t'comments',\n];\n\nlet hover;\n\nmodule.contentStart = () => {\n\thover = Hover.infocard(module.moduleID)\n\t\t.options({\n\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t})\n\t\t.populateWith(card => showCommentHover(Thing.checkedFrom(card.getCheckedTarget())))\n\t\t.watch('.comment .buttons :not(:first-child) .bylink');\n};\n\nexport function startHover(button: HTMLElement) {\n\tif (hover) hover.target(button).begin();\n}\n\nfunction handleVoteClick() {\n\tconst $this = $(this);\n\tconst voteClasses = {\n\t\tup: 'likes',\n\t\tnone: 'unvoted',\n\t\tdown: 'dislikes',\n\t};\n\tconst id = $this.parent().parent().attr('data-fullname');\n\tlet direction = (/(up|down)(?:mod)?/).exec(this.className);\n\n\tif (!direction) return;\n\n\tdirection = direction[1];\n\n\tconst $targetButton = $(`.content .thing.id-${id}`)\n\t\t.children('.midcol')\n\t\t.find(`.arrow.${direction}, .arrow.${direction}mod`);\n\n\tif ($targetButton.length !== 1) {\n\t\tconsole.error('When attempting to find %s arrow for comment %s %d elements were returned',\n\t\t\tdirection, id, $targetButton.length);\n\t\treturn;\n\t}\n\n\t// Prevent other click handlers from running\n\t// Note that $targetButton's other click handlers run before this one,\n\t// by a \"first come, first serve\" basis\n\tfunction removeClickHandlers(event: Event) {\n\t\tevent.stopPropagation();\n\t}\n\n\t$targetButton.on('click', removeClickHandlers);\n\t$targetButton.click();\n\t$targetButton.off('click', removeClickHandlers);\n\n\tconst $midcol = $this.parent();\n\n\tlet startDir = 'none';\n\tfor (const [key, value] of Object.entries(voteClasses)) {\n\t\tif ($midcol.hasClass(value)) {\n\t\t\tstartDir = key;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst newDir = direction === startDir ? 'none' : direction;\n\n\t$midcol.parent().children(`.${voteClasses[startDir]}`)\n\t\t.removeClass(voteClasses[startDir])\n\t\t.addClass(voteClasses[newDir]);\n\t$midcol.find('.up, .upmod')\n\t\t.toggleClass('upmod', newDir === 'up')\n\t\t.toggleClass('up', newDir !== 'up');\n\t$midcol.find('.down, .downmod')\n\t\t.toggleClass('downmod', newDir === 'down')\n\t\t.toggleClass('down', newDir !== 'down');\n}\n\nfunction showCommentHover(thing: Thing) {\n\tconst direction = module.options.direction.value;\n\n\tlet $parents = $(thing.element).parents('.thing').clone();\n\tlet topParentURL = '';\n\n\tif ($parents.length === 0) {\n\t\t// Get parent URL from visible top comment\n\t\ttopParentURL = $(thing.element).find('[data-event-action=\"parent\"]').first().attr('data-href-url');\n\t} else {\n\t\t// Find visible top comment before getting parent URL\n\t\tconst topParentId = $parents.last().attr('data-fullname');\n\t\t// topParentURL will be undefined at top-most parent as it does not have a parent link\n\t\ttopParentURL = $(`[data-fullname=\"${topParentId}\"] > .entry [data-event-action=\"parent\"]`).first().attr('data-href-url');\n\t}\n\tif (direction === 'up') {\n\t\t$parents = $($parents.get().reverse());\n\t}\n\n\t$parents.addClass('comment parentComment').removeClass('thing even odd');\n\t$parents.children('.child').remove(); // replies and reply edit form\n\t$parents.each(function() {\n\t\tconst $this = $(this);\n\n\t\t// Remove the keyboardNav functionality\n\t\t$this.off('click');\n\n\t\t// A link to go to the actual comment\n\t\tlet id = $this.attr('data-fullname');\n\t\tif (id) {\n\t\t\tid = id.slice(3);\n\t\t\t$this.find('> .entry .tagline').append(`<a class=\"bylink parentlink\" href=\"#${id}\">goto comment</a>`);\n\t\t}\n\t});\n\t$parents.find('.parent').remove();\n\t$parents.find('.usertext-body').show(); // contents\n\t$parents.find('.flat-list.buttons').remove(); // buttons\n\t$parents.find('.usertext-edit').remove(); // edit form\n\t$parents.find('.RESUserTag').remove(); // tags\n\t$parents.find('.voteWeight').remove(); // tags\n\t$parents.find('.collapsed').remove(); // unused collapse view\n\t$parents.find('.expand').remove(); // expand button\n\t$parents.find('form').attr('id', ''); // IDs should be unique\n\t$parents.find('.arrow').on('click', handleVoteClick); // bind handlers to vote buttons\n\t/*\n\tI am stripping out the image viewer stuff for now.\n\tMaking the image viewer work here requires some changes that are for another time.\n\t*/\n\t$parents.find('.res-expando-box, .expando-button').remove(); // image viewer\n\t$parents.find('.keyNavAnnotation').remove();\n\n\tconst $container = $('<div class=\"parentCommentWrapper\">');\n\t$container.append($parents);\n\t// Does not show view parent comment when top-most parent is shown\n\tif (topParentURL) {\n\t\t$container.append(`<a class=\"bylink\" href=\"${topParentURL}\">View parent comment</a>`);\n\t}\n\t$parents.slice(0, -1).after('<div class=\"parentArrow\">reply to</div>');\n\treturn ['Parents', $container];\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { watchForThings, string } from '../utils';\nimport { openNewTabs } from '../environment';\n\nexport const module: Module<*> = new Module('singleClick');\n\nmodule.moduleName = 'singleClickName';\nmodule.category = 'browsingCategory';\nmodule.description = 'singleClickDesc';\nmodule.options = {\n\topenOrder: {\n\t\ttitle: 'singleClickOpenOrderTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'open comments then link',\n\t\t\tvalue: 'commentsfirst',\n\t\t}, {\n\t\t\tname: 'open link then comments',\n\t\t\tvalue: 'linkfirst',\n\t\t}],\n\t\tvalue: 'commentsfirst',\n\t\tdescription: 'singleClickOpenOrderDesc',\n\t},\n\thideLEC: {\n\t\ttitle: 'singleClickHideLECTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'singleClickHideLECDesc',\n\t\tadvanced: true,\n\t},\n\topenFrontpage: {\n\t\ttitle: 'singleClickOpenFrontpageTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'singleClickOpenFrontpageDesc',\n\t\tdependsOn: options => !options.hideLEC.value,\n\t},\n\topenBackground: {\n\t\ttitle: 'singleClickOpenBackgroundTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'singleClickOpenBackgroundDesc',\n\t},\n};\nmodule.exclude = [\n\t'comments',\n];\n\nexport const invokeOnPostMap: WeakMap<*, *> = new WeakMap();\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post'], thing => {\n\t\tconst urls = new Set([thing.getPostUrl()]);\n\n\t\tif (thing.isLinkPost()) {\n\t\t\tconst a = thing.getCommentsLink();\n\t\t\tif (a) urls.add(a.href);\n\t\t} else if (module.options.openFrontpage.value) {\n\t\t\tconst frontpageLink = thing.getSubredditLink();\n\t\t\tif (frontpageLink) urls.add(frontpageLink.href);\n\t\t}\n\n\t\tconst ordered = (module.options.openOrder.value === 'commentsfirst' ? [...urls].reverse() : [...urls]).filter(Boolean);\n\n\t\tconst open = (focused: boolean) => { openNewTabs(focused, ...ordered); };\n\n\t\t// This might be invoked via keyboardNav, regardless of `hideLEC`'s value\n\t\tinvokeOnPostMap.set(thing, open);\n\n\t\tif (!ordered.length || (module.options.hideLEC.value && ordered.length === 1)) return;\n\n\t\tconst text = ordered.length === 1 ? '[l=c]' : '[l+c]';\n\t\tconst ele = string.html`<li><a href=\"javascript:void(0)\" class=\"noCtrlF\" data-text=\"${text}\"></a></li>`;\n\n\t\t// Prevent empty tab opening on middle click\n\t\t(ele.firstElementChild: any).addEventListener('auxclick', e => { e.preventDefault(); });\n\n\t\t(ele.firstElementChild: any).addEventListener('mouseup', (e: MouseEvent) => {\n\t\t\tif (e.button !== 0 && e.button !== 1) return; // Only left and middle click registers\n\t\t\tconst focused = !e.button && !e.ctrlKey && !module.options.openBackground.value;\n\t\t\topen(focused);\n\t\t});\n\n\t\tthing.getButtons().append(ele);\n\t});\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tNAMED_KEYS,\n\tThing,\n\tSelectedThing,\n\tclick,\n\tdowncast,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tfilterMap,\n\tgetPercentageVisibleYAxis,\n\thashKeyArray,\n\thashKeyEvent,\n\tisCommentCode,\n\tisEmptyLink,\n\tisPageType,\n\tloggedInUser,\n\tmatchesPageLocation,\n\tniceKeyCode,\n\tscrollToElement,\n\tstring,\n\twatchForElements,\n\twaitForEvent,\n} from '../utils';\nimport { i18n, openNewTab } from '../environment';\nimport * as Options from '../core/options';\nimport * as CommandLine from './commandLine';\nimport * as CommentNavigator from './commentNavigator';\nimport * as EasterEgg from './easterEgg';\nimport * as FilteReddit from './filteReddit';\nimport * as HideChildComments from './hideChildComments';\nimport * as NeverEndingReddit from './neverEndingReddit';\nimport * as Notifications from './notifications';\nimport * as NoParticipation from './noParticipation';\nimport * as SaveComments from './saveComments';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as ShowImages from './showImages';\nimport * as ShowParent from './showParent';\nimport * as SingleClick from './singleClick';\n\nexport const module: Module<*> = new Module('keyboardNav');\n\nmodule.moduleName = 'keyboardNavName';\nmodule.category = 'browsingCategory';\nmodule.description = 'keyboardNavDesc';\nmodule.options = {\n\tlinearScrollStyle: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'directional',\n\t\t\tvalue: 'directional',\n\t\t}, {\n\t\t\tname: 'page up/down',\n\t\t\tvalue: 'page',\n\t\t}, {\n\t\t\tname: 'lock to top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'in middle',\n\t\t\tvalue: 'middle',\n\t\t}, {\n\t\t\tname: 'adopt top',\n\t\t\tvalue: 'adopt',\n\t\t}, {\n\t\t\tname: 'legacy',\n\t\t\tvalue: 'legacy',\n\t\t}],\n\t\tvalue: 'directional',\n\t\tdescription: 'keyboardNavLinearScrollStyleDesc',\n\t\ttitle: 'keyboardNavLinearScrollStyleTitle',\n\t\tadvanced: true,\n\t},\n\tnonLinearScrollStyle: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'directional',\n\t\t\tvalue: 'directional',\n\t\t}, {\n\t\t\tname: 'page up/down',\n\t\t\tvalue: 'page',\n\t\t}, {\n\t\t\tname: 'lock to top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'in middle',\n\t\t\tvalue: 'middle',\n\t\t}, {\n\t\t\tname: 'adopt top',\n\t\t\tvalue: 'adopt',\n\t\t}, {\n\t\t\tname: 'legacy',\n\t\t\tvalue: 'legacy',\n\t\t}],\n\t\tvalue: 'legacy',\n\t\tdescription: 'keyboardNavNonLinearScrollStyleDesc',\n\t\ttitle: 'keyboardNavNonLinearScrollStyleTitle',\n\t\tadvanced: true,\n\t},\n\tlinkNumbers: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavLinkNumbersDesc',\n\t\ttitle: 'keyboardNavLinkNumbersTitle',\n\t},\n\tlinkNumberPosition: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Place on right',\n\t\t\tvalue: 'right',\n\t\t}, {\n\t\t\tname: 'Place on left',\n\t\t\tvalue: 'left',\n\t\t}],\n\t\tvalue: 'right',\n\t\tdescription: 'keyboardNavLinkNumberPositionDesc',\n\t\ttitle: 'keyboardNavLinkNumberPositionTitle',\n\t\tadvanced: true,\n\t},\n\tlinkToggleExpando: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavLinkToggleExpandoDesc',\n\t\ttitle: 'keyboardNavLinkToggleExpandoTitle',\n\t},\n\tlinkNumberAltModeModifier: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Shift',\n\t\t\tvalue: 'shift',\n\t\t}, {\n\t\t\tname: 'Alt',\n\t\t\tvalue: 'alt',\n\t\t}],\n\t\tvalue: 'alt',\n\t\tdescription: 'keyboardNavLinkNumberAltModeModifierDesc',\n\t\ttitle: 'keyboardNavLinkNumberAltModeModifierTitle',\n\t\tadvanced: true,\n\t},\n\tlinkNewTab: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavLinkNewTabDesc',\n\t\ttitle: 'keyboardNavLinkNewTabTitle',\n\t\tadvanced: true,\n\t},\n\tonHideMoveDown: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavOnHideMoveDownDesc',\n\t\ttitle: 'keyboardNavOnHideMoveDownTitle',\n\t\tadvanced: true,\n\t},\n\tonVoteMoveDown: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'keyboardNavOnVoteMoveDownDesc',\n\t\ttitle: 'keyboardNavOnVoteMoveDownTitle',\n\t\tadvanced: true,\n\t},\n\tonVoteCommentMoveDown: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'keyboardNavOnVoteCommentMoveDownDesc',\n\t\ttitle: 'keyboardNavOnVoteCommentMoveDownTitle',\n\t\tadvanced: true,\n\t},\n\tfollowLinkNewTabFocus: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavFollowLinkNewTabFocusDesc',\n\t\ttitle: 'keyboardNavFollowLinkNewTabFocusTitle',\n\t},\n\ttoggleHelp: {\n\t\ttype: 'keycode',\n\t\tvalue: [191, false, false, true, false], // ? (note the true in the shift slot)\n\t\tdescription: 'keyboardNavToggleHelpDesc',\n\t\ttitle: 'keyboardNavToggleHelpTitle',\n\t\tcallback() { toggleKeyNavHelp(); },\n\t},\n\ttoggleCmdLine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommandLine],\n\t\tvalue: [190, false, false, false, false], // .\n\t\tdescription: 'keyboardNavToggleCmdLineDesc',\n\t\ttitle: 'keyboardNavToggleCmdLineTitle',\n\t\tcallback() { CommandLine.toggle(); },\n\t},\n\tenterFilterCommandLine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommandLine, FilteReddit],\n\t\tvalue: [70, false, false, false, false], // f\n\t\tdescription: 'keyboardNavEnterFilterCommandLineDesc',\n\t\ttitle: 'keyboardNavEnterFilterCommandLineTitle',\n\t\tcallback() { CommandLine.open('fl '); },\n\t},\n\thide: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile'],\n\t\tvalue: [72, false, false, false, false], // h\n\t\tdescription: 'keyboardNavHideDesc',\n\t\ttitle: 'keyboardNavHideTitle',\n\t\tcallback: hideLink,\n\t},\n\tmoveUp: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [75, false, false, false, false], // k\n\t\tdescription: 'keyboardNavMoveUpDesc',\n\t\ttitle: 'keyboardNavMoveUpTitle',\n\t\tcallback() { SelectedThing.move('up', { allowMediaBrowse: true, scrollStyle: module.options.linearScrollStyle.value }); },\n\t},\n\tmoveDown: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [74, false, false, false, false], // j\n\t\tdescription: 'keyboardNavMoveDownDesc',\n\t\ttitle: 'keyboardNavMoveDownTitle',\n\t\tcallback() {\n\t\t\tSelectedThing.move('down', { allowMediaBrowse: true, scrollStyle: module.options.linearScrollStyle.value }, moveDownFallback);\n\t\t},\n\t},\n\tmoveUpComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [75, false, false, false, false], // k\n\t\tdescription: 'keyboardNavMoveUpCommentDesc',\n\t\ttitle: 'keyboardNavMoveUpCommentTitle',\n\t\tcallback() { SelectedThing.move('up', { scrollStyle: module.options.linearScrollStyle.value }); },\n\t},\n\tmoveDownComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [74, false, false, false, false], // j\n\t\tdescription: 'keyboardNavMoveDownCommentDesc',\n\t\ttitle: 'keyboardNavMoveDownCommentTitle',\n\t\tcallback() { SelectedThing.move('down', { scrollStyle: module.options.linearScrollStyle.value }); },\n\t},\n\tmoveTop: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox', 'search'],\n\t\tvalue: [75, false, false, true, false], // shift-k\n\t\tdescription: 'keyboardNavMoveTopDesc',\n\t\ttitle: 'keyboardNavMoveTopTitle',\n\t\tcallback() { SelectedThing.move('top', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveBottom: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox', 'search'],\n\t\tvalue: [74, false, false, true, false], // shift-j\n\t\tdescription: 'keyboardNavMoveBottomDesc',\n\t\ttitle: 'keyboardNavMoveBottomTitle',\n\t\tcallback() { SelectedThing.move('bottom', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveUpSibling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [75, false, false, true, false], // shift-k\n\t\tdescription: 'keyboardNavMoveUpSiblingDesc',\n\t\ttitle: 'keyboardNavMoveUpSiblingTitle',\n\t\tcallback() { SelectedThing.move('upSibling', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveDownSibling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [74, false, false, true, false], // shift-j\n\t\tdescription: 'keyboardNavMoveDownSiblingDesc',\n\t\ttitle: 'keyboardNavMoveDownSiblingTitle',\n\t\tcallback() { SelectedThing.move('downSibling', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveDownParentSibling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [74, true, false, false, false], // alt-j\n\t\tdescription: 'keyboardNavMoveDownParentSiblingDesc',\n\t\ttitle: 'keyboardNavMoveDownParentSiblingTitle',\n\t\tcallback() { SelectedThing.move('downParentSibling', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveUpThread: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [75, true, false, true, false], // shift-alt-k\n\t\tdescription: 'keyboardNavMoveUpThreadDesc',\n\t\ttitle: 'keyboardNavMoveUpThreadTitle',\n\t\tcallback() { SelectedThing.move('upThread', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveDownThread: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [74, true, false, true, false], // shift-alt-j\n\t\tdescription: 'keyboardNavMoveDownThreadDesc',\n\t\ttitle: 'keyboardNavMoveDownThreadTitle',\n\t\tcallback() { SelectedThing.move('downThread', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveToTopComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [84, false, false, false, false], // t\n\t\tdescription: 'keyboardNavMoveToTopCommentDesc',\n\t\ttitle: 'keyboardNavMoveToTopCommentTitle',\n\t\tcallback() { SelectedThing.move('toTopComment', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveToParent: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [80, false, false, false, false], // p\n\t\tdescription: 'keyboardNavMoveToParentDesc',\n\t\ttitle: 'keyboardNavMoveToParentTitle',\n\t\tcallback() { SelectedThing.move('toParent', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tundoMove: {\n\t\ttype: 'keycode',\n\t\tvalue: [90, false, true, false, false], // ctrl-z\n\t\tdescription: 'keyboardNavUndoMoveDesc',\n\t\ttitle: 'keyboardNavUndoMoveTitle',\n\t\tcallback() { SelectedThing.move('previous', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tshowParents: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowParent],\n\t\tvalue: [80, false, false, true, false], // p\n\t\tdescription: 'keyboardNavShowParentsDesc',\n\t\ttitle: 'keyboardNavShowParentsTitle',\n\t\tcallback(selected = getSelected()) {\n\t\t\tShowParent.startHover(assertElement(selected.element.querySelector('.buttons .bylink[href^=\"#\"]')));\n\t\t},\n\t},\n\tfollowLink: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'comments', 'search'],\n\t\tvalue: [13, false, false, false, false], // enter\n\t\tdescription: 'keyboardNavFollowLinkDesc',\n\t\ttitle: 'keyboardNavFollowLinkTitle',\n\t\tcallback() { followLink(); },\n\t},\n\tfollowLinkNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'comments', 'search'],\n\t\tvalue: [13, false, false, true, false], // shift-enter\n\t\tdescription: 'keyboardNavFollowLinkNewTabDesc',\n\t\ttitle: 'keyboardNavFollowLinkNewTabTitle',\n\t\tcallback() { followLink(true); },\n\t},\n\ttoggleExpando: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [88, false, false, false, false], // x\n\t\tdescription: 'keyboardNavToggleExpandoDesc',\n\t\ttitle: 'keyboardNavToggleExpandoTitle',\n\t\tcallback(selected = getSelected()) {\n\t\t\tShowImages.toggleThingExpandos(selected, {\n\t\t\t\tscrollOnToggle: module.options.scrollOnExpando.value,\n\t\t\t});\n\t\t},\n\t},\n\tscrollOnExpando: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavScrollOnExpandoDesc',\n\t\ttitle: 'keyboardNavScrollOnExpandoTitle',\n\t\tadvanced: true,\n\t},\n\timageSizeUp: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [187, false, false, false, false], // = -- 61 in firefox\n\t\tdescription: 'keyboardNavImageSizeUpDesc',\n\t\ttitle: 'keyboardNavImageSizeUpTitle',\n\t\tcallback() { imageResize({ factor: 1.3 }); },\n\t},\n\timageSizeDown: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [189, false, false, false, false], // - -- 173 in firefox\n\t\tdescription: 'keyboardNavImageSizeDownDesc',\n\t\ttitle: 'keyboardNavImageSizeDownTitle',\n\t\tcallback() { imageResize({ factor: 1 / 1.3 }); },\n\t},\n\timageSizeUpFine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [187, false, false, true, false], // shift-=\n\t\tdescription: 'keyboardNavImageSizeUpFineDesc',\n\t\ttitle: 'keyboardNavImageSizeUpFineTitle',\n\t\tcallback() { imageResize({ factor: 1.1 }); },\n\t},\n\timageSizeDownFine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [189, false, false, true, false], // shift--\n\t\tdescription: 'keyboardNavImageSizeDownFineDesc',\n\t\ttitle: 'keyboardNavImageSizeDownFineTitle',\n\t\tcallback() { imageResize({ factor: 1 / 1.1 }); },\n\t},\n\timageSizeAnyHeight: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [39, false, false, true, false], // shift-right\n\t\tdescription: 'keyboardNavImageSizeAnyHeightDesc',\n\t\ttitle: 'keyboardNavImageSizeAnyHeightTitle',\n\t\tcallback() { imageResize({ removeHeightRestriction: true }); },\n\t},\n\timageMoveUp: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [38, false, true, false, false], // ctrl-up\n\t\tdescription: 'keyboardNavImageMoveUpDesc',\n\t\ttitle: 'keyboardNavImageMoveUpTitle',\n\t\tcallback() { imageMove(0, -50); },\n\t},\n\timageMoveDown: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [40, false, true, false, false], // ctrl-down\n\t\tdescription: 'keyboardNavImageMoveDownDesc',\n\t\ttitle: 'keyboardNavImageMoveDownTitle',\n\t\tcallback() { imageMove(0, 50); },\n\t},\n\timageMoveLeft: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [37, false, true, false, false], // ctrl-left\n\t\tdescription: 'keyboardNavImageMoveLeftDesc',\n\t\ttitle: 'keyboardNavImageMoveLeftTitle',\n\t\tcallback() { imageMove(-50, 0); },\n\t},\n\timageMoveRight: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [39, false, true, false, false], // ctrl-right\n\t\tdescription: 'keyboardNavImageMoveRightDesc',\n\t\ttitle: 'keyboardNavImageMoveRightTitle',\n\t\tcallback() { imageMove(50, 0); },\n\t},\n\tpreviousGalleryImage: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [219, false, false, false, false], // [\n\t\tdescription: 'keyboardNavPreviousGalleryImageDesc',\n\t\ttitle: 'keyboardNavPreviousGalleryImageTitle',\n\t\tcallback() { navigateGallery('previous'); },\n\t},\n\tnextGalleryImage: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [221, false, false, false, false], // ]\n\t\tdescription: 'keyboardNavNextGalleryImageDesc',\n\t\ttitle: 'keyboardNavNextGalleryImageTitle',\n\t\tcallback() { navigateGallery('next'); },\n\t},\n\tscrollOnGalleryNavigate: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavScrollOnGalleryNavigateDesc',\n\t\ttitle: 'keyboardNavScrollOnGalleryNavigateTitle',\n\t\tadvanced: true,\n\t},\n\ttoggleViewImages: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [88, false, false, true, false], // shift-x\n\t\tdescription: 'keyboardNavToggleViewImagesDesc',\n\t\ttitle: 'keyboardNavToggleViewImagesTitle',\n\t\tcallback() { ShowImages.viewImagesButton().click(); },\n\t},\n\ttoggleChildren: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'inbox'/* mostly modmail */],\n\t\tvalue: [13, false, false, false, false], // enter\n\t\tdescription: 'keyboardNavToggleChildrenDesc',\n\t\ttitle: 'keyboardNavToggleChildrenTitle',\n\t\tcallback: toggleChildren,\n\t},\n\tfollowComments: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [67, false, false, false, false], // c\n\t\tdescription: 'keyboardNavFollowCommentsDesc',\n\t\ttitle: 'keyboardNavFollowCommentsTitle',\n\t\tcallback() { followComments(); },\n\t},\n\tfollowCommentsNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [67, false, false, true, false], // shift-c\n\t\tdescription: 'keyboardNavFollowCommentsNewTabDesc',\n\t\ttitle: 'keyboardNavFollowCommentsNewTabTitle',\n\t\tcallback() { followComments(true); },\n\t},\n\tfollowLinkAndCommentsNewTab: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [SingleClick],\n\t\tvalue: [76, false, false, false, false], // l\n\t\tdescription: 'keyboardNavFollowLinkAndCommentsNewTabDesc',\n\t\ttitle: 'keyboardNavFollowLinkAndCommentsNewTabTitle',\n\t\tcallback() { (SingleClick.invokeOnPostMap.get(getSelected()): any)(true); },\n\t},\n\tfollowLinkAndCommentsNewTabBG: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [SingleClick],\n\t\tvalue: [76, false, false, true, false], // shift-l\n\t\tdescription: 'keyboardNavFollowLinkAndCommentsNewTabBGDesc',\n\t\ttitle: 'keyboardNavFollowLinkAndCommentsNewTabBGTitle',\n\t\tcallback() { (SingleClick.invokeOnPostMap.get(getSelected()): any)(false); },\n\t},\n\tupVote: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [65, false, false, false, false], // a\n\t\tdescription: 'keyboardNavUpVoteDesc',\n\t\ttitle: 'keyboardNavUpVoteTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('upmod'); },\n\t},\n\tdownVote: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [90, false, false, false, false], // z\n\t\tdescription: 'keyboardNavDownVoteDesc',\n\t\ttitle: 'keyboardNavDownVoteTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('downmod'); },\n\t},\n\tupVoteWithoutToggling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [65, false, false, true, false], // a\n\t\tdescription: 'keyboardNavUpVoteWithoutTogglingDesc',\n\t\ttitle: 'keyboardNavUpVoteWithoutTogglingTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('upmod', true); },\n\t},\n\tdownVoteWithoutToggling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [90, false, false, true, false], // z\n\t\tdescription: 'keyboardNavDownVoteWithoutTogglingDesc',\n\t\ttitle: 'keyboardNavDownVoteWithoutTogglingTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('downmod', true); },\n\t},\n\tsavePost: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'comments'],\n\t\tvalue: [83, false, false, false, false], // s\n\t\tdescription: 'keyboardNavSavePostDesc',\n\t\ttitle: 'keyboardNavSavePostTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.link-save-button a, .link-unsave-button a', ASSERT));\n\t\t},\n\t},\n\tsaveComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist'],\n\t\tvalue: [83, false, false, true, false], // shift-s\n\t\tdescription: 'keyboardNavSaveCommentDesc',\n\t\ttitle: 'keyboardNavSaveCommentTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.comment-save-button > a', ASSERT));\n\t\t},\n\t},\n\tsaveRES: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [SaveComments],\n\t\tvalue: [83, false, false, false, false], // s\n\t\tdescription: 'keyboardNavSaveRESDesc',\n\t\ttitle: 'keyboardNavSaveRESTitle',\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.saveComments, .unsaveComments', ASSERT));\n\t\t\tSaveComments.showEducationalNotification();\n\t\t},\n\t},\n\treply: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'inbox'],\n\t\tvalue: [82, false, false, false, false], // r\n\t\tdescription: 'keyboardNavReplyDesc',\n\t\ttitle: 'keyboardNavReplyTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback: reply,\n\t},\n\tedit: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'profile'],\n\t\tvalue: [69, false, false, false, false], // e\n\t\tdescription: 'keyboardNavEditDesc',\n\t\ttitle: 'keyboardNavEditTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.entry .edit-usertext', ASSERT, getSelected()));\n\t\t},\n\t},\n\tshowChildComments: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [HideChildComments],\n\t\tvalue: [67, false, false, false, false], // c\n\t\tdescription: 'keyboardNavShowChildCommentsDesc',\n\t\ttitle: 'keyboardNavShowChildCommentsTitle',\n\t\tcallback(selected = getSelected()) {\n\t\t\tHideChildComments.toggle(selected);\n\t\t},\n\t},\n\tshowAllChildComments: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [HideChildComments],\n\t\tvalue: [67, false, false, true, false], // shift-c\n\t\tdescription: 'keyboardNavShowAllChildCommentsDesc',\n\t\ttitle: 'keyboardNavShowAllChildCommentsTitle',\n\t\tcallback() {\n\t\t\tHideChildComments.toggleAll();\n\t\t},\n\t},\n\tfollowPermalink: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [89, false, false, false, false], // y\n\t\tdescription: 'keyboardNavFollowPermalinkDesc',\n\t\ttitle: 'keyboardNavFollowPermalinkTitle',\n\t\tcallback() { followPermalink(); },\n\t},\n\tfollowPermalinkNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [89, false, false, true, false], // shift-y\n\t\tdescription: 'keyboardNavFollowPermalinkNewTabDesc',\n\t\ttitle: 'keyboardNavFollowPermalinkNewTabTitle',\n\t\tcallback() { followPermalink(true); },\n\t},\n\tfollowSubreddit: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [82, false, false, false, false], // r\n\t\tdescription: 'keyboardNavFollowSubredditDesc',\n\t\ttitle: 'keyboardNavFollowSubredditTitle',\n\t\tcallback() { followSubreddit(); },\n\t},\n\tfollowSubredditNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [82, false, false, true, false], // shift-r\n\t\tdescription: 'keyboardNavFollowSubredditNewTabDesc',\n\t\ttitle: 'keyboardNavFollowSubredditNewTabTitle',\n\t\tcallback() { followSubreddit(true); },\n\t},\n\tfollowProfile: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'comments', 'commentsLinklist', 'inbox', 'modqueue', 'search'],\n\t\tvalue: [85, false, false, false, false], // u\n\t\tdescription: 'keyboardNavFollowProfileDesc',\n\t\ttitle: 'keyboardNavFollowProfileTitle',\n\t\tcallback() { followProfile(); },\n\t},\n\tfollowProfileNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'comments', 'commentsLinklist', 'inbox', 'modqueue', 'search'],\n\t\tvalue: [85, false, false, true, false], // shift-u\n\t\tdescription: 'keyboardNavFollowProfileNewTabDesc',\n\t\ttitle: 'keyboardNavFollowProfileNewTabTitle',\n\t\tcallback() { followProfile(true); },\n\t},\n\ttoggleCommentNavigator: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommentNavigator],\n\t\tvalue: [78, false, false, false, false], // N\n\t\tdescription: 'keyboardNavToggleCommentNavigatorDesc',\n\t\ttitle: 'keyboardNavToggleCommentNavigatorTitle',\n\t\tcallback() { CommentNavigator.toggle(true); },\n\t},\n\tcommentNavigatorMoveUp: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommentNavigator],\n\t\tvalue: [38, false, false, true, false], // shift+up arrow\n\t\tdescription: 'keyboardNavCommentNavigatorMoveUpDesc',\n\t\ttitle: 'keyboardNavCommentNavigatorMoveUpTitle',\n\t\tcallback() { CommentNavigator.move('up'); },\n\t},\n\tcommentNavigatorMoveDown: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommentNavigator],\n\t\tvalue: [40, false, false, true, false], // shift+down arrow\n\t\tdescription: 'keyboardNavCommentNavigatorMoveDownDesc',\n\t\ttitle: 'keyboardNavCommentNavigatorMoveDownTitle',\n\t\tcallback() { CommentNavigator.move('down'); },\n\t},\n\tfocusOnSearchBox: {\n\t\ttype: 'keycode',\n\t\tvalue: [191, true, false, false, false], // alt-/\n\t\tdescription: 'keyboardNavFocusOnSearchBoxDesc',\n\t\ttitle: 'keyboardNavFocusOnSearchBoxTitle',\n\t\tcallback() { document.querySelector('#search input[name=\"q\"]').focus(); },\n\t},\n\tuseGoMode: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavUseGoModeDesc',\n\t\ttitle: 'keyboardNavUseGoModeTitle',\n\t},\n\tgoMode: {\n\t\ttype: 'keycode',\n\t\tvalue: [71, false, false, false, false], // g\n\t\tdescription: 'keyboardNavGoModeDesc',\n\t\ttitle: 'keyboardNavGoModeTitle',\n\t\tdependsOn: options => options.useGoMode.value,\n\t\tcallback() { if (module.options.useGoMode.value) toggleGoMode(); },\n\t},\n\tinbox: {\n\t\ttype: 'keycode',\n\t\tvalue: [73, false, false, false, false], // i\n\t\tdescription: 'keyboardNavInboxDesc',\n\t\ttitle: 'keyboardNavInboxTitle',\n\t\tcallback() { navigateTo('/message/inbox/', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tinboxNewTab: {\n\t\ttype: 'keycode',\n\t\tvalue: [73, false, false, true, false], // shift+i\n\t\tdescription: 'keyboardNavInboxNewTabDesc',\n\t\ttitle: 'keyboardNavInboxNewTabTitle',\n\t\tcallback() { navigateTo('/message/inbox/', { newWindow: true, leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tmodmail: {\n\t\ttype: 'keycode',\n\t\tvalue: [77, false, false, false, false], // m\n\t\tdescription: 'keyboardNavModmailDesc',\n\t\ttitle: 'keyboardNavModmailTitle',\n\t\tcallback() { navigateTo('/message/moderator/', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tmodmailNewTab: {\n\t\ttype: 'keycode',\n\t\tvalue: [77, false, false, true, false], // shift+m\n\t\tdescription: 'keyboardNavModmailNewTabDesc',\n\t\ttitle: 'keyboardNavModmailNewTabTitle',\n\t\tcallback() { navigateTo('/message/moderator/', { newWindow: true, leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tprofile: {\n\t\ttype: 'keycode',\n\t\tvalue: [85, false, false, false, false], // u\n\t\tdescription: 'keyboardNavProfileDesc',\n\t\ttitle: 'keyboardNavProfileTitle',\n\t\tcallback() {\n\t\t\tconst user = loggedInUser();\n\t\t\tif (user) navigateTo(`/user/${user}`, { leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\tprofileNewTab: {\n\t\ttype: 'keycode',\n\t\tvalue: [85, false, false, true, false], // shift+u\n\t\tdescription: 'keyboardNavProfileNewTabDesc',\n\t\ttitle: 'keyboardNavProfileNewTabTitle',\n\t\tcallback() {\n\t\t\tconst user = loggedInUser();\n\t\t\tif (user) navigateTo(`/user/${user}`, { newWindow: true, leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\tfrontPage: {\n\t\ttype: 'keycode',\n\t\tvalue: [70, false, false, false, false], // f\n\t\tdescription: 'keyboardNavFrontPageDesc',\n\t\ttitle: 'keyboardNavFrontPageTitle',\n\t\tcallback() { navigateTo('/', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tslashAll: {\n\t\ttype: 'keycode',\n\t\tvalue: [65, true, false, false, false], // alt-a\n\t\tdescription: 'keyboardNavSlashAllDesc',\n\t\ttitle: 'keyboardNavSlashAllTitle',\n\t\tcallback() { navigateTo('/r/all', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tsubredditFrontPage: {\n\t\ttype: 'keycode',\n\t\tvalue: [70, false, false, true, false], // shift-f\n\t\tdescription: 'keyboardNavsSubredditFrontPageDesc',\n\t\ttitle: 'keyboardNavsSubredditFrontPageTitle',\n\t\tcallback() {\n\t\t\tconst sub = currentSubreddit();\n\t\t\tif (sub) navigateTo(`/r/${sub}`, { leaveNP: false });\n\t\t},\n\t\tgoMode: true,\n\t},\n\trandom: {\n\t\ttype: 'keycode',\n\t\tvalue: [89, true, false, false, false], // alt-y   SO RANDOM\n\t\tdescription: 'keyboardNavRandomDesc',\n\t\ttitle: 'keyboardNavRandomTitle',\n\t\tcallback() { navigateTo('/r/random', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tnextPage: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox'],\n\t\tvalue: [78, false, false, false, false], // n\n\t\tdescription: 'keyboardNavNextPageDesc',\n\t\ttitle: 'keyboardNavNextPageTitle',\n\t\tcallback() {\n\t\t\tif (Modules.isRunning(NeverEndingReddit)) {\n\t\t\t\tNeverEndingReddit.loadNextPage({ scrollToLoadWidget: true });\n\t\t\t} else {\n\t\t\t\tconst next = NeverEndingReddit.getNextPrevLinks().next;\n\t\t\t\tif (next) location.href = next;\n\t\t\t}\n\t\t},\n\t\tgoMode: true,\n\t},\n\tprevPage: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox'],\n\t\tvalue: [80, false, false, false, false], // p\n\t\tdescription: 'keyboardNavPrevPageDesc',\n\t\ttitle: 'keyboardNavPrevPageTitle',\n\t\tcallback() {\n\t\t\tif (Modules.isRunning(NeverEndingReddit)) {\n\t\t\t\t// neverEndingReddit has no interface for this\n\t\t\t} else {\n\t\t\t\tconst prev = NeverEndingReddit.getNextPrevLinks().prev;\n\t\t\t\tif (prev) location.href = prev;\n\t\t\t}\n\t\t},\n\t\tgoMode: true,\n\t},\n\toverviewLegacy: {\n\t\ttype: 'keycode',\n\t\tinclude: ['d2x', 'profile'],\n\t\tvalue: [79, false, false, true, false], // shift+o\n\t\tdescription: 'keyboardNavOverviewLegacyDesc',\n\t\ttitle: 'keyboardNavOverviewLegacyTitle',\n\t\tcallback() {\n\t\t\tconst currentUser = currentUserProfile();\n\t\t\tif (currentUser) navigateTo(`/user/${currentUser}/overview`, { leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\tprofileView: {\n\t\ttype: 'keycode',\n\t\tinclude: ['d2x', 'profile'],\n\t\tvalue: [80, false, false, true, false], // shift+p\n\t\tdescription: 'keyboardNavProfileViewDesc',\n\t\ttitle: 'keyboardNavProfileViewTitle',\n\t\tcallback() {\n\t\t\tconst currentUser = currentUserProfile();\n\t\t\tif (currentUser) navigateTo(`/user/${currentUser}`, { leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\t// numbers and numpad numbers are used to access links (see getLinkKeys)\n};\n\nmodule.beforeLoad = () => {\n\tregisterCommandLine();\n\n\tif (module.options.linkNumbers.value) {\n\t\tSelectedThing.addListener(updateLinkAnnotations, 'instantly');\n\t\twatchForElements(['selfText'], null, element => {\n\t\t\tconst thing = Thing.from(element);\n\t\t\tif (SelectedThing.current === thing) updateLinkAnnotations(thing);\n\t\t});\n\t}\n};\n\nmodule.contentStart = () => {\n\twindow.addEventListener('keydown', handleKeyPress, true);\n};\n\nfunction registerCommandLine() {\n\tCommandLine.registerCommand(/\\d+/, '[number] - navigates to the link with that number (if annotation exists) or rank (link pages)',\n\t\t() => {},\n\t\tcommand => {\n\t\t\tconst number = parseInt(command, 10);\n\t\t\tconst annotation = linkAnnotations[number - 1];\n\t\t\tif (annotation) {\n\t\t\t\tif (!document.contains(annotation.link)) {\n\t\t\t\t\tconsole.log('Annotation refers to removed link; ignoring');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topenLink(number - 1);\n\t\t\t} else {\n\t\t\t\tfollowLinkByRank(number);\n\t\t\t}\n\t\t},\n\t);\n}\n\nlet linkAnnotations = [];\n\nfunction updateLinkAnnotations(selected) {\n\tfor (const { annotation } of linkAnnotations) annotation.remove();\n\n\tlinkAnnotations = ((Array.from((selected && selected.entry.querySelectorAll('div.md a:not(.noKeyNav)')) || []): any[]): HTMLAnchorElement[])\n\t\t.filter(link => !isCommentCode(link) && !isEmptyLink(link))\n\t\t.map((link, i) => {\n\t\t\tconst number = i + 1;\n\t\t\tconst title = number < 10 ? `press ${number} to open link` :\n\t\t\t\tnumber === 10 ? 'press 0 to open link' :\n\t\t\t\t`press ${niceKeyCode(module.options.toggleCmdLine.value)} then ${number} and Enter to open link`;\n\n\t\t\tconst annotation = string.html`<span class=\"noCtrlF keyNavAnnotation\" data-text=\"[${number}]\" title=\"${title}\"></span>`;\n\n\t\t\tif (module.options.linkNumberPosition.value === 'right') link.after(annotation);\n\t\t\telse link.before(annotation);\n\n\t\t\treturn { annotation, link };\n\t\t});\n}\n\nfunction toggleKeyNavHelp() {\n\tconst slideSpeed = 400;\n\tif (!drawHelp().attr('shown')) {\n\t\tdrawHelp().attr('shown', 'false');\n\t\tdrawHelp().css({ right: '-350px' });\n\t\tdrawHelp().show();\n\t}\n\tif (drawHelp().attr('shown') === 'true') {\n\t\tdrawHelp().animate({\n\t\t\tright: '-350px',\n\t\t}, slideSpeed);\n\t\tdrawHelp().attr('shown', 'false');\n\t} else {\n\t\tdrawHelp().animate({\n\t\t\tright: '20px',\n\t\t}, slideSpeed);\n\t\tdrawHelp().attr('shown', 'true');\n\t}\n}\n\nconst drawHelp = _.once(() => {\n\tconst keys = filterMap(getActiveCommandOptions(), opt => {\n\t\tlet keyCode\t= niceKeyCode(opt.value);\n\t\tif (opt.goMode && module.options.useGoMode.value) {\n\t\t\tkeyCode = `${niceKeyCode(module.options.goMode.value)}  ${keyCode}`;\n\t\t}\n\n\t\treturn [{ keyCode, description: i18n(opt.description) }];\n\t});\n\n\treturn $(string.html`\n\t\t<div id=\"keyHelp\">\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr><th>Key</th><th>Function</th></tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t${keys.map(({ keyCode, description }) => string._html`\n\t\t\t\t\t\t<tr><td>${keyCode}</td><td>${description}</td></tr>\n\t\t\t\t\t`)}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t`).appendTo(document.body);\n});\n\nfunction getLinkKeys() {\n\tconst altModeModifier = module.options.linkNumberAltModeModifier.value;\n\tconst keys = [];\n\n\tfunction addKey(key, index) {\n\t\tkeys.push({\n\t\t\tvalue: [key, false, false, false, false], // number\n\t\t\tcallback() { openLink(index); },\n\t\t});\n\n\t\tif (altModeModifier !== 'none') {\n\t\t\tkeys.push({\n\t\t\t\tvalue: [key, altModeModifier === 'alt', false, altModeModifier === 'shift', false], // alt-number | shift-number\n\t\t\t\tcallback() { openLink(index, true); },\n\t\t\t});\n\t\t}\n\t}\n\n\tif (module.options.linkNumbers.value) {\n\t\t[49, 50, 51, 52, 53, 54, 55, 56, 57, 48].forEach(addKey); // numbers 1 2 3 4 5 6 7 8 9 0\n\t\t[97, 98, 99, 100, 101, 102, 103, 104, 105, 96].forEach(addKey); // numpad 1 2 3 4 5 6 7 8 9 0\n\t}\n\n\treturn keys;\n}\n\nconst getActiveCommandOptions = _.once(() =>\n\tfilterMap(Object.values(module.options), option => {\n\t\tif (\n\t\t\toption.type === 'keycode' &&\n\t\t\toption.callback &&\n\t\t\t(!option.dependsOn || option.dependsOn(module.options)) &&\n\t\t\t(!option.include || matchesPageLocation(option.include)) &&\n\t\t\t(!option.mustBeLoggedIn || loggedInUser()) &&\n\t\t\t(!option.requiresModules || option.requiresModules.every(Modules.isRunning))\n\t\t) {\n\t\t\treturn [option];\n\t\t}\n\t}),\n);\n\nconst _commandLookup = _.once(() => {\n\tconst lookup = {};\n\tfor (const option of [...getActiveCommandOptions(), ...getLinkKeys()]) {\n\t\tconst hash = hashKeyArray(option.value);\n\t\tif (!lookup[hash]) {\n\t\t\tlookup[hash] = [];\n\t\t}\n\n\t\tlookup[hash].push(option);\n\t}\n\treturn lookup;\n});\n\nfunction handleKeyPress(e) {\n\tif (EasterEgg.konamiActive()) return;\n\n\t// Allow navigation on other elements when input has no (apparent) default behavior\n\tif (document.activeElement && ['A', 'BUTTON'].includes(document.activeElement.tagName)) {\n\t\tconst hasDefaultBehavior = [NAMED_KEYS.Tab, NAMED_KEYS.Enter,\n\t\t\tNAMED_KEYS.Space].includes(e.key);\n\t\tif (hasDefaultBehavior) return;\n\t} else if (document.activeElement && document.activeElement.tagName !== 'BODY') {\n\t\treturn;\n\t}\n\n\tconst hash = hashKeyEvent(e);\n\tconst options = (_commandLookup()[hash] || [])\n\t\t.filter(v => {\n\t\t\tif (v.goMode) return module.options.useGoMode.value === goModeActive;\n\t\t\telse return !goModeActive;\n\t\t});\n\n\tif (options.length) {\n\t\thandleCallbacks(options);\n\t\te.preventDefault();\n\t\te.target.blur();\n\t}\n}\n\nasync function handleCallbacks(options) {\n\tif (options.some(v => v.goMode)) {\n\t\tif (goModeActive) toggleGoMode();\n\n\t\tif (options.length > 1) {\n\t\t\tconst shortcut = niceKeyCode(options[0].value);\n\t\t\toptions = await promptUniqueShortcut(shortcut, options);\n\t\t}\n\t}\n\n\tfor (const option of options) {\n\t\ttry {\n\t\t\toption.callback();\n\t\t} catch (e) {\n\t\t\tconsole.error('Could not execute callback', i18n(option.title), e);\n\t\t}\n\t}\n}\n\nconst promptUniqueShortcut = _.memoize(async (shortcut, options: any) => {\n\tconst question = i18n('keyboardNavAmbiguousShortcutPrompt', i18n(module.moduleName), `<i>${shortcut}</i>`, '<br><br>', `<i>${shortcut}</i>`);\n\tconst optionButtons = options.map(option =>\n\t\t[option, $(`<button style=\"width: 100%; margin-top: 2px;\">${i18n(option.description)}</button>`).get(0)],\n\t);\n\tconst followUp = i18n('keyboardNavAmbiguousShortcutPromptFollowUp', SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, i18n(module.moduleName)));\n\n\tconst message = $(`<div>${question}</div>`)\n\t\t.append(optionButtons.map(([, button]) => button))\n\t\t.append(`<br><br><small>(${followUp})</small>`)\n\t\t.get(0);\n\n\tconst notification = Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\theader: 'Ambiguous shortcut',\n\t\tmessage,\n\t\tnoDisable: true,\n\t\tcloseDelay: Infinity,\n\t});\n\n\tconst preservedOption = await Promise.race(\n\t\toptionButtons.map(([option, button]) => waitForEvent(button, 'click').then(() => option)),\n\t);\n\n\tfor (const option of _.without(options, preservedOption)) {\n\t\toption.value = [-1, false, false, false, false];\n\t\tOptions.save(option);\n\t}\n\n\tnotification.close();\n\n\treturn [preservedOption];\n});\n\nfunction getSelected(): Thing {\n\tconst selected = SelectedThing.current;\n\tif (!selected) throw new Error('A entry must be selected');\n\tif (!selected.isVisible()) throw new Error('Entry must be visible');\n\treturn selected;\n}\n\nconst ASSERT = true;\nconst NOASSERT = false;\n\nfunction assertElement<T>(element: ?T): T {\n\tif (!element) throw new Error('Element not available');\n\treturn element;\n}\n\nfunction getFirstElementInThingByQuery(query: string, assertExistance: boolean, thing = getSelected()) {\n\tconst element = thing.entry.querySelector(query);\n\treturn assertExistance ? assertElement(element) : element;\n}\n\nfunction getElementsInThingByQuery(query: string, assertLength: boolean, thing = getSelected()) {\n\tconst elements = Array.from(thing.entry.querySelectorAll(query));\n\tif (assertLength) assertElement(elements[0]);\n\treturn elements;\n}\n\nfunction getMostVisibleElementInThingByQuery(query, assertLength, thing) {\n\treturn _.maxBy(getElementsInThingByQuery(query, assertLength, thing), getPercentageVisibleYAxis);\n}\n\nfunction hideLink(selected = getSelected()) {\n\tconst hide = assertElement(selected.getHideElement());\n\n\t// Hide will collapse expandos, so move down first in order for mediaBrowse to use correct state\n\tif (module.options.onHideMoveDown.value) {\n\t\tSelectedThing.move('down', { allowMediaBrowse: true, scrollStyle: 'none' }, moveDownFallback);\n\t}\n\n\tclick(hide);\n}\n\nfunction followSubreddit(newWindow = false, selected = getSelected()) {\n\tconst a = downcast(assertElement(selected.getSubredditLink()), HTMLAnchorElement);\n\tnavigateTo(a.href, { newWindow, leaveNP: true });\n}\n\nfunction followProfile(newWindow = false, selected = getSelected()) {\n\tnavigateTo(selected.getAuthorUrl(), { newWindow, leaveNP: true });\n}\n\nfunction toggleChildren(selected = getSelected()) {\n\tif (selected.element.classList.contains('link')) return;\n\n\tclick(assertElement(\n\t\t// 'continue this thread' links\n\t\tgetFirstElementInThingByQuery('span.deepthread > a', NOASSERT, selected) ||\n\t\t// check if this is a \"show more comments\" box, or just contracted content...\n\t\tgetFirstElementInThingByQuery('span.morecomments > a', NOASSERT, selected) ||\n\t\t// find out if this is a collapsed or uncollapsed view...\n\t\tgetFirstElementInThingByQuery('a.expand', NOASSERT, selected),\n\t));\n}\n\nfunction imageResize({ factor = 1, removeHeightRestriction = false }: {| factor?: number, removeHeightRestriction?: boolean |}) {\n\tconst mostVisible = getMostVisibleElementInThingByQuery('.res-media-zoomable', ASSERT);\n\tif (removeHeightRestriction) mostVisible.style.maxHeight = 'none';\n\tShowImages.resize(mostVisible, mostVisible.clientWidth * factor);\n}\n\nfunction imageMove(deltaX, deltaY) {\n\tconst mostVisible = getMostVisibleElementInThingByQuery('.res-media-movable', ASSERT);\n\tShowImages.move(mostVisible, deltaX, deltaY);\n}\n\nfunction navigateGallery(direction: 'previous' | 'next') {\n\tconst gallery = getMostVisibleElementInThingByQuery('.res-gallery', ASSERT);\n\tassertElement(gallery.querySelector(`.res-step-${direction}`)).click();\n\tif (module.options.scrollOnGalleryNavigate.value) {\n\t\tscrollToElement(assertElement(gallery.querySelector('.res-gallery-pieces')), null, { scrollStyle: 'directional', restrictDirectionTo: 'up' });\n\t}\n}\n\nfunction followLink(newWindow = false, selected = getSelected()) {\n\tif (isPageType('comments') && !selected.element.classList.contains('link')) return;\n\n\tconst a = selected.getPostLink();\n\tnavigateTo(a.href, { newWindow });\n}\n\nfunction followLinkByRank(num) {\n\tconst target = Thing.visibleThings().find(v => v.getRank() === num);\n\tif (!target) throw new Error(`Could not find visible entry at rank ${num}`);\n\tSelectedThing.set(target);\n\tfollowLink();\n}\n\nfunction followPermalink(newWindow = false) {\n\tconst a = downcast(getFirstElementInThingByQuery('a.bylink', ASSERT), HTMLAnchorElement);\n\tnavigateTo(a.href, { newWindow });\n}\n\nfunction followComments(newWindow = false, selected = getSelected()) {\n\tconst a = assertElement(selected.getCommentsLink());\n\tnavigateTo(a.href, { newWindow });\n}\n\nfunction vote(way: 'downmod' | 'upmod', preventToggle = false, selected = getSelected()) {\n\tconst button = assertElement(way === 'upmod' ? selected.getUpvoteButton() : selected.getDownvoteButton());\n\n\tif (button.classList.contains('archived')) {\n\t\t// do nothing\n\t} else if (NoParticipation.isVotingBlocked()) {\n\t\tNoParticipation.notifyNoVote();\n\t} else if (!preventToggle || !button.classList.contains(way)) {\n\t\tclick(button);\n\t}\n\n\tif (selected.isComment()) {\n\t\tif (module.options.onVoteCommentMoveDown.value) module.options.moveDownComment.callback();\n\t} else {\n\t\tif (module.options.onVoteMoveDown.value) module.options.moveDown.callback();\n\t}\n}\n\nfunction reply(selected = getSelected()) {\n\tif (selected.element.classList.contains('link') && isPageType('comments')) {\n\t\t// Reply to OP, but only if a reply form is available\n\t\tconst $target = $('.usertext-edit textarea[name=text]:first');\n\t\tif ($target.filter(':visible').length) {\n\t\t\t$target.focus();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tclick(assertElement(\n\t\t// User can reply directly here, so open/focus the reply form\n\t\tgetFirstElementInThingByQuery('.buttons a[onclick*=reply]', NOASSERT, selected) ||\n\t\t// User cannot reply directly from this page, so go to where they can reply\n\t\tgetFirstElementInThingByQuery('.buttons a.comments, .buttons a.bylink', NOASSERT, selected),\n\t));\n}\n\nfunction navigateTo(href, options: {| newWindow?: boolean, leaveNP?: boolean |}) {\n\tif (\n\t\toptions.leaveNP &&\n\t\tModules.isEnabled(NoParticipation) &&\n\t\tNoParticipation.module.options.escapeNP.value\n\t) {\n\t\thref = NoParticipation.nonNpLocation(href);\n\t}\n\n\tif (options.newWindow) {\n\t\topenNewTab(href, module.options.followLinkNewTabFocus.value);\n\t} else {\n\t\tlocation.href = href;\n\t}\n}\n\nconst goModePanel = _.once(() => {\n\tconst goModes = getActiveCommandOptions()\n\t\t.filter(opt => opt.goMode)\n\t\t.map(opt => ({ key: i18n(opt.title), niceKeyCode: niceKeyCode(opt.value) }));\n\n\treturn $(string.html`\n\t\t<div id=\"goModePanel\" class=\"RESDialogSmall\">\n\t\t\t<h3>Press a key to go:</h3>\n\t\t\t<div class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t<div class=\"RESDialogContents\">\n\t\t\t\t<table>\n\t\t\t\t\t${goModes.map(({ niceKeyCode, key }) => string._html`\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>${niceKeyCode}</td>\n\t\t\t\t\t\t\t<td class=\"arrow\">&rarr;</td>\n\t\t\t\t\t\t\t<td>${key}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t`)}\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t`)\n\t\t.find('.RESCloseButton').click(toggleGoMode)\n\t\t.end();\n});\n\nlet goModeActive = false;\n\nfunction toggleGoMode() {\n\tgoModeActive = !goModeActive;\n\tif (goModeActive) {\n\t\t$(document.body).on('keyup', handleGoModeEscapeKey);\n\t\tgoModePanel().appendTo(document.body).fadeIn();\n\t} else {\n\t\tgoModePanel().fadeOut();\n\t\t$(document.body).off('keyup', handleGoModeEscapeKey);\n\t}\n}\n\nfunction handleGoModeEscapeKey(event: KeyboardEvent) {\n\tif (event.key === NAMED_KEYS.Escape) {\n\t\ttoggleGoMode();\n\t}\n}\n\nfunction moveDownFallback() {\n\tconst bump = Modules.isRunning(NeverEndingReddit) &&\n\t\t(\n\t\t\t!SelectedThing.current ||\n\t\t\t[SelectedThing.current, undefined].includes(_.last(Thing.visibleThings()))\n\t\t);\n\tif (bump) NeverEndingReddit.loadNextPage({ scrollToLoadWidget: true });\n}\n\nfunction openLink(index, altMode = false) {\n\tconst link = linkAnnotations[index] && linkAnnotations[index].link;\n\tif (!link) throw Error(`Link annotation ${index} is not available`);\n\n\tconst expando = ShowImages.getLinkExpando(link);\n\tif (expando && (module.options.linkToggleExpando.value !== altMode)) {\n\t\tclick(expando.button);\n\t} else if (SettingsNavigation.isSettingsUrl(link.href)) {\n\t\tSettingsNavigation.update(link);\n\t} else if (module.options.linkNewTab.value) {\n\t\topenNewTab(link.href, module.options.followLinkNewTabFocus.value);\n\t} else {\n\t\tlocation.href = link.href;\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { RES_SETTINGS_HASH } from '../constants/urlHashes';\nimport { guiders } from '../vendor/guiders';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport {\n\tCreateElement,\n\telementInViewport,\n\tmutex,\n\tniceKeyCode,\n\tpositiveModulo,\n\tDAY,\n\tstring,\n} from '../utils';\nimport { Storage, i18n } from '../environment';\nimport * as PenaltyBox from './penaltyBox';\nimport * as KeyboardNav from './keyboardNav';\nimport * as Menu from './menu';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('RESTips');\n\nmodule.moduleName = 'resTipsName';\nmodule.category = 'aboutCategory';\nmodule.description = 'resTipsDesc';\nmodule.options = {\n\tmenuItem: {\n\t\ttitle: 'RESTipsMenuItemTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'RESTipsMenuItemDesc',\n\t},\n\tdailyTip: {\n\t\ttitle: 'RESTipsDailyTipTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'RESTipsDailyTipDesc',\n\t},\n\tnewFeatureTips: {\n\t\ttitle: 'RESTipsNewFeatureTipsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'RESTipsNewFeatureTipsDesc',\n\t},\n};\n\n// Many of the tips refers to modules that are disabled in the redesign\n// so avoid confusing users\nmodule.include = ['r2'];\n\nconst featureTipsStorage = Storage.wrapPrefix('RESTips.featureTips.', () => ({ enabled: true }));\nconst lastTooltipStorage = Storage.wrap('RESLastToolTip', 0);\n\nmodule.contentStart = () => {\n\tif (module.options.menuItem.value) {\n\t\tMenu.addMenuItem(\n\t\t\t() => string.html`<span>${i18n('tipsAndTricks')}</span>`,\n\t\t\t() => { showOrdinaryTip('random'); },\n\t\t);\n\t}\n};\n\nlet allowFeatureTips;\nconst featureTips: Map<string, Tip> = new Map();\nconst featureTipReadyPromise = new Promise(resolve => { allowFeatureTips = () => resolve(true); });\n\nmodule.afterLoad = async () => {\n\tconst showsDailyTip = module.options.dailyTip.value && await dailyTip();\n\tif (module.options.newFeatureTips.value && !showsDailyTip) allowFeatureTips();\n};\n\nconst newFeatureTipsCheckbox = _.once(() =>\n\t$('<label><input type=\"checkbox\" name=\"disableNewFeatureTipsCheckbox\" checked />Show these tips when new features appear</label>')\n\t\t.click((e: Event) => { module.options.newFeatureTips.value = (e.currentTarget.querySelector('input'): any).checked; Options.save(module.options.newFeatureTips); }),\n);\n\n// memoize: prevent the same tip from being added multiple times\nexport const addFeatureTip = _.memoize(async (id: string, tip: Tip) => {\n\ttip.onHide = () => { featureTipsStorage.set(id, { enabled: false }); };\n\n\tfeatureTips.set(id, tip);\n\t// Make the tip accessible via daily tips / tips & tricks\n\ttips.push(tip);\n\n\tif (\n\t\t!tip.quiet &&\n\t\tawait featureTipReadyPromise &&\n\t\tawait featureTipsStorage.get(id).then(({ enabled }) => enabled)\n\t) showFeatureTip(id);\n});\n\nexport const showFeatureTip = mutex((id: string) => {\n\tconst tip = featureTips.get(id);\n\n\tif (!tip) {\n\t\tconsole.error('Feature tip is not added', id);\n\t\treturn;\n\t}\n\n\tif (tip.attachTo instanceof Element && !elementInViewport(tip.attachTo)) {\n\t\t// Usually happens when subreddit CSS for some reason hides the element\n\t\tconsole.log('Ignoring feature tip whose attachment element is not visible:', tip);\n\t\treturn;\n\t}\n\n\treturn showTip(tip, {\n\t\ttitle: 'New feature',\n\t\tclassString: 'res-featureTip',\n\t\tbuttonCustomHTML: newFeatureTipsCheckbox(),\n\t\tbuttons: [],\n\t});\n});\n\nasync function dailyTip(): Promise<boolean> { // `true` if daily tip is being shown\n\tconst lastCheck = await lastTooltipStorage.get();\n\tconst now = Date.now();\n\tconst delay = PenaltyBox.penalizedDelay(module.moduleID, 'dailyTip', {\n\t\tvalue: DAY,\n\t\tdefault: DAY,\n\t});\n\tif ((now - lastCheck) > delay) {\n\t\t// mark off that we've displayed a new tooltip\n\t\tlastTooltipStorage.set(now);\n\t\tif (lastCheck === 0) {\n\t\t\tawait showOrdinaryTip();\n\t\t} else {\n\t\t\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'dailyTip', _.clamp(PenaltyBox.MAX_PENALTY / tips.length, 3, 8));\n\t\t\tawait showOrdinaryTip('random');\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction generateContent({ message, keyboard, options }: Tip) {\n\tconst description = [];\n\n\tif (typeof message === 'function') description.push(message());\n\telse if (typeof message === 'string') description.push(message);\n\n\tif (keyboard) {\n\t\t// TODO: microtemplate\n\t\tconst disabled = !Modules.isEnabled(KeyboardNav);\n\t\tdescription.push(`<h2 class=\"keyboardNav${disabled ? 'keyboardNavDisabled' : ''}\">`);\n\t\tdescription.push(`Keyboard Navigation${disabled ? ' (disabled)' : ''}`);\n\t\tdescription.push('</h2>');\n\n\t\tconst keyboardTable = CreateElement.table(keyboard, generateContentKeyboard);\n\t\tif (keyboardTable) description.push(keyboardTable);\n\t}\n\n\tif (options) {\n\t\tfor (const option of options) {\n\t\t\tdescription.push('<h2 class=\"settingsPointer\">');\n\t\t\tdescription.push('<span class=\"gearIcon\"></span> RES Settings');\n\t\t\tdescription.push('</h2>');\n\n\t\t\tconst optionTable = CreateElement.table(option, generateContentOption);\n\t\t\tif (optionTable) description.push(optionTable);\n\t\t}\n\t}\n\n\treturn $('<div />').html(description.join('\\n'));\n}\n\nfunction generateContentKeyboard(keyboardNavOption: string) {\n\tconst keyCode = niceKeyCode(KeyboardNav.module.options[keyboardNavOption].value);\n\tif (!keyCode) return false;\n\n\tconst description = [];\n\tdescription.push('<tr>');\n\tdescription.push(`<td><code>${keyCode.toLowerCase()}</code></td>`);\n\tdescription.push(`<td>${keyboardNavOption}</td>`);\n\tdescription.push('</tr><tr>');\n\tdescription.push('<td>&nbsp;</td>'); // for styling\n\tdescription.push(`<td>${i18n(KeyboardNav.module.options[keyboardNavOption].description)}</td>`);\n\tdescription.push('</tr>');\n\n\treturn description;\n}\n\nfunction generateContentOption(option) {\n\tconst mod = Modules.getUnchecked(option.moduleID);\n\tif (!mod) return false;\n\n\tconst description = [];\n\n\tdescription.push('<tr>');\n\tdescription.push(`<td>${i18n(mod.category)}</td>`);\n\n\tdescription.push('<td>');\n\tdescription.push(SettingsNavigation.makeUrlHashLink(option.moduleID, undefined, i18n(mod.moduleName)));\n\tdescription.push('</td>');\n\n\tdescription.push('<td>');\n\tdescription.push(option.key ? SettingsNavigation.makeUrlHashLink(option.moduleID, option.key) : '&nbsp;');\n\tdescription.push('</td>');\n\n\tif (option.key && mod.options[option.key]) {\n\t\tdescription.push('</tr><tr>');\n\t\tdescription.push(`<td colspan=\"3\">${i18n(mod.options[option.key].description)}</td>`);\n\t}\n\tdescription.push('</tr>');\n\n\treturn description;\n}\n\nexport type Tip = {|\n\tmessage: string | () => string,\n\ttitle?: string,\n\tattachTo?: string | HTMLElement,\n\tposition?: number,\n\tkeyboard?: string,\n\tcontinuation?: () => string,\n\tquiet?: boolean,\n\tonHide?: () => void,\n\toptions?: Array<{|\n\t\tmoduleID: string,\n\t\tkey?: string,\n\t|}>,\n|};\n\nconst tips: Array<Tip> = [{\n\tmessage: `\n\t\tWelcome to RES, a community-driven unofficial browser extension for Reddit. You can turn on, turn off, or change options for RES features using the gear icon link at the top right.\n\t\t<p>For feature requests, or just help getting a question answered, be sure to subscribe to <a href=\"/r/Enhancement\">/r/Enhancement</a>.</p>\n\t\t<p>If RES has enhanced your reddit experience, please show your appreciation by <a href=\"${RES_SETTINGS_HASH}/contribute\">donating or contributing!</a></p>\n\t\t`,\n\tattachTo: '#RESSettingsButton',\n\tposition: 5,\n}, {\n\tmessage: 'Click the tag icon next to a user to tag that user with any name you like - you can also color code the tag.',\n\tattachTo: '.RESUserTagImage',\n\tposition: 3,\n\toptions: [{ moduleID: 'userTagger' }],\n}, {\n\tmessage: 'If your RES data gets deleted or you move to a new computer, you can restore it from backup. <br><br><b>Firefox</b> especially sometimes loses your RES settings and data. <br><br><a href=\"/r/Enhancement/wiki/backing_up_res_settings\" target=\"_blank\" rel=\"noopener noreferer\">Learn where RES stores your data and settings</a></p>',\n\ttitle: 'Back up your RES data!',\n}, {\n\tmessage: 'Don\\'t forget to subscribe to <a href=\"/r/Enhancement\">/r/Enhancement</a> to keep up to date on the latest versions of RES or suggest features! For bug reports, submit to <a href=\"/r/RESIssues\">/r/RESIssues</a>',\n}, {\n\tmessage: 'Don\\'t want to see posts containing certain keywords? Want to filter out certain subreddits from /r/all? Try the filteReddit module!',\n\toptions: [{ moduleID: 'filteReddit' }],\n}, {\n\tmessage: 'Keyboard Navigation is one of the most underutilized features in RES. You should try it!',\n\toptions: [{ moduleID: 'keyboardNav' }],\n\tkeyboard: 'toggleHelp',\n}, {\n\tmessage: 'Did you know you can configure the appearance of a number of things in RES? For example: Selected Entry lets you configure the look of the \"selected\" box, and commentBoxes lets you configure the borders / shadows.',\n\toptions: [{\n\t\tmoduleID: 'selectedEntry',\n\t\tkey: 'setColors',\n\t}, {\n\t\tmoduleID: 'commentStyle',\n\t\tkey: 'commentBoxes',\n\t}],\n}, {\n\tmessage: 'Do you subscribe to a ton of subreddits? Give the subreddit tagger a try; it can make your homepage a bit more readable.',\n\toptions: [{\n\t\tmoduleID: 'subRedditTagger',\n\t}],\n}, {\n\tmessage: 'If you haven\\'t tried it yet, Keyboard Navigation is great. Just hit ? while browsing for instructions.',\n\toptions: [{\n\t\tmoduleID: 'keyboardNav',\n\t}],\n\tkeyboard: 'toggleHelp',\n}, {\n\tmessage: 'Roll over a user\\'s name to get information about them such as their karma, and how long they\\'ve been a reddit user.',\n\toptions: [{\n\t\tmoduleID: 'userInfo',\n\t\tkey: 'hoverInfo',\n\t}],\n}, {\n\tmessage: 'Hover over the \"parent\" link in comments pages to see the text of the parent being referred to.',\n\toptions: [{\n\t\tmoduleID: 'showParent',\n\t}],\n}, {\n\tmessage: 'You can configure the color and style of the User Highlighter module if you want to change how the highlights look.',\n\toptions: [{\n\t\tmoduleID: 'userHighlight',\n\t}],\n}, {\n\tmessage: 'Not a fan of how comments pages look? You can change the appearance in the Style Tweaks module',\n\toptions: [{\n\t\tmoduleID: 'styleTweaks',\n\t}],\n}, {\n\tmessage: 'Don\\'t like the style in a certain subreddit? RES gives you a checkbox to disable styles individually - check the right sidebar!',\n}, {\n\tmessage: 'Looking for posts by submitter, post with photos, or posts in IAmA form? Try out the comment navigator.',\n}, {\n\tmessage: 'Have you seen the <a href=\"/r/Dashboard\">RES Dashboard</a>? It allows you to do all sorts of great stuff, like keep track of lower traffic subreddits, and manage your <a href=\"/r/Dashboard#userTaggerContents\">user tags</a> and <a href=\"/r/Dashboard#newCommentsContents\">thread subscriptions</a>!',\n\toptions: [{\n\t\tmoduleID: 'dashboard',\n\t}],\n}, {\n\tmessage: 'Sick of seeing these tips?  They only show up once every 24 hours, but you can disable that in the RES Tips and Tricks preferences.',\n\toptions: [{\n\t\tmoduleID: 'RESTips',\n\t}],\n}, {\n\tmessage: 'Did you know that there is now a \"keep me logged in\" option in the Account Switcher? Turn it on if you want to stay logged in to Reddit when using the switcher!',\n\toptions: [{\n\t\tmoduleID: 'accountSwitcher',\n\t\tkey: 'keepLoggedIn',\n\t}],\n}, {\n\tmessage: 'See that little [vw] next to users you\\'ve voted on?  That\\'s their vote weight - it moves up and down as you vote the same user up / down.',\n\toptions: [{\n\t\tmoduleID: 'userTagger',\n\t\tkey: 'vwNumber',\n\t}],\n}];\n\nconst dailyTipsCheckbox = _.once(() =>\n\t$(`<label><input type=\"checkbox\" name=\"disableDailyTipsCheckbox\" ${module.options.dailyTip.value ? 'checked' : ''} />Show these tips once every 24 hours</label>`)\n\t\t.click((e: Event) => { module.options.dailyTip.value = (e.currentTarget.querySelector('input'): any).checked; Options.save(module.options.dailyTip); }),\n);\n\nlet lastTip;\n\nfunction showOrdinaryTip(change?: 'random' | 'prev' | 'next') {\n\t// The more tips the user views, the more the next dailyTip can be delayed\n\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'dailyTip', 1);\n\n\tlet currTipIndex = Math.max(tips.indexOf(lastTip), 0);\n\tlet tip: ?Tip;\n\twhile (!tip || (tip.attachTo && !$(tip.attachTo).is(':visible'))) {\n\t\tif (change === 'random') currTipIndex = _.random(tips.length);\n\t\telse if (change === 'prev') currTipIndex -= 1;\n\t\telse if (change === 'next') currTipIndex += 1;\n\t\telse change = 'next'; // For next iteration\n\t\tcurrTipIndex = positiveModulo(currTipIndex, tips.length);\n\t\ttip = tips[currTipIndex];\n\t}\n\n\treturn showTip((tip: Tip), {\n\t\tbuttons: [{\n\t\t\tname: 'Prev',\n\t\t\tonclick: () => showOrdinaryTip('prev'),\n\t\t}, {\n\t\t\tname: 'Next',\n\t\t\tonclick: () => showOrdinaryTip('next'),\n\t\t}],\n\t\tonClose() { PenaltyBox.alterFeaturePenalty(module.moduleID, 'dailyTip', 4); },\n\t\tclassString: 'res-ordinaryTip',\n\t\tbuttonCustomHTML: dailyTipsCheckbox(),\n\t\ttitle: 'RES Tips and Tricks',\n\t});\n}\n\nfunction showTip(tip: Tip, guiderObj) {\n\tconst { continuation } = lastTip = tip;\n\tif (continuation) {\n\t\tconst origGuiderObj = { ...guiderObj };\n\t\tconst onclick = async () => {\n\t\t\tconst upcomingId = continuation();\n\t\t\tlet nextTip;\n\t\t\twhile (!(nextTip = featureTips.get(upcomingId))) {\n\t\t\t\tawait new Promise(r => setTimeout(r, 100)); // eslint-disable-line no-await-in-loop\n\t\t\t}\n\t\t\tshowTip(nextTip, origGuiderObj);\n\t\t};\n\t\tguiderObj.buttons = [...guiderObj.buttons, { name: 'More', onclick }];\n\t}\n\n\tconst attachTo: ?HTMLElement = tip.attachTo && $(tip.attachTo).get(0) || null;\n\n\t// Make the attachTo element navigatable even when e.g. dropdowns intersect the guider\n\tconst toggleIncreasedZIndex = state => { if (attachTo) attachTo.classList.toggle('restips-increased-z-index', state); };\n\n\treturn new Promise<void>(resolve => {\n\t\tguiders.hideAll();\n\t\tguiders.createGuider({\n\t\t\tid: `res-guider-${performance.now()}`, // guiders.js' randomization interval is [0..999], and merges buttons on collision\n\t\t\tcloseOnEscape: true,\n\t\t\txButton: true,\n\t\t\tdescription: generateContent(tip),\n\t\t\t...guiderObj,\n\t\t\t...tip,\n\t\t\tonHide() {\n\t\t\t\tif (tip.onHide) tip.onHide();\n\t\t\t\ttoggleIncreasedZIndex(false);\n\t\t\t\tresolve();\n\t\t\t},\n\t\t\tattachTo,\n\t\t});\n\t\ttoggleIncreasedZIndex(true);\n\t\tguiders.show();\n\t});\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { CreateElement } from '../utils';\n\nexport const module: Module<*> = new Module('about');\n\nmodule.moduleName = 'aboutName';\nmodule.category = 'aboutCategory';\nmodule.sort = -10;\nmodule.alwaysEnabled = true;\nmodule.description = 'aboutDesc';\n\nmodule.options = {\n\tpresets: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsPresets',\n\t\ttitle: 'aboutOptionsPresetsTitle',\n\t\ttext: CreateElement.icon(0xF142),\n\t\tcallback: { moduleID: 'presets' },\n\t},\n\tbackup: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsBackup',\n\t\ttitle: 'aboutOptionsBackupTitle',\n\t\ttext: CreateElement.icon(0xF059),\n\t\tcallback: { moduleID: 'backupAndRestore' },\n\t},\n\tsearchSettings: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsSearchSettings',\n\t\ttitle: 'aboutOptionsSearchSettingsTitle',\n\t\ttext: CreateElement.icon(0xF097),\n\t\tcallback: { moduleID: 'search' },\n\t},\n\tannouncements: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsAnnouncements',\n\t\ttitle: 'aboutOptionsAnnouncementsTitle',\n\t\ttext: CreateElement.icon(0xF108),\n\t\tcallback: '/r/RESAnnouncements/new',\n\t},\n\tdonate: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsDonate',\n\t\ttitle: 'aboutOptionsDonateTitle',\n\t\ttext: CreateElement.icon(0xF104),\n\t\tcallback: 'https://redditenhancementsuite.com/contribute/',\n\t},\n\tbugs: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsBugs',\n\t\ttitle: 'aboutOptionsBugsTitle',\n\t\ttext: CreateElement.icon(0xF003),\n\t\tcallback: '/r/RESIssues/wiki/postanissue',\n\t},\n\tsuggestions: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsSuggestions',\n\t\ttitle: 'aboutOptionsSuggestionsTitle',\n\t\ttext: CreateElement.icon(0xF076),\n\t\tcallback: '/r/Enhancement',\n\t},\n\tfaq: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsFAQ',\n\t\ttitle: 'aboutOptionsFAQTitle',\n\t\ttext: CreateElement.icon(0xF0D3),\n\t\tcallback: '/r/Enhancement/wiki/index',\n\t},\n\tcode: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsCode',\n\t\ttitle: 'aboutOptionsCodeTitle',\n\t\ttext: CreateElement.icon(0xF063),\n\t\tcallback: 'https://github.com/honestbleeps/Reddit-Enhancement-Suite',\n\t},\n\tcontributors: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsContributors',\n\t\ttitle: 'aboutOptionsContributorsTitle',\n\t\ttext: CreateElement.icon(0xF048),\n\t\tcallback: 'https://redditenhancementsuite.com/about',\n\t},\n\tprivacy: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsPrivacy',\n\t\ttitle: 'aboutOptionsPrivacyTitle',\n\t\ttext: CreateElement.icon(0xF0C2),\n\t\tcallback: '/r/Enhancement/wiki/about/privacy',\n\t},\n\tlicense: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsLicense',\n\t\ttitle: 'aboutOptionsLicenseTitle',\n\t\ttext: CreateElement.icon(0xF0D3),\n\t\tcallback: 'https://www.gnu.org/licenses/gpl-3.0.html',\n\t},\n};\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Metadata from '../core/metadata';\nimport { addFloater, DAY, HOUR, isCurrentSubreddit, CreateElement, string } from '../utils';\nimport { Storage, ajax, openNewTab, i18n } from '../environment';\nimport type { RedditListing, RedditLink } from '../types/reddit';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('announcements');\n\nmodule.moduleName = 'announcementsName';\nmodule.category = 'coreCategory';\nmodule.description = 'announcementsDesc';\nmodule.hidden = true;\n\nconst subreddit = Metadata.announcementsSubreddit;\nconst sourceUrl = `/r/${subreddit}/new.json?limit=1`;\nconst viewUrl = `/r/${subreddit}/new`;\n\nconst markedReadDate = Storage.wrap('RESmodules.announcement.markedReadDate', 0);\nconst lastUnreadDate = Storage.wrap('RESmodules.announcement.lastUnreadDate', 0);\nconst lastID = Storage.wrap('RESModules.announcement.lastAnnouncementID', (null: null | string));\n\nconst archiveAfter = 31 * DAY;\nconst pizzazzAfter = 29 * DAY;\n// const notifyAgainAfter = 4 * DAY;\nconst recheckPostAfter = HOUR;\n\nconst now = Date.now();\n\nlet biff;\n\nmodule.go = async () => {\n\tif (isCurrentSubreddit(subreddit)) {\n\t\tsetMarkedRead();\n\t} else {\n\t\tconst post = await postForNotification();\n\t\tif (post) {\n\t\t\tnotify(post);\n\t\t}\n\t}\n};\n\nasync function postForNotification() {\n\tconst post = await getLatestPost();\n\tif (!post) {\n\t\treturn false;\n\t}\n\tcacheLatestPost(post);\n\n\tconst result = await shouldNotify(post);\n\treturn result ? post : false;\n}\n\nasync function shouldNotify(post) {\n\tconst createdDate = post.created_utc * 1000;\n\n\tif (createdDate + archiveAfter <= now) {\n\t\t// archived\n\t\treturn false;\n\t}\n\n\tif (createdDate <= await markedReadDate.get()) {\n\t\t// posted before last \"marked read\"\n\t\treturn false;\n\t}\n\n\tif (!isPostRelevant(post)) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nconst notify = _.once(async post => {\n\tconst url = post.id ? `/comments/${post.id}` : viewUrl;\n\tconst withPizzazz = (await lastUnreadDate.get()) + pizzazzAfter < now;\n\tconst title = post.author ?\n\t\ti18n('announcementsNewPostByUser', subreddit, post.author) :\n\t\ti18n('announcementsNewPost', subreddit);\n\n\taddAnnouncementBiff(post, url, title, withPizzazz);\n\n\t// has the user ever seen a notification? (i.e. is this a fresh install?)\n\tconst hasSeenNotification = await lastUnreadDate.has();\n\tif (hasSeenNotification) {\n\t\t// showNotification(post, url); // TODO: Make this slightly less obnoxious\n\t\tMenu.addMenuItem(\n\t\t\t() => string.html`<span title=\"${title}\">\n\t\t\t\tnew announcement!\n\t\t\t\t<span data-action=\"preventOpenNewTab\" class=\"RESMenuItemButton res-icon\"></span> // TODO Restore title=\"i18n('announcementsMarkAsRead')\"\n\t\t\t</span>`,\n\t\t\te => {\n\t\t\t\tsetMarkedRead();\n\t\t\t\tif (e.target.closest('[data-action=\"preventOpenNewTab\"]')) return;\n\t\t\t\topenNewTab(url);\n\t\t\t},\n\t\t\t-8,\n\t\t);\n\t}\n});\n\nasync function cacheLatestPost(post) {\n\t// if the post is novel, mark the latest ID and unread date, even if we don't end up showing a notification\n\tif (post.id !== await lastID.get()) {\n\t\tlastID.set(post.id);\n\t\tlastUnreadDate.set(now);\n\t}\n}\n\n/*\nfunction showNotification(post, url) {\n\tNotifications.showNotification({\n\t\tmoduleID,\n\t\tnotificationID: post.id || subreddit,\n\t\tsticky: true,\n\t\tcooldown: notifyAgainAfter,\n\t\theader: `New post in /r/${subreddit}`,\n\t\tmessage: announcementsNotificationTemplate({ url, viewUrl, post })\n\t});\n}\n*/\n\nfunction addAnnouncementBiff(post, url, title, withPizzazz) {\n\tbiff = string.html`<a id=\"RESAnnouncementAlert\" class=\"${withPizzazz ? 'important' : ''} href=\"${url}\" target=\"_blank\">`;\n\tbiff.append(CreateElement.icon(0xF076, 'span', '', title));\n\tbiff.addEventListener('click', setMarkedRead);\n\n\taddFloater(biff, { container: 'inNavbar' });\n}\n\nasync function getLatestPost() {\n\tconst { data: { children: [{ data }] } } = (await ajax({\n\t\turl: sourceUrl,\n\t\ttype: 'json',\n\t\tcacheFor: recheckPostAfter,\n\t}): RedditListing<RedditLink>);\n\n\treturn data;\n}\n\nfunction setMarkedRead() {\n\tmarkedReadDate.set(now);\n\tif (biff) biff.remove();\n}\n\nfunction isPostRelevant(post) {\n\tif (!(/chrome|safari|firefox|opera|edge/i).test(post.title)) {\n\t\t// If post is not browser specific, post is relevant\n\t\treturn true;\n\t}\n\n\tif (post.title.toLowerCase().includes((process.env.BUILD_TARGET: any).toLowerCase())) {\n\t\t// If post mentions user's browser, post is relevant\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { isPrivateBrowsing } from '../environment';\nimport { Thing, batch, isPageType, watchForThings } from '../utils';\nimport * as ThingHide from '../utils/thingHide';\nimport * as ReadComments from './readComments';\n\nexport const module: Module<*> = new Module('autoHide');\n\nmodule.moduleName = 'autoHideName';\nmodule.category = 'browsingCategory';\nmodule.description = 'autoHideDesc';\n\nmodule.options = {\n\tmustBeVisibleDuration: {\n\t\ttype: 'text',\n\t\tvalue: '2000',\n\t\tdescription: 'autoHideMustBeVisibleDurationDesc',\n\t\ttitle: 'autoHideMustBeVisibleDurationTitle',\n\t},\n\ttypes: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'All',\n\t\t\tvalue: '',\n\t\t}, {\n\t\t\tname: 'Only comments',\n\t\t\tvalue: 'comment',\n\t\t}, {\n\t\t\tname: 'Only link posts',\n\t\t\tvalue: 'post',\n\t\t}],\n\t\tvalue: 'comment',\n\t\tdescription: 'autoHideTypesDesc',\n\t\ttitle: 'autoHideTypesTitle',\n\t},\n};\n\nconst thingType = isPageType('comments', 'commentsLinklist') ? 'comment' : 'post';\n\nconst hidePost = batch(\n\tposts => ThingHide.send(ThingHide.HIDE, posts),\n\t{ size: 50, delay: 5000, flushBeforeUnload: true },\n);\n\nmodule.shouldRun = () => !isPrivateBrowsing();\n\nmodule.beforeLoad = () => {\n\tif (module.options.types.value && thingType !== module.options.types.value) return;\n\n\tif (thingType === 'comment' && !Modules.isRunning(ReadComments)) {\n\t\tconsole.warn('Auto-hiding comments requires readComments');\n\t\treturn;\n\t}\n\n\tconst mustBeVisibleDuration = parseFloat(module.options.mustBeVisibleDuration.value) || 0;\n\tconst pending: Map<Thing, TimeoutID> = new Map();\n\n\tconst io = new IntersectionObserver(entries => {\n\t\tfor (const { target, isIntersecting } of entries) {\n\t\t\tconst thing = Thing.checkedFrom(target);\n\t\t\tconst id = pending.get(thing);\n\t\t\tif (isIntersecting) {\n\t\t\t\tpending.set(thing, setTimeout(() => {\n\t\t\t\t\tif (thingType === 'post') hidePost(thing);\n\t\t\t\t\telse ReadComments.add(thing);\n\n\t\t\t\t\tio.unobserve(target);\n\t\t\t\t\tpending.delete(thing);\n\t\t\t\t}, mustBeVisibleDuration));\n\t\t\t} else if (id) {\n\t\t\t\tpending.delete(thing);\n\t\t\t\tclearTimeout(id);\n\t\t\t}\n\t\t}\n\t}, { threshold: [0], rootMargin: '0px 0px -30px 0px' });\n\n\twatchForThings([thingType], thing => {\n\t\tio.observe(thing.entry);\n\t});\n};\n","/* @flow */\nimport _ from 'lodash';\n\ntype Serialized = string;\ntype Deserialized = { +[string]: mixed };\n\ntype Version0Schema = {\n\tSCHEMA_VERSION: void, // no schema version was included\n\t[string]: string, // json-encoded\n};\n\ntype Version1Schema = {\n\tSCHEMA_VERSION: 1,\n\t[string]: mixed, // not stringified anymore\n};\n\ntype Version2Schema = {\n\tSCHEMA_VERSION: 2,\n\tdata: { +[string]: mixed }, // not sharing a namespace anymore\n};\n\nexport function serialize(settings: Deserialized): Serialized {\n\tconst object: Version2Schema = {\n\t\tSCHEMA_VERSION: 2,\n\t\tdata: settings,\n\t};\n\treturn JSON.stringify(object);\n}\n\nexport function deserialize(string: Serialized): Deserialized {\n\tconst object = JSON.parse(string);\n\tswitch (object.SCHEMA_VERSION) {\n\t\tdefault: {\n\t\t\tconst { SCHEMA_VERSION, ...encoded } = (object: Version0Schema);\n\t\t\treturn _.mapValues(encoded, (v, k) => {\n\t\t\t\ttry {\n\t\t\t\t\treturn JSON.parse(v);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.warn('Could not parse:', k, 'falling back to raw string.');\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tcase 1: {\n\t\t\tconst { SCHEMA_VERSION, ...settings } = (object: Version1Schema);\n\t\t\treturn settings;\n\t\t}\n\t\tcase 2: {\n\t\t\tconst { data: settings } = (object: Version2Schema);\n\t\t\treturn settings;\n\t\t}\n\t}\n}\n","/* @flow */\n\n/* eslint-disable no-unused-vars */\nexport class Provider {\n\tstatic key = 'abstract';\n\tstatic text = 'Abstract';\n\tstatic notifyBackupDone = true;\n\tstatic supportsAutomaticBackups = false;\n\n\tinit({}: *): Promise<Provider> { // eslint-disable-line no-empty-pattern\n\t\treturn Promise.resolve(this);\n\t}\n\n\tread(): Promise<string> { throw new Error('unimplemented'); }\n\n\twrite(data: string): Promise<void> { throw new Error('unimplemented'); }\n}\n","/* @flow */\n\nimport * as Metadata from '../../../core/metadata';\nimport { click, waitForEvent } from '../../../utils';\nimport { Provider } from './Provider';\n\nexport class File extends Provider {\n\tstatic key = 'file';\n\tstatic text = 'backupAndRestoreProvidersFile';\n\tstatic notifyBackupDone = false; // Browser indicates it by downloading the file\n\n\tread(): Promise<string> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst link = document.createElement('input');\n\t\t\tlink.type = 'file';\n\t\t\tlink.accept = '.resbackup';\n\t\t\tlet loading = false;\n\t\t\tlink.addEventListener('change', () => {\n\t\t\t\tloading = true;\n\t\t\t\tconst file = link.files[0];\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.onload = () => {\n\t\t\t\t\tresolve((reader.result: any));\n\t\t\t\t};\n\t\t\t\treader.readAsText(file);\n\t\t\t});\n\t\t\t// There is no proper way to detect when a file dialog is closed.\n\t\t\t// We must use setTimeout so that the change event fires first.\n\t\t\tPromise.all([waitForEvent(window, 'mousemove'), waitForEvent(window, 'focus')]).then(() => setTimeout(() => {\n\t\t\t\tif (loading) return; // Reader has started loading\n\t\t\t\tif (!link.files.length) reject(new Error('No file selected.'));\n\t\t\t}));\n\t\t\tlink.click();\n\t\t});\n\t}\n\n\twrite(data: string): Promise<void> {\n\t\tconst blob = new Blob([data], { type: 'application/json' });\n\t\t// Create element to trigger download\n\t\tconst link = document.createElement('a');\n\t\tlink.href = URL.createObjectURL(blob);\n\t\tconst date = new Date();\n\t\tlink.download = `RES-${date.getUTCFullYear()}-${date.getMonth() + 1}-${date.getDate()}-${Math.round(date.getTime() / 1000)}-${Metadata.version.replace(/\\./g, '_')}.resbackup`;\n\t\tclick(link);\n\t\treturn Promise.resolve();\n\t}\n}\n","/* @flow */\n\nimport { ajax, launchAuthFlow } from '../../../environment';\nimport { Alert } from '../../../utils';\nimport { Provider } from './Provider';\n\nconst FILE = 'res-storage.json';\nconst FOLDER = 'appDataFolder';\n\nexport class GoogleDrive extends Provider {\n\tstatic key = 'googledrive';\n\tstatic text = 'Google Drive';\n\tstatic supportsAutomaticBackups = true;\n\n\taccessToken: string;\n\n\tasync init({ googleLoginHint }: *): Promise<Provider> {\n\t\tthis.accessToken = await launchAuthFlow({\n\t\t\tdomain: `https://accounts.google.com/signin/oauth?login_hint=${googleLoginHint}`,\n\t\t\tclientId: '568759524377-nv0o2u4afuuulkfcjd7f6guf27qkevpt.apps.googleusercontent.com',\n\t\t\tscope: 'https://www.googleapis.com/auth/drive.appdata',\n\t\t\tpermissions: process.env.BUILD_TARGET === 'firefox' ? ['https://www.googleapis.com/drive/v3/*'] : ['https://www.googleapis.com/drive/v3/*', 'https://accounts.google.com/signin/oauth'],\n\t\t}, async message => {\n\t\t\tawait Alert.open(`\n\t\t\t\t<p><b>RES needs your permission to backup to Google Drive.</b></p>\n\t\t\t\t<p>${message}</p>\n\t\t\t`, { cancelable: true });\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tasync getExistingFile() {\n\t\tconst { files: [file] } = await ajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: 'https://www.googleapis.com/drive/v3/files',\n\t\t\tquery: { fields: 'files(id)', q: `name=\"${FILE}\"`, spaces: FOLDER },\n\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t\treturn file;\n\t}\n\n\tasync getOrCreateFile() {\n\t\tconst existingFile = await this.getExistingFile();\n\t\tif (existingFile) return existingFile;\n\n\t\t// create new file\n\t\treturn ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: 'https://www.googleapis.com/drive/v3/files',\n\t\t\tquery: { fields: 'id' },\n\t\t\tdata: JSON.stringify({ name: FILE, parents: [FOLDER] }),\n\t\t\theaders: { 'Content-Type': 'application/json', Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n\n\tasync read() {\n\t\tconst file = await this.getExistingFile();\n\t\tif (!file) throw new Error('Could not find backup.');\n\t\treturn ajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: `https://www.googleapis.com/drive/v3/files/${file.id}`,\n\t\t\tquery: { alt: 'media' },\n\t\t\theaders: { 'Content-Type': 'application/json', Authorization: `Bearer ${this.accessToken}` },\n\t\t});\n\t}\n\n\tasync write(data: string) {\n\t\tconst { id } = await this.getOrCreateFile();\n\t\tawait ajax({\n\t\t\tmethod: 'PATCH',\n\t\t\turl: `https://www.googleapis.com/upload/drive/v3/files/${id}`,\n\t\t\tquery: { uploadType: 'media' },\n\t\t\tdata,\n\t\t\theaders: { 'Content-Type': 'application/json', Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n}\n","/* @flow */\n\nimport { ajax, launchAuthFlow } from '../../../environment';\nimport { Alert } from '../../../utils';\nimport { Provider } from './Provider';\n\nconst FILE = 'res-storage.json';\n\nexport class OneDrive extends Provider {\n\tstatic key = 'onedrive';\n\tstatic text = 'OneDrive';\n\tstatic supportsAutomaticBackups = true;\n\n\taccessToken: string;\n\n\tasync init({}: *): Promise<Provider> { // eslint-disable-line no-empty-pattern\n\t\tthis.accessToken = await launchAuthFlow({\n\t\t\tdomain: 'https://login.live.com/oauth20_authorize.srf',\n\t\t\tclientId: process.env.BUILD_TARGET === 'firefox' ? '7f246fc1-2a98-4687-8931-69fbd6228e4f' : 'a1f95f80-0129-475b-9894-dfbb94f5ff1c',\n\t\t\tscope: 'onedrive.appfolder',\n\t\t\tpermissions: process.env.BUILD_TARGET === 'firefox' ? [] : ['https://login.live.com/oauth20_authorize.srf'],\n\t\t}, async message => {\n\t\t\tawait Alert.open(`\n\t\t\t\t<p><b>RES needs your permission to backup to OneDrive.</b></p>\n\t\t\t\t<p>${message}</p>\n\t\t\t`, { cancelable: true });\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tasync getMetadata() {\n\t\ttry {\n\t\t\treturn await ajax({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: `https://api.onedrive.com/v1.0/drive/special/approot:/${FILE}`,\n\t\t\t\t// `id` is necessary because the first thing selected can't start with @\n\t\t\t\t// and I have no idea how to escape it (quoting, backslash, etc. don't work...)\n\t\t\t\tquery: { select: 'id,@content.downloadUrl' },\n\t\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\t\ttype: 'json',\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tif (e.status === 404) {\n\t\t\t\tthrow new Error('Could not find backup.');\n\t\t\t} else {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync read() {\n\t\tconst file = await this.getMetadata();\n\t\treturn ajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: file['@content.downloadUrl'],\n\t\t});\n\t}\n\n\tasync write(data: string) {\n\t\tawait ajax({\n\t\t\tmethod: 'PUT',\n\t\t\turl: `https://api.onedrive.com/v1.0/drive/special/approot:/${FILE}:/content`,\n\t\t\tdata,\n\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n}\n","/* @flow */\n\nimport { ajax, launchAuthFlow } from '../../../environment';\nimport { Alert } from '../../../utils';\nimport { Provider } from './Provider';\n\nconst FILE = '/res-storage.json';\n\nexport class Dropbox extends Provider {\n\tstatic key = 'dropbox';\n\tstatic text = 'Dropbox';\n\tstatic supportsAutomaticBackups = true;\n\n\taccessToken: string;\n\n\tasync init({}: *): Promise<Provider> { // eslint-disable-line no-empty-pattern\n\t\tthis.accessToken = await launchAuthFlow({\n\t\t\tdomain: 'https://www.dropbox.com/oauth2/authorize',\n\t\t\tclientId: 'tdevom9o5xn0hnt',\n\t\t\tpermissions: process.env.BUILD_TARGET === 'firefox' ? [] : ['https://www.dropbox.com/oauth2/authorize'],\n\t\t}, async message => {\n\t\t\tawait Alert.open(`\n\t\t\t\t<p><b>RES needs your permission to backup to Dropbox.</b></p>\n\t\t\t\t<p>${message}</p>\n\t\t\t`, { cancelable: true });\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tasync read() {\n\t\ttry {\n\t\t\treturn await ajax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: 'https://content.dropboxapi.com/2/files/download',\n\t\t\t\tquery: { arg: JSON.stringify({ path: FILE }) },\n\t\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tif (e.status === 409) {\n\t\t\t\tthrow new Error('Could not find backup.');\n\t\t\t} else {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync write(data: string) {\n\t\tawait ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: 'https://content.dropboxapi.com/2/files/upload',\n\t\t\tquery: { arg: JSON.stringify({ path: FILE, mode: 'overwrite', mute: true }) },\n\t\t\tdata,\n\t\t\theaders: { 'Content-Type': 'application/octet-stream', Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n}\n","/* @flow */\n\nexport { File } from './File';\nexport { GoogleDrive } from './GoogleDrive';\nexport { OneDrive } from './OneDrive';\nexport { Dropbox } from './Dropbox';\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { MINUTE, Alert, formatDateTime } from '../utils';\nimport { Storage, locale, i18n, multicast } from '../environment';\nimport { sendMessage } from '../environment/foreground/messaging';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\nimport { serialize, deserialize } from './backupAndRestore/serialization';\nimport * as Providers from './backupAndRestore/providers';\n\nexport const module: Module<*> = new Module('backupAndRestore');\n\nmodule.moduleName = 'backupName';\nmodule.category = 'aboutCategory';\nmodule.sort = -8;\nmodule.alwaysEnabled = true;\nmodule.description = 'backupDesc';\n\nmodule.options = {\n\tbackup: {\n\t\ttype: 'button',\n\t\tvalues: Object.values(Providers).map(p => ({\n\t\t\ttext: p.text,\n\t\t\tcallback: () => getProvider(p).then(backup),\n\t\t})),\n\t\tdescription: 'backupAndRestoreBackupDesc',\n\t\ttitle: 'backupAndRestoreBackupTitle',\n\t},\n\trestore: {\n\t\ttype: 'button',\n\t\tvalues: Object.values(Providers).map(p => ({\n\t\t\ttext: p.text,\n\t\t\tcallback: () => getProvider(p).then(restore),\n\t\t})),\n\t\tdescription: process.env.BUILD_TARGET === 'firefox' ? 'backupAndRestoreRestoreDescFirefox' : 'backupAndRestoreRestoreDesc',\n\t\ttitle: 'backupAndRestoreRestoreTitle',\n\t},\n\treloadWarning: {\n\t\ttype: 'enum',\n\t\tvalue: 'warn',\n\t\tvalues: [{\n\t\t\tname: 'backupAndRestoreReloadWarningNone',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'backupAndRestoreReloadWarningWarn',\n\t\t\tvalue: 'warn',\n\t\t}, {\n\t\t\tname: 'backupAndRestoreReloadWarningAuto',\n\t\t\tvalue: 'auto',\n\t\t}],\n\t\tdescription: 'backupAndRestoreReloadWarningDesc',\n\t\ttitle: 'backupAndRestoreReloadWarningTitle',\n\t},\n\tautomaticBackups: {\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [\n\t\t\t{\n\t\t\t\tname: 'backupAndRestoreAutomaticBackupsNone',\n\t\t\t\tvalue: 'none',\n\t\t\t},\n\t\t\t...Object.values(Providers)\n\t\t\t\t.filter(p => p.supportsAutomaticBackups)\n\t\t\t\t.map(p => ({\n\t\t\t\t\tname: p.text,\n\t\t\t\t\tvalue: p.key,\n\t\t\t\t})),\n\t\t],\n\t\tdescription: 'backupAndRestoreAutomaticBackupsDesc',\n\t\ttitle: 'backupAndRestoreAutomaticBackupsTitle',\n\t\tonChange() {\n\t\t\t// reset the last check time, in case we switched providers or turned it off\n\t\t\tlastCheckStorage.set(0);\n\t\t\thandleAutomaticSync();\n\t\t},\n\t},\n\twarnBeforeAutomaticRestore: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'backupAndRestoreWarnBeforeAutomaticRestoreDesc',\n\t\ttitle: 'backupAndRestoreWarnBeforeAutomaticRestoreTitle',\n\t\tdependsOn: options => options.automaticBackups.value !== 'none',\n\t},\n\tgoogleAccount: {\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'backupAndRestoreGoogleAccountDesc',\n\t\ttitle: 'backupAndRestoreGoogleAccountTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.afterLoad = async () => {\n\tawait handleAutomaticSync();\n};\n\nfunction getProvider(providerClass) {\n\treturn new providerClass().init({ // eslint-disable-line new-cap\n\t\tgoogleLoginHint: module.options.googleAccount.value,\n\t});\n}\n\nconst lastModifiedStorage = Storage.wrapPrefix('backup.lastModified.', () => (0: number));\nconst lastCheckStorage = Storage.wrap('backup.lastCheck', (0: number));\n\nasync function handleAutomaticSync() {\n\tconst automaticProviderKey = module.options.automaticBackups.value;\n\tif (automaticProviderKey === 'none') return;\n\n\tconst providerClass = Object.values(Providers).find(p => p.key === automaticProviderKey);\n\tif (!providerClass) throw new Error(`Can't find provider with key ${automaticProviderKey}`);\n\n\tconst now = Date.now();\n\tconst lastCheck = await lastCheckStorage.get();\n\tif ((now - lastCheck) < (15 * MINUTE)) return;\n\n\t// If multiple tabs pass the above check, only one will CAS successfully.\n\tif (!await lastCheckStorage.compareAndSet(lastCheck, now)) return;\n\t// From this point forward, it is guaranteed that only one tab can enter (per 15 minutes).\n\n\t// Create provider, get permissions, etc.\n\tconst provider = await getProvider(providerClass);\n\n\t// Read the remote backup to get the last modified time.\n\t// This has some overhead, but only 2x at worst.\n\t// (If we've reached this point, we're definitely going to be uploading or downloading the backup.)\n\t// ...and it guarantees that the modified time remains in sync with the backup.\n\tlet remoteBackup;\n\tconst lastModifiedKey = lastModifiedStorage._keyGen(providerClass.key);\n\ttry {\n\t\tremoteBackup = deserialize(await provider.read());\n\t} catch (e) {\n\t\tconsole.warn('Failed to read automatic backup:', e);\n\t\tremoteBackup = { [lastModifiedKey]: 0 };\n\t}\n\n\t// We must use a positive check for restoring, to fail safe if the remote backup has no modified time.\n\t// i.e. because `(undefined > 12345) === (undefined < 12345) === false`\n\tif ((remoteBackup[lastModifiedKey]: any) > await lastModifiedStorage.get(providerClass.key)) {\n\t\t// This will download the backup a second time, which in theory might download a newer version (which would be good, but quite rare).\n\t\t// Restoring should be the uncommon case, though, so this is left as-is (for now) for simplicity.\n\t\tawait restore(provider, module.options.warnBeforeAutomaticRestore.value ? 'automatic' : 'none');\n\t} else {\n\t\tawait backup(provider);\n\t}\n}\n\nasync function backup(provider) {\n\tconst { key, text, notifyBackupDone } = provider.constructor;\n\t// Write to lastModified and store it in the blob.\n\t// At this point, we know that there is no remote backup newer than local. [*]\n\t// In the worst case, the backup request fails, but this modified time has already been set to the current date.\n\t// That's still okay, because:\n\t// a. If a new remote backup happens, it should happen after this millisecond (because [*]), so its timestamp\n\t//    will be greater than this value, and will get restored as expected.\n\t// b. If no new remote backup happens, then our local modified time will still be equal to/ahead of the remote,\n\t//    and we'll just try backing up again after the next check.\n\t// (theoretically, there is a very short timeframe between the check for [*] and this backup,\n\t//  during which another client [but not this one, thanks to the lastCheck CAS] could create a new backup,\n\t//  but it should be very short [~1 second] and would require using two machines simultaneously, which we warn about)\n\tawait lastModifiedStorage.set(key, Date.now());\n\tconst storage = await Storage.getAll();\n\tawait provider.write(serialize(storage));\n\n\tif (notifyBackupDone) {\n\t\tNotifications.showNotification({\n\t\t\tmessage: i18n('backupAndRestoreSavedNotification', text),\n\t\t\tnotificationID: 'backupAndRestoreSaved',\n\t\t\tmoduleID: module.moduleID,\n\t\t\tcloseDelay: 1000,\n\t\t});\n\t}\n}\n\nasync function restore(provider, alertType: 'normal' | 'automatic' | 'none' = 'normal') {\n\tconst { key, name } = provider.constructor;\n\tconst data = await provider.read();\n\tconst storage = deserialize(data);\n\n\tconst isAutomatic = alertType === 'automatic';\n\n\tif (alertType !== 'none') {\n\t\tconst lastModifiedKey = lastModifiedStorage._keyGen(key);\n\t\tconst backupDate: void | number = (storage[lastModifiedKey]: any);\n\t\tlet size;\n\t\ttry {\n\t\t\t// $FlowIssue Intl.NumberFormat type is outdated\n\t\t\tsize = (new Intl.NumberFormat(locale, { style: 'unit', unit: 'byte', notation: 'compact', unitDisplay: 'narrow' })).format(data.length);\n\t\t} catch (e) {\n\t\t\tsize = `${data.length / 1e6} MB`;\n\t\t}\n\t\ttry {\n\t\t\tawait Alert.open(`\n\t\t\t${isAutomatic ? `\n\t\t\t\t<p><b>${i18n('backupAndRestoreFoundBackup', name)}</b></p>\n\t\t\t\t<br>\n\t\t\t` : ''}\n\t\t\t<p>${i18n('backupAndRestoreBackupOverwriteWarning')}</p>\n\t\t\t<br>\n\t\t\t${isAutomatic ? `\n\t\t\t\t<p>${i18n('backupAndRestoreAfterCancel')}</p>\n\t\t\t\t<br>\n\t\t\t` : ''}\n\t\t\t${backupDate ? `\n\t\t\t\t<p>${i18n('backupAndRestoreBackupDate', formatDateTime(new Date(backupDate)))}</p>\n\t\t\t` : ''}\n\t\t\t<p>${i18n('backupAndRestoreBackupSize', size)}</p>\n\t\t`, { cancelable: true });\n\t\t} catch (e) {\n\t\t\tif (isAutomatic) {\n\t\t\t\tSettingsNavigation.open(module.moduleID, 'automaticBackups');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// This is the only correctness-related write involved in restoring a backup.\n\t// This operation is atomic (probably--at least, as atomic as our limited API can be), so if it fails\n\t// then the remote timestamp will still be ahead of the local timestamp, and we'll try restoring again\n\t// after the next check.\n\t// This will reset the lastCheck time to whatever it was when this backup was created,\n\t// potentially meaning the next pageload will create a new backup.\n\t// That's fine, because we can assume that the other client was in a consistent state.\n\tawait Storage.setMultiple(storage);\n\t// Actually, we might as well reset lastCheck here.\n\t// This write is not required for correctness, and can be dropped or reordered\n\t// (though I hope browsers' storage APIs don't actually do that).\n\tawait lastCheckStorage.set(Date.now());\n\n\t// Migrating might take a while, depending on how old the backup is\n\tawait sendMessage('runMigrations');\n\n\tpostRestore(module.options.reloadWarning.value);\n\n\tawait Alert.open(i18n('backupAndRestoreImported'));\n\tpostRestore.local('auto');\n}\n\nconst postRestore = multicast(operation => {\n\tswitch (operation) {\n\t\tcase 'warn':\n\t\t\tAlert.open(i18n('backupAndRestoreImportedOtherTabs'), { cancelable: true })\n\t\t\t\t.then(() => location.reload(), () => {});\n\t\t\tbreak;\n\t\tcase 'auto':\n\t\t\tlocation.reload();\n\t\t\tbreak;\n\t\tcase 'none':\n\t\tdefault:\n\t\t\tbreak;\n\t}\n}, { name: 'restore-settings-warning', local: false });\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tCreateElement,\n\tDAY,\n\tNAMED_KEYS,\n\tPagePhases,\n\tTable,\n\tclick,\n\tcurrentSubreddit,\n\tempty,\n\tformatDate,\n\tformatRelativeTime,\n\tfullLocation,\n\tisCurrentSubreddit,\n\tisModeratorAnywhere,\n\tloggedInUser,\n\tregexes,\n\tstring,\n\twaitForDescendant,\n\twaitForEvent,\n\twatchForThings,\n} from '../utils';\nimport { Session, Storage, ajax, isPrivateBrowsing, i18n } from '../environment';\nimport type { RedditListing, RedditSubreddit } from '../types/reddit';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('subredditManager');\n\nmodule.moduleName = 'subredditManName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'subredditManDesc';\nmodule.include = ['r2'];\nmodule.bodyClass = true;\nmodule.options = {\n\tsubredditShortcut: {\n\t\ttitle: 'subredditManagerSubredditShortcutTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerSubredditShortcutDesc',\n\t},\n\tshortcutsPerAccount: {\n\t\ttitle: 'subredditManagerShortcutsPerAccountTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerShortcutsPerAccountDesc',\n\t},\n\talwaysApplySuffixToMulti: {\n\t\ttitle: 'subredditManagerAlwaysApplySuffixToMultiTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerAlwaysApplySuffixToMultiDesc',\n\t},\n\tdropdownEditButton: {\n\t\ttitle: 'subredditManagerDropdownEditButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerDropdownEditButtonDesc',\n\t},\n\tshortcutDropdownDelay: {\n\t\ttitle: 'subredditManagerShortcutDropdownDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'subredditManagerShortcutDropdownDelayDesc',\n\t},\n\tshortcutEditDropdownDelay: {\n\t\ttitle: 'subredditManagerShortcutEditDropdownDelayTitle',\n\t\tdependsOn: options => options.dropdownEditButton.value,\n\t\ttype: 'text',\n\t\tvalue: '3000',\n\t\tdescription: 'subredditManagerShortcutEditDropdownDelayDesc',\n\t},\n\tallowLowercase: {\n\t\ttitle: 'subredditManagerAllowLowercaseTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerAllowLowercaseDesc',\n\t\tbodyClass: true,\n\t},\n\tlinkDashboard: {\n\t\ttitle: 'subredditManagerLinkDashboardTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkDashboardDesc',\n\t},\n\tlinkAll: {\n\t\ttitle: 'subredditManagerLinkAllTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkAllDesc',\n\t},\n\tlinkFront: {\n\t\ttitle: 'subredditManagerLinkFrontTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkFrontDesc',\n\t},\n\tlinkPopular: {\n\t\ttitle: 'subredditManagerLinkPopularTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkPopularDesc',\n\t},\n\tlinkProfilePosts: {\n\t\ttitle: 'subredditManagerLinkProfilePostsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkProfilePostsDesc',\n\t},\n\tlinkRandom: {\n\t\ttitle: 'subredditManagerLinkRandomTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkRandomDesc',\n\t},\n\tlinkMyRandom: {\n\t\ttitle: 'subredditManagerLinkMyRandomTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkMyRandomDesc',\n\t},\n\tlinkRandNSFW: {\n\t\ttitle: 'subredditManagerLinkRandNSFWTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerLinkRandNSFWDesc',\n\t},\n\tlinkUsers: {\n\t\ttitle: 'subredditManagerLinkUsersTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkUsersDesc',\n\t},\n\tlinkFriends: {\n\t\ttitle: 'subredditManagerLinkFriendsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkFriendsDesc',\n\t},\n\tlinkMod: {\n\t\ttitle: 'subredditManagerLinkModTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkModDesc',\n\t},\n\tlinkModqueue: {\n\t\ttitle: 'subredditManagerLinkModqueueTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkModqueueDesc',\n\t},\n\tlinkSaved: {\n\t\ttitle: 'subredditManagerLinkSavedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkSavedDesc',\n\t},\n\tbuttonEdit: {\n\t\ttitle: 'subredditManagerButtonEditTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerButtonEditDesc',\n\t},\n\tlastUpdate: {\n\t\ttitle: 'subredditManagerLastUpdateTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLastUpdateDesc',\n\t},\n\tstoreSubredditVisit: {\n\t\ttitle: 'subredditManagerStoreSubredditVisitTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerStoreSubredditVisitDesc',\n\t\tadvanced: true,\n\t},\n\tstoreSubredditVisitIncognito: {\n\t\ttitle: 'subredditManagerStoreSubredditVisitIncognitoTitle',\n\t\tdependsOn: options => options.storeSubredditVisit.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerStoreSubredditVisitIncognitoDesc',\n\t\tadvanced: true,\n\t},\n\tdragDropDelete: {\n\t\ttitle: 'subredditManagerDragDropDeleteTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerDragDropDeleteDesc',\n\t\tadvanced: true,\n\t},\n\tdisplayMultiCounts: {\n\t\ttitle: 'subredditManagerDisplayMultiCountsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerDisplayMultiCountsDesc',\n\t},\n};\n\nlet shortcutsContainer, $subredditGroupDropdown, subredditGroupDropdownUL, subredditGroupDropdownRefItem,\n\t$editShortcutDialog, deleteButton;\n\nlet mySubredditShortcuts = [];\n\nconst subredditsLastViewedStorage = Storage.wrap(() => `RESmodules.subredditManager.subredditsLastViewed.${loggedInUser() || 'null'}`, ({}: { [subreddit: string]: {|\n\tlast_visited: number,\n|} }));\n\nconst subredditShortcutsStorage = Storage.wrap(() => {\n\tconst username = module.options.shortcutsPerAccount.value ? loggedInUser() : null;\n\treturn `RESmodules.subredditManager.subredditShortcuts.${username || 'null'}`;\n}, ([]: Array<{|\n\tsubreddit: string,\n\tdisplayName: string,\n\taddedDate: number,\n|}>));\n\nconst loadShortcuts = async () => { mySubredditShortcuts = await subredditShortcutsStorage.get(); };\n\n// depends on loggedInUser; must be called after the username is available\nconst initialShortcutsLoad = _.once(() => PagePhases.sitetableStarted.then(loadShortcuts));\n\nmodule.beforeLoad = () => {\n\twaitForDescendant(document.documentElement, '#sr-header-area').then(createSubredditBar);\n};\n\nmodule.contentStart = async () => {\n\tcreateSidebarShortcutToggle();\n\n\tawait initialShortcutsLoad();\n\n\twatchForThings(['subreddit'], thing => {\n\t\tconst titleElement = thing.getTitleElement();\n\t\tconst container = thing.element.querySelector('.midcol');\n\t\tif (!titleElement || !container) return;\n\t\tconst [, subreddit] = regexes.subreddit.exec(titleElement.pathname) || [];\n\t\tif (!subreddit) return;\n\t\tcontainer.append(createShortcutToggleButton(subreddit));\n\t});\n};\n\nmodule.afterLoad = () => {\n\tif (module.options.lastUpdate.value && document.getElementsByClassName('listing-chooser').length) {\n\t\tlastUpdate();\n\t}\n\n\tconst subreddit = currentSubreddit();\n\tif (subreddit) {\n\t\trequestAnimationFrame(() => { setLastViewtime(subreddit); });\n\t}\n};\n\nfunction createSidebarShortcutToggle() {\n\t// also, add a +/- shortcut button...\n\tconst subreddit = currentSubreddit();\n\tif (subreddit && module.options.subredditShortcut.value) {\n\t\tconst subButtons = document.querySelectorAll('.side .fancy-toggle-button');\n\t\tfor (const subButton of subButtons) {\n\t\t\tlet thisSubredditFragment, isMulti;\n\t\t\tif (!subreddit.includes('+') && !isCurrentSubreddit('mod')) {\n\t\t\t\tthisSubredditFragment = subreddit;\n\t\t\t\tisMulti = false;\n\t\t\t} else if ($(subButton).parent().hasClass('subButtons')) {\n\t\t\t\tthisSubredditFragment = $(subButton).parent().parent().find('a.title').text();\n\t\t\t\tisMulti = true;\n\t\t\t} else {\n\t\t\t\tthisSubredditFragment = $(subButton).next().text();\n\t\t\t\tisMulti = true;\n\t\t\t}\n\t\t\tif ($(`#subButtons-${thisSubredditFragment}`).length === 0) {\n\t\t\t\tconst $subButtonsWrapper = $(`<div id=\"subButtons-${thisSubredditFragment}\" class=\"subButtons\"></div>`);\n\t\t\t\t$(subButton).wrap($subButtonsWrapper);\n\t\t\t\tgetMultiCounts(thisSubredditFragment).then(multiCount => {\n\t\t\t\t\t$(subButton).append(multiCount);\n\t\t\t\t});\n\t\t\t\t// move this wrapper to the end (after any icons that may exist...)\n\t\t\t\tif (isMulti) {\n\t\t\t\t\tconst theWrap = $(subButton).parent();\n\t\t\t\t\t$(theWrap).appendTo($(theWrap).parent());\n\t\t\t\t}\n\t\t\t}\n\t\t\tsubButton.addEventListener('click', () => {\n\t\t\t\t// reset the last checked time for the subreddit list so that we refresh it anew no matter what.\n\t\t\t\tajax.invalidate({\n\t\t\t\t\turl: '/subreddits/mine.json',\n\t\t\t\t\tquery: {\n\t\t\t\t\t\tafter: '',\n\t\t\t\t\t\tlimit: 100,\n\t\t\t\t\t\tuser: loggedInUser(),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst $subButtons = $(`#subButtons-${thisSubredditFragment}`);\n\t\t\tconst button = createShortcutToggleButton(subreddit);\n\t\t\tinitialShortcutsLoad().then(() => button.dispatchEvent(new CustomEvent('refresh')));\n\t\t\tbutton.classList.add('RESshortcutside'); // custom subreddit styles uses this\n\t\t\t$subButtons.append(button);\n\t\t\tconst $next = $subButtons.next();\n\t\t\tif ($next.hasClass('title') && !$subButtons.hasClass('swapped')) {\n\t\t\t\t$subButtons.before($next);\n\t\t\t\t$subButtons.addClass('swapped');\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function createShortcutToggleButton(subreddit: string) {\n\treturn CreateElement.fancyToggleButton(\n\t\ti18n('subredditInfoAddRemoveShortcut'),\n\t\ti18n('subredditInfoAddThisSubredditToShortcuts'),\n\t\t() => mySubredditShortcuts.some(shortcut => shortcut.subreddit.toLowerCase() === subreddit.toLowerCase()),\n\t\tstate => {\n\t\t\tif (state) addSubredditShortcut(subreddit);\n\t\t\telse removeSubredditShortcut(subreddit);\n\t\t\tredrawShortcuts();\n\t\t},\n\t);\n}\n\nlet hideSubredditGroupDropdownTimer, showSubredditGroupDropdownTimer;\n\nfunction redrawShortcuts() {\n\tshortcutsContainer.textContent = '';\n\n\t// Reddit seems to redirect to randomly reorder multi links, so need to sort and compare\n\tconst currentSub = (currentSubreddit() || '').toLowerCase().split('+').sort().join('+');\n\tconst isCurrent = sub => {\n\t\tconst sortedSubs = sub.replace(/\\?\\+/g, '+').split('+').sort();\n\t\treturn sortedSubs.some(v => isCurrentSubreddit(v)) || currentSub === sortedSubs.join('+');\n\t};\n\n\tlet i = 0;\n\tfor (const shortcut of mySubredditShortcuts) {\n\t\tconst thisShortCut = document.createElement('a');\n\t\tthisShortCut.setAttribute('orderIndex', String(i++));\n\t\tthisShortCut.setAttribute('data-subreddit', shortcut.subreddit);\n\t\tthisShortCut.classList.add('subbarlink');\n\t\tif (isCurrent(shortcut.subreddit)) thisShortCut.classList.add('RESShortcutsCurrentSub');\n\n\t\tthisShortCut.setAttribute('href', `/r/${shortcut.subreddit.replace(/(?:\\?\\+.*|\\?$)/, '')}`);\n\t\tthisShortCut.textContent = shortcut.displayName;\n\t\tthisShortCut.addEventListener('click', (e: MouseEvent) => {\n\t\t\tif (e.button !== 0 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey) {\n\t\t\t\t// open in new tab, let the browser handle it\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\te.preventDefault();\n\t\t\t\tfollowSubredditShortcut(((e.currentTarget: any): HTMLAnchorElement).href);\n\t\t\t}\n\t\t});\n\n\t\tthisShortCut.addEventListener('dblclick', (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\t\t\tfollowSubredditShortcut.cancel();\n\t\t\thideSubredditGroupDropdown();\n\t\t\teditSubredditShortcut(e.currentTarget, e);\n\t\t});\n\n\t\tthisShortCut.addEventListener('mouseover', (e: Event) => {\n\t\t\tclearTimeout(hideSubredditGroupDropdownTimer);\n\t\t\tshowSubredditGroupDropdown(e.currentTarget);\n\t\t});\n\n\t\tthisShortCut.addEventListener('mouseout', () => {\n\t\t\tclearTimeout(showSubredditGroupDropdownTimer);\n\t\t\thideSubredditGroupDropdownTimer = setTimeout(() => hideSubredditGroupDropdown(), 500);\n\t\t});\n\n\t\tthisShortCut.addEventListener('dragstart', subredditDragStart);\n\t\tthisShortCut.addEventListener('dragenter', subredditDragEnter);\n\t\tthisShortCut.addEventListener('dragover', subredditDragOver);\n\t\tthisShortCut.addEventListener('dragleave', subredditDragLeave);\n\t\tthisShortCut.addEventListener('drop', subredditDrop);\n\t\tthisShortCut.addEventListener('dragend', subredditDragEnd);\n\n\t\tconst sep = document.createElement('span');\n\t\tsep.setAttribute('class', 'separator');\n\t\tsep.textContent = '-';\n\t\tshortcutsContainer.append(sep);\n\n\t\tshortcutsContainer.append(thisShortCut, sep);\n\t}\n\n\tif (mySubredditShortcuts.length) {\n\t\tshortcutsContainer.style.textTransform = '';\n\t} else {\n\t\tshortcutsContainer.style.textTransform = 'none';\n\t\tshortcutsContainer.textContent = 'add shortcuts from the my subreddits menu at left or click the button by the subreddit name, drag and drop to sort';\n\t}\n}\n\nfunction showSubredditGroupDropdown(obj) {\n\tlet subreddits = [];\n\tlet suffix = '';\n\n\tif (obj.getAttribute && obj.getAttribute('data-subreddit').includes('+')) {\n\t\tlet cleanSubreddits = obj.getAttribute('data-subreddit');\n\n\t\tif (cleanSubreddits.indexOf('/') > cleanSubreddits.lastIndexOf('+') || module.options.alwaysApplySuffixToMulti.value) {\n\t\t\t// for shortcuts like a+b/x, use subreddits=a+b ; suffix = x\n\t\t\t// for shortcuts like a/x+b/y, just split them a la pre-4.5.0\n\t\t\tlet pos;\n\t\t\tif ((pos = cleanSubreddits.lastIndexOf('?')) > cleanSubreddits.lastIndexOf('+')) {\n\t\t\t\tsuffix = cleanSubreddits.substr(pos);\n\t\t\t\tcleanSubreddits = cleanSubreddits.substr(0, pos);\n\t\t\t}\n\t\t\tif ((pos = cleanSubreddits.lastIndexOf('/')) > cleanSubreddits.lastIndexOf('+')) { // check both existance and correct form (i.e. not foo/new+bar)\n\t\t\t\tsuffix = cleanSubreddits.substr(pos) + suffix;\n\t\t\t\tcleanSubreddits = cleanSubreddits.substr(0, pos);\n\t\t\t}\n\t\t}\n\t\tsubreddits = cleanSubreddits.replace(/\\?\\+/g, '+').split('+');\n\t}\n\n\tif (!(subreddits.length || module.options.dropdownEditButton.value)) {\n\t\treturn;\n\t}\n\n\tlet delay;\n\n\tif (subreddits.length) {\n\t\tdelay = parseInt(module.options.shortcutDropdownDelay.value, 10);\n\t} else {\n\t\tdelay = parseInt(module.options.shortcutEditDropdownDelay.value, 10);\n\t}\n\n\tclearTimeout(showSubredditGroupDropdownTimer);\n\tshowSubredditGroupDropdownTimer = setTimeout(\n\t\t() => _showSubredditGroupDropdown(obj, subreddits, suffix),\n\t\tdelay,\n\t);\n}\n\nfunction _showSubredditGroupDropdown(obj, subreddits, suffix) {\n\t// Updates source object referenced on the 'click' events\n\tsubredditGroupDropdownRefItem = obj;\n\t// Show dropdown after an appropriate delay\n\tif (!$subredditGroupDropdown) {\n\t\t$subredditGroupDropdown = $('<div>', { id: 'RESSubredditGroupDropdown' });\n\t\tsubredditGroupDropdownUL = document.createElement('ul');\n\t\t$subredditGroupDropdown.append(subredditGroupDropdownUL);\n\n\t\tif (module.options.dropdownEditButton.value) {\n\t\t\t$subredditGroupDropdown.append(`\n\t\t\t\t<div class=\"RESShortcutsEditButtons\">\n\t\t\t\t\t<a href=\"#\" class=\"delete res-icon\" title=\"delete\">&#xF155;</a>\n\t\t\t\t\t<a href=\"#\" class=\"edit res-icon\" title=\"edit\">&#xF139;</a>\n\t\t\t\t</div>\n\t\t\t`);\n\t\t}\n\t\t$subredditGroupDropdown.appendTo(document.body);\n\n\t\t$subredditGroupDropdown.on('mouseout', () => {\n\t\t\thideSubredditGroupDropdownTimer = setTimeout(() => {\n\t\t\t\thideSubredditGroupDropdown();\n\t\t\t}, 500);\n\t\t});\n\n\t\t$subredditGroupDropdown.on('mouseover', () => {\n\t\t\tclearTimeout(hideSubredditGroupDropdownTimer);\n\t\t});\n\n\t\t$subredditGroupDropdown.on('click', '.edit', (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\t\t\thideSubredditGroupDropdown();\n\t\t\teditSubredditShortcut(subredditGroupDropdownRefItem, e);\n\t\t});\n\n\t\t$subredditGroupDropdown.on('click', '.delete', (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\t\t\thideSubredditGroupDropdown();\n\t\t\teditSubredditShortcut(subredditGroupDropdownRefItem, e);\n\t\t\tdeleteButton.click();\n\t\t});\n\t}\n\n\t$(subredditGroupDropdownUL).find('li:not(.RESShortcutsEditButtons)').remove();\n\n\tif (subreddits) {\n\t\tconst $rows = subreddits.reduce(($collection, subreddit) => {\n\t\t\tconst $thisLI = $(`<li><a href=\"/r/${subreddit}${suffix}\">${subreddit}<span class=\"shortcutSuffix\">${suffix}</span></a></li>`);\n\t\t\tif (isCurrentSubreddit(subreddit)) {\n\t\t\t\t$thisLI.addClass('RESShortcutsCurrentSub');\n\t\t\t}\n\t\t\treturn $collection.add($thisLI);\n\t\t}, $());\n\n\t\t$(subredditGroupDropdownUL).prepend($rows);\n\t}\n\n\tconst { left } = $(obj).offset();\n\tconst { bottom } = document.querySelector('#sr-header-area').getBoundingClientRect();\n\t$subredditGroupDropdown\n\t\t.css({ top: `${bottom}px`, left: `${left}px` })\n\t\t.show();\n}\n\nfunction hideSubredditGroupDropdown() {\n\thideSubredditGroupDropdownTimer = undefined;\n\tif ($subredditGroupDropdown) {\n\t\t$subredditGroupDropdown.hide();\n\t}\n}\n\nfunction editSubredditShortcut(ele, event) {\n\tconst subreddit = ele.getAttribute('data-subreddit');\n\n\tconst idx = mySubredditShortcuts.findIndex(shortcut => shortcut.subreddit === subreddit);\n\n\tif (!$editShortcutDialog) {\n\t\t$editShortcutDialog = $('<div>', { id: 'editShortcutDialog' })\n\t\t\t.appendTo(document.body);\n\t}\n\n\tconst unsortable = !subreddit.includes('+');\n\n\tconst thisForm = `\n\t\t<form name=\"editSubredditShortcut\">\n\t\t\t<h3>Edit Shortcut</h3>\n\t\t\t<div id=\"editShortcutClose\" class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t<div class=\"RESFormItem\">\n\t\t\t\t<label for=\"subreddit\">Subreddit:</label>\n\t\t\t\t<div class=\"RESFieldItem\">\n\t\t\t\t\t<input type=\"text\" name=\"subreddit\" value=\"${subreddit}\" id=\"shortcut-subreddit\" class=\"${unsortable ? 'unsortable' : ''}\"><!-- no whitespace\n\t\t\t\t\t--><button type=\"submit\" id=\"sortButton\" title=\"Sort subreddits\">A-Z</button>\n\n\t\t\t\t\t<div class=\"RESDescription\">Put a + between subreddits to make a drop-down menu.<br/>Put ?+ to make subreddits after it only show in dropdown.</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"RESFormItem\">\n\t\t\t\t<label for=\"displayName\">Display Name:</label>\n\t\t\t\t<div class=\"RESFieldItem\">\n\t\t\t\t\t<input type=\"text\" name=\"displayName\" value=\"${ele.textContent}\" id=\"shortcut-displayname\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<input type=\"hidden\" name=\"idx\" value=\"${idx}\">\n\t\t\t<button type=\"button\" name=\"shortcut-save\" id=\"shortcut-save\">save</button>\n\t\t\t<button type=\"button\" name=\"shortcut-delete\" id=\"shortcut-delete\">delete</button>\n\t\t</form>\n\t`;\n\t$editShortcutDialog.html(thisForm);\n\n\t$editShortcutDialog.find('#shortcut-subreddit').on('keyup', _.throttle(({ currentTarget: shortcut }: KeyboardEvent) => {\n\t\tif (!(shortcut: any).value.includes('+')) {\n\t\t\tshortcut.classList.add('unsortable');\n\t\t} else {\n\t\t\tshortcut.classList.remove('unsortable');\n\t\t}\n\t}, 500));\n\tconst subredditInput = $editShortcutDialog.find('input[name=subreddit]').get(0);\n\tconst displayNameInput = $editShortcutDialog.find('input[name=displayName]').get(0);\n\n\t$editShortcutDialog.find('FORM').on('submit', e => e.preventDefault());\n\n\tconst saveButton = $editShortcutDialog\n\t\t.find('button[name=shortcut-save]')\n\t\t.click(() => {\n\t\t\tconst idx = $editShortcutDialog.find('input[name=idx]').val();\n\t\t\tconst subreddit = $editShortcutDialog.find('input[name=subreddit]').val();\n\t\t\tconst displayName = $editShortcutDialog.find('input[name=displayName]').val();\n\n\t\t\tsaveSubredditShortcut(subreddit, displayName, idx);\n\t\t\t$editShortcutDialog.hide();\n\t\t})\n\t\t.get(0);\n\n\tdeleteButton = $editShortcutDialog.find('button[name=shortcut-delete]').get(0);\n\tdeleteButton.addEventListener('click', () => {\n\t\tconst idx = $editShortcutDialog.find('input[name=idx]').val();\n\n\t\tif (confirm('Are you sure you want to delete this shortcut?')) {\n\t\t\tsaveSubredditShortcut('', '', idx);\n\t\t\t$editShortcutDialog.hide();\n\t\t}\n\t});\n\n\t// Allow the shortcut dropdown menu to be sorted\n\tfunction sortSubmenu(e) {\n\t\tconst inputEl: HTMLInputElement = ($editShortcutDialog.find('input[name=subreddit]').get(0): any);\n\t\tconst currStr = inputEl.value;\n\t\t// sort ASC\n\t\tconst ascArr = currStr.split('+');\n\t\tascArr.sort();\n\t\tconst ascStr = ascArr.join('+');\n\t\t// sort DESC\n\t\tconst descArr = ascArr;\n\t\tdescArr.reverse();\n\t\tconst descStr = descArr.join('+');\n\t\tlet btnTxt;\n\t\tif (e.target instanceof HTMLButtonElement && e.target.type === 'submit') {\n\t\t\t// if sorted ASC, sort DESC. If unsorted or sorted DESC, sort ASC\n\t\t\tinputEl.value = (currStr === ascStr ? descStr : ascStr);\n\t\t\tbtnTxt = (currStr === ascStr ? 'A-Z' : 'Z-A');\n\t\t} else {\n\t\t\tbtnTxt = (currStr === ascStr ? 'Z-A' : 'A-Z');\n\t\t}\n\t\t$('#sortButton').text(btnTxt);\n\t}\n\n\t// handle the sort button\n\t$editShortcutDialog.find('#sortButton').click(sortSubmenu);\n\n\t// handle the subreddit textfield\n\t$editShortcutDialog.find('input[name=subreddit]').on('change', sortSubmenu);\n\n\t// handle enter and escape keys in the dialog box...\n\tsubredditInput.addEventListener('keydown', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t});\n\tsubredditInput.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t$editShortcutDialog\n\t\t\t\t.hide()\n\t\t\t\t.blur();\n\t\t} else if (e.key === NAMED_KEYS.Enter) {\n\t\t\tclick(saveButton);\n\t\t}\n\t});\n\tdisplayNameInput.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t$editShortcutDialog\n\t\t\t\t.hide()\n\t\t\t\t.blur();\n\t\t} else if (e.key === NAMED_KEYS.Enter) {\n\t\t\tclick(saveButton);\n\t\t}\n\t});\n\n\t// cancel button\n\t$editShortcutDialog.find('#editShortcutClose').click(() => {\n\t\t$editShortcutDialog.hide();\n\t});\n\n\t$editShortcutDialog.show();\n\t// add 20px to compensate for scrollbar\n\tconst thisLeft = Math.min(event.clientX, window.innerWidth - ($editShortcutDialog.get(0).offsetWidth + 20));\n\t$editShortcutDialog.css('left', `${thisLeft}px`);\n\n\tsetTimeout(() => subredditInput.focus(), 200);\n}\n\nasync function saveSubredditShortcut(subreddit, displayName, idx) {\n\tif (subreddit === '' || displayName === '') {\n\t\tsubreddit = mySubredditShortcuts[idx].subreddit;\n\t\tawait removeSubredditShortcut(subreddit);\n\t} else {\n\t\tmySubredditShortcuts[idx] = {\n\t\t\tsubreddit,\n\t\t\tdisplayName,\n\t\t\taddedDate: Date.now(),\n\t\t};\n\n\t\tsaveLatestShortcuts();\n\t}\n\n\tredrawShortcuts();\n}\n\nconst followSubredditShortcut = _.debounce(url => { location.href = url; }, 300);\n\nlet dragSrcEl, srDataTransfer;\n\nfunction subredditDragStart(e: DragEvent) {\n\tfollowSubredditShortcut.cancel();\n\t// Target (this) element is the source node.\n\tthis.style.opacity = '0.4';\n\tdragSrcEl = this; // eslint-disable-line consistent-this\n\tif (module.options.dragDropDelete.value) {\n\t\taddTrashBin(dragSrcEl);\n\t}\n\n\t// $FlowIssue\n\te.dataTransfer.effectAllowed = 'move';\n\t// because Safari is stupid, we have to do this.\n\tsrDataTransfer = `${this.getAttribute('orderIndex')},${$(this).data('subreddit')}`;\n}\n\nfunction subredditDragEnter() {\n\tthis.classList.add('srOver');\n\treturn false;\n}\n\nfunction subredditDragOver(e: DragEvent) {\n\tif (e.preventDefault) {\n\t\te.preventDefault(); // Necessary. Allows us to drop.\n\t}\n\n\tif ($subredditGroupDropdown) {\n\t\t$subredditGroupDropdown.hide();\n\t}\n\n\t// $FlowIssue\n\te.dataTransfer.dropEffect = 'move';\n\treturn false;\n}\n\nfunction subredditDragLeave() {\n\tthis.classList.remove('srOver');\n\treturn false;\n}\n\nfunction subredditDrop(e: DragEvent) {\n\tif (e.stopPropagation) {\n\t\te.stopPropagation(); // Stops some browsers from redirecting.\n\t}\n\n\t// Stops other browsers from redirecting.\n\te.preventDefault();\n\n\t// Don't do anything if dropping the same column we're dragging.\n\tif (dragSrcEl !== this) {\n\t\tif (e.target.getAttribute('id') !== 'res-shortcut-trash') {\n\t\t\t// get the order index of the src and destination to swap...\n\t\t\t// const theData = e.dataTransfer.getData('text/html').split(',');\n\t\t\tconst theData = srDataTransfer.split(',');\n\t\t\tconst srcOrderIndex = parseInt(theData[0], 10);\n\t\t\tconst srcSubreddit = mySubredditShortcuts[srcOrderIndex];\n\t\t\tconst destOrderIndex = parseInt(this.getAttribute('orderIndex'), 10);\n\t\t\tconst destSubreddit = mySubredditShortcuts[destOrderIndex];\n\t\t\tconst rearranged = [];\n\t\t\tlet rearrangedI = 0;\n\n\t\t\tmySubredditShortcuts.forEach((shortcut, i) => {\n\t\t\t\tif ((i !== srcOrderIndex) && (i !== destOrderIndex)) {\n\t\t\t\t\trearranged[rearrangedI] = shortcut;\n\t\t\t\t\trearrangedI++;\n\t\t\t\t} else if (i === destOrderIndex) {\n\t\t\t\t\tif (destOrderIndex > srcOrderIndex) {\n\t\t\t\t\t\t// if dragging right, order dest first, src next.\n\t\t\t\t\t\trearranged[rearrangedI] = destSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t\trearranged[rearrangedI] = srcSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if dragging left, order src first, dest next.\n\t\t\t\t\t\trearranged[rearrangedI] = srcSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t\trearranged[rearrangedI] = destSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// save the updated order...\n\t\t\tmySubredditShortcuts = rearranged;\n\t\t\tsaveLatestShortcuts();\n\t\t\t// redraw the shortcut bar...\n\t\t\tredrawShortcuts();\n\t\t} else {\n\t\t\tconst theData = srDataTransfer.split(',');\n\t\t\tconst srcSubreddit = theData[1];\n\t\t\tremoveSubredditShortcut(srcSubreddit);\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction subredditDragEnd() {\n\tthis.style.opacity = '1';\n\tthis.classList.remove('srOver');\n\tif (module.options.dragDropDelete.value) {\n\t\tremoveTrashBin();\n\t}\n\treturn false;\n}\n\nasync function createSubredditBar(headerContents) {\n\tconst originalShortcuts: HTMLAnchorElement[] = (Array.from(document.querySelectorAll('.sr-list a.choice')): any[]);\n\tconst myRandom = module.options.linkMyRandom.value && originalShortcuts.find(({ pathname }) => pathname === '/r/myrandom/');\n\tconst myRandomGold = myRandom && myRandom.classList.contains('gold');\n\tconst users = module.options.linkUsers.value && originalShortcuts.find(({ pathname }) => pathname === '/users/');\n\tconst originalFrontpage = originalShortcuts.find(({ pathname }) => pathname === '/');\n\tconst originalPopular = originalShortcuts.find(({ pathname }) => pathname === '/r/popular/');\n\tconst originalProfilePosts = originalShortcuts.find(({ pathname }) => pathname === '/r/profileposts/');\n\n\t// Clear out the existing stuff in the top bar first, we'll replace it with our own stuff.\n\tempty(headerContents);\n\n\tawait initialShortcutsLoad();\n\n\tconst user = loggedInUser();\n\n\tconst staticShortcutsHTML = [\n\t\tmodule.options.linkDashboard.value && '<a class=\"subbarlink\" href=\"/r/Dashboard/\">Dashboard</a>',\n\t\tmodule.options.linkFront.value && originalFrontpage && `<a class=\"subbarlink\" href=\"/\">${originalFrontpage.textContent}</a>`,\n\t\tmodule.options.linkPopular.value && originalPopular && `<a class=\"subbarlink\" href=\"/r/popular/\">${originalPopular.textContent}</a>`,\n\t\tmodule.options.linkProfilePosts.value && originalProfilePosts && `<a class=\"subbarlink\" href=\"/r/profileposts/\">${originalProfilePosts.textContent}</a>`,\n\t\tmodule.options.linkAll.value && '<a class=\"subbarlink\" href=\"/r/all/\">All</a>',\n\t\tmodule.options.linkRandom.value && '<a class=\"subbarlink\" href=\"/r/random/\">Random</a>',\n\t\tmodule.options.linkMyRandom.value && myRandom && `<a class=\"subbarlink ${myRandomGold ? 'gold' : ''}\" href=\"/r/myrandom/\">MyRandom</a>`,\n\t\tmodule.options.linkUsers.value && users && '<a class=\"subbarlink\" href=\"/users/\">Users</a>',\n\t\tmodule.options.linkRandNSFW.value && '<a class=\"over18 subbarlink\" href=\"/r/randnsfw/\">RandNSFW</a>',\n\t\tuser && [\n\t\t\tmodule.options.linkFriends.value && '<a class=\"subbarlink\" href=\"/r/friends/\">Friends</a>',\n\t\t\tisModeratorAnywhere() && [\n\t\t\t\tmodule.options.linkMod.value && '<a class=\"subbarlink\" href=\"/r/mod/\">Mod</a>',\n\t\t\t\tmodule.options.linkModqueue.value && '<a class=\"subbarlink\" href=\"/r/mod/about/modqueue\">Modqueue</a>',\n\t\t\t],\n\t\t\tmodule.options.linkSaved.value && `<a class=\"subbarlink\" href=\"/user/${user}/saved\">Saved</a>`,\n\t\t],\n\t\tmodule.options.buttonEdit.value && `${SettingsNavigation.makeUrlHashLink(module.moduleID, '', 'edit', 'subbarlink res-sr-options-link')}`,\n\t]\n\t// $FlowIssue Array#flat\n\t\t.flat(3)\n\t\t.filter(Boolean)\n\t\t.join('<span class=\"separator\">-</span>');\n\n\theaderContents.append(...string.html`<span>\n\t\t<div id=\"srLeftContainer\" class=\"sr-bar\">\n\t\t\t<div id=\"srDropdown\">\n\t\t\t\t\t<div id=\"srDropdownContainer\"><a href=\"javascript:void 0\">My Subreddits</a></div>\n\t\t\t</div>\n\t\t\t<div id=\"RESStaticShortcuts\"><span class=\"separator\">-</span>${string.safe(staticShortcutsHTML)}</div>\n\t\t\t<span class=\"srSep\">|</span>\n\t\t</div>\n\t\t<div id=\"RESShortcutsViewport\">\n\t\t\t<div id=\"RESShortcuts\" class=\"sr-bar\"></div>\n\t\t</div>\n\t\t<div id=\"RESShortcutsEditContainer\">\n\t\t\t<div id=\"RESShortcutsSort\" title=\"sort subreddit shortcuts\"></div>\n\t\t\t<div id=\"RESShortcutsRight\">&gt;</div>\n\t\t\t<div id=\"RESShortcutsAdd\" class=\"res-icon\" title=\"add shortcut\"></div>\n\t\t\t<div id=\"RESShortcutsLeft\">&lt;</div>\n\t\t</div>\n\t</span>`.children);\n\n\theaderContents.querySelector('#srDropdownContainer').addEventListener('click', (e: MouseEvent) => {\n\t\te.stopImmediatePropagation();\n\t\ttoggleSubredditDropdown();\n\t});\n\n\tshortcutsContainer = headerContents.querySelector('#RESShortcuts');\n\n\tconst choice = [...headerContents.querySelectorAll('.subbarlink:not(.res-sr-options-link)')]\n\t\t.find(link => link instanceof HTMLAnchorElement && fullLocation(link.pathname) === fullLocation());\n\tif (choice) choice.classList.add('RESShortcutsCurrentSub');\n\n\tconst shortcutsEditContainer = document.createElement('div');\n\tshortcutsEditContainer.classList.add('res-sr-edit');\n\n\theaderContents.querySelector('#RESShortcutsSort').addEventListener('click', async ({ currentTarget }: MouseEvent) => {\n\t\tconst menu = sortMenu();\n\t\tdocument.body.append(menu);\n\t\tconst { bottom, left } = currentTarget.getBoundingClientRect();\n\t\tmenu.style.top = `${bottom}px`;\n\t\tmenu.style.left = `${Math.min(document.body.getBoundingClientRect().width - menu.getBoundingClientRect().width, left)}px`;\n\t\tawait waitForEvent(menu, 'mouseleave');\n\t\tmenu.remove();\n\t});\n\n\tconst addButton = headerContents.querySelector('#RESShortcutsAdd');\n\taddButton.addEventListener('click', () => { toggleShortCutsAddForm(); });\n\n\tconst leftButton = headerContents.querySelector('#RESShortcutsLeft');\n\tleftButton.addEventListener('click', () => {\n\t\tconst firstChild: HTMLElement = (shortcutsContainer.firstChild: any);\n\t\tconst containerMargin = parseInt(firstChild.style.marginLeft, 10) || 0;\n\t\tconst shiftWidth = Math.floor($('#RESShortcutsViewport').width()) - 80;\n\t\tconst marginLeft = containerMargin + shiftWidth;\n\t\tif (marginLeft <= 0) {\n\t\t\tfirstChild.style.marginLeft = `${marginLeft}px`;\n\t\t}\n\t});\n\n\tconst rightButton = headerContents.querySelector('#RESShortcutsRight');\n\trightButton.addEventListener('click', () => {\n\t\tconst firstChild: HTMLElement = (shortcutsContainer.firstChild: any);\n\t\tlet marginLeft = firstChild.style.marginLeft;\n\t\tmarginLeft = parseInt(marginLeft.replace('px', ''), 10);\n\n\t\tif (isNaN(marginLeft)) marginLeft = 0;\n\n\t\tconst shiftWidth = $('#RESShortcutsViewport').width() - 80;\n\t\tif (shortcutsContainer.offsetWidth > (shiftWidth)) {\n\t\t\tmarginLeft -= shiftWidth;\n\t\t\tfirstChild.style.marginLeft = `${marginLeft}px`;\n\t\t}\n\t});\n\n\tredrawShortcuts();\n}\n\nconst trashBin = _.once(() => {\n\tconst $title = $('<div>', { class: 'res-shortcut-trash-title' });\n\n\tconst $trashZone = $('<div>', { id: 'res-shortcut-trash-zone', class: 'res-icon' });\n\tconst shortCutsTrash = $trashZone.get(0);\n\tshortCutsTrash.addEventListener('dragenter', subredditDragEnter);\n\tshortCutsTrash.addEventListener('dragleave', subredditDragLeave);\n\tshortCutsTrash.addEventListener('dragover', subredditDragOver);\n\tshortCutsTrash.addEventListener('drop', subredditDrop);\n\n\tconst $wrapper = $('<div>', { id: 'res-shortcut-trash' })\n\t\t.append(\n\t\t\t$title,\n\t\t\t$trashZone,\n\t\t\t$('<div>', {\n\t\t\t\tid: 'res-dragDrop-tip',\n\t\t\t\ttext: 'Did you know? You can arrange shortcuts by dragging them left & right along the top bar.',\n\t\t\t}),\n\t\t);\n\n\treturn {\n\t\t$wrapper,\n\t\t$trashZone,\n\t\t$title,\n\t};\n});\n\nfunction toggleShortCutsAddForm() {\n\tlet shortCutsAddFormContainer = document.querySelector('RESShortcutsAddFormContainer');\n\n\tconst close = () => shortCutsAddFormContainer.remove();\n\n\tif (shortCutsAddFormContainer) {\n\t\tclose();\n\t\treturn;\n\t}\n\n\tshortCutsAddFormContainer = document.createElement('div');\n\tshortCutsAddFormContainer.setAttribute('id', 'RESShortcutsAddFormContainer');\n\tshortCutsAddFormContainer.append(string.html`\n\t\t<form id=\"shortCutsAddForm\">\n\t\t\t<div><strong>Add Shortcut</strong></div>\n\t\t\t<div class=\"res-shortcuts-add-tip\">Put a &plus; between subreddits to make a multireddit.</div>\n\t\t\t<div><label for=\"newShortcut\">Subreddit:</label><input type=\"text\" id=\"newShortcut\"></div>\n\t\t\t<div><label for=\"displayName\">Display Name:</label><input type=\"text\" id=\"displayName\"></div>\n\t\t\t<input type=\"submit\" name=\"submit\" value=\"add\" id=\"addSubreddit\">\n\t\t\t<div class=\"res-shortcuts-add-footer\"><a href=\"/subreddits/\">manage subscribed</a></div>\n\t\t</form>\n\t`);\n\tconst shortCutsAddFormField: HTMLInputElement = (shortCutsAddFormContainer.querySelector('#newShortcut'): any);\n\tconst shortCutsAddFormFieldDisplayName: HTMLInputElement = (shortCutsAddFormContainer.querySelector('#displayName'): any);\n\n\tshortCutsAddFormField.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) close();\n\t});\n\n\tshortCutsAddFormFieldDisplayName.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) close();\n\t});\n\n\t// add the \"add shortcut\" form...\n\tconst shortCutsAddForm = shortCutsAddFormContainer.querySelector('#shortCutsAddForm');\n\tshortCutsAddForm.addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tlet subreddit = shortCutsAddFormField.value;\n\t\tlet displayname = shortCutsAddFormFieldDisplayName.value;\n\t\tif (displayname === '') displayname = subreddit;\n\n\t\tsubreddit = subreddit.replace(/^\\/?r\\//i, '');\n\n\t\tif (subreddit) {\n\t\t\taddSubredditShortcut(subreddit, displayname);\n\t\t}\n\n\t\tclose();\n\t});\n\n\tdocument.body.append(shortCutsAddFormContainer);\n\tshortCutsAddFormField.focus();\n\n\tif (module.options.dragDropDelete.value) {\n\t\tconst trashOpenLink = string.html`<a class=\"res-trash-open\" href=\"javascript: void 0\" title=\"Choose which shortcuts to remove\"><span class=\"res-icon\">&#xF155;</span> remove shortcuts...</a>`;\n\t\t$('#RESShortcutsAddFormContainer .res-shortcuts-add-footer').prepend(trashOpenLink, ' | ');\n\t\ttrashOpenLink.addEventListener('click', () => { addTrashBin(); });\n\t}\n}\n\nconst $pageOverlay = _.once(() => {\n\tconst srHeaderArea = document.querySelector('#sr-header-area');\n\n\treturn $('<div>', { id: 'res-trash-overlay' })\n\t\t.css({ top: `${srHeaderArea.offsetHeight}px` })\n\t\t.click(() => removeTrashBin());\n});\n\nfunction addTrashBin(shortcut) {\n\t// hide other elements.\n\tif ($subredditGroupDropdown) {\n\t\t$subredditGroupDropdown.hide();\n\t}\n\n\t// set the title.\n\tif (shortcut) {\n\t\ttrashBin().$title.html(string.escape`Drop here to delete shortcut <strong>${$(shortcut).text()}</strong>`);\n\t} else {\n\t\ttrashBin().$title.text('Drag and drop shortcuts to delete them');\n\t}\n\n\t// add trash bin\n\ttrashBin().$wrapper\n\t\t.appendTo(document.body)\n\t\t.show();\n\t// add overlay\n\t$pageOverlay()\n\t\t.appendTo(document.body)\n\t\t.show();\n}\n\nfunction removeTrashBin() {\n\t$pageOverlay().hide();\n\ttrashBin().$wrapper.hide();\n\ttrashBin().$trashZone.removeClass('srOver');\n}\n\nconst sortMenu = _.once(() => {\n\tconst element = string.html`\n\t<div id=\"sort-menu\" style=\"display: block\" class=\"drop-choices\">\n\t\t<p>&nbsp;sort by:</p>\n\t\t<a class=\"choice\" data-field=\"displayName\" href=\"javascript:void 0\">display name</a>\n\t\t<a class=\"choice\" data-field=\"addedDate\" href=\"javascript:void 0\">added date</a>\n\t</div>`;\n\n\tlet lastField;\n\n\t$(element).find('a').click(({ currentTarget }) => {\n\t\tconst field = currentTarget.dataset.field;\n\t\tconst sameField = lastField === field;\n\t\tlastField = field;\n\t\tsortShortcuts(sameField ? null : field, sameField);\n\t});\n\n\treturn element;\n});\n\nfunction sortShortcuts(field, reverse) {\n\tif (field) mySubredditShortcuts.sort((a, b) => String(a[field]).localeCompare(String(b[field]), undefined, { numeric: true, sensitivity: 'base' }));\n\tif (reverse) mySubredditShortcuts.reverse();\n\n\t// Refresh shortcuts\n\tredrawShortcuts();\n\n\t// Save shortcuts sort order\n\tsaveLatestShortcuts();\n}\n\nconst srList = _.once(async () => {\n\tconst element = document.createElement('div');\n\telement.id = 'srList';\n\n\tconst user = loggedInUser();\n\tif (!user) {\n\t\telement.append(string.html`<div>You must be logged in to load your own list of subreddits. <a style=\"display: inline; float: left;\" href=\"/subreddits/\">browse them all</a></div>`);\n\t\treturn element;\n\t}\n\n\telement.append(string.html`<div>Loading subreddits (may take a moment)...</div>`);\n\n\ttry {\n\t\tconst table = await getMySubredditsTable(user);\n\t\tempty(element);\n\t\telement.append(string.html`<a style=\"float: right;\" href=\"/subreddits/\">View all &raquo;</a>`, table);\n\t} catch (e) {\n\t\tconsole.error(e);\n\t\telement.append(string.html`<span>There was an error getting your subreddits. You may have third party cookies disabled by your browser. For this function to work, you\\'ll need to add an exception for cookies from reddit.com'</span>`);\n\t}\n\n\treturn element;\n});\n\nasync function toggleSubredditDropdown(e?: Event) {\n\tconst ele = await srList();\n\tif (ele && e && (ele.contains(e.target) || !document.contains(e.target))) return;\n\n\tif (document.body.contains(ele)) {\n\t\tele.remove();\n\t\tdocument.body.removeEventListener('click', toggleSubredditDropdown);\n\t} else {\n\t\tdocument.body.append(ele);\n\t\tdocument.body.addEventListener('click', toggleSubredditDropdown);\n\t}\n}\n\nasync function getMySubredditsTable(user) {\n\tconst headers = {\n\t\tsubreddit: 'subreddit',\n\t\t...(module.options.storeSubredditVisit.value ? { lastVisited: 'last visited' } : {}),\n\t\tshortcutToggle: '',\n\t};\n\n\tconst mySubreddits = new Map();\n\tlet after = '';\n\n\tdo {\n\t\tconst { data } = (await ajax({ // eslint-disable-line no-await-in-loop\n\t\t\turl: '/subreddits/mine.json',\n\t\t\tquery: {\n\t\t\t\tafter,\n\t\t\t\tlimit: 100,\n\t\t\t\tuser, // for the cache\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t}): RedditListing<RedditSubreddit>);\n\n\t\tif (data && data.children) {\n\t\t\t// fields include display_name, url, over18, id, created, description\n\t\t\tfor (const { data: sub } of data.children) mySubreddits.set(sub.display_name, sub);\n\n\t\t\tafter = data.after;\n\t\t} else if (!after) {\n\t\t\tthrow new Error('No subreddits feched?');\n\t\t}\n\t} while (after);\n\n\tconst subredditsLastViewed = await subredditsLastViewedStorage.get();\n\n\tconst getRow = ({ display_name: displayName, url }) => {\n\t\tconst lv = subredditsLastViewed[displayName.toLowerCase()];\n\t\tconst ts = lv && parseInt(lv.last_visited, 10);\n\t\tconst theLV = document.createElement('span');\n\t\tif (ts) {\n\t\t\tconst dateVisited = new Date(ts);\n\t\t\ttheLV.textContent = formatRelativeTime(dateVisited);\n\t\t\ttheLV.setAttribute('title', formatDate(dateVisited));\n\t\t\ttheLV.setAttribute('sort-value', String(Number.MAX_SAFE_INTEGER - dateVisited.getTime()));\n\t\t} else {\n\t\t\ttheLV.textContent = 'N/A';\n\t\t}\n\n\t\tconst shortcutToggle = createShortcutToggleButton(displayName);\n\t\tshortcutToggle.style.cursor = 'pointer';\n\t\tshortcutToggle.className = '';\n\n\t\treturn {\n\t\t\tsubreddit: string.html`<a href=\"${url}\">${displayName}</a>`,\n\t\t\tlastVisited: theLV,\n\t\t\tshortcutToggle,\n\t\t};\n\t};\n\n\tconst data = [...mySubreddits.values()];\n\tconst table = new Table.RESTable(headers, data, getRow, { pageSize: Infinity, sortBy: 'subreddit' });\n\n\tconst ele = document.createElement('div');\n\tele.append(\n\t\ttable.createSearchElement(({ display_name: displayName }) => displayName, i18n('subredditManagerFilterPlaceholder'), true),\n\t\ttable.element,\n\t);\n\n\treturn ele;\n}\n\nexport async function getMultiCounts(displayName: string): Promise<string> {\n\tif (!module.options.displayMultiCounts.value) return '';\n\tconst user = loggedInUser();\n\tif (!user) return '';\n\tconst multis = await ajax({\n\t\turl: `/api/multi/user/${user}`,\n\t\ttype: 'json',\n\t\tcacheFor: DAY,\n\t});\n\tconst count = multis.filter(multi => multi.data.subreddits.some(sr => sr.name === displayName)).length;\n\tif (count) return string.escape`<span class=\"multi-count\" title=\"${i18n('subredditManagerMultiCountTitle', displayName, count)}\">${count}</span>`;\n\telse return '';\n}\n\nfunction saveLatestShortcuts() {\n\tsubredditShortcutsStorage.set(mySubredditShortcuts || []);\n}\n\nasync function addSubredditShortcut(subreddit, displayname) {\n\tawait loadShortcuts();\n\n\tconst idx = mySubredditShortcuts.findIndex(shortcut =>\n\t\tshortcut.subreddit.toLowerCase() === subreddit.toLowerCase(),\n\t);\n\n\tif (idx !== -1) {\n\t\tAlert.open('Whoops, you already have a shortcut for that subreddit');\n\t} else {\n\t\tdisplayname = displayname || subreddit;\n\t\tconst subredditObj = {\n\t\t\tsubreddit,\n\t\t\tdisplayName: displayname.toLowerCase(),\n\t\t\taddedDate: Date.now(),\n\t\t};\n\n\t\tmySubredditShortcuts.push(subredditObj);\n\n\t\tsaveLatestShortcuts();\n\t\tredrawShortcuts();\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'subredditManager',\n\t\t\tmessage: 'Subreddit shortcut added. You can edit by double clicking the shortcut.',\n\t\t});\n\t}\n}\n\nasync function removeSubredditShortcut(subreddit) {\n\tawait loadShortcuts();\n\n\tconst idx = mySubredditShortcuts.findIndex(shortcut =>\n\t\tshortcut.subreddit.toLowerCase() === subreddit.toLowerCase(),\n\t);\n\n\tif (idx !== -1) {\n\t\tmySubredditShortcuts.splice(idx, 1);\n\n\t\tsaveLatestShortcuts();\n\t\tredrawShortcuts();\n\t}\n}\n\nfunction setLastViewtime(subreddit) {\n\tif (!module.options.storeSubredditVisit.value) return;\n\tif (!module.options.storeSubredditVisitIncognito.value && isPrivateBrowsing()) return;\n\n\tsubredditsLastViewedStorage.patch({ [subreddit.toLowerCase()]: { last_visited: Date.now() } });\n}\n\nexport function subscribeToSubreddit(subredditName: string, subscribe?: boolean = true) {\n\t// subredditName should look like t5_123asd\n\treturn ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/subscribe',\n\t\tdata: {\n\t\t\tsr: subredditName,\n\t\t\taction: subscribe ? 'sub' : 'unsub',\n\t\t},\n\t});\n}\n\nasync function lastUpdate() {\n\tconst mySubredditList = $('.drop-choices.srdrop a').map(function() { return this.textContent; }).toArray().join();\n\tconst mySubredditListCachedObject = await Session.get('RESmodules.subredditManager.mySubredditList') || {};\n\tconst mySubredditListCached = mySubredditListCachedObject[loggedInUser() || 'null']; // last saved subreddit lsit + time for current user\n\tlet _lastUpdate;\n\tif (mySubredditListCached && mySubredditListCached.list === mySubredditList) {\n\t\t_lastUpdate = parseInt((new Date().getTime() - mySubredditListCached.time) / 60000, 10);\n\t\tif (_lastUpdate > 31) {\n\t\t\t_lastUpdate = false; // the user have probably less than 50/100 subscription, this module doesn't concern him\n\t\t\tmySubredditListCached.time = new Date().getTime() - 32 * 60000; // we change time to avoid deleting it just after (to don't show him again the last update)\n\t\t} else {\n\t\t\t_lastUpdate += _lastUpdate > 1 ? ' minutes ago' : ' minute ago';\n\t\t}\n\t} else { // the mySubreddit list is different than the cached version, subreddit have reloaded them. We reset the cache. (Or there is no cached version)\n\t\tmySubredditListCachedObject[loggedInUser() || 'null'] = {\n\t\t\tlist: mySubredditList,\n\t\t\ttime: new Date().getTime(),\n\t\t};\n\t\t_lastUpdate = 'just now';\n\t}\n\tif (_lastUpdate !== false && mySubredditListCached) { // Show only if there is cached version and the user have enough subscription\n\t\t$('.listing-chooser a:first .description').after(`<br /><span class=\"description\"><b>last update:</b><br />${_lastUpdate}</span>`);\n\t}\n\t// we now remove inactive user\n\tconst inactiveThreshold = new Date().getTime() - 2592000000; // one month\n\tfor (const [user, cachedObject] of Object.entries(mySubredditListCachedObject)) {\n\t\tif (cachedObject.time < inactiveThreshold) {\n\t\t\tdelete mySubredditListCachedObject[user];\n\t\t}\n\t}\n\tSession.set('RESmodules.subredditManager.mySubredditList', mySubredditListCachedObject);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tAlert,\n\tThing,\n\taddCSS,\n\thide,\n\tunhide,\n\tCreateElement,\n\tisPageType,\n\tloggedInUser,\n\twatchForThings,\n\twatchForElements,\n\tformatDateDiff,\n\tfromSecondsToTime,\n\tstring,\n} from '../utils';\nimport { _addHeaderId } from '../utils/dom';\nimport { i18n } from '../environment';\nimport { Expando } from './showImages/expando';\nimport Youtube from './hosts/youtube';\nimport * as SubredditManager from './subredditManager';\n\nexport const module: Module<*> = new Module('betteReddit');\n\nmodule.moduleName = 'betteRedditName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'betteRedditDesc';\nmodule.options = {\n\tcommentsLinksNewTabs: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditCommentsLinksNewTabDesc',\n\t\ttitle: 'betteRedditCommentsLinksNewTabTitle',\n\t},\n\tfixHideLinks: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditFixHideLinksDesc',\n\t\ttitle: 'betteRedditFixHideLinksTitle',\n\t},\n\thideLinkInstant: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditHideLinkInstantDesc',\n\t\ttitle: 'betteRedditHideLinkInstantTitle',\n\t\tdependsOn: options => options.fixHideLinks.value,\n\t},\n\thideLinkFadeDelay: {\n\t\ttype: 'text',\n\t\tvalue: '5000',\n\t\tdescription: 'betteRedditHideLinkFadeDelayDesc',\n\t\ttitle: 'betteRedditHideLinkFadeDelayTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.fixHideLinks.value && !options.hideLinkInstant.value,\n\t},\n\tvideoTimes: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditVideoTimesDesc',\n\t\ttitle: 'betteRedditVideoTimesTitle',\n\t\tadvanced: true,\n\t},\n\tvideoUploaded: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditVideoUploadedDesc',\n\t\ttitle: 'betteRedditVideoUploadedTitle',\n\t\tadvanced: true,\n\t},\n\tvideoViewed: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditVideoViewedDesc',\n\t\ttitle: 'betteRedditVideoViewedTitle',\n\t\tadvanced: true,\n\t},\n\tpinHeader: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'None',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Subreddit Bar only',\n\t\t\tvalue: 'sub',\n\t\t}, {\n\t\t\tname: 'User Bar',\n\t\t\tvalue: 'userbar',\n\t\t}, {\n\t\t\tname: 'Subreddit Bar and User bar',\n\t\t\tvalue: 'subanduser',\n\t\t}, {\n\t\t\tname: 'Full Header',\n\t\t\tvalue: 'header',\n\t\t}],\n\t\tvalue: 'none',\n\t\tdescription: 'betteRedditPinHeaderDesc',\n\t\ttitle: 'betteRedditPinHeaderTitle',\n\t\tbodyClass: 'pinHeader',\n\t},\n\tshowLastEditedTimestamp: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditShowLastEditedTimestampDesc',\n\t\ttitle: 'betteRedditShowLastEditedTimestampTitle',\n\t\tbodyClass: true,\n\t},\n\tscoreHiddenTimeLeft: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditScoreHiddenTimeLeftDesc',\n\t\ttitle: 'betteRedditScoreHiddenTimeLeftTitle',\n\t},\n\tshowTimestampPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampPostsDesc',\n\t\ttitle: 'betteRedditShowTimestampPostsTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampComments: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampCommentsDesc',\n\t\ttitle: 'betteRedditShowTimestampCommentsTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampSidebar: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampSidebarDesc',\n\t\ttitle: 'betteRedditShowTimestampSidebarTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampWiki: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampWikiDesc',\n\t\ttitle: 'betteRedditShowTimestampWikiTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampModerationLog: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampModerationLogDesc',\n\t\ttitle: 'betteRedditShowTimestampModerationLogTitle',\n\t\tbodyClass: true,\n\t},\n\trestoreSavedTab: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditRestoreSavedTabDesc',\n\t\ttitle: 'betteRedditRestoreSavedTabTitle',\n\t},\n\tdoNoCtrlF: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditDoNoCtrlFDesc',\n\t\ttitle: 'betteRedditDoNoCtrlFTitle',\n\t},\n\tshowHiddenSortOptions: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowHiddenSortOptionsDesc',\n\t\ttitle: 'betteRedditShowHiddenSortOptionsTitle',\n\t\tbodyClass: true,\n\t},\n\ttruncateLongLinks: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditTruncateLongLinksDesc',\n\t\ttitle: 'betteRedditTruncateLongLinksTitle',\n\t\tbodyClass: true,\n\t},\n\tcommentCollapseInInbox: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditCommentCollapseInInboxDesc',\n\t\ttitle: 'betteRedditCommentCollapseInInboxTitle',\n\t\tbodyClass: true,\n\t},\n\trestrictScrollEvents: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditRestrictScrollEventsDesc',\n\t\ttitle: 'betteRedditRestrictScrollEventsTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.exclude = [\n\t'd2x',\n];\n\nmodule.beforeLoad = () => {\n\tif (module.options.commentsLinksNewTabs.value) {\n\t\twatchForThings(['comment'], comment => {\n\t\t\tconst body = comment.getTextBody();\n\t\t\tif (body) for (const link of body.querySelectorAll('a')) commentsLinksNewTabs((link: any));\n\t\t});\n\t}\n\n\tif (module.options.fixHideLinks.value) {\n\t\twatchForThings(['post'], fixHideLinks);\n\t}\n\n\tif (module.options.doNoCtrlF.value) {\n\t\twatchForElements(['page'], '.side a.reddit-comment-link', applyNoCtrlF);\n\t\twatchForThings(null, thing => {\n\t\t\tfor (const link of thing.entry.querySelectorAll('ul.flat-list.buttons li a')) applyNoCtrlF(link);\n\t\t});\n\t}\n\n\tif (module.options.videoTimes.value || module.options.videoUploaded.value || module.options.videoViewed.value) {\n\t\t// Fetch data immediately, to potentially reduce number of requests\n\t\twatchForThings(['post'], thing => { if (thing.isVisible()) fetchVideoData(thing); }, { immediate: true });\n\t\twatchForThings(['post'], showVideoData);\n\t}\n\n\tswitch (module.options.pinHeader.value) {\n\t\tcase 'userbar':\n\t\t\t_addHeaderId('header-bottom-right', true);\n\t\t\tbreak;\n\t\tcase 'sub':\n\t\t\t_addHeaderId('sr-header-area');\n\t\t\tbreak;\n\t\tcase 'subanduser':\n\t\t\t_addHeaderId('sr-header-area');\n\t\t\t_addHeaderId('header-bottom-right', true);\n\t\t\tbreak;\n\t\tcase 'header':\n\t\t\t_addHeaderId('header');\n\t\t\tbreak;\n\t\tcase 'none':\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tif (module.options.restrictScrollEvents.value) {\n\t\tconst scr = document.createElement('script');\n\t\tscr.innerHTML = `{\n\t\t\t// Prevents overzealous Reddit scroll listeners from constantly mutating the DOM while scrolling\n\t\t\tlet debounce, lastEvent;\n\t\t\twindow.addEventListener('scroll', e => {\n\t\t\t\tif (!debounce)  debounce = _.debounce(e => window.dispatchEvent(e), 300);\n\t\t\t\tif (e === lastEvent) return;\n\t\t\t\tlastEvent = e;\n\t\t\t\tdebounce(e);\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t}, true);\n\t\t}`;\n\t\tdocument.documentElement.append(scr);\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.scoreHiddenTimeLeft.value && isPageType('comments', 'commentsLinklist')) {\n\t\t$('.sitetable').on('mouseenter', '.score-hidden', function() {\n\t\t\tconst timeNode = $(this).siblings('time').get(0);\n\t\t\tif (timeNode) {\n\t\t\t\tif (!this.getAttribute('title').includes('revealed')) {\n\t\t\t\t\tconst scoreHiddenDuration = parseInt(this.getAttribute('title').match(/[0-9]+/)[0], 10);\n\t\t\t\t\tconst postTime = new Date(timeNode.getAttribute('datetime')).getTime();\n\t\t\t\t\tconst minutesLeft = Math.ceil((postTime + scoreHiddenDuration * 60000 - new Date().getTime()) / 60000);\n\t\t\t\t\tif (minutesLeft >= 1) {\n\t\t\t\t\t\tthis.setAttribute('title', `score will be revealed in ${minutesLeft} minute${minutesLeft > 1 ? 's' : ''}`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setAttribute('title', 'reload page to reveal score');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tconst user = loggedInUser();\n\tif (module.options.restoreSavedTab.value && user && document.querySelector('.with-listing-chooser:not(.profile-page)')) {\n\t\trestoreSavedTab(user);\n\t}\n\n\tswitch (module.options.pinHeader.value) {\n\t\tcase 'header':\n\t\t\tpinHeader();\n\t\t\tbreak;\n\t\tcase 'sub':\n\t\t\tpinSubredditBar();\n\t\t\tbreak;\n\t\tcase 'subanduser':\n\t\t\tpinSubredditBar();\n\t\t\tpinUserBar();\n\t\t\tbreak;\n\t\tcase 'userbar':\n\t\t\tpinUserBar();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n};\n\nfunction commentsLinksNewTabs(link) {\n\tlink.target = '_blank';\n\tlink.rel = 'noopener noreferer';\n}\n\nfunction fixHideLinks(thing) {\n\tconst orig = thing.getHideElement();\n\tif (!orig) return;\n\n\tconst a = document.createElement('a');\n\ta.className = 'noCtrlF';\n\ta.href = 'javascript:void 0'; // eslint-disable-line no-script-url\n\ta.dataset.eventAction = orig.dataset.eventAction;\n\ta.dataset.text = i18n(\n\t\torig.dataset.eventAction === 'hide' ?\n\t\t\t'betteRedditHideLinkLabel' :\n\t\t\t'betteRedditUnhideLinkLabel',\n\t);\n\ta.addEventListener('click', () => hideLink(a));\n\n\torig.replaceWith(a);\n}\n\nconst hideTimer = new Map();\n\nasync function hideLink(clickedLink, action = clickedLink.dataset.eventAction) {\n\tconst timeout = module.options.hideLinkInstant.value ?\n\t\tnull :\n\t\tparseInt(module.options.hideLinkFadeDelay.value, 10);\n\n\tconst thing = Thing.checkedFrom(clickedLink);\n\n\tif (action === 'hide') {\n\t\t// Native expandos does not know that the post is being hidden, so collapse them manually\n\t\tconst expando = Expando.getEntryExpandoFrom(thing);\n\t\tif (expando && expando.types.includes('native')) expando.collapse();\n\n\t\tif (timeout === null) {\n\t\t\tif (!isPageType('comments')) $(thing.element).hide();\n\t\t} else {\n\t\t\thideTimer.set(clickedLink, setTimeout(() => {\n\t\t\t\tif (clickedLink.dataset.eventAction === action) return; // It may have been unhidden\n\t\t\t\t$(thing.element).fadeOut(300);\n\t\t\t}, timeout));\n\t\t}\n\t}\n\n\ttry {\n\t\tif (action === 'hide') await hide(thing);\n\t\telse await unhide(thing);\n\t} catch (e) {\n\t\tAlert.open(i18n(action === 'hide' ? 'betteRedditHideSubmissionError' : 'betteRedditUnhideSubmissionError'));\n\t\t$(thing.element).show();\n\t\tthrow e;\n\t}\n}\n\nconst fetchVideoData = _.memoize(thing => {\n\tconst url = new URL(thing.getPostUrl(), location.origin);\n\tif (!Youtube.domains.some(domain => url.hostname.endsWith(domain))) return;\n\tconst [id] = Youtube.detect(url) || [];\n\tif (id) return Youtube.getVideoData && Youtube.getVideoData(id);\n});\n\nasync function showVideoData(thing) {\n\tconst data = await fetchVideoData(thing);\n\tif (!data) return;\n\n\tconst { title, duration, publishedAt, viewCount } = data;\n\n\tconst link = thing.getPostLink();\n\tconst info = [];\n\n\tif (module.options.videoUploaded.value) {\n\t\tconst uploaded = new Date(publishedAt); // 2016-01-27T05:49:48.000Z\n\t\tconst dt = `${uploaded.toDateString()} ${uploaded.toTimeString()}`;\n\t\tconst timeAgo = i18n('submitHelperTimeAgo', formatDateDiff(uploaded));\n\t\tinfo.push(`[<time title=\"${dt}\" datetime=\"${publishedAt}\" class=\"live-timestamp\">${timeAgo}</time>]`);\n\t}\n\n\tif (module.options.videoViewed.value && viewCount) {\n\t\tinfo.push(i18n('betteRedditVideoViewed', viewCount));\n\t}\n\n\tconst titleHasTimeRegex = /[\\[|\\(][0-9]*:[0-9]*[\\]|\\)]/;\n\tconst getYoutubeStartTimeRegex = /\\/?[&|\\?]?(?:t|time_continue)=([\\w\\-][a-z0-9]*)/i;\n\tconst timeMatch = getYoutubeStartTimeRegex.exec(link.href);\n\tconst titleMatch = titleHasTimeRegex.test(link.textContent);\n\n\tlet startTime;\n\tif (timeMatch && !titleMatch) {\n\t\tconst seconds = fromYoutubeTimecodeToSeconds(timeMatch[1]);\n\t\tstartTime = fromSecondsToTime(seconds);\n\t}\n\n\tif (info.length) {\n\t\tlink.appendChild(string.html`<span class=\"gray pay-link\">${string.safe(info.join(' '))}</span>`);\n\t}\n\tlink.setAttribute('title', i18n('betteRedditVideoYouTubeTitle', title));\n\n\tif (module.options.videoTimes.value) {\n\t\t// Add native Reddit duration overlay on video thumbnail\n\t\tconst thumbnail = thing.element.querySelector('a.thumbnail');\n\t\tif (thumbnail) {\n\t\t\tthumbnail.appendChild(string.html`<div class=\"duration-overlay\">${duration}${startTime ? ` (@${startTime})` : ''}</div>`);\n\t\t}\n\t}\n}\n\nfunction fromYoutubeTimecodeToSeconds(tc: string) {\n\tlet timeSeconds = Number(tc);\n\tif (Number.isNaN(timeSeconds)) {\n\t\tconst tcobj = (tc.split(/(\\d+[hms])/)\n\t\t\t.filter(Boolean)\n\t\t\t.reduce((acc, match) => {\n\t\t\t\tacc[match.slice(-1)] = Number(match.slice(0, -1));\n\t\t\t\treturn acc;\n\t\t\t}, {}));\n\t\ttimeSeconds = (tcobj.h || 0) * 3600 + (tcobj.m || 0) * 60 + (tcobj.s || 0);\n\t}\n\treturn timeSeconds;\n}\n\nfunction pinSubredditBar() {\n\t// Make the subreddit bar at the top of the page a fixed element\n\t// The subreddit manager code changes the document's structure\n\tconst sm = Modules.isRunning(SubredditManager);\n\n\tconst sb = document.getElementById('sr-header-area');\n\tif (!sb) {\n\t\treturn; // reddit is under heavy load\n\t}\n\tconst header = document.getElementById('header');\n\n\t// add a dummy <div> inside the header to replace the subreddit bar (for spacing)\n\tconst spacer = document.createElement('div');\n\t// null parameter is necessary for FF3.6 compatibility.\n\tspacer.style.paddingTop = window.getComputedStyle(sb, null).paddingTop;\n\tspacer.style.paddingBottom = window.getComputedStyle(sb, null).paddingBottom;\n\n\t// HACK: for some reason, if the SM is enabled, the SB gets squeezed horizontally,\n\t//       and takes up three rows of vertical space (even at low horizontal resolution).\n\tif (sm) {\n\t\tspacer.style.height = `${parseInt(window.getComputedStyle(sb, null).height, 10) / 3 - 3}px`;\n\t} else {\n\t\tspacer.style.height = window.getComputedStyle(sb, null).height;\n\t}\n\n\t// add the spacer; take the subreddit bar out of the header and put it above\n\theader.insertBefore(spacer, sb);\n\tdocument.body.insertBefore(sb, header);\n\n\t// make it fixed\n\taddCSS(`\n\t\t#header-bottom-left {\n\t\t\tmargin-top: 19px;\n\t\t}\n\n\t\tdiv#sr-header-area {\n\t\t\tposition: fixed;\n\t\t\tz-index: 10000 !important;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t}\n\t`);\n\tpinCommonElements(sm);\n}\n\nfunction pinUserBar() {\n\tconst header = document.getElementById('header-bottom-left');\n\tconst userbar = document.getElementById('header-bottom-right');\n\n\twindow.addEventListener('scroll', _.debounce(() => {\n\t\tif (header.getBoundingClientRect().top > 0) {\n\t\t\tuserbar.classList.remove('res-floating-userbar');\n\t\t} else {\n\t\t\tuserbar.classList.add('res-floating-userbar');\n\t\t}\n\t}, 300));\n\n\tpinCommonElements();\n}\n\n/*\n * Modify the header so that its position is fixed to the top.\n */\nfunction pinHeader() {\n\tconst sm = Modules.isRunning(SubredditManager);\n\n\tconst header = document.getElementById('header');\n\n\tif (!header) {\n\t\tconsole.error('No element found with ID \"header\".');\n\t\treturn;\n\t}\n\n\tconst headerHeight = $('#header').outerHeight(true);\n\n\t// Add fixed positioning to all relevant elements.\n\taddCSS(`\n\t\t#header,\n\t\t#RESAccountSwitcherDropdown {\n\t\t\tposition: fixed;\n\t\t}\n\t`);\n\tpinCommonElements(sm);\n\n\t// Ensure the header remains in its original position at the top of the page.\n\t// We can't change the z-index because themes often rely on it being a certain value.\n\taddCSS(`\n\t\t#header {\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: auto;\n\t\t}\n\t`);\n\n\t// Spacer height should be equal to header (including padding, margins, etc).\n\t$('<div>', {\n\t\tid: 'RESPinnedHeaderSpacer',\n\t\theight: headerHeight,\n\t}).insertBefore(header);\n}\n\nfunction pinCommonElements(sm) {\n\t// pin the elements common to both pinHeader() and pinSubredditBar()\n\tif (sm) {\n\t\t// RES's subreddit menu\n\t\taddCSS(`\n\t\t\t#RESSubredditGroupDropdown,\n\t\t\t#srList,\n\t\t\t#RESShortcutsAddFormContainer,\n\t\t\t#editShortcutDialog {\n\t\t\t\tposition: fixed !important;\n\t\t\t}\n\t\t`);\n\t} else {\n\t\taddCSS(`\n\t\t\t#sr-more-link {\n\t\t\t\tposition: fixed;\n\t\t\t}\n\t\t`);\n\t}\n}\n\nfunction restoreSavedTab(user) {\n\tCreateElement.tabMenuItem({\n\t\ttext: 'saved',\n\t\tonChange: () => { location.href = `/user/${user}/saved/`; },\n\t});\n}\n\nfunction applyNoCtrlF(element) {\n\tif (element.classList.contains('noCtrlF')) return;\n\n\telement.classList.add('noCtrlF');\n\telement.dataset.text = element.textContent;\n\telement.textContent = '';\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { execRegexes, regexes, Thing } from '../utils';\n\nexport const module: Module<*> = new Module('commentDepth');\n\nmodule.moduleName = 'commentDepthName';\nmodule.category = 'commentsCategory';\nmodule.disabledByDefault = true;\nmodule.description = 'commentDepthDesc';\n\nmodule.options = {\n\tdefaultCommentDepth: {\n\t\ttype: 'text',\n\t\tvalue: '4',\n\t\tdescription: 'commentDepthDefaultCommentDepthDesc',\n\t\ttitle: 'commentDepthDefaultCommentDepthTitle',\n\t},\n\tdefaultMinimumComments: {\n\t\ttype: 'text',\n\t\tvalue: '50',\n\t\tdescription: 'commentDepthDefaultMinimumCommentsDesc',\n\t\ttitle: 'commentDepthDefaultMinimumCommentsTitle',\n\t},\n\tcommentPermalinks: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentDepthCommentPermaLinksDesc',\n\t\ttitle: 'commentDepthCommentPermaLinksTitle',\n\t},\n\tcommentPermalinksContext: {\n\t\tdependsOn: options => options.commentPermalinks.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentDepthCommentPermalinksContextDesc',\n\t\ttitle: 'commentDepthCommentPermalinksContextTitle',\n\t},\n\tsubredditCommentDepths: {\n\t\ttype: 'table',\n\t\taddRowText: 'commentDepthAddSubreddit',\n\t\tfields: [{\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'commentDepthSubreddit',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'commentDepth',\n\t\t\tname: 'commentDepthCommentDepth',\n\t\t\ttype: 'text',\n\t\t\tvalue: '4',\n\t\t}, {\n\t\t\tkey: 'minimumComments',\n\t\t\tname: 'commentDepthMinimumComments',\n\t\t\ttype: 'text',\n\t\t\tvalue: '50',\n\t\t}],\n\t\tvalue: ([]: Array<[string, string, string]>),\n\t\tdescription: 'commentDepthSubredditCommentDepthsDesc',\n\t\ttitle: 'commentDepthSubredditCommentDepthsTitle',\n\t},\n};\n\nmodule.contentStart = () => {\n\t$(document.body).on('mousedown', 'a[href*=\"/comments\"]', (e: Event) => {\n\t\tconst target: HTMLAnchorElement = (e.currentTarget: any);\n\t\tconst url = new URL(target.href, location.href);\n\n\t\t// no need to proceed if depth already exists in the query string\n\t\tif (url.searchParams.has('depth')) return;\n\n\t\tif (regexes.commentPermalink.test(url.pathname)) {\n\t\t\tif (!module.options.commentPermalinks.value) return;\n\t\t\tif (!module.options.commentPermalinksContext.value && url.searchParams.has('context')) return;\n\t\t}\n\n\t\tconst matches = execRegexes.comments(url.pathname);\n\t\tif (!matches) return;\n\n\t\tconst subreddit = matches[1].toLowerCase();\n\n\t\t// check for subreddit specific values\n\t\tconst [, commentDepth, minimumComments] = (\n\t\t\tmodule.options.subredditCommentDepths.value.find(([subreddits]) => subreddits.toLowerCase().split(',').includes(subreddit)) ||\n\t\t\t[null, module.options.defaultCommentDepth.value, module.options.defaultMinimumComments.value]\n\t\t);\n\n\t\t// NaN or 0 (show everything)\n\t\tif (!parseInt(commentDepth, 10)) return;\n\n\t\tconst minimumCount = parseInt(minimumComments, 10);\n\t\tif (minimumCount) {\n\t\t\tconst thing = Thing.from(e.currentTarget);\n\t\t\tif (thing && thing.isPost() && (thing.getCommentCount() || 0) < minimumCount) return;\n\t\t}\n\n\t\turl.searchParams.set('depth', commentDepth);\n\t\ttarget.removeAttribute('data-inbound-url');\n\t\ttarget.href = url.href;\n\t});\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { Storage } from '../environment';\nimport { execRegexes, maybePruneOldEntries, watchForThings, Thing } from '../utils';\n\nexport const module: Module<*> = new Module('commentHidePersistor');\n\nmodule.moduleName = 'commentHidePerName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentHidePerDesc';\n\nmodule.include = [\n\t'comments',\n\t'inbox',\n];\n\nconst COLLAPSE_REASON = 'commentHidePersistor';\nconst currentId: string = (execRegexes.comments(location.pathname) || [])[2];\nconst entryStorage = Storage.wrapPrefix('commentHidePersistor.', (): {\n\tupdateTime: number,\n\tcollapsedThings?: { [fullName: string]: boolean },\n} => ({\n\tupdateTime: Date.now(),\n}));\nconst initial = currentId && entryStorage.get(currentId);\n\nmodule.beforeLoad = async () => {\n\tconst { collapsedThings } = await initial || {};\n\tif (!collapsedThings) return;\n\n\twatchForThings(['comment'], thing => {\n\t\tif (collapsedThings.hasOwnProperty(thing.getFullname())) thing.setCommentCollapse(true, COLLAPSE_REASON);\n\t}, { immediate: true });\n};\n\nmodule.contentStart = () => {\n\tlistenToCommentCollapse();\n\n\tmaybePruneOldEntries('commentHidePersistor', entryStorage);\n};\n\nfunction listenToCommentCollapse() {\n\t$(document.body).on('click', 'a.expand', (e: MouseEvent) => {\n\t\tconst thing = Thing.checkedFrom(e.currentTarget);\n\t\tconst collapsed = thing.isCollapsed();\n\n\t\tif (collapsed) {\n\t\t\t// Ignore if some automatic function (e.g. filters) caused this to collapse\n\t\t\tconst currentCollapseReason = e.currentTarget.getAttribute('collapse-reason');\n\t\t\tif (currentCollapseReason && currentCollapseReason !== COLLAPSE_REASON) return;\n\n\t\t\tentryStorage.patch(currentId, { collapsedThings: { [thing.getFullname()]: true }, updateTime: Date.now() });\n\t\t} else {\n\t\t\te.currentTarget.removeAttribute('collapse-reason');\n\t\t\tentryStorage.deletePath(currentId, 'collapsedThings', thing.getFullname());\n\t\t}\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { markdown, markdownWiki } from 'snudown-js';\nimport { Module } from '../core/module';\nimport type { RedditStylesheet } from '../types/reddit';\nimport { ajax } from '../environment';\nimport * as Modules from '../core/modules';\nimport {\n\tNAMED_KEYS,\n\tcheckKeysForEvent,\n\tcurrentSubreddit,\n\tdowncast,\n\tisPageType,\n\tpreventCloning,\n\tstring,\n\tempty,\n} from '../utils';\nimport * as CommentTools from './commentTools';\nimport * as KeyboardNav from './keyboardNav';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('commentPreview');\n\nmodule.moduleName = 'commentPrevName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentPrevDesc';\nmodule.options = {\n\tenableBigEditor: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableBigEditorDesc',\n\t\ttitle: 'commentPreviewEnableBigEditorTitle',\n\t},\n\tswapBigEditorLayout: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentPreviewSwapBigEditorLayoutDesc',\n\t\ttitle: 'commentPreviewSwapBigEditorLayoutTitle',\n\t\tbodyClass: true,\n\t},\n\topenBigEditor: {\n\t\ttype: 'keycode',\n\t\tvalue: [69, false, true, false, false], // control-e\n\t\tdescription: 'commentPreviewOpenBigEditorDesc',\n\t\ttitle: 'commentPreviewOpenBigEditorTitle',\n\t},\n\tdraftStyle: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewDraftStyleDesc',\n\t\ttitle: 'commentPreviewDraftStyleTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tenableForComments: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForCommentsDesc',\n\t\ttitle: 'commentPreviewEnableForCommentsTitle',\n\t\tadvanced: true,\n\t},\n\tenableForPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForPostsDesc',\n\t\ttitle: 'commentPreviewEnableForPostsTitle',\n\t\tadvanced: true,\n\t},\n\tenableForWiki: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForWikiDesc',\n\t\ttitle: 'commentPreviewEnableForWikiTitle',\n\t\tadvanced: true,\n\t},\n\tenableForSubredditConfig: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForSubredditConfigDesc',\n\t\ttitle: 'commentPreviewEnableForSubredditConfigTitle',\n\t\tadvanced: true,\n\t},\n\tenableForBanMessages: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForBanMessagesDesc',\n\t\ttitle: 'commentPreviewEnableForBanMessagesTitle',\n\t\tadvanced: true,\n\t},\n\tsidebarPreview: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewSidebarPreviewDesc',\n\t\ttitle: 'commentPreviewSidebarPreviewTitle',\n\t\tadvanced: true,\n\t},\n};\nmodule.include = [\n\t'comments',\n\t'inbox',\n\t'submit',\n\t'profile',\n\t'modqueue',\n\t'subredditAbout',\n\t'wiki',\n];\nmodule.exclude = [\n\t'd2x',\n\t/^\\/(?:r\\/[\\-\\w\\.]+\\/)?wiki\\/edit\\/config\\/automoderator\\b/i,\n];\n\nconst subredditImages = new Map();\nlet isWiki, isBan;\n\nmodule.beforeLoad = () => {\n\tisWiki = isPageType('wiki');\n\tisBan = (/^https?:\\/\\/(?:[\\-\\w\\.]+\\.)?reddit\\.com\\/r\\/[\\-\\w\\.]+\\/about\\/banned/i).test(location.href);\n\n\tconst subreddit = currentSubreddit();\n\tif (isWiki && subreddit) initWikiImages(subreddit);\n};\n\nmodule.contentStart = () => {\n\tif (module.options.enableBigEditor.value) {\n\t\t$(document.body).on('click', '.RESBigEditorPop', showBigEditor);\n\n\t\tif (Modules.isRunning(KeyboardNav)) {\n\t\t\t$(document.body).on('keydown', '.usertext-edit textarea, #wiki_page_content', (e: KeyboardEvent) => {\n\t\t\t\tif (checkKeysForEvent(e, module.options.openBigEditor.value)) {\n\t\t\t\t\tshowBigEditor(e);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tif (isWiki) {\n\t\tattachWikiPreview();\n\t\taddBigEditorButton(document.querySelector('.markhelp'));\n\t} else {\n\t\t$(document.body).on('focus', CommentTools.commentTextareaSelector, e => {\n\t\t\taddBigEditorButton(e.currentTarget);\n\t\t\tattachPreview(e.currentTarget);\n\t\t});\n\t}\n};\n\nasync function initWikiImages(subreddit) {\n\tconst { data } = (await ajax({\n\t\turl: `/r/${subreddit}/about/stylesheet.json`,\n\t\ttype: 'json',\n\t}): RedditStylesheet);\n\n\tif (data && data.images) {\n\t\tfor (const { name, url } of data.images) {\n\t\t\tsubredditImages.set(name, url);\n\t\t}\n\t}\n}\n\nfunction markdownToHTML(md) {\n\tif (isBan && md.length) {\n\t\tmd = generateBanMessage(md, currentSubreddit() || '');\n\t}\n\n\tif (!isWiki) {\n\t\treturn markdown(md);\n\t} else {\n\t\t/*\n\t\t<s>Snudown, and therefore SnuOwnd, is a bit funny about how it generates its table of contents entries.\n\t\tTo when it encounters a header it tries to perform some of the usual inline formatting such as emphasis, strikethoughs, or superscript in headers. The text containing generated HTML then gets passed into cb_toc_header which escapes all of the passed HTML. When reddit gets it escaped tags are stripped.\n\n\t\tIt would be nicer if they just used different functions for rendering the emphasis when making headers.</s>\n\n\t\tIt seems that my understanding was wrong, for some reason reddit doesn't even use snudown's TOC renderer.\n\t\t*/\n\n\t\t// SnuOwnd created this HTML from markdown so it is safe.\n\t\tconst $doc = $('<body>').html(markdownWiki(md));\n\n\t\tfor (const img: HTMLImageElement of ($doc.find('img'): any)) {\n\t\t\tconst src = img.getAttribute('src');\n\t\t\tconst imgKey = src && src.startsWith('%%') && src.endsWith('%%') && src.slice('%%'.length, -'%%'.length);\n\t\t\tconst resolvedSrc = imgKey && subredditImages.get(imgKey);\n\n\t\t\tif (resolvedSrc) {\n\t\t\t\t// convert %%subredditImages%% to their resolved URLs\n\t\t\t\timg.src = resolvedSrc;\n\t\t\t} else {\n\t\t\t\t// remove external/unresolved images\n\t\t\t\timg.remove();\n\t\t\t}\n\t\t}\n\n\t\tconst headerIds = new Map();\n\t\tconst headers = $doc.find('h1, h2, h3, h4, h5, h6');\n\t\tconst tocDiv = $('<div>').addClass('toc');\n\t\tlet $parent = $('<ul>');\n\t\t$parent.data('level', 1);\n\t\ttocDiv.append($parent);\n\t\tlet level = 1;\n\t\tlet previous = 1;\n\t\tconst prefix = 'wiki';\n\t\theaders.each(function() {\n\t\t\tconst contents = $(this).text();\n\t\t\tlet aid = $('<div>').html(contents).text();\n\t\t\taid = `${prefix}_${aid.replace(/ /g, '_').toLowerCase()}`;\n\t\t\taid = aid.replace(/[^\\w\\.\\-]/g, s => `.${s.charCodeAt(0).toString(16).toUpperCase()}`);\n\t\t\tconst idNum = (headerIds.get(aid) || 0) + 1;\n\t\t\theaderIds.set(aid, idNum);\n\n\t\t\tif (idNum > 1) {\n\t\t\t\taid += idNum;\n\t\t\t}\n\n\t\t\t$(this).attr('id', aid);\n\n\t\t\tconst li = $('<li>').addClass(aid);\n\t\t\tconst a = $('<a>').attr('href', `#${aid}`).text(contents);\n\t\t\tli.append(a);\n\n\t\t\tconst thisLevel = +this.tagName.slice(-1);\n\t\t\tif (thisLevel > previous) {\n\t\t\t\tconst $newUL = $('<ul>');\n\t\t\t\t$newUL.data('level', thisLevel);\n\t\t\t\t$parent.append($newUL);\n\t\t\t\t$parent = $newUL;\n\t\t\t\tlevel++;\n\t\t\t} else if (thisLevel < previous) {\n\t\t\t\twhile (level > 1 && $parent.data('level') > thisLevel) {\n\t\t\t\t\t$parent = $parent.parent();\n\t\t\t\t\tlevel--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevious = thisLevel;\n\t\t\t$parent.append(li);\n\t\t});\n\t\t$doc.prepend(tocDiv);\n\t\treturn $doc.html();\n\t}\n}\n\nconst addBigEditorButton = _.memoize(ele => {\n\tif (!module.options.enableBigEditor.value) return;\n\n\tconst bigEditorButton = preventCloning(string.html`\n\t\t<button type=\"button\" class=\"RESBigEditorPop\" tabIndex=\"3\">\n\t\t\t<span class=\"res-icon res-icon-12\">&#xF0A4;</span> big editor\n\t\t</button>\n\t`);\n\n\tif (isBan || isWiki) {\n\t\tele.after(bigEditorButton);\n\t} else {\n\t\tconst container = ele.closest('.usertext-edit');\n\t\tif (!container) return;\n\t\tconst bottom = container.querySelector('.bottom-area');\n\t\tbottom.prepend(bigEditorButton);\n\t}\n});\n\nconst attachPreview = _.memoize(textarea => {\n\tif (\n\t\t!module.options.enableForComments.value && textarea.closest('.commentarea, .message') ||\n\t\t!module.options.enableForPosts.value && (isPageType('submit') || textarea.closest('.link')) ||\n\t\t!module.options.enableForSubredditConfig.value && (/^\\/r\\/[\\-\\w.]+\\/about\\/edit/i).test(location.pathname) ||\n\t\t!module.options.enableForBanMessages.value && isBan\n\t) {\n\t\treturn;\n\t}\n\n\tconst container = textarea.closest('.usertext-edit, #banned');\n\tif (!container) return;\n\n\tconst preview = preventCloning(makePreviewBox());\n\n\tconst elements = [preview.querySelector('.RESDialogContents')];\n\tif (module.options.sidebarPreview.value && textarea.getAttribute('name') === 'description') {\n\t\telements.push(document.querySelector('.side .usertext-body .md'));\n\t}\n\n\t$(textarea).on('input', _.debounce(() => onTextareaInput(textarea, preview, elements), 100));\n\n\t// trigger initial render in case the textarea already has text in it\n\t// e.g. if it was copied from the top-level textarea into a comment reply\n\tonTextareaInput(textarea, preview, elements);\n\n\t// Close on submit\n\t$(textarea.closest('form')).on('submit', () => {\n\t\tpreview.remove();\n\t});\n\n\tcontainer.append(preview);\n});\n\nfunction attachWikiPreview() {\n\tif (!module.options.enableForWiki.value) return;\n\n\tconst preview = makePreviewBox();\n\tpreview.querySelector('.md').classList.add('wiki');\n\tdocument.querySelector('#editform > br').after(preview);\n\tconst contents = preview.querySelector('.RESDialogContents');\n\n\t$('#wiki_page_content').on('input focus', _.debounce(e => onTextareaInput(e.currentTarget, preview, [contents]), 100));\n}\n\nfunction onTextareaInput(textarea, preview, elements) {\n\tconst markdownText = downcast(textarea, HTMLTextAreaElement).value;\n\n\tif (markdownText.length) {\n\t\tif (preview) preview.hidden = false;\n\t\t// SnuOwnd created this HTML from markdown so it is safe.\n\t\tfor (const ele of elements) ele.innerHTML = markdownToHTML(markdownText);\n\t} else {\n\t\tif (preview) preview.hidden = true;\n\t\tfor (const ele of elements) empty(ele);\n\t}\n}\n\nfunction makePreviewBox() {\n\treturn string.html`\n\t\t<div class=\"RESDialogSmall livePreview\">\n\t\t\t<h3>Live Preview</h3>\n\t\t\t${string.safe(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))}\n\t\t\t<div class=\"md RESDialogContents\"></div>\n\t\t</div>\n\t`;\n}\n\nconst createBigEditor = _.once(() => {\n\tconst $editor = $('<div id=\"BigEditor\">');\n\tconst $left = $('<div class=\"BELeft RESDialogSmall\"><h3>Editor</h3></div>');\n\tconst $contents = $('<div class=\"RESDialogContents\"><textarea id=\"BigText\" name=\"text\" class=\"\"></textarea></div>');\n\tconst $textarea = $contents.find('textarea');\n\tconst $foot = $('<div class=\"BEFoot\">');\n\tif (!isBan) {\n\t\t$foot.append($('<button type=\"button\">save</button>').on('click', () => {\n\t\t\tconst len = $textarea.val().length;\n\t\t\tconst max = $textarea.data('max-length');\n\t\t\tif (len > max) {\n\t\t\t\t$('#BigEditor .errorList .error').hide().filter('.TOO_LONG').text(`this is too long (max: ${max})`).show();\n\t\t\t} else if (len === 0) {\n\t\t\t\t$('#BigEditor .errorList .error').hide().filter('.NO_TEXT').show();\n\t\t\t} else {\n\t\t\t\thideBigEditor(true);\n\t\t\t}\n\t\t}));\n\t}\n\t$foot.append($('<button type=\"button\">close</button>').on('click', () => hideBigEditor()));\n\n\t$foot.append($(`\n\t\t<span class=\"errorList\">\n\t\t\t<span style=\"display: none;\" class=\"error NO_TEXT\">we need something here</span>\n\t\t\t<span style=\"display: none;\" class=\"error TOO_LONG\">this is too long (max: 10000)</span>\n\t\t</span>\n\t`));\n\n\t$contents.append($foot);\n\t$left.append($contents);\n\n\tconst $right = $(`\n\t\t<div class=\"BERight RESDialogSmall\"><h3>Preview</h3><div class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t<div class=\"RESDialogContents\"><div id=\"BigPreview\" class=\" md\"></div></div></div>\n\t`);\n\t$editor.append($left).append($right);\n\n\t$right.find('.RESCloseButton').on('click', () => hideBigEditor());\n\n\tconst $preview = $right.find('#BigPreview');\n\t$textarea.on('input', _.debounce(() => onTextareaInput($textarea.get(0), null, [$preview.get(0)]), 100));\n\n\t$editor.on('keydown', (e: KeyboardEvent) => {\n\t\t// Close big editor on escape\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\thideBigEditor();\n\t\t\te.preventDefault();\n\t\t\treturn false;\n\t\t}\n\t});\n\n\treturn $editor;\n});\n\nlet $bigTextTarget;\n\nfunction showBigEditor(e: Event) {\n\te.preventDefault();\n\tconst $editor = createBigEditor();\n\t$(document.body)\n\t\t.append($editor)\n\t\t.addClass('RESScrollLock');\n\tconst $textarea = $editor.find('textarea');\n\tlet $baseText;\n\tif (!isWiki && !isBan) {\n\t\t$baseText = $(e.currentTarget).parents('.usertext-edit:first').find('textarea');\n\n\t\tconst limit = $baseText.attr('data-limit');\n\t\t$textarea.attr('data-limit', limit);\n\t\t$('#BigPreview').removeClass('wiki');\n\t\t$('.BERight .RESDialogContents').removeClass('wiki-page-content');\n\t} else if (isBan) {\n\t\t$baseText = $('#ban_message');\n\n\t\tconst limit = $baseText.attr('data-limit');\n\t\t$textarea.attr('data-limit', limit);\n\t\t$('#BigPreview').removeClass('wiki');\n\t\t$('.BERight .RESDialogContents').removeClass('wiki-page-content');\n\t} else {\n\t\t$baseText = $('#wiki_page_content');\n\t\t$('#BigPreview').addClass('wiki');\n\t\t$('.BERight .RESDialogContents').addClass('wiki-page-content');\n\t}\n\n\tconst markdown = $baseText.val();\n\tconst maxLength = $baseText.data('max-length');\n\t$textarea.data('max-length', maxLength).val(markdown).focus();\n\t$bigTextTarget = $baseText;\n\t$textarea.get(0).dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n}\n\nfunction hideBigEditor(save: boolean = false) {\n\tif (!$bigTextTarget) throw new Error();\n\n\tconst $editor = createBigEditor();\n\tconst $textarea = $editor.find('textarea');\n\n\t$bigTextTarget.val($textarea.val());\n\t$bigTextTarget.get(0).dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\n\tif (save) {\n\t\t$bigTextTarget.closest('form').find('input[type=submit], button[type=submit]').click();\n\t} else {\n\t\t$bigTextTarget.focus();\n\t}\n\n\t// Use native remove method to prevent JQuery discarding event listeners\n\t$editor.get(0).remove();\n\t$(document.body).removeClass('RESScrollLock');\n\n\t$bigTextTarget = null;\n}\n\nfunction generateBanMessage(message, subreddit) {\n\treturn [\n\t\t`you have been banned from posting to [/r/${subreddit}](/r/${subreddit}).`,\n\t\t'',\n\t\t'note from the moderators:',\n\t\t'',\n\t\tmessage.replace(/^/gm, '> '),\n\t\t'',\n\t\t'you can contact the moderators regarding your ban by replying to this message. **warning**: using other accounts to circumvent a subreddit ban is considered a violation of reddit\\'s [site rules](/rules) and can result in being banned from reddit entirely.',\n\t].join('\\r\\n');\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tclick,\n\tThing,\n\tSelectedThing,\n\taddCSS,\n} from '../utils';\n\nexport const module: Module<*> = new Module('commentQuickCollapse');\n\nmodule.moduleName = 'commentQuickCollapseName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentQuickCollapseDesc';\n\nmodule.options = {\n\thideCommentsOnHeaderDoubleClick: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'hideCommentsOnHeaderDoubleClickDesc',\n\t\ttitle: 'hideCommentsOnHeaderDoubleClickTitle',\n\t},\n\ttoggleCommentsOnClickLeftEdge: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdescription: 'toggleCommentsOnClickLeftEdgeDesc',\n\t\ttitle: 'toggleCommentsOnClickLeftEdgeTitle',\n\t},\n\tleftEdgeColor: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'color',\n\t\tvalue: '#D1D1D1',\n\t\tdescription: 'toggleCommentsLeftEdgeColorDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeColorTitle',\n\t},\n\tleftEdgeHoverColor: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'color',\n\t\tvalue: '#B1B1B1',\n\t\tdescription: 'toggleCommentsLeftEdgeHoverColorDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeHoverColorTitle',\n\t},\n\tleftEdgeCollapsedColor: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'color',\n\t\tvalue: '#B1B1B1',\n\t\tdescription: 'toggleCommentsLeftEdgeCollapsedColorDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeCollapsedColorTitle',\n\t},\n\tleftEdgeWidth: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'text',\n\t\tvalue: '50',\n\t\tdescription: 'toggleCommentsLeftEdgeWidthDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeWidthTitle',\n\t},\n\thideCollapseButton: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdescription: 'toggleCommentsLeftEdgeHideButtonDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeHideButtonTitle',\n\t},\n\tscrollOnCollapse: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'scrollOnCollapseDesc',\n\t\ttitle: 'scrollOnCollapseTitle',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n];\n\nmodule.beforeLoad = () => {\n\tif (module.options.toggleCommentsOnClickLeftEdge.value) {\n\t\ttoggleCommentsOnClickLeftEdge();\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.hideCommentsOnHeaderDoubleClick.value) {\n\t\thideCommentsOnHeaderDoubleClick();\n\t}\n\tif (module.options.scrollOnCollapse.value) {\n\t\tscrollOnCollapse();\n\t}\n};\n\nfunction hideCommentsOnHeaderDoubleClick() {\n\t$('.commentarea').on('dblclick', '.tagline', (e: Event) => {\n\t\tconst thing = Thing.checkedFrom(e.currentTarget);\n\t\tthing.setCommentCollapse(!thing.isCollapsed(), 'commentQuickCollapse');\n\n\t\t// since the browser will select the whole comment exchange\n\t\t// on a double click, we manually deselect it\n\t\tif (window.getSelection()) {\n\t\t\twindow.getSelection().removeAllRanges();\n\t\t}\n\t});\n}\n\nfunction toggleCommentsOnClickLeftEdge() {\n\tconst leftEdgeWidth = _.clamp(parseInt(module.options.leftEdgeWidth.value, 10), 0, parseInt((module.options.leftEdgeWidth: any).default, 10)) / 100;\n\n\taddCSS(`\n\t\t.commentarea .comment {\n\t\t\tpadding-left: ${2.5 * leftEdgeWidth}em !important;\n\t\t}\n\n\t\t.commentarea .comment > .entry > .tagline > .expand:hover {\n\t\t\tbackground-color: ${module.options.leftEdgeHoverColor.value};\n\t\t}\n\n\t\t.commentarea .entry > .tagline > .expand {\n\t\t\twidth: ${2 * leftEdgeWidth}em !important;\n\t\t\tbackground-color: ${module.options.leftEdgeColor.value};\n\t\t}\n\n\t\t.commentarea .collapsed > .entry > .tagline > .expand {\n\t\t\tbackground-color: ${module.options.leftEdgeCollapsedColor.value};\n\t\t}\n\t`);\n}\n\nfunction scrollOnCollapse() {\n\t$(document.body).on('click', '.expand', (event: MouseEvent) => {\n\t\t// avoid scrolling on programmatic events (commentHidePersistor)\n\t\tif (click.isProgrammaticEvent(event)) return;\n\n\t\tconst thing = Thing.checkedFrom(event.target);\n\t\t// don't scroll on uncollapsed comments\n\t\tif (thing.element.classList.contains('noncollapsed')) return;\n\n\t\tconst target = thing.getClosest(Thing.prototype.getNextSibling, { direction: 'down' });\n\t\tif (!target) return;\n\n\t\tSelectedThing.set(target, { scrollStyle: 'adopt', from: thing.entry });\n\t});\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport {\n\tstring,\n\twatchForRedditEvents,\n} from '../utils';\n\nexport const module: Module<*> = new Module('commentSortBy');\n\nmodule.moduleName = 'commentSortByTitle';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentSortByDesc';\nmodule.include = ['d2x'];\n\nmodule.beforeLoad = () => {\n\twatchForRedditEvents('postModTools', (element, { _: { update } }) => {\n\t\tif (update) return;\n\t\tconst _base = document.querySelector('#CommentSort--SortPicker');\n\t\tconst base = _base && _base.parentElement;\n\t\tif (!base || base.querySelector('.sortByPrefLink')) return;\n\t\tbase.append(string.html`\n\t\t\t<a\n\t\t\t\tclass=\"sortByPrefLink gearIcon\"\n\t\t\t\tstyle=\"opacity: 0.3;\"\n\t\t\t\ttitle=\"Go to comment sort preferences\"\n\t\t\t\thref=\"https://old.reddit.com/prefs/#default_comment_sort\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t>${'\\u00A0'/* nbsp */}</a>\n\t\t`);\n\t});\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { addCSS } from '../utils';\n\nexport const module: Module<*> = new Module('commentStyle');\n\nmodule.moduleName = 'commentStyleName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'commentStyleDesc';\nmodule.options = {\n\tcommentBoxes: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentStyleCommentBoxesDesc',\n\t\ttitle: 'commentStyleCommentBoxesTitle',\n\t\tbodyClass: 'res-commentBoxes',\n\t},\n\tcommentRounded: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentStyleCommentRoundedDesc',\n\t\ttitle: 'commentStyleCommentRoundedTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t\tbodyClass: 'res-commentBoxes-rounded',\n\t},\n\tcommentHoverBorder: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentStyleCommentHoverBorderDesc',\n\t\ttitle: 'commentStyleCommentHoverBorderTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t\tbodyClass: 'res-commentHoverBorder',\n\t},\n\tcommentIndent: {\n\t\ttype: 'text',\n\t\tvalue: '10',\n\t\tdescription: 'commentStyleCommentIndentDesc',\n\t\ttitle: 'commentStyleCommentIndentTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t},\n\tcontinuity: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentStyleContinuityDesc',\n\t\ttitle: 'commentStyleContinuityTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t\tbodyClass: 'res-continuity',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n\t'commentsLinklist',\n];\n\nmodule.exclude = [\n\t'd2x',\n];\n\nmodule.beforeLoad = () => {\n\tif (module.options.commentBoxes.value && module.options.commentIndent.value) {\n\t\t// this should override the default of 10px in commentboxes.css because it's added later.\n\t\taddCSS(`\n\t\t\t.res-commentBoxes .comment {\n\t\t\t\tmargin-left: ${module.options.commentIndent.value}px !important;\n\t\t\t}\n\t\t`);\n\t}\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { isPageType, string } from '../utils';\n\nexport const module: Module<*> = new Module('context');\n\nmodule.moduleName = 'contextName';\nmodule.category = 'commentsCategory';\nmodule.description = 'contextDesc';\nmodule.options = {\n\tviewFullContext: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'contextViewFullContextDesc',\n\t\ttitle: 'contextViewFullContextTitle',\n\t},\n\tdefaultContext: {\n\t\ttype: 'text',\n\t\tvalue: '3',\n\t\tdescription: 'contextDefaultContextDesc',\n\t\ttitle: 'contextDefaultContextTitle',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n\t'commentsLinklist',\n\t'inbox',\n\t'profile',\n\t'modqueue',\n];\n\nmodule.go = () => {\n\tif (isPageType('comments') && module.options.viewFullContext.value) {\n\t\taddViewFullContext();\n\t}\n\n\tconst defaultContext = parseInt(module.options.defaultContext.value, 10);\n\tif (isPageType('commentsLinklist', 'inbox', 'profile', 'modqueue') && defaultContext >= 0) {\n\t\tsetDefaultContext(defaultContext);\n\t}\n};\n\nfunction addViewFullContext() {\n\tif (location.search !== '?context=10000') {\n\t\tconst pInfobar = document.querySelector('.infobar:not(#searchexpando) p');\n\t\tif (pInfobar) {\n\t\t\t// check if there is a Parent button; if not, it's a top comment so don't show full context link\n\t\t\tif ($('.sitetable:eq(1) .buttons:first .bylink').length > 1) { // Permalink and Parent have bylink class\n\t\t\t\tpInfobar.append('\\u00A0'/* nsbp */, string.html`<a href=\"?context=10000\">view the full context</a>`, '\\u00A0');\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction setDefaultContext(contextDepth) {\n\t$(document.body).on('mousedown', 'a.bylink', (e: Event) => {\n\t\tconst target: HTMLAnchorElement = (e.currentTarget: any);\n\t\ttarget.href = target.href.replace(/(\\?|&|;)context=\\d+\\b/, `$1context=${contextDepth}`);\n\t});\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { i18n, openNewTab } from '../environment';\nimport { string } from '../utils';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('contribute');\n\nmodule.moduleName = 'contributeName';\nmodule.category = 'aboutCategory';\nmodule.sort = -9;\nmodule.alwaysEnabled = true;\nmodule.description = 'contributeDesc';\n\nmodule.contentStart = () => {\n\tMenu.addMenuItem(\n\t\t() => string.html`<span>${i18n('donateToRES')} &#8679;</span>`,\n\t\t() => { openNewTab('https://redditenhancementsuite.com/contribute/'); },\n\t);\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Sortable } from '../vendor';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tCreateElement,\n\taddDashboardTab,\n\tcurrentSubreddit,\n\tformatDateTime,\n\tisCurrentSubreddit,\n\tloggedInUser,\n\tstring,\n\tregisterPage,\n\tisAppType,\n} from '../utils';\nimport { i18n, Storage, ajax } from '../environment';\nimport * as Menu from './menu';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('dashboard');\n\nmodule.moduleName = 'dashboardName';\nmodule.category = 'productivityCategory';\nmodule.description = 'dashboardDesc';\nmodule.options = {\n\tmenuItem: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'dashboardMenuItemDesc',\n\t\ttitle: 'dashboardMenuItemTitle',\n\t},\n\tdefaultPosts: {\n\t\ttype: 'text',\n\t\tvalue: '3',\n\t\tdescription: 'dashboardDefaultPostsDesc',\n\t\ttitle: 'dashboardDefaultPostsTitle',\n\t\tadvanced: true,\n\t},\n\tdefaultSort: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'hot',\n\t\t\tvalue: 'hot',\n\t\t}, {\n\t\t\tname: 'new',\n\t\t\tvalue: 'new',\n\t\t}, {\n\t\t\tname: 'rising',\n\t\t\tvalue: 'rising',\n\t\t}, {\n\t\t\tname: 'controversial',\n\t\t\tvalue: 'controversial',\n\t\t}, {\n\t\t\tname: 'top',\n\t\t\tvalue: 'top',\n\t\t}],\n\t\tvalue: 'hot',\n\t\tdescription: 'dashboardDefaultSortDesc',\n\t\ttitle: 'dashboardDefaultSortTitle',\n\t},\n\tdefaultSortSearch: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'relevance',\n\t\t\tvalue: 'relevance',\n\t\t}, {\n\t\t\tname: 'top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'new',\n\t\t\tvalue: 'new',\n\t\t}, {\n\t\t\tname: 'comments',\n\t\t\tvalue: 'comments',\n\t\t}],\n\t\tvalue: 'relevance',\n\t\tdescription: 'dashboardDefaultSortSearchDesc',\n\t\ttitle: 'dashboardDefaultSortSearchTitle',\n\t},\n\tdashboardShortcut: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'dashboardDashboardShortcutDesc',\n\t\ttitle: 'dashboardDashboardShortcutTitle',\n\t},\n};\n\n// depends on loggedInUser; must be called after the username is available\nconst initialWidgetLoad = _.once(getLatestWidgets);\n\nmodule.beforeLoad = () => {\n\tif (module.options.menuItem.value) {\n\t\tconst dashboardUrl = isAppType('d2x') ? 'https://old.reddit.com/r/Dashboard' : '/r/Dashboard';\n\t\tMenu.addMenuItem(\n\t\t\t() => string.html`<a href=\"${dashboardUrl}\">${i18n('myDashboard')}</a>`,\n\t\t\tundefined,\n\t\t\t-7,\n\t\t);\n\t}\n};\n\nmodule.contentStart = () => {\n\taddDashboardTab('dashboardContents', 'My dashboard', module.moduleID, addDashboardFunctionality);\n\n\tconst subreddit = currentSubreddit();\n\tif (module.options.dashboardShortcut.value && subreddit) {\n\t\taddDashboardShortcuts(subreddit);\n\t}\n};\n\nconst MAX_ROWS = 100;\n\nconst dashboardStorage = Storage.wrap(() => `RESmodules.dashboard.${loggedInUser() || 'null'}`, ([]: Array<*>));\n\ntype WidgetOptions = {|\n\tbasePath: string,\n\tdisplayName?: string,\n\tnumPosts?: number,\n\tsortBy?: string,\n\tsortSearchBy?: string,\n\tminimized?: boolean,\n|};\n\nexport let widgets: Array<WidgetOptions> = [];\n\nasync function getLatestWidgets() {\n\twidgets = (await dashboardStorage.get())\n\t\t// A bug causes widgets to be inproperly saved in unknown circumstances; these must be ignored\n\t\t.filter(Boolean);\n}\n\nasync function addDashboardFunctionality(tabPage) {\n\tawait initialWidgetLoad();\n\tattachAddComponent($(tabPage));\n\tattachEditComponent();\n\tinitUpdateQueue();\n}\n\nfunction initUpdateQueue() {\n\tfor (const widget of widgets) {\n\t\tif (widget) addWidget(widget);\n\t}\n\n\tSortable.create(document.querySelector('#RESDashboard'), {\n\t\thandle: 'div.RESDashboardComponentHeader',\n\t\tonChange: () => saveOrder(),\n\t});\n}\n\nconst updateQueue = [];\nlet updateQueueTimer;\n\nfunction addToUpdateQueue(updateFunction) {\n\tupdateQueue.push(updateFunction);\n\tif (!updateQueueTimer) {\n\t\tupdateQueueTimer = setInterval(processUpdateQueue, 2000);\n\t\tsetTimeout(processUpdateQueue, 100);\n\t}\n}\n\nfunction processUpdateQueue() {\n\tconst thisUpdate = updateQueue.pop();\n\tthisUpdate();\n\tif (updateQueue.length < 1) {\n\t\tclearInterval(updateQueueTimer);\n\t\tupdateQueueTimer = undefined;\n\t}\n}\n\nfunction saveOrder() {\n\tconst data = $('#siteTable li.RESDashboardComponent').toArray().map(e => $(e).attr('id'));\n\tdata.reverse();\n\tconst newOrder = [];\n\tfor (const widget of widgets) {\n\t\tconst newIndex = data.indexOf(widget.basePath.replace(/(\\/|\\+)/g, '_'));\n\t\tnewOrder[newIndex] = widget;\n\t}\n\twidgets = newOrder;\n\tdashboardStorage.set(widgets);\n}\n\nlet widgetBeingEdited;\n\nfunction attachEditComponent() {\n\tconst $dashboardEditComponent = $('<div id=\"RESDashboardEditComponent\" class=\"RESDashboardComponent\" />');\n\t$dashboardEditComponent.html(`\n\t\t<div class=\"editWidget\">Edit widget</div>\n\t\t<div id=\"editRedditFormContainer\" class=\"editRedditForm\">\n\t\t\t<form id=\"editRedditForm\">\n\t\t\t\t<input type=\"text\" id=\"editReddit\" placeholder=\"subreddit / multireddit\">\n\t\t\t\t<input type=\"text\" id=\"editRedditDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"updateButton\" value=\"save changes\">\n\t\t\t\t<input type=\"cancel\" class=\"cancelButton\" value=\"cancel\">\n\t\t\t</form>\n\t\t\t<form id=\"editSearchForm\">\n\t\t\t\t<input type=\"text\" id=\"editSearch\" placeholder=\"search terms\">\n\t\t\t\t<input type=\"text\" id=\"editSearchDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"updateButton\" value=\"save changes\">\n\t\t\t\t<input type=\"cancel\" class=\"cancelButton\" value=\"cancel\">\n\t\t\t</form>\n\t\t</div>\n\t`);\n\n\t$dashboardEditComponent.find('#editRedditForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tlet thisBasePath = $('#editReddit').val();\n\t\tif (thisBasePath !== '') {\n\t\t\tthisBasePath = thisBasePath.replace(/,|\\s/g, '+');\n\t\t\twidgetBeingEdited.formerBasePath = widgetBeingEdited.basePath;\n\t\t\twidgetBeingEdited.basePath = `/r/${thisBasePath}`;\n\t\t\twidgetBeingEdited.displayName = $('#editRedditDisplayName').val();\n\t\t\twidgetBeingEdited.update();\n\t\t\t$('#RESDashboardEditComponent').fadeOut(() => $('#editReddit').blur());\n\t\t\twidgetBeingEdited.widgetEle.find('.widgetPath').text(widgetBeingEdited.displayName).attr('title', `/r/${thisBasePath}`);\n\t\t\tupdateWidget();\n\t\t}\n\t});\n\t$dashboardEditComponent.find('#editSearchForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tconst thisBasePath = $('#editSearch').val();\n\t\twidgetBeingEdited.formerBasePath = widgetBeingEdited.basePath;\n\t\twidgetBeingEdited.basePath = string.encode`/search?q=${thisBasePath}`;\n\t\twidgetBeingEdited.displayName = $('#editSearchDisplayName').val();\n\t\twidgetBeingEdited.update();\n\t\t$('#RESDashboardEditComponent').fadeOut(() => {\n\t\t\t$('#editSearch').val('').blur();\n\t\t\t$('#editSearchDisplayName').val('').blur();\n\t\t});\n\t\twidgetBeingEdited.widgetEle.find('.widgetPath').text(widgetBeingEdited.displayName).attr('title', thisBasePath);\n\t\tupdateWidget();\n\t});\n\t$dashboardEditComponent.find('.cancelButton').click(() => {\n\t\tif (widgetBeingEdited.basePath.startsWith('/search?q=')) {\n\t\t\t$('#RESDashboardEditComponent').fadeOut(() => $('#editSearchDisplayName').val('').blur());\n\t\t} else {\n\t\t\t$('#RESDashboardEditComponent').fadeOut(() => $('#editReddit').blur());\n\t\t}\n\t});\n\t$(document.body).append($dashboardEditComponent);\n}\n\nfunction showEditForm() {\n\tconst basePath = widgetBeingEdited.basePath;\n\tconst widgetEle = widgetBeingEdited.widgetEle;\n\tconst eleTop = $(widgetEle).position().top;\n\tconst eleWidth = $(widgetEle).width();\n\t$('#RESDashboardEditComponent').css('top', `${eleTop}px`).css('left', '5px').css('width', `${eleWidth + 2}px`);\n\tif (basePath.startsWith('/search?q=')) {\n\t\t$('#editSearchDisplayName').val(widgetBeingEdited.displayName);\n\t\t$('#editSearch').val(decodeURIComponent(basePath.substr(10)));\n\t\t$('#editSearchForm').show();\n\t\t$('#editRedditForm').hide();\n\t\t$('#RESDashboardEditComponent').fadeIn('fast');\n\t} else {\n\t\t$('#editReddit').val(widgetBeingEdited.basePath.substr(3));\n\t\t$('#editRedditDisplayName').val(widgetBeingEdited.displayName);\n\t\t$('#editRedditForm').show();\n\t\t$('#editSearchForm').hide();\n\t\t$('#RESDashboardEditComponent').fadeIn('fast');\n\t}\n}\n\nlet $dashboardUL;\n\nfunction attachAddComponent($tabPage) {\n\tconst $dashboardAddComponent = $('<div id=\"RESDashboardAddComponent\" class=\"RESDashboardComponent\" />');\n\t$dashboardAddComponent.html(`\n\t\t<div class=\"addNewWidget\">Add a new widget</div>\n\t\t<div id=\"addWidgetButtons\">\n\t\t\t<div class=\"addButton\" id=\"addSearchWidget\">+search widget</div>\n\t\t\t<div class=\"addButton\" id=\"addMailWidget\">+mail widget</div>\n\t\t\t<div class=\"addButton\" id=\"addUserWidget\">+user widget</div>\n\t\t\t<div class=\"addButton\" id=\"addRedditWidget\">+subreddit widget</div>\n\t\t</div>\n\t\t<div id=\"addSearchFormContainer\" class=\"addSearchForm\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<form id=\"addSearchForm\">\n\t\t\t\t<input type=\"text\" id=\"addSearch\" placeholder=\"search terms\">\n\t\t\t\t<input type=\"text\" id=\"addSearchDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"addButton\" value=\"+add\">\n\t\t\t</form>\n\t\t</div>\n\t\t<div id=\"addMailWidgetContainer\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/inbox/\">+inbox</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/unread/\">+unread</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/messages/\">+messages</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/comments/\">+comment replies</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/selfreply/\">+post replies</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/moderator/\">+modmail</div>\n\t\t</div>\n\t\t<div id=\"addUserFormContainer\" class=\"addUserForm\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<form id=\"addUserForm\">\n\t\t\t\t<input type=\"text\" id=\"addUser\">\n\t\t\t\t<input type=\"submit\" class=\"addButton\" value=\"+add\">\n\t\t\t</form>\n\t\t</div>\n\t\t<div id=\"addRedditFormContainer\" class=\"addRedditForm\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<form id=\"addRedditForm\">\n\t\t\t\t<input type=\"text\" id=\"addReddit\" placeholder=\"subreddit / multireddit\">\n\t\t\t\t<input type=\"text\" id=\"addRedditDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"addButton\" value=\"+add\">\n\t\t\t</form>\n\t\t</div>\n\t`);\n\t$dashboardAddComponent.find('.backToWidgetTypes').click(function() {\n\t\t$(this).parent().fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardAddComponent.find('.widgetShortcut').click(function() {\n\t\tconst thisBasePath = $(this).attr('widgetPath');\n\t\taddWidget({\n\t\t\tbasePath: thisBasePath,\n\t\t}, true);\n\t\t$('#addMailWidgetContainer').fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addRedditWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => {\n\t\t\t$('#addRedditFormContainer').fadeIn(() => {\n\t\t\t\t$('#token-input-addReddit').focus();\n\t\t\t});\n\t\t});\n\t});\n\t$dashboardAddComponent.find('#addMailWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => $('#addMailWidgetContainer').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addUserWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => $('#addUserFormContainer').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addSearchWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => $('#addSearchFormContainer').fadeIn());\n\t});\n\n\t$dashboardAddComponent.find('#addRedditForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tlet thisBasePath = $('#addReddit').val();\n\t\tif (thisBasePath !== '') {\n\t\t\tthisBasePath = thisBasePath.replace(/,|\\s/g, '+');\n\t\t\tconst thisDisplayName = ($('#addRedditDisplayName').val()) ? $('#addRedditDisplayName').val() : thisBasePath;\n\t\t\taddWidget({\n\t\t\t\tbasePath: thisBasePath,\n\t\t\t\tdisplayName: thisDisplayName,\n\t\t\t}, true);\n\t\t\t$('#addReddit').val('').blur();\n\t\t\t$('#addRedditFormContainer').fadeOut(() => {\n\t\t\t\t$('#addWidgetButtons').fadeIn();\n\t\t\t});\n\t\t}\n\t});\n\t$dashboardAddComponent.find('#addUserForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tconst thisBasePath = `/user/${$('#addUser').val()}`;\n\t\taddWidget({\n\t\t\tbasePath: thisBasePath,\n\t\t}, true);\n\t\t$('#addUser').val('').blur();\n\t\t$('#addUserFormContainer').fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addSearchForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tconst thisBasePath = string.encode`/search?q=${$('#addSearch').val()}`;\n\t\tconst thisDisplayName = ($('#addSearchDisplayName').val()) ? $('#addSearchDisplayName').val() : thisBasePath;\n\t\taddWidget({\n\t\t\tbasePath: thisBasePath,\n\t\t\tdisplayName: thisDisplayName,\n\t\t}, true);\n\t\t$('#addSearch').val('').blur();\n\t\t$('#addSearchFormContainer').fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardUL = $('<ul id=\"RESDashboard\"></ul>');\n\t$tabPage.append($dashboardAddComponent, $dashboardUL);\n}\n\nfunction addWidget(optionsObject: WidgetOptions, isNew) {\n\tif (!optionsObject.basePath.startsWith('/')) {\n\t\toptionsObject.basePath = `/r/${optionsObject.basePath}`;\n\t}\n\tconst exists = widgets.some(widget => widget.basePath === optionsObject.basePath);\n\t// hide any shortcut button for this widget, since it exists... wait a second, though, or it causes rendering stupidity.\n\tsetTimeout(() => {\n\t\t$(`.widgetShortcut[widgetPath=\"${optionsObject.basePath}\"]`).hide();\n\t}, 1000);\n\tif (exists && isNew) {\n\t\tAlert.open(`A widget for ${optionsObject.basePath} already exists!`);\n\t} else {\n\t\tconst thisWidget = new WidgetObject(optionsObject);\n\t\tif ($dashboardUL) thisWidget.init();\n\t\tsaveWidget(thisWidget.optionsObject());\n\t}\n}\n\nasync function removeWidget(optionsObject) {\n\tawait getLatestWidgets();\n\tlet exists;\n\twidgets = widgets.filter(widget => {\n\t\tif (widget.basePath === optionsObject.basePath) {\n\t\t\texists = true;\n\t\t\t$(document.getElementById(widget.basePath.replace(/\\/|\\+/g, '_'))).fadeOut('slow', function() {\n\t\t\t\t$(this).detach();\n\t\t\t});\n\t\t\t// show any shortcut button for this widget, since we've now deleted it...\n\t\t\tsetTimeout(() => {\n\t\t\t\t$(`.widgetShortcut[widgetPath=\"${optionsObject.basePath}\"]`).show();\n\t\t\t}, 1000);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t});\n\tif (!exists) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'dashboard',\n\t\t\tmessage: 'The widget you just tried to remove does not seem to exist.',\n\t\t});\n\t}\n\tdashboardStorage.set(widgets);\n}\n\nasync function saveWidget(optionsObject) {\n\tawait getLatestWidgets();\n\n\tlet index = widgets.findIndex(widget => widget.basePath === optionsObject.basePath);\n\n\t// update if exists else append\n\tif (index === -1) {\n\t\tindex = widgets.length;\n\t}\n\twidgets[index] = optionsObject;\n\n\tdashboardStorage.set(widgets);\n}\n\nasync function updateWidget() {\n\tawait getLatestWidgets();\n\twidgets = widgets.map(widget => {\n\t\tif (widget.basePath === widgetBeingEdited.formerBasePath) {\n\t\t\tdelete widgetBeingEdited.formerBasePath;\n\t\t\twidget = widgetBeingEdited.optionsObject();\n\t\t}\n\t\treturn widget;\n\t});\n\tdashboardStorage.set(widgets);\n}\n\nfunction WidgetObject(widgetOptions: WidgetOptions) {\n\tthis.basePath = widgetOptions.basePath;\n\tif (widgetOptions.displayName === undefined || widgetOptions.displayName === null) {\n\t\twidgetOptions.displayName = this.basePath;\n\t}\n\tthis.displayName = widgetOptions.displayName;\n\tthis.numPosts = widgetOptions.numPosts || parseInt(module.options.defaultPosts.value, 10);\n\tthis.sortBy = widgetOptions.sortBy || module.options.defaultSort.value;\n\tthis.sortSearchBy = widgetOptions.sortSearchBy || module.options.defaultSortSearch.value;\n\tthis.minimized = widgetOptions.minimized || false;\n\tthis.widgetEle = $(`\n\t\t<li class=\"RESDashboardComponent\" id=\"${this.basePath.replace(/\\/|\\+/g, '_')}\">\n\t\t\t<div class=\"RESDashboardComponentScrim\">\n\t\t\t\t<div class=\"RESDashboardComponentLoader\">\n\t\t\t\t\t<span class=\"dashboardLoader\"/><span>querying the server. one moment please.</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t`);\n\tthis.header = $(`<div class=\"RESDashboardComponentHeader\"><a class=\"widgetPath\" title=\"${this.basePath}\" href=\"${this.basePath}\"></a></div>`);\n\tthis.header.find('.widgetPath').text(this.displayName);\n\tthis.sortControls = $('<ul class=\"widgetSortButtons\"><li sort=\"hot\">hot</li><li sort=\"new\">new</li><li sort=\"rising\">rising</li><li sort=\"controversial\">controversial</li><li sort=\"top\">top</li></ul>');\n\tthis.sortSearchControls = $('<ul class=\"widgetSortButtons\"><li sort=\"relevance\">relevance</li><li sort=\"top\">top</li><li sort=\"new\">new</li><li sort=\"comments\">comments</li></ul>');\n\t// return an optionsObject, which is what we'll store in the widgets array.\n\tthis.optionsObject = () => ({\n\t\tbasePath: this.basePath,\n\t\tdisplayName: this.displayName,\n\t\tnumPosts: this.numPosts,\n\t\tsortBy: this.sortBy,\n\t\tsortSearchBy: this.sortSearchBy,\n\t\tminimized: this.minimized,\n\t});\n\t// set the sort by properly...\n\t$(this.sortControls).find(`li[sort=${this.sortBy}]`).addClass('active');\n\t$(this.sortControls).find('li').click(e => {\n\t\tthis.sortChange($(e.currentTarget).attr('sort'));\n\t});\n\t$(this.sortSearchControls).find(`li[sort=${this.sortSearchBy}]`).addClass('active');\n\t$(this.sortSearchControls).find('li').click(e => {\n\t\tthis.sortChange($(e.currentTarget).attr('sort'));\n\t});\n\t$(this.header).append(this.sortControls);\n\tif (!this.basePath.startsWith('/r/') && !this.basePath.startsWith('/user/')) {\n\t\tsetTimeout(() => $(this.sortControls).hide(), 100);\n\t}\n\t$(this.header).append(this.sortSearchControls);\n\tif (!this.basePath.startsWith('/search?q=')) {\n\t\tsetTimeout(() => $(this.sortSearchControls).hide(), 100);\n\t}\n\tthis.stateControls = $('<ul class=\"widgetStateButtons\"><li class=\"updateTime\"></li><li action=\"refresh\" class=\"refresh\"><span class=\"res-icon\">&#xF0B0;</span></li><li action=\"refreshAll\" class=\"refreshAll\">Refresh All</li><li action=\"addRow\">+row</li><li action=\"subRow\">-row</li><li action=\"edit\" class=\"editButton\"><span class=\"res-icon\">&#xF139;</span></li><li action=\"minimize\" class=\"minimize\">-</li><li action=\"delete\" class=\"RESClose\">&times;</li></ul>');\n\t$(this.stateControls).find('li').click(e => {\n\t\tswitch ($(e.currentTarget).attr('action')) {\n\t\t\tcase 'refresh':\n\t\t\t\tthis.update();\n\t\t\t\tbreak;\n\t\t\tcase 'refreshAll':\n\t\t\t\t$('li[action=\"refresh\"]').click();\n\t\t\t\tbreak;\n\t\t\tcase 'addRow':\n\t\t\t\tif (this.numPosts === MAX_ROWS) break;\n\t\t\t\tthis.numPosts++;\n\t\t\t\tif (this.numPosts === MAX_ROWS) $(this.stateControls).find('li[action=addRow]').addClass('disabled');\n\t\t\t\t$(this.stateControls).find('li[action=subRow]').removeClass('disabled');\n\t\t\t\tsaveWidget(this.optionsObject());\n\t\t\t\tthis.update();\n\t\t\t\tbreak;\n\t\t\tcase 'subRow':\n\t\t\t\tif (this.numPosts === 0) break;\n\t\t\t\tthis.numPosts--;\n\t\t\t\tif (this.numPosts === 1) $(this.stateControls).find('li[action=subRow]').addClass('disabled');\n\t\t\t\t$(this.stateControls).find('li[action=addRow]').removeClass('disabled');\n\t\t\t\tsaveWidget(this.optionsObject());\n\t\t\t\tthis.update();\n\t\t\t\tbreak;\n\t\t\tcase 'minimize':\n\t\t\t\t$(this.widgetEle).toggleClass('minimized');\n\t\t\t\tif ($(this.widgetEle).hasClass('minimized')) {\n\t\t\t\t\t$(e.currentTarget).text('+');\n\t\t\t\t\tthis.minimized = true;\n\t\t\t\t} else {\n\t\t\t\t\t$(e.currentTarget).text('-');\n\t\t\t\t\tthis.minimized = false;\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t\t$(this.contents).parent().slideToggle();\n\t\t\t\tsaveWidget(this.optionsObject());\n\t\t\t\tbreak;\n\t\t\tcase 'delete':\n\t\t\t\tremoveWidget(this.optionsObject());\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t$(this.header).append(this.stateControls);\n\tthis.sortChange = sortBy => {\n\t\tthis.sortBy = sortBy;\n\t\tthis.sortSearchBy = sortBy;\n\t\t$(this.header).find('ul.widgetSortButtons li').removeClass('active');\n\t\t$(this.header).find(`ul.widgetSortButtons li[sort=${sortBy}]`).addClass('active');\n\t\tthis.update();\n\t\tsaveWidget(this.optionsObject());\n\t};\n\tthis.edit = () => {\n\t\twidgetBeingEdited = this; // eslint-disable-line consistent-this\n\t\tshowEditForm();\n\t};\n\t$(this.header).find('.editButton').click(this.edit);\n\tthis.update = () => {\n\t\tif (this.basePath.includes('/user/')) {\n\t\t\tthis.sortPath = (this.sortBy === 'hot') ? '/' : `?sort=${this.sortBy}`;\n\t\t} else if (this.basePath.includes('/r/')) {\n\t\t\tthis.sortPath = (this.sortBy === 'hot') ? '/' : `/${this.sortBy}/`;\n\t\t} else if (this.basePath.includes('/search?q=')) {\n\t\t\tthis.sortPath = `&sort=${this.sortSearchBy}`;\n\t\t} else {\n\t\t\tthis.sortPath = '';\n\t\t}\n\t\tthis.url = new URL(`${this.basePath}${this.sortPath}`, location.origin).href;\n\t\t$(this.contents).fadeTo('fast', 0.25);\n\t\t$(this.scrim).fadeIn();\n\n\t\tajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url,\n\t\t\tquery: {\n\t\t\t\tlimit: this.numPosts,\n\t\t\t},\n\t\t})\n\t\t\t.then(this.populate)\n\t\t\t.catch(this.error);\n\t};\n\tthis.container = $('<div class=\"RESDashboardComponentContainer\"><div class=\"RESDashboardComponentContents\"></div></div>');\n\tif (this.minimized) {\n\t\t$(this.container).addClass('minimized');\n\t\t$(this.stateControls).find('li.minimize').addClass('minimized').text('+');\n\t}\n\tthis.scrim = $(this.widgetEle).find('.RESDashboardComponentScrim');\n\tthis.contents = $(this.container).find('.RESDashboardComponentContents');\n\tthis.init = () => {\n\t\tthis.draw();\n\t\tif (!this.minimized) addToUpdateQueue(this.update);\n\t};\n\tthis.draw = () => {\n\t\t$(this.widgetEle).append(this.header);\n\t\t$(this.widgetEle).append(this.container);\n\t\tif (this.minimized) $(this.widgetEle).addClass('minimized');\n\t\t$dashboardUL.prepend(this.widgetEle);\n\t\t// $(thisWidget.scrim).fadeIn();\n\t};\n\tthis.populate = response => {\n\t\tlet $widgetContent = $(response).find('#siteTable, .search-result-group>.contents:last');\n\t\tconst $thisWidgetContents = $(this.contents);\n\n\t\t$widgetContent.attr('id', `siteTable_${this.basePath.replace(/\\/|\\+/g, '_')}`);\n\t\tif ($widgetContent.length === 2) $widgetContent = $($widgetContent[1]);\n\t\t$widgetContent.attr('url', `${this.url}?limit=${this.numPosts}`);\n\t\tif (($widgetContent.length > 0) && ($widgetContent.html() !== '')) {\n\t\t\t$widgetContent.html($widgetContent.html().replace(/<script(.|\\s)*?\\/script>/g, ''));\n\n\t\t\t// check for \"no results\"\n\t\t\tconst $noResults = $widgetContent.find('#noresults.error');\n\t\t\tif ($noResults.length) {\n\t\t\t\t$widgetContent.html('<span class=\"error\">No results found for this widget. Some sort methods, such as rising, may not always have results. Please try a different method.</span>');\n\t\t\t}\n\n\t\t\t// $widgetContent will contain HTML from Reddit's page load. No XSS here or you'd already be hit, can't call escapeHTML on this either and wouldn't help anyhow.\n\t\t\ttry {\n\t\t\t\t$thisWidgetContents.empty().append($widgetContent);\n\t\t\t} catch (e) {\n\t\t\t\t// console.log(e);\n\t\t\t}\n\n\t\t\t$thisWidgetContents.fadeTo('fast', 1);\n\t\t\t$(this.scrim).fadeOut(function() {\n\t\t\t\t$(this).hide(); // make sure it is hidden in case the element isn't visible due to being on a different dashboard tab\n\t\t\t});\n\t\t} else {\n\t\t\tif (this.url.includes('/message/')) {\n\t\t\t\t$thisWidgetContents.html('<div class=\"widgetNoMail\">No messages were found.</div>');\n\t\t\t} else {\n\t\t\t\t$thisWidgetContents.html('<div class=\"error\">There were no results returned for this widget. If you made a typo, simply close the widget to delete it. If reddit is just under heavy load, try clicking refresh in a few moments.</div>');\n\t\t\t}\n\t\t\t$thisWidgetContents.fadeTo('fast', 1);\n\t\t\t$(this.scrim).fadeOut();\n\t\t}\n\t\t$(this.stateControls).find('.updateTime').text(`updated: ${formatDateTime()}`);\n\n\t\t// now run watcher functions from other modules on this content...\n\t\tif ($widgetContent[0]) {\n\t\t\tregisterPage($widgetContent[0]);\n\t\t}\n\t};\n\tthis.error = e => {\n\t\tif (e.status === 404) {\n\t\t\t$(this.contents).html('<div class=\"error\">This widget received a 404 not found error. You may have made a typo when adding it.</div>');\n\t\t} else {\n\t\t\t$(this.contents).html('<div class=\"error\">There was an error loading data for this widget. Reddit may be under heavy load, or you may have provided an invalid path.</div>');\n\t\t}\n\t\t$(this.scrim).fadeOut();\n\t\t$(this.contents).fadeTo('fast', 1);\n\t};\n}\n\nfunction addDashboardShortcuts(subreddit) {\n\tconst subButtons = document.querySelectorAll('.side .fancy-toggle-button');\n\tfor (const subButton of subButtons) {\n\t\tlet isMulti, thisSubredditFragment;\n\t\tif (!subreddit.includes('+') && !isCurrentSubreddit('mod')) {\n\t\t\tisMulti = false;\n\t\t\tthisSubredditFragment = subreddit;\n\t\t} else if ($(subButton).parent().hasClass('subButtons')) {\n\t\t\tisMulti = true;\n\t\t\tthisSubredditFragment = $(subButton).parent().parent().find('a.title').text();\n\t\t} else {\n\t\t\tisMulti = true;\n\t\t\tthisSubredditFragment = $(subButton).next().text();\n\t\t}\n\t\tif ($(`#subButtons-${thisSubredditFragment}`).length === 0) {\n\t\t\tconst $subButtonsWrapper = $(`<div id=\"subButtons-${thisSubredditFragment}\" class=\"subButtons\" style=\"margin: 0 !important;\"></div>`);\n\t\t\t$(subButton).wrap($subButtonsWrapper);\n\t\t\t// move this wrapper to the end (after any icons that may exist...)\n\t\t\tif (isMulti) {\n\t\t\t\tconst theWrap = $(subButton).parent();\n\t\t\t\t$(theWrap).appendTo($(theWrap).parent());\n\t\t\t}\n\t\t}\n\t\tconst $subButtons = $(`#subButtons-${thisSubredditFragment}`);\n\t\tconst button = createSubredditToggleButton(subreddit);\n\t\tinitialWidgetLoad().then(() => button.dispatchEvent(new CustomEvent('refresh')));\n\t\tbutton.classList.add('RESDashboardToggle'); // custom subreddit styles uses this\n\t\t$subButtons.append(button);\n\t\tconst next = $subButtons.next();\n\t\tif ($(next).hasClass('title') && !$subButtons.hasClass('swapped')) {\n\t\t\t$subButtons.before($(next));\n\t\t\t$subButtons.addClass('swapped');\n\t\t}\n\t}\n}\n\nexport function createSubredditToggleButton(subreddit: string) {\n\tconst basePath = `/r/${subreddit.toLowerCase()}`;\n\n\treturn CreateElement.fancyToggleButton(\n\t\ti18n('subredditInfoAddRemoveDashboard'),\n\t\ti18n('subredditInfoAddThisSubredditToDashboard'),\n\t\t() => widgets.some(widget => widget && (widget.basePath.toLowerCase() === basePath)),\n\t\tstate => {\n\t\t\tif (state) {\n\t\t\t\taddWidget({ basePath });\n\t\t\t\tNotifications.showNotification({\n\t\t\t\t\theader: 'Dashboard Notification',\n\t\t\t\t\tmoduleID: 'dashboard',\n\t\t\t\t\tmessage: `\n\t\t\t\t\t\tDashboard widget added for ${basePath}\n\t\t\t\t\t\t<p><a class=\"RESNotificationButtonBlue\" href=\"/r/Dashboard\">view the dashboard</a></p>\n\t\t\t\t\t\t<div class=\"clear\"></div>\n\t\t\t\t\t`,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tremoveWidget({ basePath });\n\t\t\t}\n\t\t},\n\t);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { PagePhases, downcast, watchForChildren } from '../utils';\n\nexport const module: Module<*> = new Module('disableChat');\n\nmodule.moduleName = 'disableChatName';\nmodule.category = 'productivityCategory';\nmodule.description = 'disableChatDesc';\nmodule.disabledByDefault = true;\n\nmodule.beforeLoad = () => {\n\tPagePhases.bodyStart.then(() => {\n\t\twatchForChildren(document.body, 'script', ele => {\n\t\t\tconst script = downcast(ele, HTMLScriptElement);\n\t\t\tif ((/^\\/_chat/).test(new URL(script.src, location.origin).pathname)) script.remove();\n\t\t});\n\n\t\t// The script may not removed promptly enough, so remove the iframe as fallback\n\t\twatchForChildren(document.body, '#chat-app', ele => {\n\t\t\tele.remove();\n\t\t});\n\t});\n};\n\nmodule.contentStart = () => {\n\tconst icon = document.body.querySelector('#chat');\n\tif (icon) {\n\t\tif (icon.nextElementSibling) icon.nextElementSibling.remove(); // Remove seperator\n\t\ticon.remove();\n\t}\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('localDate');\n\nmodule.moduleName = 'localDateName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'localDateDesc';\n\nmodule.contentStart = () => {\n\t$(document.body)\n\t\t.on('mouseenter', 'time', function() {\n\t\t\tconst $this = $(this);\n\t\t\tif (!$this.data('originalTitle')) {\n\t\t\t\t$this.data('originalTitle', $this.attr('title'));\n\t\t\t}\n\t\t\t$this.attr('title', new Date($this.attr('datetime')));\n\t\t})\n\t\t.on('mouseleave', 'time', function() {\n\t\t\tconst $this = $(this);\n\t\t\t$this.attr('title', $this.data('originalTitle'));\n\t\t});\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('logoLink');\n\nmodule.moduleName = 'logoLinkName';\nmodule.category = 'browsingCategory';\nmodule.description = 'logoLinkDesc';\nmodule.options = {\n\tredditLogoDestination: {\n\t\ttype: 'enum',\n\t\tvalue: 'frontpage',\n\t\tdescription: 'logoLinkRedditLogoDestinationDesc',\n\t\ttitle: 'logoLinkRedditLogoDestinationTitle',\n\t\tvalues: [{\n\t\t\tname: 'logoLinkFrontpage',\n\t\t\tvalue: 'frontpage',\n\t\t}, {\n\t\t\tname: 'logoLinkAll',\n\t\t\tvalue: 'all',\n\t\t}, {\n\t\t\tname: 'logoLinkHot',\n\t\t\tvalue: 'hot',\n\t\t}, {\n\t\t\tname: 'logoLinkDashboard',\n\t\t\tvalue: 'dashboard',\n\t\t}, {\n\t\t\tname: 'logoLinkCurrent',\n\t\t\tvalue: 'subreddit',\n\t\t}, {\n\t\t\tname: 'logoLinkMyUserPage',\n\t\t\tvalue: '/u/me',\n\t\t}, {\n\t\t\tname: 'logoLinkInbox',\n\t\t\tvalue: '/message/inbox',\n\t\t}, {\n\t\t\tname: 'logoLinkCustom',\n\t\t\tvalue: 'custom',\n\t\t}],\n\t},\n\tcustomDestination: {\n\t\tdependsOn: options => options.redditLogoDestination.value === 'custom',\n\t\ttype: 'text',\n\t\tvalue: '/',\n\t\tdescription: 'logoLinkCustomDestinationDesc',\n\t\ttitle: 'logoLinkCustomDestinationTitle',\n\t},\n};\n\nmodule.contentStart = () => {\n\tconst redditLogoNode: ?HTMLAnchorElement = (document.getElementById('header-img-a') || document.getElementById('header-img') || document.querySelector('header a[href=\"/\"]'): any);\n\tif (redditLogoNode) {\n\t\tconst url = getLogoLinkUrl();\n\t\tif (url) {\n\t\t\tredditLogoNode.href = url;\n\t\t}\n\t}\n};\n\nfunction getLogoLinkUrl() {\n\tconst destination = module.options.redditLogoDestination.value;\n\tswitch (destination) {\n\t\tcase 'frontpage':\n\t\t\treturn false;\n\t\tcase 'all':\n\t\t\treturn '/r/all';\n\t\tcase 'hot':\n\t\t\treturn '/hot/';\n\t\tcase 'dashboard':\n\t\t\treturn '/r/Dashboard';\n\t\tcase 'subreddit':\n\t\t\treturn $('.redditname > a').attr('href');\n\t\tcase 'custom':\n\t\t\treturn module.options.customDestination.value;\n\t\tdefault:\n\t\t\treturn destination;\n\t}\n}\n","/* @flow */\n\nimport { i18n } from '../environment';\nimport { Module } from '../core/module';\nimport { string } from '../utils';\nimport * as Modules from '../core/modules';\nimport * as Hover from './hover';\nimport * as QuickMessage from './quickMessage';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('messageMenu');\n\nmodule.moduleName = 'messageMenuName';\nmodule.category = 'browsingCategory';\nmodule.description = 'messageMenuDesc';\n\nmodule.options = {\n\tlinks: {\n\t\ttype: 'table',\n\t\taddRowText: 'messageMenuAddShortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'messageMenuLabel',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'url',\n\t\t\tname: 'messageMenuUrl',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [\n\t\t\t['compose', '/message/compose'],\n\t\t\t['all', '/message/inbox'],\n\t\t\t['unread', '/message/unread'],\n\t\t\t['messages', '/message/messages'],\n\t\t\t['comment replies', '/message/comments'],\n\t\t\t['post replies', '/message/selfreply'],\n\t\t\t['/u/ mentions', '/message/mentions'],\n\t\t],\n\t\tdescription: 'messageMenuLinksDesc',\n\t\ttitle: 'messageMenuLinksTitle',\n\t},\n\tuseQuickMessage: {\n\t\ttype: 'boolean',\n\t\tdescription: 'messageMenuUseQuickMessageDesc',\n\t\ttitle: 'messageMenuUseQuickMessageTitle',\n\t\tvalue: true,\n\t},\n\thoverDelay: {\n\t\ttype: 'text',\n\t\tvalue: '1000',\n\t\tdescription: 'messageMenuHoverDelayDesc',\n\t\ttitle: 'messageMenuHoverDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'messageMenuFadeDelayDesc',\n\t\ttitle: 'messageMenuFadeDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'messageMenuFadeSpeedDesc',\n\t\ttitle: 'messageMenuFadeSpeedTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tHover.dropdownList(module.moduleID)\n\t\t.options({\n\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t})\n\t\t.populateWith(() => [getListFragment()])\n\t\t.watch('#mail, .mail-count, #NREMail, #NREMailCount');\n};\n\nfunction getListFragment() {\n\tconst fragment = document.createDocumentFragment();\n\n\tfor (const link of module.options.links.value) {\n\t\tconst label = link[0] || '';\n\t\tconst url = link[1] || '';\n\t\tconst li = string.html`<li><a href=\"${url}\">${label}</a></li>`;\n\n\t\tli.addEventListener('click', (e: MouseEvent) => {\n\t\t\tif (module.options.useQuickMessage.value && Modules.isRunning(QuickMessage) && QuickMessage.messageLinkEventHandler(e)) return;\n\t\t\tHover.dropdownList(module.moduleID).close();\n\t\t});\n\n\t\tif (url.includes('/message/compose')) li.append(string.html`<span class=\"RESMenuItemButton res-icon\">&#xF139;</span>`);\n\n\t\tfragment.append(li);\n\t}\n\n\tfragment.append(string.html`<li><a href=${SettingsNavigation.makeUrlHash(module.moduleID, 'sectionMenu')}>\n\t\t<i>${i18n(module.moduleName)}</i>\n\t\t<span class=\"RESMenuItemButton gearIcon\"></span>\n\t</a></li>`);\n\n\treturn fragment;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { markdown } from 'snudown-js';\nimport { Module } from '../core/module';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('modHelper');\n\nmodule.moduleName = 'modhelperName';\nmodule.category = 'coreCategory';\nmodule.description = 'modhelperDesc';\nmodule.hidden = true;\nmodule.alwaysEnabled = true;\nmodule.include = ['stylesheet'];\nmodule.go = () => {\n\tdoStyleSheetCheck();\n};\n\nconst tips = {\n\t'no-res-styles': 'It appears you haven\\'t done any styling specific to RES.  If you are interested in a quick overview on styling for RES users, please see [our wiki article](/r/Enhancement/wiki/subredditstyling)',\n\tkeyNav: 'Styling `RES-keyNav-activeElement`? This is the element RES uses for Keyboard Navigation - it indicates the currently selected post, and is crucial to RES functionality. If you don\\'t like the way it looks with your theme, you may style it however you want, as long as Keyboard Navigation remains usable for your visitors.',\n\t'keyNav-benice': `It appears that you are hiding \\`RES-keyNav-activeElement\\`. This negatively affects RES users by rendering keyboard navigation unusable. It's understandable that you may not care for the default appearance, but we politely request that you consider styling it to fit your subreddit, perhaps using a particular background color or border. Even just a one-sided border, e.g. \\`border-right: 3px solid blue;\\` - thank you for your consideration.\\n\\n For convenience we've included \\`RES-keyNav-activeThing\\` which can be used as an alternative to \\`RES-keyNav-activeElement\\`. It applies to elements with the class \\`thing\\` as opposed to \\`entry\\`. If you choose to use this, make sure keyboard navigation is usable when [commentBoxes](${SettingsNavigation.makeUrlHash('styleTweaks', 'commentBoxes')}) is turned off.`,\n\tnightmode: 'Want your subreddit to be night mode friendly? Please have a look at [the night mode section of our wiki](/r/Enhancement/wiki/subredditstyling#wiki_res_night_mode_and_your_subreddit)',\n};\n\nfunction doStyleSheetCheck() {\n\tconst $stylesheetTextarea = $('.stylesheet-customize-container textarea');\n\tconst stylesheet = ($stylesheetTextarea.length) ? $($stylesheetTextarea).val() : '';\n\n\tcreateTipPane();\n\tif (stylesheet.length) {\n\t\t// check if they have any RES styles at all\n\t\tif (!stylesheet.includes('.res') && !stylesheet.includes('.RES')) {\n\t\t\taddTipToPane('no-res-styles');\n\t\t}\n\t\tif (!stylesheet.includes('.res-nightmode')) {\n\t\t\taddTipToPane('nightmode');\n\t\t}\n\n\t\t// check if they're hiding RES-keyNav-activeElement\n\t\tconst keyNavIdx = stylesheet.indexOf('.RES-keyNav-activeElement');\n\t\tif (keyNavIdx !== -1) {\n\t\t\tlet keyNavRule = '';\n\t\t\tlet i = keyNavIdx;\n\t\t\twhile (i < stylesheet.length) {\n\t\t\t\tconst thisChar = stylesheet.charAt(i);\n\t\t\t\tkeyNavRule += thisChar;\n\t\t\t\tif (thisChar === '}') {\n\t\t\t\t\ti = stylesheet.length;\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t(\n\t\t\t\t\tkeyNavRule.includes('transparent') ||\n\t\t\t\t\tkeyNavRule.includes('background: none') ||\n\t\t\t\t\tkeyNavRule.includes('background-color: none')\n\t\t\t\t) &&\n\t\t\t\t!keyNavRule.includes('border') &&\n\t\t\t\t!stylesheet.includes('.RES-keyNav-activeThing')\n\t\t\t) {\n\t\t\t\taddTipToPane('keyNav-benice');\n\t\t\t} else {\n\t\t\t\taddTipToPane('keyNav');\n\t\t\t}\n\t\t}\n\t}\n}\n\nlet $tipPane, $tipPaneHeader, $tipPaneContents, $tipPaneList;\n\nfunction createTipPane() {\n\tconst $sheetsDiv = $('div.sheets');\n\n\t$tipPane = $('<div>', { id: 'RESStyleSheetTipPane' });\n\t$tipPaneHeader = $('<div>', {\n\t\tid: 'RESStyleSheetTipPane-header',\n\t\tclass: 'minimized',\n\t\ttext: 'RES specific styling tips',\n\t\tclick: toggleTipPane,\n\t});\n\n\tconst $tipPaneCloseButton = $('<span>', {\n\t\tid: 'RESStyleSheetTipPane-close',\n\t\tclass: 'RESCloseButton RESCloseButtonTopRight',\n\t\ttitle: 'Close for this session',\n\t\tclick: hideTipPane,\n\t});\n\n\tconst $tipPaneHeaderSpan = $('<span>', { class: 'details', text: '[click for details]' });\n\n\t$tipPaneHeader\n\t\t.append($tipPaneCloseButton)\n\t\t.append($tipPaneHeaderSpan);\n\n\t$tipPaneContents = $('<div>', { id: 'RESStyleSheetTipPane-contents' });\n\t$tipPaneList = $('<ul>', { id: 'RESStyleSheetTipPane-list' });\n\t$tipPaneContents.append($tipPaneList);\n\n\t$tipPane\n\t\t.append($tipPaneHeader)\n\t\t.append($tipPaneContents);\n\n\t$sheetsDiv.before($tipPane);\n}\n\nfunction hideTipPane() {\n\tsessionStorage.setItem('hideTipPane', 'true');\n\t$tipPane.hide();\n}\n\nfunction toggleTipPane() {\n\tif ($tipPaneHeader.hasClass('minimized')) {\n\t\topenTipPaneContents();\n\t} else {\n\t\tcloseTipPaneContents();\n\t}\n}\n\nfunction openTipPaneContents() {\n\t$tipPaneHeader.removeClass('minimized');\n\t$tipPaneContents.slideDown();\n}\n\nfunction closeTipPaneContents() {\n\t$tipPaneHeader.addClass('minimized');\n\t$tipPaneContents.slideUp();\n}\n\nfunction addTipToPane(key) {\n\tconst tipText = tips[key];\n\tconst $tip = $('<li>', { html: markdown(tipText) });\n\n\tif (!sessionStorage.getItem('hideTipPane')) {\n\t\t$tipPane.show();\n\t}\n\n\t$tipPaneList.append($tip);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport { string } from '../utils';\nimport * as Hover from './hover';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as PenaltyBox from './penaltyBox';\n\nexport const module: Module<*> = new Module('multiredditNavbar');\n\nmodule.moduleName = 'multiredditNavbarName';\nmodule.description = 'multiredditNavbarDesc';\nmodule.category = 'subredditsCategory';\n\nmodule.include = [\n\t// frontpage, multireddits, /r/all (including /r/all-sub1-sub2),\n\t// and some other special subreddits (/r/mod)\n\t// fails gracefully (and cheaply) if we're on a linklist page without the multireddit sidebar\n\t'linklist',\n];\n\nmodule.options = {\n\tsectionMenu: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'multiredditNavbarSectionMenuDesc',\n\t\ttitle: 'multiredditNavbarSectionMenuTitle',\n\t},\n\tsectionLinks: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'table',\n\t\taddRowText: 'multiredditNavbarAddShortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'multiredditNavbarLabel',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'url',\n\t\t\tname: 'multiredditNavbarUrl',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [\n\t\t\t['new', './new'],\n\t\t\t['rising', './rising'],\n\t\t\t['controversial', './controversial'],\n\t\t\t['top', './top'],\n\t\t\t['top this month', './top?t=month'],\n\t\t\t['gilded', './gilded'],\n\t\t\t['promoted', './ads'],\n\t\t],\n\t\tdescription: 'multiredditNavbarSectionLinksDesc',\n\t\ttitle: 'multiredditNavbarSectionLinksTitle',\n\t},\n\thoverDelay: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '1000',\n\t\tdescription: 'multiredditNavbarHoverDelayDesc',\n\t\ttitle: 'multiredditNavbarHoverDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'multiredditNavbarFadeDelayDesc',\n\t\ttitle: 'multiredditNavbarFadeDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'multiredditNavbarFadeSpeedDesc',\n\t\ttitle: 'multiredditNavbarFadeSpeedTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.sectionMenu.value) {\n\t\tHover.dropdownList(module.moduleID)\n\t\t\t.options({\n\t\t\t\topenDelay: PenaltyBox.penalizedDelay(module.moduleID, 'sectionMenu', module.options.hoverDelay),\n\t\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t\t\tpin: Hover.pin.right,\n\t\t\t\toffsetWidth: -10,\n\t\t\t\toffsetHeight: 1,\n\t\t\t\tbottomPadding: 0,\n\t\t\t})\n\t\t\t.populateWith(card => [getListFragment(card.getCheckedTarget().href)])\n\t\t\t.watch('.listing-chooser .multis li a');\n\t}\n};\n\nconst getListFragment = baseUrl => {\n\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', 5);\n\n\tconst fragment = document.createDocumentFragment();\n\n\tfor (const link of module.options.sectionLinks.value) {\n\t\tconst label = link[0] || '';\n\t\tconst url = link[1] || '';\n\t\tconst li = string.html`<li><a href=\"${baseUrl}${url}\">${label}</a></li>`;\n\n\t\tli.addEventListener('click', () => {\n\t\t\tHover.dropdownList(module.moduleID).close();\n\t\t\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', -30);\n\t\t});\n\n\t\tfragment.append(li);\n\t}\n\n\tfragment.append(string.html`<li><a href=${SettingsNavigation.makeUrlHash(module.moduleID, 'sectionMenu')}>\n\t\t<i>${i18n(module.moduleName)}</i>\n\t\t<span class=\"RESMenuItemButton gearIcon\"></span>\n\t</a></li>`);\n\n\treturn fragment;\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { Thing, SelectedThing, frameDebounce, mutex, watchForDescendants, waitForDetach } from '../utils';\n\nexport const module: Module<*> = new Module('neverEndingComments');\n\nmodule.moduleName = 'necName';\nmodule.category = 'commentsCategory';\nmodule.description = 'necDescription';\nmodule.options = {\n\tloadChildComments: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'necLoadChildCommentsDesc',\n\t\ttitle: 'necLoadChildCommentsTitle',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n];\n\nmodule.afterLoad = () => {\n\tconst context = document.body.querySelector(module.options.loadChildComments.value ? '.nestedlisting' : '.nestedlisting > .thing.morechildren');\n\tif (!context) return;\n\n\tconst visibleLoaders = new Set();\n\n\tconst io = new IntersectionObserver(entries => {\n\t\tfor (const { isIntersecting, target } of entries) {\n\t\t\tif (!context.contains(target)) io.unobserve(target);\n\t\t\tif (isIntersecting) visibleLoaders.add(target);\n\t\t\telse visibleLoaders.delete(target);\n\t\t}\n\n\t\tif (visibleLoaders.size) {\n\t\t\twindow.addEventListener('scroll', loadFirst);\n\t\t\tloadFirst();\n\t\t} else {\n\t\t\twindow.removeEventListener('scroll', loadFirst);\n\t\t}\n\t\t// Don't load the top comments, as they may are likely above the current focused comment and may mess up scroll anchoring\n\t\t// also load comments that are a little beneath the viewport so this works a bit more seamlessly\n\t}, { rootMargin: '-10% 0px 10% 0px' });\n\n\t// Wait a little before starting load, in case the user is just quickly scrolling through\n\tconst loadFirst = frameDebounce(mutex(async () => {\n\t\t// Load one at a time to reduce the latency\n\t\t// The uppermost is loaded first, as that is likely the one the user is interested having expanded\n\t\tconst loader = Array.from(visibleLoaders.values()).sort((a, b) => 3 - (a.compareDocumentPosition(b) & 6))\n\t\t\t.find(e => {\n\t\t\t\t// Don't load any above the selected thing\n\t\t\t\tconst thing = Thing.from(e);\n\t\t\t\treturn !SelectedThing.current || !thing || (SelectedThing.current.getDirectionOf(thing) === 'down');\n\t\t\t});\n\t\tif (loader) {\n\t\t\tloader.click();\n\t\t\tawait waitForDetach(\n\t\t\t\tloader,\n\t\t\t\t// The load may fail\n\t\t\t\tnew Promise(res => setTimeout(res, 3000)),\n\t\t\t);\n\t\t\tloadFirst();\n\t\t}\n\t}), 5);\n\n\twatchForDescendants(context, '.morecomments a', ele => { io.observe(ele); });\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Metadata from '../core/metadata';\nimport { Storage, openNewTab, i18n } from '../environment';\nimport { filterMap } from '../utils';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('onboarding');\n\nmodule.moduleName = 'onboardingName';\nmodule.category = 'aboutCategory';\nmodule.description = 'onboardingDesc';\nmodule.alwaysEnabled = true;\n\nmodule.options = {\n\tupdateNotification: {\n\t\ttitle: 'onboardingUpdateNotificationName',\n\t\tdescription: 'onboardingUpdateNotificationDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'notification',\n\t\tvalues: [{\n\t\t\tname: 'onboardingUpdateNotifictionReleaseNotes',\n\t\t\tvalue: 'releaseNotes',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNotification',\n\t\t\tvalue: 'notification',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNothing',\n\t\t\tvalue: 'nothing',\n\t\t}],\n\t},\n\tpatchUpdateNotification: {\n\t\ttitle: 'onboardingPatchUpdateNotificationName',\n\t\tdescription: 'onboardingPatchUpdateNotificationDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'notification',\n\t\tvalues: [{\n\t\t\tname: 'onboardingUpdateNotifictionReleaseNotes',\n\t\t\tvalue: 'releaseNotes',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNotification',\n\t\t\tvalue: 'notification',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNothing',\n\t\t\tvalue: 'none',\n\t\t}],\n\t},\n\tbetaUpdateNotification: {\n\t\ttitle: 'onboardingBetaUpdateNotificationName',\n\t\tdescription: 'onboardingBetaUpdateNotificationDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'releaseNotes',\n\t\tvalues: [{\n\t\t\tname: 'onboardingUpdateNotifictionReleaseNotes',\n\t\t\tvalue: 'releaseNotes',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNotification',\n\t\t\tvalue: 'notification',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNothing',\n\t\t\tvalue: 'none',\n\t\t}],\n\t},\n};\n\nconst highestVersionStorage = Storage.wrap('highestVersion', null);\n\nmodule.go = async () => {\n\tconst highestVersion = await highestVersionStorage.get();\n\n\tif (!highestVersion) {\n\t\thighestVersionStorage.set(Metadata.version);\n\t\treturn;\n\t}\n\n\tif (\n\t\thighestVersion === Metadata.version ||\n\t\trequire('semver/functions/gt')(highestVersion, Metadata.version) // eslint-disable-line global-require\n\t) return;\n\n\tconst diff = require('semver/functions/diff')(Metadata.version, highestVersion); // eslint-disable-line global-require\n\n\tconst infoTypes = filterMap([\n\t\tMetadata.isBeta && 'betaUpdateNotification',\n\t\tdiff === 'patch' && 'patchUpdateNotification',\n\t\t(diff === 'major' || diff === 'minor') && 'updateNotification',\n\t], notificationOption => notificationOption ? [module.options[notificationOption].value] : undefined);\n\n\tif (infoTypes.includes('releaseNotes')) {\n\t\topenNewTab(Metadata.updatedURL, false);\n\t} else if (infoTypes.includes('notification')) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: diff,\n\t\t\tmessage: `\n\t\t\t\t${i18n('onboardingUpgradeMessage', Metadata.version)}\n\t\t\t\t<p><a class=\"RESNotificationButtonBlue\" href=\"${Metadata.updatedURL}\" target=\"_blank\">\n\t\t\t\t\t${i18n('onboardingUpgradeCta')}\n\t\t\t\t</a></p>\n\t\t\t`.trim(),\n\t\t\tcloseDelay: 15000,\n\t\t});\n\t} else {\n\t\tconsole.log(`RES upgraded to v${Metadata.version}.`);\n\t}\n\n\thighestVersionStorage.set(Metadata.version);\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport Favico from 'favico.js';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { addFloater, loggedInUser } from '../utils';\nimport { Session, multicast } from '../environment';\nimport legacyFavicon from '../images/legacyFavicon.png';\nimport * as BetteReddit from './betteReddit';\n\nexport const module: Module<*> = new Module('orangered');\n\nmodule.moduleName = 'orangeredName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'orangeredDesc';\n\nmodule.options = {\n\topenMailInNewTab: {\n\t\tdescription: 'orangeredOpenMailInNewTabDesc',\n\t\ttitle: 'orangeredOpenMailInNewTabTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t},\n\tupdateCurrentTab: {\n\t\tdescription: 'orangeredUpdateCurrentTabDesc',\n\t\ttitle: 'orangeredUpdateCurrentTabTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tupdateOtherTabs: {\n\t\tdescription: 'orangeredUpdateOtherTabsDesc',\n\t\tkeywords: ['favicon', 'sync'],\n\t\ttitle: 'orangeredUpdateOtherTabsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tshowFloatingEnvelope: {\n\t\tdescription: 'orangeredShowFloatingEnvelopeDesc',\n\t\ttitle: 'orangeredShowFloatingEnvelopeTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tretroUnreadCount: {\n\t\tdescription: 'orangeredRetroUnreadCountDesc',\n\t\ttitle: 'orangeredRetroUnreadCountTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\tshowUnreadCountInTitle: {\n\t\tdescription: 'orangeredShowUnreadCountInTitleDesc',\n\t\ttitle: 'orangeredShowUnreadCountInTitleTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t},\n\tfaviconUseLegacy: {\n\t\tdescription: 'faviconUseLegacyDesc',\n\t\ttitle: 'faviconUseLegacyTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t},\n\tshowUnreadCountInFavicon: {\n\t\tdescription: 'orangeredShowUnreadCountInFaviconDesc',\n\t\ttitle: 'orangeredShowUnreadCountInFaviconTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tfaviconNotificationBGColor: {\n\t\tdescription: 'faviconNotificationBGColorDesc',\n\t\ttitle: 'faviconNotificationBGColorTitle',\n\t\tadvanced: true,\n\t\ttype: 'color',\n\t\tvalue: '#5f99cf',\n\t\tdependsOn: options => options.showUnreadCountInFavicon.value,\n\t},\n\tfaviconNotificationTextColor: {\n\t\tdescription: 'faviconNotificationTextColorDesc',\n\t\ttitle: 'faviconNotificationTextColorTitle',\n\t\tadvanced: true,\n\t\ttype: 'color',\n\t\tvalue: '#FFFFFF',\n\t\tdependsOn: options => options.showUnreadCountInFavicon.value,\n\t},\n\tresetFaviconOnLeave: {\n\t\tdescription: 'orangeredResetFaviconOnLeaveDesc',\n\t\ttitle: 'orangeredResetFaviconOnLeaveTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdependsOn: options => options.showUnreadCountInFavicon.value,\n\t},\n\tunreadLinksToInbox: {\n\t\tdescription: 'orangeredUnreadLinksToInboxDesc',\n\t\ttitle: 'orangeredUnreadLinksToInboxTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tadvanced: true,\n\t},\n\thideEmptyMail: {\n\t\tdescription: 'orangeredHideEmptyMailDesc',\n\t\ttitle: 'orangeredHideEmptyMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\thideModMail: {\n\t\tdescription: 'orangeredHideModMailDesc',\n\t\ttitle: 'orangeredHideModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\thideEmptyModMail: {\n\t\tdescription: 'orangeredHideEmptyModMailDesc',\n\t\ttitle: 'orangeredHideEmptyModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdependsOn: options => !options.hideModMail.value,\n\t},\n\thideNewModMail: {\n\t\tdescription: 'orangeredHideNewModMailDesc',\n\t\ttitle: 'orangeredHideNewModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\thideEmptyNewModMail: {\n\t\tdescription: 'orangeredHideEmptyNewModMailDesc',\n\t\ttitle: 'orangeredHideEmptyNewModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdependsOn: options => !options.hideNewModMail.value,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.faviconUseLegacy.value) setupFavicon();\n\n\tif (!loggedInUser()) {\n\t\treturn;\n\t}\n\n\tfloatingButtons();\n\tif (module.options.openMailInNewTab.value) {\n\t\t$orangeredElements().attr('target', '_blank').attr('rel', 'noopener noreferer');\n\t}\n\n\tupdateFromPage();\n};\n\nexport async function updateFromPage(doc: HTMLElement = document.body) {\n\tif (!Modules.isRunning(module)) return;\n\tif (!module.options.updateCurrentTab.value) return;\n\tif (!loggedInUser()) return;\n\n\t// `doc` may be a cached page. Don't update if more recent data has been processed\n\tconst debuginfoElement = doc.querySelector('.debuginfo');\n\t// Timestamp example: 2018-12-14 00:21:00.572436+00:00\n\tconst timestampRegex = /(\\d{4})-(\\d{2})-(\\d{2}) (\\d{2})\\:(\\d{2})\\:(\\d{2})\\.(\\d+)[+-](\\d{2})\\:(\\d{2})/;\n\tconst [timestamp] = debuginfoElement && timestampRegex.exec(debuginfoElement.textContent) || [];\n\tif (Date.parse(timestamp)) {\n\t\tconst lastUpdate = await Session.get('orangered.last-update');\n\t\tSession.set('orangered.last-update', timestamp);\n\t\tif (lastUpdate && new Date(lastUpdate) >= new Date(timestamp)) return;\n\t}\n\n\tsetUnreadCount(getUnreadCount(doc));\n}\n\nlet lastCount = 0;\n\nconst _setUnreadCount = multicast((count: number) => {\n\t// Refresh only when count is unchanged, to avoid initializing favicon, misc elements unnecessaury\n\tif (count === lastCount) return;\n\tlastCount = count;\n\n\tupdateFaviconBadge(count);\n\tupdateTitle(count);\n\tupdateInboxElements(count);\n\tupdateMailCountElements(count);\n\n\tif (count > 0) {\n\t\twindow.dispatchEvent(new Event('orangered'));\n\t}\n}, { name: 'setUnreadCount', crossContext: false });\n\nfunction setUnreadCount(count: number) {\n\tif (module.options.updateOtherTabs.value) {\n\t\t_setUnreadCount(count);\n\t} else {\n\t\t_setUnreadCount.local(count);\n\t}\n}\n\nfunction updateTitle(count) {\n\tif (!module.options.showUnreadCountInTitle.value) return;\n\tif (count > 0) {\n\t\tdocument.title = `[${count}] ${document.title.replace(/^\\[[\\d]+\\]\\s/, '')}`;\n\t} else {\n\t\tdocument.title = document.title.replace(/^\\[[\\d]+\\]\\s/, '');\n\t}\n}\n\nfunction updateInboxElements(count) {\n\tconst { nativeInboxButton, $floatingInboxButton } = orangeredElements();\n\n\t$().add($floatingInboxButton).add(nativeInboxButton)\n\t\t.attr('title', count ? 'new mail!' : 'No new mail')\n\t\t.toggleClass('havemail', !!count)\n\t\t.toggleClass('nohavemail', !count)\n\t\t.attr('href', getInboxLink(count));\n}\n\nfunction updateMailCountElements(count) {\n\tconst { nativeInboxCount, $floatingInboxCount } = orangeredElements();\n\n\t$().add($floatingInboxCount).add(nativeInboxCount)\n\t\t.css('display', count ? 'inline-block' : 'none')\n\t\t.attr('href', getInboxLink(count))\n\t\t.attr('title', count ? 'new mail!' : 'No new mail')\n\t\t.text(count)\n\t\t.addClass('message-count');\n}\n\nfunction updateFaviconBadge(count) {\n\tif (module.options.showUnreadCountInFavicon.value) {\n\t\tsetupFavicon().badge(count);\n\t}\n}\n\nconst setupFavicon = _.once(() => {\n\tconst favicons = Array.from(document.head.querySelectorAll('link[rel=\"icon\"]'));\n\tconst selectedFavicon = favicons.find(f => f.getAttribute('sizes') === '96x96') || _.last(favicons);\n\t// remove other favicons to ensure that ours is selected\n\tfor (const f of favicons) {\n\t\tif (f !== selectedFavicon) f.remove();\n\t}\n\t// browser should auto resolve to this if all get removed, but just in case, setting it explicitly\n\tif (module.options.faviconUseLegacy.value) {\n\t\tselectedFavicon.setAttribute('href', legacyFavicon);\n\t}\n\n\tconst favicon = new Favico({\n\t\tbgColor: module.options.faviconNotificationBGColor.value,\n\t\ttextColor: module.options.faviconNotificationTextColor.value,\n\t});\n\n\tif (module.options.resetFaviconOnLeave.value) {\n\t\t// Prevent notification icon from showing up in bookmarks\n\t\twindow.addEventListener('beforeunload', () => favicon.reset());\n\t}\n\n\treturn favicon;\n});\n\nconst orangeredElements = () => ({\n\t...nativeButtons(),\n\t...floatingButtons(),\n\tmodmailButtonSelector: '#modmail',\n});\n\nconst $orangeredElements = () => Object.values(orangeredElements()).reduce(($all, ele) => $all.add(ele), $());\n\nconst nativeButtons = _.once(() => {\n\tconst nativeInboxButton = document.querySelector('#header-bottom-right #mail');\n\tlet nativeInboxCount = document.querySelector('#header-bottom-right .message-count');\n\tif (!nativeInboxCount && (module.options.updateCurrentTab.value || module.options.updateOtherTabs.value)) {\n\t\tnativeInboxCount = document.createElement('a');\n\t\tnativeInboxCount.style.display = 'none';\n\t\tnativeInboxButton.after(nativeInboxCount);\n\t}\n\treturn { nativeInboxButton, nativeInboxCount };\n});\n\nconst floatingButtons = _.once(() => {\n\tif (!module.options.showFloatingEnvelope.value) {\n\t\treturn { $floatingInboxButton: undefined, $floatingInboxCount: undefined };\n\t}\n\tlet $floatingInboxButton, $floatingInboxCount;\n\n\tconst pinHeader = BetteReddit.module.options.pinHeader.value;\n\tif (pinHeader === 'sub' || pinHeader === 'none') {\n\t\t$floatingInboxButton = $('<a>', { id: 'NREMail', class: 'nohavemail' });\n\t\taddFloater($floatingInboxButton.get(0));\n\n\t\t$floatingInboxCount = $('<a>', { id: 'NREMailCount' });\n\t\t$floatingInboxCount.css('display', 'none');\n\t\t$floatingInboxCount.attr('href', getInboxLink(true));\n\t\taddFloater($floatingInboxCount.get(0));\n\t}\n\n\treturn { $floatingInboxButton, $floatingInboxCount };\n});\n\nfunction getInboxLink(havemail) {\n\tif (havemail && !module.options.unreadLinksToInbox.value) {\n\t\treturn '/message/unread/';\n\t}\n\n\treturn '/message/inbox/';\n}\nfunction getUnreadCount(container) {\n\tconst mailCount = container.querySelector('.message-count');\n\treturn mailCount && parseInt(mailCount.textContent, 10) || 0;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { SelectedThing, addFloater, getHeaderOffset, isPageType, frameThrottle, scrollToElement, string, watchForThings } from '../utils';\nimport { i18n } from '../environment';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('pageNavigator');\n\nmodule.moduleName = 'pageNavName';\nmodule.category = 'browsingCategory';\nmodule.description = 'pageNavDesc';\nmodule.options = {\n\ttoTop: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavToTopDesc',\n\t\ttitle: 'pageNavToTopTitle',\n\t},\n\ttoComment: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavToCommentDesc',\n\t\ttitle: 'pageNavToCommentTitle',\n\t},\n\tshowLink: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavShowLinkDesc',\n\t\ttitle: 'pageNavShowLinkTitle',\n\t},\n\tshowLinkNewTab: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavShowLinkNewTabDesc',\n\t\ttitle: 'pageNavShowLinkNewTabTitle',\n\t\tdependsOn: options => options.showLink.value,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.showLink.value && isPageType('comments')) {\n\t\twatchForThings(['post'], showLinkTitle);\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.toComment.value && isPageType('comments')) {\n\t\tbackToNewCommentArea();\n\t}\n\tif (module.options.toTop.value) {\n\t\tbackToTop();\n\t}\n};\n\nfunction backToTop() {\n\tconst element = string.html`<a class=\"pageNavigator res-icon\" data-id=\"top\" href=\"#header\" title=\"${i18n('pageNavToTopTitle')}\">&#xF148;</a>`;\n\telement.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\twindow.scrollTo(0, 0);\n\t\tSelectedThing.move('top');\n\t});\n\taddFloater(element, { order: 9 });\n}\n\nconst showLinkTitleTemplate = ({ thumbnailSrc, linkId, settingsHash, linkHref, linkNewTab, title, domainHref, domain, time, author, authorHref }) => string.html`\n\t<div class=\"res-show-link hide\">\n\t\t${thumbnailSrc && string._html`\n\t\t\t<span class=\"res-show-link-thumb\"><img src=\"${thumbnailSrc}\" alt=\"thumbnail\" /></span>\n\t\t`}\n\t\t<a href=\"#${linkId}\" class=\"res-icon toTop\" title=\"Jump to title\">&#xF148;</a>\n\t\t<a href=\"${settingsHash}\" class=\"gearIcon\" title=\"Configure this widget\"></a>\n\t\t<div class=\"res-show-link-content\">\n\t\t\t<div class=\"res-show-link-header\">\n\t\t\t\t<a href=\"${linkHref}\" ${linkNewTab && string._html`target=\"_blank\" rel=\"noopener noreferer\"`} class=\"res-show-link-title\">${title}</a>\n\t\t\t\t<a href=\"${domainHref}\" class=\"res-show-link-domain\">(<span>${domain}</span>)</a>\n\t\t\t</div>\n\t\t\t<div class=\"res-show-link-tagline\">\n\t\t\t\tSubmitted ${time} by\n\t\t\t\t<a href=\"${authorHref}\" class=\"res-show-link-author\">${author}</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nfunction backToNewCommentArea() {\n\t// TODO Find a way to determine whether the comment area is visible which does not cause a reflow\n\tconst commentArea = document.querySelector('.commentarea > form.usertext textarea:not([disabled])');\n\tif (!commentArea) return;\n\n\tconst element = string.html`<a class=\"pageNavigator res-icon\" data-id=\"addComment\" href=\"#comments\" title=\"${i18n('pageNavToCommentTitle')}\">&#xF003;</a>`;\n\telement.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\tcommentArea.focus();\n\t});\n\n\taddFloater(element, { container: 'visibleAfterScroll' });\n}\n\nconst showLinkTitle = _.once(submissionThing => {\n\tlet $widget;\n\tlet belowSubmission = true;\n\tlet baseHeight, hoverHeight;\n\n\tfunction showWidget() {\n\t\t$widget.css({ top: getHeaderOffset(true) }).removeClass('hide');\n\t}\n\n\tfunction hideWidget() {\n\t\t$widget.css({ top: -baseHeight }).addClass('hide');\n\t}\n\n\tfunction renderWidget() {\n\t\treturn $(showLinkTitleTemplate({\n\t\t\tlinkId: submissionThing.element.id,\n\t\t\tthumbnailSrc: submissionThing.getPostThumbnailUrl(),\n\t\t\tlinkHref: submissionThing.getTitleUrl(),\n\t\t\tlinkNewTab: module.options.showLinkNewTab.value,\n\t\t\ttitle: submissionThing.getTitle(),\n\t\t\tdomainHref: submissionThing.getPostDomainUrl(),\n\t\t\tdomain: submissionThing.getPostDomainText(),\n\t\t\ttime: submissionThing.getPostTime(),\n\t\t\tauthorHref: submissionThing.getAuthorUrl(),\n\t\t\tauthor: submissionThing.getAuthor(),\n\t\t\tsettingsHash: SettingsNavigation.makeUrlHash(module.moduleID, 'showLink'),\n\t\t}));\n\t}\n\n\tconst updateWidget = frameThrottle((e: WheelEvent) => {\n\t\tconst scrollingUp = e.deltaY < 0;\n\n\t\tif (scrollingUp && belowSubmission) {\n\t\t\tinitialize();\n\t\t\t// We have scrolled up while below the linklisting.\n\t\t\tshowWidget();\n\t\t} else if ($widget) {\n\t\t\thideWidget();\n\t\t}\n\t});\n\n\tconst initialize = _.once(() => {\n\t\t$widget = renderWidget()\n\t\t\t.on('mouseenter', () => $widget.css({ height: hoverHeight }))\n\t\t\t.on('mouseleave', () => $widget.css({ height: baseHeight }))\n\t\t\t.appendTo(document.body);\n\n\t\tbaseHeight = $widget.get(0).getBoundingClientRect().height;\n\t\thoverHeight = $widget.get(0).scrollHeight;\n\n\t\tnew IntersectionObserver(entries => {\n\t\t\tbelowSubmission = !entries[0].isIntersecting;\n\t\t\tif (!belowSubmission) hideWidget();\n\t\t}, { rootMargin: '100px 0px 0px 0px' }).observe(submissionThing.element);\n\n\t\twindow.addEventListener('scroll', () => { if (scrollToElement.isProgrammaticEvent()) hideWidget(); });\n\t});\n\n\twindow.addEventListener('wheel', updateWidget, { passive: true });\n});\n","/* @flow */\n\nimport { CACHED_LANG_KEY, CACHED_MESSAGES_KEY, CACHED_MESSAGES_TOKEN_KEY } from '../constants/localStorage';\nimport { RES_DISABLED_HASH } from '../constants/urlHashes';\nimport { Module } from '../core/module';\nimport { Alert } from '../utils';\nimport { Session, Storage, XhrCache, context, i18n, isPrivateBrowsing, multicast } from '../environment';\nimport * as Notifications from './notifications';\nimport * as UserTagger from './userTagger';\n\nexport const module: Module<*> = new Module('troubleshooter');\n\nmodule.moduleName = 'troubleshooterName';\nmodule.alwaysEnabled = true;\nmodule.sort = -7;\nmodule.description = 'troubleshooterDesc';\nmodule.category = 'aboutCategory';\nmodule.options = {\n\tclearCache: {\n\t\ttitle: 'troubleshooterClearCacheTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterClearLabel',\n\t\tcallback: clearCache,\n\t\tdescription: 'troubleshooterClearCacheDesc',\n\t},\n\tclearTags: {\n\t\ttitle: 'troubleshooterClearTagsTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterClearLabel',\n\t\tcallback: clearTags,\n\t\tdescription: 'troubleshooterClearTagsDesc',\n\t},\n\tresetToFactory: {\n\t\ttitle: 'troubleshooterResetToFactoryTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterResetLabel',\n\t\tcallback: resetToFactory,\n\t\tdescription: 'troubleshooterResetToFactoryDesc',\n\t},\n\tdisableRES: {\n\t\ttitle: 'troubleshooterDisableRESTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterDisableLabel',\n\t\tcallback() {\n\t\t\tconst url = new URL(context.pathname, context.origin);\n\t\t\turl.hash = RES_DISABLED_HASH;\n\t\t\twindow.top.location.href = url.href;\n\t\t},\n\t\tdescription: 'troubleshooterDisableRESDesc',\n\t},\n\tbreakpoint: {\n\t\ttitle: 'troubleshooterBreakpointTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterBreakpointLabel',\n\t\tcallback() {\n\t\t\tdebugger; // eslint-disable-line no-debugger\n\t\t},\n\t\tdescription: 'troubleshooterBreakpointDesc',\n\t},\n\ttestEnvironment: {\n\t\ttitle: 'troubleshooterTestEnvironmentTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterTestEnvironmentLabel',\n\t\tcallback: testEnvironment,\n\t\tdescription: 'troubleshooterTestEnvironmentDesc',\n\t},\n\ttestNotifications: {\n\t\ttitle: 'troubleshooterTestNotificationsTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterTestNotificationsLabel',\n\t\tcallback: testNotifications,\n\t\tdescription: 'troubleshooterTestNotificationsDesc',\n\t},\n};\n\nfunction clearCache() {\n\tXhrCache.clear();\n\tSession.clear();\n\tlocalStorage.removeItem(CACHED_LANG_KEY);\n\tlocalStorage.removeItem(CACHED_MESSAGES_TOKEN_KEY);\n\tlocalStorage.removeItem(CACHED_MESSAGES_KEY);\n\tNotifications.showNotification(i18n('troubleshooterCachesCleared'), 2500);\n}\n\nasync function clearTags() {\n\tconst confirm = window.confirm(i18n('troubleshooterAreYouPositive'));\n\tif (confirm) {\n\t\tconst toDelete = (await UserTagger.Tag.getStored())\n\t\t\t.filter(({ text, votesUp = 0, votesDown = 0 }) => !text && votesUp <= 1 && votesDown <= 1);\n\t\tfor (const tag of toDelete) tag.delete();\n\t\tNotifications.showNotification(i18n('troubleshooterEntriesRemoved', toDelete.length), 2500);\n\t} else {\n\t\tNotifications.showNotification(i18n('troubleshooterNoActionTaken'), 2500);\n\t}\n}\n\nfunction resetToFactory() {\n\tconst confirm = window.prompt(i18n('troubleshooterThisWillKillYourSettings', 'trash'));\n\tif (confirm === 'trash' || confirm === '\"trash\"') {\n\t\tclearCache();\n\t\tStorage.clear();\n\t\tNotifications.showNotification(i18n('troubleshooterSettingsReset'), 2500);\n\t} else {\n\t\tNotifications.showNotification(i18n('troubleshooterNoActionTaken'), 2500);\n\t}\n}\n\nfunction testNotifications() {\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\theader: 'Template test',\n\t\tmessage: '<p>Hello, FakeUsername</p>',\n\t});\n}\n\nconst testMulticast = multicast(val => {\n\tAlert.open(`Multicast: ${val}`);\n}, { name: 'testMulticast', local: false, crossContext: false });\n\nasync function testEnvironment() {\n\tconst testKey = '__test__';\n\tconst rows = [];\n\n\ttry {\n\t\tlet rand;\n\n\t\trows.push(`Private browsing: ${String(isPrivateBrowsing())}`, '');\n\n\t\trand = Math.random();\n\t\trows.push(`Sending multicast: ${rand}`, '');\n\t\ttestMulticast(rand);\n\n\t\trand = Math.random();\n\t\trows.push(`Storage.set(): ${rand}`);\n\t\tStorage.set(testKey, rand);\n\t\trows.push(`Storage.get(): ${(await Storage.get(testKey): any)}`);\n\t\trows.push(`Storage.has(): ${(await Storage.has(testKey): any)}`);\n\t\trows.push('Storage.delete()');\n\t\tStorage.delete(testKey);\n\t\trows.push(`Storage.get(): ${(await Storage.get(testKey): any)}`);\n\t\trows.push(`Storage.has(): ${(await Storage.has(testKey): any)}`, '');\n\n\t\trand = Math.random();\n\t\trows.push(`Session.set(): ${rand}`);\n\t\tSession.set(testKey, rand);\n\t\trows.push(`Session.get(): ${(await Session.get(testKey): any)}`);\n\t\trows.push(`Session.has(): ${(await Session.has(testKey): any)}`);\n\t\trows.push('Session.delete()');\n\t\tSession.delete(testKey);\n\t\trows.push(`Session.get(): ${(await Session.get(testKey): any)}`);\n\t\trows.push(`Session.has(): ${(await Session.has(testKey): any)}`, '');\n\n\t\trand = Math.random();\n\t\tconst wrapped = Storage.wrap(testKey, 'default');\n\t\trows.push(`wrapped.set(): ${rand}`);\n\t\twrapped.set(rand);\n\t\trows.push(`wrapped.get(): ${(await wrapped.get(): any)}`);\n\t\trows.push(`wrapped.has(): ${(await wrapped.has(): any)}`);\n\t\trows.push('wrapped.delete()');\n\t\twrapped.delete();\n\t\trows.push(`wrapped.get(): ${(await wrapped.get(): any)}`);\n\t\trows.push(`wrapped.has(): ${(await wrapped.has(): any)}`, '');\n\n\t\trand = Math.random();\n\t\tconst domain = Storage.wrapPrefix(testKey, () => 'default');\n\t\trows.push(`prefix.set(): ${rand}`);\n\t\tdomain.set('1', rand);\n\t\trows.push(`prefix.get(): ${(await domain.get('1'): any)}`);\n\t\trows.push(`prefix.has(): ${(await domain.has('1'): any)}`);\n\t\trows.push('prefix.delete()');\n\t\tdomain.delete('1');\n\t\trows.push(`prefix.get(): ${(await domain.get('1'): any)}`);\n\t\trows.push(`prefix.has(): ${(await domain.has('1'): any)}`, '');\n\n\t\trand = Math.random();\n\t\tconst blob = Storage.wrapBlob(testKey, () => 'default');\n\t\trows.push(`blob.set(): ${rand}`);\n\t\tblob.set('1', rand);\n\t\trows.push(`blob.get(): ${(await blob.get('1'): any)}`);\n\t\trows.push(`blob.has(): ${(await blob.has('1'): any)}`);\n\t\trows.push('blob.delete()');\n\t\tblob.delete('1');\n\t\trows.push(`blob.get(): ${(await blob.get('1'): any)}`);\n\t\trows.push(`blob.has(): ${(await blob.has('1'): any)}`, '');\n\t} catch (e) {\n\t\trows.push('', `Errored: ${e}`);\n\t\tconsole.error(e);\n\t}\n\n\tAlert.open(rows.join('<br>'));\n}\n","/* @flow */\n\nimport { i18n } from '../environment';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport * as Notifications from './notifications';\nimport * as Troubleshooter from './troubleshooter';\n\nexport const module: Module<*> = new Module('presets');\n\nmodule.moduleName = 'presetsName';\nmodule.category = 'coreCategory';\nmodule.alwaysEnabled = true;\nmodule.description = 'presetsDesc';\n\nmodule.options = {\n\tlite: {\n\t\ttitle: 'presetsLiteTitle',\n\t\tdescription: 'presetsLiteDesc',\n\t\ttype: 'button',\n\t\ttext: 'apply preset',\n\t\tcallback: confirmPreset(() => (\n\t\t\ttoggleModules([\n\t\t\t\t'notifications',\n\t\t\t\t'hover',\n\t\t\t\t'announcements',\n\t\t\t\t'orangered',\n\t\t\t\t'onboarding',\n\t\t\t\t'selectedEntry',\n\t\t\t\t'showImages',\n\t\t\t\t'submitHelper',\n\t\t\t\t'neverEndingReddit',\n\t\t\t\t'accountSwitcher',\n\t\t\t\t'filteReddit',\n\t\t\t\t'quickMessage',\n\t\t\t\t'subredditInfo',\n\t\t\t\t'userInfo',\n\t\t\t\t'userHighlight',\n\t\t\t\t'searchHelper',\n\t\t\t\t'betteReddit',\n\t\t\t\t'styleTweaks',\n\t\t\t\t'pageNavigator',\n\t\t\t\t'commandLine',\n\t\t\t\t'commentHidePersistor',\n\t\t\t\t'commentTools',\n\t\t\t\t'commentPreview',\n\t\t\t\t'localDate',\n\t\t\t\t'noParticipation',\n\t\t\t], '*')\n\t\t)),\n\t},\n\tcleanSlate: {\n\t\ttitle: 'presetsCleanSlateTitle',\n\t\tdescription: 'presetsCleanSlateDesc',\n\t\ttype: 'button',\n\t\ttext: 'apply preset',\n\t\tcallback: confirmPreset(() => (\n\t\t\ttoggleModules(undefined, '*')\n\t\t)),\n\t},\n\tnoPopups: {\n\t\ttitle: 'presetsNoPopupsTitle',\n\t\tdescription: 'presetsNoPopupsDesc',\n\t\ttype: 'button',\n\t\ttext: 'apply preset',\n\t\tcallback: confirmPreset(async () => {\n\t\t\tawait toggleModules(undefined, 'hover RESTips showParent subredditInfo'.split(/[,\\s]/));\n\t\t\tawait toggleOptions(undefined, 'userTagger.hoverInfo'.split(/[,\\s]/));\n\t\t}),\n\t},\n\tresetToFactory: Troubleshooter.module.options.resetToFactory,\n};\n\nfunction confirmPreset(callback) {\n\treturn async function() {\n\t\tconst confirmation = prompt(`Are you sure you want to apply the \"${i18n(this.title)}\" preset? Type \"yes\" to continue.`);\n\t\tif ((/^\"?yes\"?$/).test(confirmation)) {\n\t\t\tawait callback();\n\t\t\tconst shouldReload = confirm(`Applied preset: ${i18n(this.title)}\\nYou must reload the page to see results.\\n\\nWould you like to reload now?`);\n\t\t\tif (shouldReload) {\n\t\t\t\tlocation.reload();\n\t\t\t}\n\t\t} else {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\theader: 'Preset cancelled',\n\t\t\t\tmessage: 'If you really wanted to apply this preset, make sure to type in \"yes\" when prompted.',\n\t\t\t});\n\t\t}\n\t};\n}\n\nfunction sanitizeModulesList(unsanitized) {\n\tlet sanitized;\n\tif (unsanitized === '*') {\n\t\tsanitized = allModules();\n\t} else if (typeof unsanitized === 'string') {\n\t\tsanitized = unsanitized.split(/[,\\s]/);\n\t} else if (unsanitized && unsanitized.length) {\n\t\tsanitized = unsanitized;\n\t}\n\treturn sanitized ? [].concat(sanitized) : [];\n}\n\nasync function toggleModules(requestEnable, requestDisable) {\n\tlet enable = sanitizeModulesList(requestEnable);\n\tlet disable = sanitizeModulesList(requestDisable);\n\n\tdisable = requestEnable !== '*' ?\n\t\tdisable.filter(moduleID => !enable.includes(moduleID)) :\n\t\tdisable;\n\n\tenable = requestDisable !== '*' ?\n\t\tenable.filter(moduleID => !disable.includes(moduleID)) :\n\t\tenable;\n\n\tfor (const modId of disable) await Modules.setEnabled(modId, false); // eslint-disable-line no-await-in-loop\n\tfor (const modId of enable) await Modules.setEnabled(modId, true); // eslint-disable-line no-await-in-loop\n}\n\nfunction allModules() {\n\treturn Modules.all().map(mod => mod.moduleID);\n}\n\nasync function toggleOptions(requestEnable, requestDisable) {\n\tconst enable = requestEnable ? [].concat(requestEnable) : [];\n\tconst disable = requestDisable ? [].concat(requestDisable) : [];\n\n\tfor (const option of enable) await setOptionValue(true, option); // eslint-disable-line no-await-in-loop\n\tfor (const option of disable) await setOptionValue(false, option); // eslint-disable-line no-await-in-loop\n}\n\nasync function setOptionValue(value, path) {\n\t// path = [moduleID, optionName] or 'moduleID.optionName'\n\tif (typeof path === 'string') {\n\t\tpath = path.split('.');\n\t}\n\tconst [id, optName] = path;\n\tawait Options.set(id, optName, value);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { loggedInUser, string } from '../utils';\nimport { i18n } from '../environment';\nimport * as Hover from './hover';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as PenaltyBox from './penaltyBox';\n\nexport const module: Module<*> = new Module('profileNavigator');\n\nmodule.moduleName = 'profileNavigatorName';\nmodule.description = 'profileNavigatorDesc';\nmodule.category = 'myAccountCategory';\n\nmodule.options = {\n\tsectionMenu: {\n\t\ttitle: 'profileNavigatorSectionMenuTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'profileNavigatorSectionMenuDesc',\n\t},\n\tsectionLinks: {\n\t\ttitle: 'profileNavigatorSectionLinksTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\tdescription: 'profileNavigatorSectionLinksDesc',\n\t\ttype: 'table',\n\t\taddRowText: '+add profile section shortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'label',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'url',\n\t\t\tname: 'url',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [\n\t\t\t['saved', './saved'],\n\t\t\t['comments', './comments'],\n\t\t\t['submitted', './submitted'],\n\t\t\t['gilded', './gilded'],\n\t\t\t['upvoted', './upvoted'],\n\t\t\t['downvoted', './downvoted'],\n\t\t],\n\t},\n\thoverDelay: {\n\t\ttitle: 'profileNavigatorHoverDelayTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '1000',\n\t\tdescription: 'profileNavigatorHoverDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'profileNavigatorFadeDelayTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'profileNavigatorFadeDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'profileNavigatorFadeSpeedTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'profileNavigatorFadeSpeedDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tconst username = loggedInUser();\n\tif (module.options.sectionMenu.value && username) {\n\t\tHover.dropdownList(module.moduleID)\n\t\t\t.options({\n\t\t\t\topenDelay: PenaltyBox.penalizedDelay(module.moduleID, 'sectionMenu', module.options.hoverDelay),\n\t\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t\t\tpin: Hover.pin.bottom,\n\t\t\t})\n\t\t\t.populateWith(() => [getListFragment(username)])\n\t\t\t.watch('#header .user a');\n\t}\n};\n\nconst getListFragment = username => {\n\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', 5);\n\n\tconst fragment = document.createDocumentFragment();\n\n\tfor (const link of module.options.sectionLinks.value) {\n\t\tconst label = link[0] || '';\n\t\tconst url = link[1] || '';\n\t\tconst li = string.html`<li><a href=\"/user/${username}/${url}\">${label}</a></li>`;\n\n\t\tli.addEventListener('click', () => {\n\t\t\tHover.dropdownList(module.moduleID).close();\n\t\t\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', -30);\n\t\t});\n\n\t\tfragment.append(li);\n\t}\n\n\tfragment.append(string.html`<li><a href=${SettingsNavigation.makeUrlHash(module.moduleID, 'sectionMenu')}>\n\t\t<i>${i18n(module.moduleName)}</i>\n\t\t<span class=\"RESMenuItemButton gearIcon\"></span>\n\t</a></li>`);\n\n\treturn fragment;\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport { WEEK, isPageType, regexes, string } from '../utils';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('profileRedirect');\n\nmodule.moduleName = 'profileRedirectName';\nmodule.category = 'usersCategory';\nmodule.description = 'profileRedirectDesc';\nmodule.keywords = ['legacy', 'overview'];\nmodule.include = [\n\t'profile',\n\t'profile2x',\n];\n\nmodule.options = {\n\tfromLandingPage: {\n\t\ttitle: 'profileRedirectFromLandingPageTitle',\n\t\tdescription: 'profileRedirectFromLandingPageDesc',\n\t\tkeywords: ['legacy', 'overview'],\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'Do nothing',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Overview (legacy)',\n\t\t\tvalue: 'overview',\n\t\t}, {\n\t\t\tname: 'Comments',\n\t\t\tvalue: 'comments',\n\t\t}, {\n\t\t\tname: 'Submitted (legacy)',\n\t\t\tvalue: 'submitted',\n\t\t}, {\n\t\t\tname: 'Gilded',\n\t\t\tvalue: 'gilded',\n\t\t}, {\n\t\t\tname: 'Custom',\n\t\t\tvalue: 'custom',\n\t\t}],\n\t},\n\tcustomFromLandingPage: {\n\t\tdependsOn: options => options.fromLandingPage.value === 'custom',\n\t\ttitle: 'profileRedirectCustomFromLandingPageTitle',\n\t\tdescription: 'profileRedirectCustomFromLandingPageDesc',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t},\n};\n\nmodule.beforeLoad = function() {\n\tconst [, username, currentSection] = regexes.profile2x.exec(location.pathname) || [];\n\tif (username && !currentSection) {\n\t\tif (module.options.fromLandingPage.value !== 'none') {\n\t\t\tconst preferredSection = module.options.fromLandingPage.value === 'custom' ?\n\t\t\t\tmodule.options.customFromLandingPage.value :\n\t\t\t\tmodule.options.fromLandingPage.value;\n\t\t\twindow.location.replace(`/user/${username}/${preferredSection}`);\n\t\t} else if (isPageType('profile2x')) {\n\t\t\tconst message = string.html`\n\t\t\t\t<div>\n\t\t\t\t\t<p>${i18n('profileRedirectFromLandingPageNotificationText')}</p>\n\t\t\t\t\t<p><a class=\"RESNotificationButtonBlue\" href=\"${SettingsNavigation.makeUrlHash(module.moduleID, 'fromLandingPage')}\">${i18n('profileRedirectFromLandingPageNotificationButton')}</a></p>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tconst notification = Notifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'fromLandingPage',\n\t\t\t\theader: i18n('profileRedirectFromLandingPageNotificationTitle'),\n\t\t\t\tmessage,\n\t\t\t\tcooldown: WEEK,\n\t\t\t});\n\n\t\t\tmessage.querySelector('.RESNotificationButtonBlue').addEventListener('click', () => {\n\t\t\t\tnotification.close();\n\t\t\t});\n\t\t}\n\t}\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { BodyClasses, frameThrottle, watchForThings } from '../utils';\nimport { inQuarantinedSubreddit } from '../utils/location';\n\nexport const module: Module<*> = new Module('quarantineHide');\n\nmodule.moduleName = 'quarantineHideName'; // i18n\nmodule.category = 'appearanceCategory';\nmodule.description = 'quarantineHideDesc'; // i18n\nmodule.options = {\n\thideFlair: {\n\t\ttitle: 'quarantineHideFlairTitle', // i18n\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'quarantineHideFlairDesc', // i18n\n\t},\n\thideQuarantinedInSub: {\n\t\ttitle: 'quarantineHideInSubTitle', // i18n\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'quarantineHideInSubDesc', // i18n\n\t},\n};\n\nmodule.include = ['linklist', 'comments', 'wiki'];\n\nmodule.contentStart = () => {\n\tif (module.options.hideFlair.value) {\n\t\twatchForThings(['post'], frameThrottle(() => { $('.quarantine-stamp').parent().remove(); }));\n\t}\n\tif (inQuarantinedSubreddit() && module.options.hideQuarantinedInSub.value) {\n\t\tBodyClasses.remove('quarantine');\n\t\t$('.quarantine-notice').hide();\n\t}\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('redditUserInfo');\n\nmodule.moduleName = 'redditUserInfoName';\nmodule.category = 'usersCategory';\nmodule.description = 'redditUserInfoDesc';\nmodule.options = {\n\thideAuthorTooltip: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'redditUserInfoHideDesc',\n\t\ttitle: 'redditUserInfoHideTitle',\n\t\tbodyClass: true,\n\t},\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('requestPermissions');\n\nmodule.moduleName = 'requestPermissionsName';\nmodule.description = 'requestPermissionsDesc';\nmodule.category = 'aboutCategory';\nmodule.disabledByDefault = true;\nmodule.permissions = {\n\tget requiredPermissions() { return (chrome: any).runtime.getManifest().optional_permissions; }, // eslint-disable-line no-undef\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { markdown } from 'snudown-js';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { Alert, CreateElement, downcast, empty, string } from '../utils';\nimport { i18n } from '../environment';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('search');\n\nmodule.moduleName = 'searchName';\nmodule.category = 'aboutCategory';\nmodule.alwaysEnabled = true;\nmodule.sort = -9;\nmodule.description = `\n\t<p>Search for settings within RES.</p>\n\t<div id=\"SearchRES-results-container\">\n\t\t<div id=\"SearchRES-count\"></div>\n\t\t<ul id=\"SearchRES-results\"></ul>\n\t\t<p id=\"SearchRES-results-hidden\">Some results have been hidden because advanced options are currently hidden. <a href=\"#\">Show advanced options.</a></p>\n\t</div>\n\t<div id=\"SearchRES-boilerplate\">\n\t\t<p>You can search for RES options by module name, option name, and description. For example, try searching for \"daily trick\" in one of the following ways:</p>\n\t\t<ul>\n\t\t\t<li>type <code>daily trick</code> in the search box to the left and click the magnifying glass button</li>\n\t\t\t<li>press <code>.</code> to open the RES console, type in <code>search <em>daily trick</em></code>, and press Enter</li>\n\t\t</ul>\n\t</div>\n`;\nmodule.descriptionRaw = true;\n\nconst PRESERVE_SPACES = true;\n\nexport function search(query: string = input().value) {\n\tinput().value = query;\n\n\tif (!query) {\n\t\tdrawSearchResults(query, []);\n\t\treturn;\n\t}\n\n\tconst sanitizedQuery = sanitizeString(query, PRESERVE_SPACES);\n\tconst queryTerms = sanitizedQuery && sanitizedQuery.length ? sanitizedQuery.split(' ') : [];\n\tlet results = [];\n\n\t// Search options\n\tif (queryTerms && queryTerms.length) {\n\t\tresults = searchDomain()\n\t\t\t.map(item => ({\n\t\t\t\trank: item.getRank(queryTerms, item.context),\n\t\t\t\tcontext: item.context,\n\t\t\t}))\n\t\t\t.filter(item => item.rank !== Infinity)\n\t\t\t.sort((a, b) => b.rank - a.rank)\n\t\t\t.map(item => item.context);\n\t}\n\n\tdrawSearchResults(query, results);\n}\n\ntype SearchItemContext = {|\n\ttitle: string,\n\tdescription: string,\n\tcategory: string,\n\tmoduleID: string,\n\tmoduleName: string,\n\tkeywords: string[],\n\tadvanced?: boolean,\n\toptionKey?: string,\n\toptionName?: string,\n|};\n\nconst searchDomain = _.once(() => {\n\tconst results = [];\n\tfor (const mod of Modules.all()) {\n\t\tif (mod === module) continue;\n\n\t\tif (mod.hidden) continue;\n\n\t\tconst moduleName = i18n(mod.moduleName);\n\t\tconst category = i18n(mod.category);\n\n\t\tresults.push({\n\t\t\tgetRank: rankModule,\n\t\t\tcontext: ({\n\t\t\t\ttitle: moduleName,\n\t\t\t\tdescription: mod.descriptionRaw ? mod.description : markdown(i18n(mod.description)),\n\t\t\t\tcategory,\n\t\t\t\tmoduleID: mod.moduleID,\n\t\t\t\tmoduleName,\n\t\t\t\tkeywords: mod.keywords,\n\t\t\t}: SearchItemContext),\n\t\t});\n\n\t\tif (_.isEmpty(mod.options)) continue;\n\n\t\tfor (const [optionKey, option] of Object.entries(mod.options)) {\n\t\t\tif (option.noconfig) continue;\n\n\t\t\tconst optionName = i18n(option.title);\n\n\t\t\tresults.push({\n\t\t\t\tgetRank: rankOption,\n\t\t\t\tcontext: ({\n\t\t\t\t\ttitle: optionName,\n\t\t\t\t\tdescription: markdown(i18n(option.description).split('\\n')[0]),\n\t\t\t\t\tadvanced: option.advanced,\n\t\t\t\t\tcategory,\n\t\t\t\t\tmoduleID: mod.moduleID,\n\t\t\t\t\tmoduleName,\n\t\t\t\t\toptionKey,\n\t\t\t\t\toptionName,\n\t\t\t\t\tkeywords: option.keywords || [],\n\t\t\t\t}: SearchItemContext),\n\t\t\t});\n\t\t}\n\t}\n\n\treturn results;\n});\n\nfunction rankString(queryTerms, string) {\n\tif (!queryTerms || !queryTerms.length || !string) {\n\t\treturn Infinity;\n\t}\n\tconst indexes = indexesOfSearchTermsInString(queryTerms, sanitizeString(string, false));\n\t// Better score: lower value and lower matchedIndex\n\tconst weighted = indexes.map(item => 100 - (item.value * ((Math.log(item.matchedIndex + 1) / Math.log(5)) + 1)));\n\treturn weighted.length ?\n\t\tweighted.reduce((a, b) => a + b, 0) :\n\t\tInfinity;\n}\n\n/**\n * Builds a string with searchable properties of a module for rankString function.\n */\nfunction rankModule(queryTerms, context) {\n\tconst string = [\n\t\tcontext.moduleID,\n\t\tcontext.moduleName,\n\t\tcontext.category,\n\t\tcontext.description,\n\t\t...context.keywords,\n\t].join('~');\n\treturn rankString(queryTerms, string) * 0.9;\n}\n\n/**\n * Builds a string with searchable properties of an option for rankString function.\n */\nfunction rankOption(queryTerms, context) {\n\tconst string = [\n\t\t// option-related strings\n\t\tcontext.optionKey,\n\t\tcontext.title,\n\t\tcontext.description,\n\t\t...context.keywords,\n\t\t// module-related strings\n\t\tcontext.moduleID,\n\t\tcontext.moduleName,\n\t\tcontext.category,\n\t].join('~');\n\treturn rankString(queryTerms, string);\n}\n\nfunction indexesOfSearchTermsInString(needles, haystack) {\n\tif (!haystack || !haystack.length) return [];\n\n\treturn needles\n\t\t.map((needle, i) => ({\n\t\t\tmatchedIndex: i,\n\t\t\tvalue: haystack.indexOf(needle),\n\t\t}))\n\t\t.filter(item => item.value !== -1);\n}\n\nfunction sanitizeString(text, preserveSpaces) {\n\tif (text === undefined || text === null) {\n\t\treturn '';\n\t}\n\n\tconst replaceSpacesWith = preserveSpaces ? ' ' : '';\n\treturn text.toString().toLowerCase()\n\t\t.replace(/[,\\/\\s]+/g, replaceSpacesWith);\n}\n\nfunction onSearchResultSelected(moduleID, optionKey) {\n\tSettingsNavigation.open(moduleID, optionKey);\n}\n\n// ---------- View ------\nexport const input = _.once(() => downcast(string.html`<input id=\"SearchRES-input\" type=\"text\" placeholder=\"${i18n('searchRESSettings')}\">`, HTMLInputElement));\n\nfunction drawSearchResults(query, results: Array<*>) {\n\tconst $resultsContainer = $('#SearchRES-results-container');\n\t$resultsContainer.off('click', handleSearchResultClick)\n\t\t.on('click', '.SearchRES-result-item', handleSearchResultClick);\n\n\tif (!query || !query.length) {\n\t\t$resultsContainer.hide();\n\t\treturn;\n\t}\n\n\tconst advancedResults = results.filter(({ advanced }) => advanced).length;\n\tconst count = results.length - advancedResults;\n\n\t// display number of results.\n\tconst plural = (count !== 1 ? 's' : '');\n\tconst resultsMessage = `${count} result${plural} for ${query}`;\n\t$('#SearchRES-count').text(resultsMessage);\n\n\t$resultsContainer.show();\n\t$resultsContainer.find('#SearchRES-query').text(query);\n\n\tif (advancedResults) {\n\t\t$resultsContainer.find('#SearchRES-results-hidden').addClass('advancedResults');\n\t\t$('#SearchRES-results-hidden a').off('click').on('click', () => {\n\t\t\t$(document.getElementById('RESAllOptions')).click();\n\t\t\tsearch();\n\t\t\treturn false;\n\t\t});\n\t} else {\n\t\t$resultsContainer.find('#SearchRES-results-hidden').removeClass('advancedResults');\n\t}\n\n\tif (!results.length) {\n\t\t$resultsContainer.find('#SearchRES-results').hide();\n\t} else {\n\t\t$resultsContainer.find('#SearchRES-results').show();\n\n\t\tconst resultsList = document.getElementById('SearchRES-results');\n\n\t\tempty(resultsList);\n\t\tresultsList.append(...results.map(drawSearchResultItem));\n\t}\n}\n\nconst searchResultTemplate = ({ title, category, description, moduleName, moduleID, optionName, optionKey }) => string.html`\n\t<div>\n\t\t<div class=\"SearchRES-result-header\">\n\t\t\t<span class=\"SearchRES-result-title\">${title}</span>\n\t\t\t<span class=\"SearchRES-breadcrumb\">${i18n('RESSettingsConsole')}\n\t\t\t\t ${category}\n\t\t\t\t ${moduleName} (${moduleID})\n\t\t\t\t${(optionName && optionKey) ? `  ${optionName} (${optionKey})` : optionKey && `  ${optionKey}`}\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"SearchRES-result-description\">\n\t\t\t${string.safe(description)}\n\t\t</div>\n\t</div>\n`;\n\nconst drawSearchResultItem = _.memoize(result => {\n\tconst element = document.createElement('li');\n\telement.classList.add('SearchRES-result-item');\n\tif (result.advanced) {\n\t\telement.classList.add('advanced');\n\t}\n\telement.setAttribute('data-module-id', result.moduleID);\n\tif (result.optionKey) {\n\t\telement.setAttribute('data-option-key', result.optionKey);\n\t}\n\n\telement.appendChild(searchResultTemplate(result));\n\n\tconst copybutton =\n\t\tCreateElement.icon(\n\t\t\t0xF159,\n\t\t\t'span',\n\t\t\t'SearchRES-result-copybutton res-icon',\n\t\t\ti18n('searchCopyResultForComment'),\n\t\t);\n\telement.insertBefore(copybutton, element.firstChild);\n\n\treturn element;\n});\n\nfunction handleSearchResultClick(event: Event) {\n\tconst moduleID = this.getAttribute('data-module-id');\n\tconst optionKey = this.getAttribute('data-option-key');\n\n\tif (event.target.classList.contains('SearchRES-result-copybutton')) {\n\t\tonSearchResultCopy(moduleID, optionKey);\n\t} else {\n\t\tonSearchResultSelected(moduleID, optionKey);\n\t}\n\tevent.preventDefault();\n}\n\nfunction onSearchResultCopy(moduleID, optionKey) {\n\tconst markdown = makeOptionSearchResultLink(moduleID, optionKey);\n\tAlert.open(`<textarea rows=\"5\" cols=\"50\">${markdown}</textarea><p>Copy and paste this into your comment</p>`);\n}\n\nconst optionLinkTemplate = ({ title, url, description, settingsUrl, category, moduleName, moduleUrl, moduleID, optionKey, optionUrl }) => `\n**[${title}](${url})** -- [](#gear) [RES settings console](${settingsUrl}) > ${category} > [${moduleName}](${moduleUrl} \"${moduleID}\")${optionKey ? ` > [${optionKey}](${optionUrl})` : ''}\n\n${description}\n`.trim();\n\nfunction makeOptionSearchResultLink(moduleID, optionKey) {\n\tconst module = Modules.get(moduleID);\n\n\tconst context = {\n\t\tmoduleID,\n\t\tmoduleName: i18n(module.moduleName),\n\t\tcategory: i18n(module.category),\n\t\toptionKey,\n\t\ttitle: optionKey ? optionKey : i18n(module.moduleName),\n\t\tdescription: optionKey ? i18n(module.options[optionKey].description) : i18n(module.description),\n\t\turl: SettingsNavigation.makeUrlHash(moduleID, optionKey),\n\t\tsettingsUrl: SettingsNavigation.makeUrlHash(),\n\t\tmoduleUrl: SettingsNavigation.makeUrlHash(moduleID),\n\t\toptionUrl: SettingsNavigation.makeUrlHash(moduleID, optionKey),\n\t};\n\n\treturn `${optionLinkTemplate(context)}\\n\\n\\n`;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport {\n\tBodyClasses,\n\tThing,\n\tdowncast,\n\tisPageType,\n\tregexes,\n\tstring,\n} from '../utils';\n\nexport const module: Module<*> = new Module('searchHelper');\n\nmodule.moduleName = 'searchHelperName';\nmodule.category = 'browsingCategory';\nmodule.description = 'searchHelperDesc';\nmodule.options = {\n\taddSearchOptions: {\n\t\ttitle: 'searchHelperAddSearchOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperAddSearchOptionsDesc',\n\t},\n\tdefaultSortOption: {\n\t\ttitle: 'searchHelperDefaultSortOptionTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'relevance',\n\t\t\tvalue: 'relevance',\n\t\t}, {\n\t\t\tname: 'new',\n\t\t\tvalue: 'new',\n\t\t}, {\n\t\t\tname: 'hot',\n\t\t\tvalue: 'hot',\n\t\t}, {\n\t\t\tname: 'top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'comments',\n\t\t\tvalue: 'comments',\n\t\t}],\n\t\tdescription: 'searchHelperDefaultSortOptionDesc',\n\t\tdependsOn: options => options.addSearchOptions.value,\n\t\tadvanced: true,\n\t},\n\tdefaultTimeOption: {\n\t\ttitle: 'searchHelperDefaultTimeOptionTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'all',\n\t\t\tvalue: 'all',\n\t\t}, {\n\t\t\tname: 'hour',\n\t\t\tvalue: 'hour',\n\t\t}, {\n\t\t\tname: 'day',\n\t\t\tvalue: 'day',\n\t\t}, {\n\t\t\tname: 'week',\n\t\t\tvalue: 'week',\n\t\t}, {\n\t\t\tname: 'month',\n\t\t\tvalue: 'month',\n\t\t}, {\n\t\t\tname: 'year',\n\t\t\tvalue: 'year',\n\t\t}],\n\t\tdescription: 'searchHelperDefaultTimeOptionDesc',\n\t\tdependsOn: options => options.addSearchOptions.value,\n\t\tadvanced: true,\n\t},\n\tlegacySearch: {\n\t\ttitle: 'searchHelperLegacySearchTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'searchHelperLegacySearchDesc',\n\t},\n\ttoggleSearchOptions: {\n\t\ttitle: 'searchHelperToggleSearchOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperToggleSearchOptionsDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.legacySearch.value,\n\t},\n\thideSearchOptions: {\n\t\ttitle: 'searchHelperHideSearchOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'searchHelperHideSearchOptionsDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.legacySearch.value,\n\t},\n\tuserFilterBySubreddit: {\n\t\ttitle: 'searchHelperUserFilterBySubredditTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'searchHelperUserFilterBySubredditDesc',\n\t},\n\tsearchByFlair: {\n\t\ttitle: 'searchHelperSearchByFlairTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperSearchByFlairDesc',\n\t},\n\tsearchPageTabs: {\n\t\ttitle: 'searchHelperSearchPageTabsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperSearchPageTabsDesc',\n\t\tbodyClass: true,\n\t},\n\tdefaultSearchTab: {\n\t\ttitle: 'searchHelperDefaultSearchTabTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'subreddits',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'subreddits',\n\t\t\tvalue: 'subreddits',\n\t\t}, {\n\t\t\tname: 'limit to subreddit',\n\t\t\tvalue: 'facets',\n\t\t}, {\n\t\t\tname: 'refine',\n\t\t\tvalue: 'options',\n\t\t}],\n\t\tdescription: 'searchHelperDefaultSearchTabDesc',\n\t\tdependsOn: options => options.searchPageTabs.value,\n\t\tadvanced: true,\n\t},\n\ttransitionSearchTabs: {\n\t\ttitle: 'searchHelperTransitionSearchTabsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperTransitionSearchTabsDesc',\n\t\tdependsOn: options => options.searchPageTabs.value,\n\t\tadvanced: true,\n\t},\n\tsearchBySubreddit: {\n\t\ttitle: 'searchHelperSearchBySubredditTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'default',\n\t\tvalues: [{\n\t\t\tname: 'default (let reddit manage it)',\n\t\t\tvalue: 'default',\n\t\t}, {\n\t\t\tname: 'always',\n\t\t\tvalue: 'always',\n\t\t}, {\n\t\t\tname: 'never',\n\t\t\tvalue: 'never',\n\t\t}],\n\t\tdescription: 'searchHelperSearchBySubredditDesc',\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.addSearchOptions.value) {\n\t\tconst searchExpando = document.getElementById('searchexpando');\n\t\tif (searchExpando) {\n\t\t\tlet searchOptionsHtml = '<label>Sort:<select name=\"sort\"><option value=\"relevance\">relevance</option><option value=\"new\">new</option><option value=\"hot\">hot</option><option value=\"top\">top</option><option value=\"comments\">comments</option></select></label> <label>Time:<select name=\"t\"><option value=\"all\">all time</option><option value=\"hour\">this hour</option><option value=\"day\">today</option><option value=\"week\">this week</option><option value=\"month\">this month</option><option value=\"year\">this year</option></select></label>';\n\t\t\tif ($(searchExpando).find('input[name=restrict_sr]').length) { // we don't want to add the new line if we are on the front page\n\t\t\t\tsearchOptionsHtml = `<br />${searchOptionsHtml}`;\n\t\t\t}\n\t\t\tif (module.options.defaultSortOption.value !== 'none') {\n\t\t\t\tconst defaultValue = module.options.defaultSortOption.value;\n\t\t\t\tsearchOptionsHtml = searchOptionsHtml.replace(`value=\"${defaultValue}\"`, `value=\"${defaultValue}\" selected`);\n\t\t\t}\n\t\t\tif (module.options.defaultTimeOption.value !== 'none') {\n\t\t\t\tconst defaultValue = module.options.defaultTimeOption.value;\n\t\t\t\tsearchOptionsHtml = searchOptionsHtml.replace(`value=\"${defaultValue}\"`, `value=\"${defaultValue}\" selected`);\n\t\t\t}\n\t\t\t$(searchExpando).find('#moresearchinfo').before(searchOptionsHtml);\n\t\t}\n\t}\n\tif (module.options.legacySearch.value) {\n\t\t$('form#search').append('<input type=\"hidden\" name=\"feature\" value=\"legacy_search\" />');\n\t}\n\tif (module.options.userFilterBySubreddit.value) {\n\t\tconst [, userProfile] = location.pathname.match(regexes.profile) || [];\n\t\tif (userProfile && document.referrer) {\n\t\t\tconst referrer = new URL(document.referrer);\n\t\t\tlet match, previousPage;\n\t\t\tif ((match = referrer.pathname.match(regexes.subreddit))) {\n\t\t\t\tpreviousPage = `r/${match[1]}`;\n\t\t\t} else if ((match = referrer.pathname.match(regexes.multireddit))) {\n\t\t\t\tpreviousPage = match[1];\n\t\t\t}\n\t\t\tif (previousPage) {\n\t\t\t\t$('.content[role=main]').prepend(`<div class=\"infobar\"><a href=\"/${previousPage}/search?q=author:${userProfile} nsfw:no&restrict_sr=on\">Search post of ${userProfile} on /${previousPage}</a></div>`);\n\t\t\t}\n\t\t}\n\t}\n\tconst isLegacySearch = document.querySelector('#siteTable');\n\tif (module.options.toggleSearchOptions.value && isPageType('search') && isLegacySearch) {\n\t\tif (module.options.hideSearchOptions.value || location.hash === '#res-hide-options') {\n\t\t\tBodyClasses.add('res-hide-options');\n\t\t}\n\t\t$('.content .searchpane').append('<a href=\"#res-hide-options\" class=\"searchpane-toggle-hide\">hide search options</a>');\n\t\t$('.content .searchpane ~ .menuarea').prepend('<a href=\"#res-show-options\" class=\"searchpane-toggle-show\">show search options</a>');\n\t\t$('.searchpane-toggle-hide').on('click', () => BodyClasses.add('res-hide-options'));\n\t\t$('.searchpane-toggle-show').on('click', () => BodyClasses.remove('res-hide-options'));\n\t}\n\tif (module.options.searchByFlair.value) {\n\t\t$('#siteTable').on('mouseenter', '.linkflairlabel:not(.res-flairSearch)', (e: JQueryMouseEventObject) => {\n\t\t\tconst subreddit = Thing.checkedFrom(e.currentTarget).getSubreddit();\n\t\t\tconst flair = e.currentTarget.title.replace(/\\s/g, '+');\n\t\t\tif (flair) {\n\t\t\t\te.currentTarget.classList.add('res-flairSearch');\n\t\t\t\te.currentTarget.appendChild(string.html`<a href=\"${string.encode`/r/${subreddit}/search?sort=new&restrict_sr=on&q=flair%3A${flair}`}\"></a>`);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Group search options into tabs.\n\tif (module.options.searchPageTabs.value && !isLegacySearch) {\n\t\t// Variables.\n\t\tconst $searchTabsEle = $('<ul>', { class: 'res-search-tabs' });\n\t\tconst searchHeader = document.querySelector('#previoussearch');\n\t\tconst searchForm = document.querySelector('.content form#search');\n\t\tconst moreSearchInfo = document.querySelector('#moresearchinfo');\n\t\tconst searchFacets = document.querySelector('body.search-page .searchfacets');\n\t\tconst $searchOptions = $('<div>', { class: 'res-search-options' });\n\n\t\t// Don't continue if search form isn't present. e.g. on /search/404.\n\t\tif (!searchForm) { return; }\n\n\t\tsearchForm.removeChild(searchForm.querySelector('#moresearchinfo + p'));\n\n\t\t$searchTabsEle.appendTo(searchHeader);\n\n\t\t// Create a class for the subreddit results container.\n\t\tconst subredditResultListing = document.querySelectorAll('.search-result-listing');\n\t\tif (subredditResultListing.length > 1) {\n\t\t\tsubredditResultListing[0].classList.add('res-search-subreddits');\n\t\t}\n\n\t\t// Set up search panes.\n\t\tif (moreSearchInfo) {\n\t\t\t$searchOptions.appendTo(searchHeader);\n\t\t\t$(moreSearchInfo).children().appendTo($searchOptions);\n\t\t}\n\t\tif (searchFacets) {\n\t\t\t$(searchFacets).appendTo(searchHeader);\n\t\t}\n\t\tif ($('.res-search-subreddits').length) {\n\t\t\t$('.res-search-subreddits').appendTo(searchHeader);\n\t\t}\n\n\t\t// Create tabs object.\n\t\tconst searchTabs = {\n\t\t\tsubreddits: {\n\t\t\t\tlabel: 'subreddits',\n\t\t\t\tid: 'subs',\n\t\t\t\ttarget: '.res-search-subreddits',\n\t\t\t\texists: $('.res-search-subreddits').length,\n\t\t\t},\n\t\t\tfacets: {\n\t\t\t\tlabel: 'limit to subreddit',\n\t\t\t\tid: 'facets',\n\t\t\t\ttarget: '.searchfacets',\n\t\t\t\texists: searchFacets,\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\tlabel: 'refine',\n\t\t\t\tid: 'options',\n\t\t\t\ttarget: '.res-search-options',\n\t\t\t\texists: $searchOptions.get(0),\n\t\t\t},\n\t\t};\n\n\t\tfor (const searchTab of Object.values(searchTabs)) {\n\t\t\tif (searchTab.exists) {\n\t\t\t\t// Add common class to each tab pane.\n\t\t\t\t$(searchTab.target)\n\t\t\t\t\t.addClass('res-search-pane')\n\t\t\t\t\t.slideUp(0);\n\n\t\t\t\t// Build tabs in DOM.\n\t\t\t\tconst $searchTabLi = $('<li>')\n\t\t\t\t\t.attr({ class: `res-search-tab-${searchTab.id}` })\n\t\t\t\t\t.appendTo($searchTabsEle);\n\n\t\t\t\t$('<a>')\n\t\t\t\t\t.attr({ href: '#' })\n\t\t\t\t\t.text(searchTab.label)\n\t\t\t\t\t.appendTo($searchTabLi)\n\t\t\t\t\t.click(e => searchTabToggle(searchTab.id, searchTab.target, e.currentTarget));\n\t\t\t}\n\t\t}\n\n\t\t// Set default tab if specified and if it exists on the page.\n\t\tif (module.options.defaultSearchTab.value !== 'none' && searchTabs[module.options.defaultSearchTab.value].exists) {\n\t\t\tsearchTabToggle(\n\t\t\t\tsearchTabs[module.options.defaultSearchTab.value].id,\n\t\t\t\tsearchTabs[module.options.defaultSearchTab.value].target,\n\t\t\t\tnull,\n\t\t\t);\n\t\t}\n\t}\n};\n\nmodule.afterLoad = () => {\n\tif (module.options.searchBySubreddit.value !== 'default' && !isPageType('search')) {\n\t\tconst restrictSearch = document.querySelector('input[name=restrict_sr]');\n\t\tif (restrictSearch /*:: && restrictSearch instanceof HTMLInputElement */) {\n\t\t\trestrictSearch.checked = (module.options.searchBySubreddit.value === 'always');\n\t\t}\n\t}\n};\n\nfunction searchTabToggle(tabID, target, source: HTMLElement | null) {\n\tconst transitionSpd = (module.options.transitionSearchTabs.value) ? 200 : 0;\n\t// Check whether the tab was selected through code or with a click.\n\tconst sourceParent = source ? downcast(source.parentNode, HTMLElement) : null;\n\tconst tab: HTMLElement = sourceParent || document.querySelector(`.res-search-tabs .res-search-tab-${tabID}`);\n\tconst activeClass = 'res-search-tab-active';\n\tconst openClass = 'res-search-pane-open';\n\n\t// Close the pane if its tab was already active, else open it.\n\tif (tab.classList.contains(activeClass)) {\n\t\t$(target).removeClass(openClass).slideUp(transitionSpd);\n\t\ttab.classList.remove(activeClass);\n\t} else {\n\t\t$('.res-search-pane').addClass(openClass).slideUp(transitionSpd);\n\t\t$('.res-search-tabs li').removeClass(activeClass);\n\t\t$('.res-search-pane').removeClass(openClass);\n\t\ttab.classList.add(activeClass);\n\t\tconst speed = sourceParent ? transitionSpd : 0;\n\t\t$(target).addClass(openClass).slideDown(speed);\n\t}\n\n\treturn false;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tThing,\n\tSelectedThing,\n\taddCSS,\n\tclick,\n} from '../utils';\n\nexport const module: Module<*> = new Module('selectedEntry');\n\nmodule.moduleName = 'selectedEntryName';\nmodule.category = 'browsingCategory';\nmodule.include = ['comments', 'linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox', 'search'];\nmodule.description = 'selectedEntryDesc';\n\nmodule.options = {\n\tautoSelectOnScroll: {\n\t\ttitle: 'selectedEntryAutoSelectOnScrollTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'selectedEntryAutoSelectOnScrollDesc',\n\t},\n\tscrollToSelectedThingOnLoad: {\n\t\ttitle: 'selectedEntryScrollToSelectedThingOnLoadTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tadvanced: true,\n\t\tdescription: 'selectedEntryScrollToSelectedThingOnLoadDesc',\n\t},\n\taddLine: {\n\t\ttitle: 'selectedEntryAddLineTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'selectedEntryAddLineDesc',\n\t},\n\tsetColors: {\n\t\ttitle: 'selectedEntrySetColorsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'selectedEntrySetColorsDesc',\n\t},\n\tbackgroundColor: {\n\t\ttitle: 'selectedEntryBackgroundColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#F0F3FC',\n\t\tdescription: 'selectedEntryBackgroundColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.setColors.value,\n\t},\n\tbackgroundColorNight: {\n\t\ttitle: 'selectedEntryBackgroundColorNightTitle',\n\t\ttype: 'color',\n\t\tvalue: '#373737',\n\t\tdescription: 'selectedEntryBackgroundColorNightDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.setColors.value,\n\t},\n\ttextColorNight: {\n\t\ttitle: 'selectedEntryTextColorNightTitle',\n\t\ttype: 'color',\n\t\tvalue: '#DDDDDD',\n\t\tdescription: 'selectedEntryTextColorNightDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.setColors.value,\n\t},\n\toutlineStyle: {\n\t\ttitle: 'selectedEntryOutlineStyleTitle',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'selectedEntryOutlineStyleDesc',\n\t\tadvanced: true,\n\t},\n\toutlineStyleNight: {\n\t\ttitle: 'selectedEntryOutlineStyleNightTitle',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'selectedEntryOutlineStyleNightDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.addLine.value) styleLine();\n\tif (module.options.setColors.value) styleColor();\n\tstyleOutline();\n\n\tSelectedThing.setScrollToSelectedThingOnLoad(module.options.scrollToSelectedThingOnLoad.value);\n};\n\nmodule.contentStart = () => {\n\t// Select Thing on manual click\n\t// In comment threads `thingSelector` may match parents of `e.currentTarget`; throttle in order to invoke `select` only on the bottom Thing\n\t$(document.body).on('mouseup', Thing.thingSelector, _.throttle((e: MouseEvent) => {\n\t\tif (click.isProgrammaticEvent(e)) return;\n\t\tconst thing = Thing.from(e.currentTarget);\n\t\tif (thing) SelectedThing.set(thing);\n\t}, 50, { leading: true, trailing: false }));\n\n\tif (module.options.autoSelectOnScroll.value) {\n\t\twindow.addEventListener('scroll', () => { SelectedThing.selectClosestInView(); });\n\t}\n};\n\nmodule.afterLoad = () => {\n\tif (!SelectedThing.current || !SelectedThing.current.isVisible()) SelectedThing.selectClosestInView();\n};\n\n// why !important on .entry.res-selected?  Because some subreddits are unfortunately using !important for no good reason on .entry divs...\n\nfunction styleLine() {\n\taddCSS(`\n\t\t.entry.res-selected { box-shadow: 3px 0 0 -1px #c2d2e0 !important; }\n\t\t.res-nightmode .entry.res-selected { box-shadow: 3px 0 0 -1px grey !important; }\n\t`);\n}\n\nfunction styleColor() {\n\t// Add legacy classes for external stylesheets which override these styles\n\tSelectedThing.addListener((current, previous) => {\n\t\tif (previous) {\n\t\t\tprevious.entry.classList.remove('RES-keyNav-activeElement');\n\t\t\tprevious.element.classList.remove('RES-keyNav-activeThing');\n\t\t}\n\t\tif (current) {\n\t\t\tcurrent.entry.classList.add('RES-keyNav-activeElement');\n\t\t\tcurrent.element.classList.add('RES-keyNav-activeThing');\n\t\t}\n\t}, 'instantly');\n\n\tconst backgroundColor = module.options.backgroundColor.value ? `\n\t\t.entry.res-selected,\n\t\t.entry.res-selected .md-container {\n\t\t\tbackground-color: ${module.options.backgroundColor.value} !important;\n\t\t}` : '';\n\n\tconst backgroundColorNight = module.options.backgroundColorNight.value ? `\n\t\t.res-nightmode .entry.res-selected,\n\t\t.res-nightmode .entry.res-selected .md-container {\n\t\t\tbackground-color: ${module.options.backgroundColorNight.value} !important;\n\t\t}` : '';\n\n\tconst textColorNight = module.options.textColorNight.value ? `\n\t\t.res-nightmode .entry.res-selected > .tagline,\n\t\t.res-nightmode .entry.res-selected .md-container > .md,\n\t\t.res-nightmode .entry.res-selected .md-container > .md p {\n\t\t\tcolor: ${module.options.textColorNight.value} !important;\n\t\t}` : '';\n\n\taddCSS(backgroundColor + backgroundColorNight + textColorNight);\n}\n\nfunction styleOutline() {\n\tconst outlineStyle = module.options.outlineStyle.value ? `\n\t\t.entry.res-selected {\n\t\t\toutline: ${module.options.outlineStyle.value};\n\t\t}` : '';\n\n\tconst outlineStyleNight = module.options.outlineStyleNight.value ? `\n\t\t.res-nightmode .entry.res-selected {\n\t\t\toutline: ${module.options.outlineStyleNight.value};\n\t\t}\n\t` : '';\n\n\tconst style = outlineStyle + outlineStyleNight;\n\tif (style) {\n\t\taddCSS(style);\n\t}\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { empty, formatDate, formatDateDiff, formatNumber, getUserInfo, loggedInUser, string } from '../utils';\n\nexport const module: Module<*> = new Module('showKarma');\n\nmodule.moduleName = 'showKarmaName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'showKarmaDesc';\nmodule.options = {\n\tshowCommentKarma: {\n\t\ttitle: 'showKarmaShowCommentKarmaTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showKarmaShowCommentKarmaDesc',\n\t},\n\tseparator: {\n\t\ttitle: 'showKarmaSeparatorTitle',\n\t\ttype: 'text',\n\t\tvalue: '\\u00b7',\n\t\tdescription: 'showKarmaSeparatorDesc',\n\t\tadvanced: true,\n\t},\n\tuseCommas: {\n\t\ttitle: 'showKarmaUseCommasTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showKarmaUseCommasDesc',\n\t},\n\tshowGold: {\n\t\ttitle: 'showKarmaShowGoldTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showKarmaShowGoldDesc',\n\t},\n};\n\nmodule.contentStart = async () => {\n\tif (!loggedInUser()) return;\n\n\tconst { data } = await getUserInfo();\n\n\tupdateKarmaDiv(data);\n\n\tif (module.options.showGold.value && data.is_gold) {\n\t\tdisplayGold(data.gold_expiration);\n\t}\n};\n\nfunction updateKarmaDiv(data) {\n\tconst karmaDiv = document.querySelector('#header-bottom-right .userkarma');\n\tif (!karmaDiv) return;\n\n\tkarmaDiv.title = '';\n\tempty(karmaDiv);\n\n\tkarmaDiv.append(string.html`<a title=\"post karma\" href=\"/user/me/submitted/\">${module.options.useCommas.value ? formatNumber(data.link_karma) : data.link_karma}</a>`);\n\n\tif (module.options.showCommentKarma.value) {\n\t\tkarmaDiv.append(\n\t\t\tmodule.options.separator.value,\n\t\t\tstring.html`<a title=\"comment karma\" href=\"/user/me/comments/\">${module.options.useCommas.value ? formatNumber(data.comment_karma) : data.comment_karma}</a>`,\n\t\t);\n\t}\n}\n\n// If the user has gold and would like to, display the gilded-icon in the user span.\nfunction displayGold(expires: number) {\n\t// Get the user <span> located in the userbar\n\tconst userSpan = document.querySelector('#header-bottom-right .user');\n\tif (!userSpan) return;\n\n\tconst today = new Date();\n\tconst expDate = new Date(expires * 1000); // s -> ms\n\tconst title = expDate > today ? `Until ${formatDate(expDate)} (${formatDateDiff(today, expDate)})` : '';\n\n\tuserSpan.prepend(string.html`<span title=\"${title}\" class=\"gilded-icon\"></span>`);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { ajax } from '../environment';\nimport { watchForThings, regexes, keyedMutex, preventCloning, string } from '../utils';\n\nexport const module: Module<*> = new Module('sourceSnudown');\n\nmodule.moduleName = 'sourceSnudownName';\nmodule.description = 'sourceSnudownDesc';\nmodule.category = 'commentsCategory';\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post', 'comment', 'message'], attachViewSourceButton);\n};\n\nconst sourceButton = (e => () => preventCloning(e().cloneNode(true)))(_.once(() => {\n\t$(document.body)\n\t\t.on('click', 'li.viewSource a', function(e: Event) {\n\t\t\te.preventDefault();\n\t\t\tviewSource(this);\n\t\t})\n\t\t.on('click', '.usertext-edit.viewSource .cancel', function() {\n\t\t\t$(this).parents('.usertext-edit.viewSource').hide();\n\t\t});\n\n\treturn string.html`\n\t\t<li class=\"viewSource\">\n\t\t\t<a class=\"noCtrlF\" href=\"javascript:void 0\" data-text=\"source\"></a>\n\t\t</li>\n\t`;\n}));\n\nfunction attachViewSourceButton(thing) {\n\t// Link posts don't have any source\n\tif (thing.isLinkPost()) return;\n\n\tconst buttons =\n\t\t// .first is the first button after NSFW/spoiler stamps\n\t\tthing.entry.querySelector('.flat-list.buttons > li.first') ||\n\t\t// but some pages (inbox) don't have the .first class\n\t\tthing.entry.querySelector('.flat-list.buttons > li');\n\tif (buttons) buttons.after(sourceButton());\n}\n\nconst viewSource = keyedMutex(async button => {\n\tconst $button = $(button);\n\tconst $buttonList = $button.closest('ul');\n\tif ($button.data('source-open')) {\n\t\t$button\n\t\t\t.closest('.thing')\n\t\t\t.find('.usertext-edit.viewSource:first')\n\t\t\t.toggle();\n\t} else {\n\t\tconst path = ($buttonList.find('a.bylink, .first a').get(0): any).pathname;\n\n\t\tconst response = await ajax({\n\t\t\turl: `${path}.json`,\n\t\t\tquery: { raw_json: 1 },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst $userTextForm = $('<div class=\"usertext-edit viewSource\"><div><textarea rows=\"1\" cols=\"1\" name=\"text\" readonly></textarea></div><div class=\"bottom-area\"><div class=\"usertext-buttons\"><button type=\"button\" class=\"cancel\">hide</button></div></div></div>');\n\t\t$userTextForm.find('textarea').one('dblclick', () => $userTextForm.removeAttr('readonly'));\n\n\t\tlet sourceText;\n\n\t\tif (regexes.commentPermalink.test(path)) {\n\t\t\tsourceText = response[1].data.children[0].data.body;\n\t\t} else if (regexes.comments.test(path)) {\n\t\t\tsourceText = response[0].data.children[0].data.selftext;\n\t\t} else {\n\t\t\tconst postId: string = ((/\\/(\\w*)\\/?$/).exec(path): any)[1];\n\t\t\tconst data = response.data.children[0].data;\n\t\t\tif (data.id === postId) {\n\t\t\t\tsourceText = data.body;\n\t\t\t} else {\n\t\t\t\t// The message we want is a reply to a PM/modmail, but reddit returns the whole thread.\n\t\t\t\t// So, we have to dig into the replies to find the message we want.\n\t\t\t\tsourceText = data.replies.data.children.find(({ data: { id } }) => id === postId).data.body;\n\t\t\t}\n\t\t}\n\n\t\t$userTextForm.find('textarea[name=text]').text(sourceText);\n\t\t$buttonList.before($userTextForm);\n\t\t$(button).data('source-open', true);\n\t}\n});\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport {\n\tloggedInUser,\n\twatchForThings,\n} from '../utils';\n\nexport const module: Module<*> = new Module('spamButton');\n\nmodule.moduleName = 'spamButtonName';\nmodule.category = 'submissionsCategory';\nmodule.disabledByDefault = true;\nmodule.description = 'spamButtonDesc';\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post', 'comment'], addSpamButton);\n};\n\nfunction addSpamButton(thing) {\n\tconst authorElement = thing.getAuthorElement();\n\tconst authorName = thing.getAuthor();\n\tif (!authorElement || !authorName || loggedInUser() === authorName) return;\n\n\tconst spam = document.createElement('li');\n\t// insert spam button second to last in the list... this is a bit hacky and assumes singleClick is enabled...\n\t// it should probably be made smarter later, but there are so many variations of configs, etc, that it's a bit tricky.\n\tconst buttons = thing.getButtons();\n\tif (buttons.lastElementChild) buttons.lastElementChild.before(spam);\n\telse buttons.append(spam);\n\n\tconst a = document.createElement('a');\n\ta.setAttribute('class', 'option noCtrlF');\n\ta.setAttribute('title', 'Report this user as a spammer');\n\ta.href = `/message/compose?to=/r/reddit.com&subject=spam&message=${authorElement.href}`;\n\ta.target = '_blank';\n\ta.rel = 'noopener noreferer';\n\ta.dataset.text = 'rts';\n\tspam.appendChild(a);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('spoilerTags');\n\nmodule.moduleName = 'spoilerTagsName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'spoilerTagsDesc';\nmodule.include = [\n\t'profile',\n];\nmodule.bodyClass = true;\nmodule.options = {\n\ttransition: {\n\t\ttitle: 'spoilerTagsTransitionTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'spoilerTagsTransitionDesc',\n\t\tbodyClass: true,\n\t},\n};\n","/* @flow */\n\nimport { addCSS } from '../utils';\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('styleTweaks');\n\nmodule.moduleName = 'styleTweaksName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'styleTweaksDesc';\nmodule.options = {\n\tnavTop: {\n\t\ttitle: 'styleTweaksNavTopTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksNavTopDesc',\n\t\tbodyClass: 'res-navTop',\n\t},\n\tdisableAnimations: {\n\t\ttitle: 'styleTweaksDisableAnimationsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksDisableAnimationsDesc',\n\t\tbodyClass: true,\n\t},\n\tvisitedStyle: {\n\t\ttitle: 'styleTweaksVisitedStyleTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksVisitedStyleDesc',\n\t\tbodyClass: true,\n\t},\n\tshowExpandos: {\n\t\ttitle: 'styleTweaksShowExpandosTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksShowExpandosDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\thideUnvotable: {\n\t\ttitle: 'styleTweaksHideUnvotableTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksHideUnvotableDesc',\n\t\tbodyClass: true,\n\t},\n\tshowFullLinkFlair: {\n\t\ttitle: 'styleTweaksShowFullLinkFlairTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Never',\n\t\t\tvalue: 'never',\n\t\t}, {\n\t\t\tname: 'On hover',\n\t\t\tvalue: 'hover',\n\t\t}, {\n\t\t\tname: 'Always',\n\t\t\tvalue: 'always',\n\t\t}],\n\t\tvalue: 'never',\n\t\tdescription: 'styleTweaksShowFullLinkFlairDesc',\n\t\tbodyClass: true,\n\t},\n\thighlightEditedTime: {\n\t\ttitle: 'styleTweaksHighlightEditedTimeTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksHighlightEditedTimeDesc',\n\t\tbodyClass: true,\n\t},\n\tcolorBlindFriendly: {\n\t\ttitle: 'styleTweaksColorBlindFriendlyTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksColorBlindFriendlyDesc',\n\t\tadvanced: true,\n\t\tbodyClass: 'res-colorblind',\n\t},\n\tscrollSubredditDropdown: {\n\t\ttitle: 'styleTweaksScrollSubredditDropdownTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksScrollSubredditDropdownDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\thighlightTopLevel: {\n\t\ttitle: 'styleTweaksHighlightTopLevelTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksHighlightTopLevelDesc',\n\t},\n\thighlightTopLevelColor: {\n\t\ttitle: 'styleTweaksHighlightTopLevelColorTitle',\n\t\ttype: 'color',\n\t\tdependsOn: options => options.highlightTopLevel.value,\n\t\tdescription: 'styleTweaksHighlightTopLevelColorDesc',\n\t\tvalue: '#8B0000',\n\t},\n\thighlightTopLevelSize: {\n\t\ttitle: 'styleTweaksHighlightTopLevelSizeTitle',\n\t\ttype: 'text',\n\t\tdependsOn: options => options.highlightTopLevel.value,\n\t\tdescription: 'styleTweaksHighlightTopLevelSizeDesc',\n\t\tvalue: '2',\n\t},\n\tfloatingSideBar: {\n\t\ttitle: 'styleTweaksFloatingSideBarTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksFloatingSideBarDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tpostTitleCapitalization: {\n\t\ttitle: 'styleTweaksPostTitleCapitalizationTitle',\n\t\tdescription: 'styleTweaksPostTitleCapitalizationDesc',\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'do nothing',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Title Case',\n\t\t\tvalue: 'title',\n\t\t}, {\n\t\t\tname: 'Sentence case',\n\t\t\tvalue: 'sentence',\n\t\t}, {\n\t\t\tname: 'lowercase',\n\t\t\tvalue: 'lowercase',\n\t\t}],\n\t\tbodyClass: true,\n\t},\n\thideDomainLink: {\n\t\ttitle: 'styleTweaksHideDomainLink',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksHideDomainLinkDesc',\n\t\tbodyClass: true,\n\t},\n\tflairEmojiAsText: {\n\t\ttitle: 'styleTweaksFlairEmojiAsText',\n\t\tdescription: 'styleTweaksFlairEmojiAsTextDesc',\n\t\ttype: 'enum',\n\t\tvalue: 'never',\n\t\tvalues: [{\n\t\t\tname: 'styleTweaksFlairEmojiAsTextNever',\n\t\t\tvalue: 'never',\n\t\t}, {\n\t\t\tname: 'styleTweaksFlairEmojiAsTextNoSubStyle',\n\t\t\tvalue: 'nosubstyle',\n\t\t}, {\n\t\t\tname: 'styleTweaksFlairEmojiAsTextAlways',\n\t\t\tvalue: 'always',\n\t\t}],\n\t\tbodyClass: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.highlightTopLevel.value) {\n\t\tconst highlightTopLevelColor = module.options.highlightTopLevelColor.value || module.options.highlightTopLevelColor.default;\n\t\tconst highlightTopLevelSize = parseInt(module.options.highlightTopLevelSize.value || module.options.highlightTopLevelSize.default, 10);\n\t\taddCSS(`\n\t\t\t.nestedlisting > .comment + .clearleft {\n\t\t\t\theight: ${highlightTopLevelSize}px !important;\n\t\t\t\tmargin-bottom: 5px;\n\t\t\t\tbackground: ${highlightTopLevelColor} !important;\n\t\t\t}\n\t\t\t.Comment.top-level {\n\t\t\t\tborder-top: ${highlightTopLevelSize}px solid ${highlightTopLevelColor};\n\t\t\t}\n\t\t`);\n\t}\n};\n\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { filter, flow } from 'lodash/fp';\nimport { Module } from '../core/module';\nimport {\n\tBodyClasses,\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tfilterMap,\n\tloggedInUser,\n\tstring,\n} from '../utils';\nimport * as CustomToggles from './customToggles';\n\nexport const module: Module<*> = new Module('stylesheet');\n\nmodule.moduleName = 'stylesheetName';\nmodule.description = 'stylesheetDesc';\nmodule.category = 'appearanceCategory';\nmodule.exclude = [\n\t'prefs',\n\t'account',\n\t'stylesheet',\n\t'subredditAbout',\n];\n\nmodule.options = {\n\tredditThemes: {\n\t\ttitle: 'stylesheetRedditThemesTitle',\n\t\tdescription: 'stylesheetRedditThemesDesc',\n\t\ttype: 'button',\n\t\ttext: 'learn more',\n\t\tcallback() {\n\t\t\twindow.location.href = 'https://www.reddit.com/r/Enhancement/wiki/faq/srstyle#reddit_themes';\n\t\t},\n\t},\n\tloadStylesheets: {\n\t\ttitle: 'stylesheetLoadStylesheetsTitle',\n\t\ttype: 'table',\n\t\tdescription: 'stylesheetLoadStylesheetsDesc',\n\t\tvalue: ([\n\t\t\t// loading stylesheets is expensive for reddit (#4302), so this should not have a default value\n\t\t]: Array<[string, string, string, string]>),\n\t\tfields: [{\n\t\t\tkey: 'urlOrSubreddit',\n\t\t\tname: 'url or subreddit',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'applyTo',\n\t\t\ttype: 'select',\n\t\t\tvalues: [{\n\t\t\t\tname: 'Everywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'Everywhere but:',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'Only on:',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'applyToSubreddits',\n\t\t\tname: 'applyToSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'customToggle',\n\t\t\tname: 'customToggle',\n\t\t\ttype: 'select',\n\t\t\tget values() { return getToggles(); },\n\t\t\tvalue: '',\n\t\t}],\n\t},\n\tsnippets: {\n\t\ttitle: 'stylesheetSnippetsTitle',\n\t\ttype: 'table',\n\t\tdescription: 'stylesheetSnippetsDesc',\n\t\tvalue: ([]: Array<[string, string, string, string]>),\n\t\tfields: [{\n\t\t\tkey: 'snippet',\n\t\t\tname: 'snippet',\n\t\t\ttype: 'textarea',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'applyTo',\n\t\t\ttype: 'select',\n\t\t\tvalues: [{\n\t\t\t\tname: 'Everywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'Everywhere but:',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'Only on:',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'applyToSubreddits',\n\t\t\tname: 'applyToSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'customToggle',\n\t\t\tname: 'customToggle',\n\t\t\ttype: 'select',\n\t\t\tget values() { return getToggles(); },\n\t\t\tvalue: '',\n\t\t}],\n\t},\n\tbodyClasses: {\n\t\ttitle: 'stylesheetBodyClassesTitle',\n\t\ttype: 'table',\n\t\tdescription: 'stylesheetBodyClassesDesc',\n\t\tvalue: ([]: Array<[string, string, string, string]>),\n\t\tfields: [{\n\t\t\tkey: 'classes',\n\t\t\tname: 'classes',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'applyTo',\n\t\t\ttype: 'select',\n\t\t\tvalues: [{\n\t\t\t\tname: 'Everywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'Everywhere but:',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'Only on:',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'applyToSubreddits',\n\t\t\tname: 'applyToSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'customToggle',\n\t\t\tname: 'customToggle',\n\t\t\ttype: 'select',\n\t\t\tget values() { return getToggles(); },\n\t\t\tvalue: '',\n\t\t}],\n\t},\n\tsubredditClass: {\n\t\ttitle: 'stylesheetSubredditClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'stylesheetSubredditClassDesc',\n\t},\n\tmultiredditClass: {\n\t\ttitle: 'stylesheetMultiredditClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'stylesheetMultiredditClassDesc',\n\t},\n\tusernameClass: {\n\t\ttitle: 'stylesheetUsernameClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'stylesheetUsernameClassDesc',\n\t},\n\tloggedInUserClass: {\n\t\ttitle: 'stylesheetLoggedInUserClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'stylesheetLoggedInUserClassDesc',\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.subredditClass.value) {\n\t\tapplySubredditClass();\n\t}\n\tif (module.options.usernameClass.value) {\n\t\tapplyUsernameClass();\n\t}\n\tif (module.options.multiredditClass.value) {\n\t\tapplyMultiredditClass();\n\t}\n\n\t$(CustomToggles.module).on('toggle', applyStyles);\n\tapplyStyles();\n\n\tfunction applyStyles() {\n\t\tapplyBodyClasses();\n\t\tloadStylesheets();\n\t\tapplyCssSnippets();\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.loggedInUserClass.value) {\n\t\tapplyLoggedInUserClass();\n\t}\n};\n\nfunction applySubredditClass() {\n\tlet name = currentSubreddit();\n\tif (name) {\n\t\tname = name.toLowerCase();\n\t\tBodyClasses.add(`res-r-${name}`);\n\t}\n}\n\nfunction applyMultiredditClass() {\n\tlet name = currentMultireddit();\n\tif (name) {\n\t\tname = name.toLowerCase().replace(/\\//g, '-');\n\t\tBodyClasses.add(`res-${name}`);\n\t}\n}\n\nfunction applyUsernameClass() {\n\tlet name = currentUserProfile();\n\tif (name) {\n\t\tname = name.toLowerCase();\n\t\tBodyClasses.add(`res-user-${name}`);\n\t}\n}\n\nfunction applyLoggedInUserClass() {\n\tlet name = loggedInUser();\n\tif (name) {\n\t\tname = name.toLowerCase();\n\t\tBodyClasses.add(`res-me-${name}`);\n\t}\n}\n\nfunction applyBodyClasses() {\n\tconst addClasses = module.options.bodyClasses.value\n\t\t.filter(row => shouldApply(row[3], row[1], row[2]))\n\t\t.map(row => (row[0] || '').split(/[\\s,]/))\n\t\t.reduce((a, b) => a.concat(b), []);\n\n\tconst removeClasses = module.options.bodyClasses.value\n\t\t.filter(row => !shouldApply(row[3], row[1], row[2]))\n\t\t.map(row => (row[0] || '').split(/[\\s,]/))\n\t\t.reduce((a, b) => a.concat(b), []);\n\n\tBodyClasses.add(...addClasses);\n\tBodyClasses.remove(...removeClasses);\n}\n\nconst subredditNameRegexp = /^(?:\\/?r\\/)?([\\w_]+)\\/?$/;\nconst urlRegexp = /^(?:https?:\\/\\/[\\w\\.]+)?\\/\\w+/;\n\nconst sanitizeStylesheetUrls = filterMap(([url]) => {\n\tconst subredditMatch = subredditNameRegexp.exec(url);\n\tif (subredditMatch) {\n\t\treturn [`/r/${subredditMatch[1]}/stylesheet.css`];\n\t} else if (urlRegexp.test(url)) {\n\t\treturn [url];\n\t}\n});\n\nfunction loadStylesheets() {\n\tconst stylesheetUrls = flow(\n\t\tfilter(row => shouldApply(row[3], row[1], row[2])),\n\t\tsanitizeStylesheetUrls,\n\t)(module.options.loadStylesheets.value);\n\n\tstylesheetManager.sync(stylesheetUrls);\n}\n\nconst stylesheetManager = stylesheetElementManager(url => string.html`<link rel=\"stylesheet\" href=\"${url}\">`);\n\nfunction applyCssSnippets() {\n\tconst snippets = module.options.snippets.value\n\t\t.filter(row => shouldApply(row[3], row[1], row[2]))\n\t\t.map(([css]) => css);\n\n\tsnippetManager.sync(snippets);\n}\n\nconst snippetManager = stylesheetElementManager(css => {\n\tconst style = document.createElement('style');\n\tstyle.textContent = css;\n\treturn style;\n});\n\nfunction stylesheetElementManager<T>(generateElement: (x: T) => HTMLElement): { sync(xs: T[]): void } {\n\tconst current = new Map();\n\n\tfunction sync(wantedKeys) {\n\t\tconst currentKeys = Array.from(current.keys());\n\n\t\t_.difference(wantedKeys, currentKeys)\n\t\t\t.forEach(x => {\n\t\t\t\tconst ele = generateElement(x);\n\t\t\t\tcurrent.set(x, ele);\n\t\t\t\t(document.head || document.documentElement).append(ele);\n\t\t\t});\n\n\t\t_.difference(currentKeys, wantedKeys)\n\t\t\t.forEach(x => {\n\t\t\t\tconst ele = current.get(x);\n\t\t\t\tcurrent.delete(x);\n\t\t\t\tif (ele) ele.remove();\n\t\t\t});\n\t}\n\n\treturn { sync };\n}\n\nfunction shouldApply(toggle, applyTo, applyList) {\n\tif (toggle && !CustomToggles.toggleActive(toggle)) return false;\n\n\tlet subreddit = currentSubreddit();\n\tif (!subreddit) {\n\t\treturn (applyTo !== 'include');\n\t}\n\n\tsubreddit = subreddit.toLowerCase();\n\tapplyList = typeof applyList === 'string' ? applyList.toLowerCase().split(',') : [];\n\n\tswitch (applyTo) {\n\t\tcase 'exclude':\n\t\t\treturn !(applyList.includes(subreddit) || applyList.includes('all'));\n\t\tcase 'include':\n\t\t\treturn applyList.includes(subreddit) || applyList.includes('all');\n\t\tdefault:\n\t\t\treturn true;\n\t}\n}\n\nfunction getToggles() {\n\treturn [\n\t\t{ name: 'No toggle needed', value: '' },\n\t\t...CustomToggles.getToggles().map(({ key, text }) => ({ name: text, value: key })),\n\t];\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { ajax, i18n } from '../environment';\nimport {\n\tformatDateDiff,\n\tisAppType,\n\tisPageType,\n\tstring,\n\twaitForDescendant,\n\twaitForEvent,\n} from '../utils';\nimport type { RedditListing, RedditLink } from '../types/reddit';\nimport * as CommandLine from './commandLine';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('submitHelper');\n\nmodule.moduleName = 'submitHelperName';\nmodule.category = 'submissionsCategory';\nmodule.description = 'submitHelperDesc';\nmodule.options = {\n\twarnAlreadySubmitted: {\n\t\ttitle: 'submitHelperWarnAlreadySubmittedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'submitHelperWarnAlreadySubmittedDesc',\n\t},\n\tuncheckSendRepliesToInbox: {\n\t\ttitle: 'submitHelperUncheckSendRepliesToInboxTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'submitHelperUncheckSendRepliesToInboxDesc',\n\t},\n\tfocusFormOnLoad: {\n\t\ttitle: 'submitHelperFocusFormOnLoadTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'submitHelperFocusFormOnLoadDesc',\n\t},\n};\n\nconst $repostWarning = _.once(() => $(string.html`\n\t<div class=\"spacer\" style=\"display: none\">\n\t\t<div class=\"roundfield info-notice\">\n\t\t\t<a style=\"float: right\" class=\"gearIcon\" href=\"${SettingsNavigation.makeUrlHash(module.moduleID, 'warnAlreadySubmitted')}\"></a>\n\t\t\t<p>This link was submitted to <a class=\"subredditLink\" href=\"#\"></a>:<span class=\"time\"></span><a class=\"seeMore\" href=\"#\" target=\"_blank\" rel=\"noopener noreferer\">(see more)</a></p>\n\t\t</div>\n\t</div>\n`));\n\nlet urlField, srField;\n\nmodule.go = () => {\n\timplementOptions();\n\t// Register submit CLI if not on the submit page\n\tif (!isPageType('submit')) {\n\t\tregisterCommandLine();\n\t}\n};\n\nasync function implementOptions() {\n\tif (isAppType('d2x')) {\n\t\twaitForEvent(document, 'reddit.urlChanged').then(implementOptions);\n\t}\n\tif (!isPageType('submit')) {\n\t\treturn;\n\t}\n\t// Implement submitHelper preferences if on the submit page\n\tif (module.options.warnAlreadySubmitted.value) {\n\t\tconst urlFieldDiv = document.querySelector('#url-field');\n\t\tif (urlFieldDiv) {\n\t\t\t$(urlFieldDiv).parent().after($repostWarning());\n\t\t\turlField = ((urlFieldDiv.querySelector('#url'): any): HTMLInputElement);\n\t\t\tsrField = ((document.querySelector('#sr-autocomplete'): any): HTMLInputElement);\n\t\t\t$([srField, urlField]).on('input keydown', _.debounce(updateRepostWarning, 300));\n\t\t\t// No event is fired when reddit's js changes the subreddit field, so update whenever the user clicks\n\t\t\t$('#suggested-reddits a, #sr-drop-down').on('click', updateRepostWarning);\n\t\t\t// We would allow reddit to show/hide the message for link/text posts with #link-desc\n\t\t\t// but some subreddits hide this box, so we'll do it manually.\n\t\t\tconst linkButton = document.querySelector('a.link-button');\n\t\t\tconst textButton = document.querySelector('a.text-button');\n\t\t\tif (linkButton && textButton) {\n\t\t\t\tlinkButton.addEventListener('click', () => { updateRepostWarning(); });\n\t\t\t\ttextButton.addEventListener('click', () => { $repostWarning().hide(); });\n\t\t\t}\n\t\t}\n\t}\n\n\tif (module.options.uncheckSendRepliesToInbox.value) {\n\t\tconst selector = isAppType('d2x') ? '[aria-labelledby=\"send-replies\"]' : '#sendreplies';\n\t\tconst sendReplies: ?HTMLElement = await waitForDescendant(document.documentElement, selector);\n\t\tif (sendReplies) {\n\t\t\tsendReplies.click();\n\t\t}\n\t}\n\n\tif (module.options.focusFormOnLoad.value) {\n\t\tif (isAppType('d2x')) {\n\t\t\t$('textarea').filter(':visible').first().focus();\n\t\t} else {\n\t\t\t$('form.submit [name=url], form.submit [name=title]').filter(':visible').first().focus();\n\t\t}\n\t}\n}\n\nfunction registerCommandLine() {\n\tconst trailingUrl = /(?:\\s+(\\w+:\\/\\/.+))$/;\n\tconst cliParams = /^(?:(?:\\/?r\\/)?(\\w+))?(?:\\s+(.*))?$/;\n\n\tfunction commandLineParameters(val) {\n\t\tconst urlResult = trailingUrl.exec(val);\n\t\tconst result = cliParams.exec(urlResult ? val.slice(0, val.length - urlResult[0].length) : val);\n\t\treturn result ? result.slice(1).concat(urlResult ? urlResult[1] : undefined) : [];\n\t}\n\n\tCommandLine.registerCommand(/^p(?:ost)?$/,\n\t\t'post [subreddit] [title] [url] - submit a post to a subreddit',\n\t\t(command, val) => {\n\t\t\tconst [subreddit, title, url] = commandLineParameters(val);\n\t\t\tif (!subreddit) {\n\t\t\t\t// Use default value\n\t\t\t} else if (url) {\n\t\t\t\treturn `Post ${url} to /r/${subreddit}: ${title || ''}`;\n\t\t\t} else if (title) {\n\t\t\t\treturn `Post to /r/${subreddit}: ${title}`;\n\t\t\t} else if (subreddit) {\n\t\t\t\treturn `Post to /r/${subreddit}`;\n\t\t\t}\n\t\t},\n\t\t(command, val) => {\n\t\t\tconst [subreddit, title, url] = commandLineParameters(val);\n\n\t\t\tconst redirect = subreddit ?\n\t\t\t\tstring.encode`/r/${subreddit}/submit?title=${title || ''}&url=${url || ''}` :\n\t\t\t\t'/submit';\n\n\t\t\twindow.location = redirect;\n\t\t},\n\t);\n}\n\nfunction showRepostWarning(sr, url, date) {\n\t$repostWarning()\n\t\t.find('.subredditLink').attr('href', `/r/${sr}`).text(`/r/${sr}`).end()\n\t\t.find('.seeMore').attr('href', string.encode`/r/${sr}/search?restrict_sr=on&sort=relevance&q=url%3A${url}`).end()\n\t\t.find('.time').text(` ${i18n('submitHelperTimeAgo', formatDateDiff(date))} `).end()\n\t\t.fadeIn(300);\n}\n\nfunction hideRepostWarning() {\n\t$repostWarning().fadeOut(300);\n}\n\nasync function updateRepostWarning() {\n\tif (!urlField.value) return;\n\tconst stripUrlRe = /^(?:https?:\\/\\/)?(?:(?:www|i|m)\\.)?(.+?)\\/?(?:\\.\\w+)?(?:#[^\\/]*)?$/i;\n\tconst subreddit = srField.value;\n\tconst match = stripUrlRe.exec(urlField.value);\n\n\tif (subreddit && match) {\n\t\tconst [, userUrl] = match;\n\t\ttry {\n\t\t\tconst { data } = (await ajax({\n\t\t\t\turl: string.encode`/r/${subreddit}/search.json`,\n\t\t\t\tquery: {\n\t\t\t\t\trestrict_sr: 'on',\n\t\t\t\t\tsort: 'relevance',\n\t\t\t\t\tlimit: 1,\n\t\t\t\t\tq: `url:${userUrl}`,\n\t\t\t\t},\n\t\t\t\ttype: 'json',\n\t\t\t}): RedditListing<RedditLink>);\n\n\t\t\tif (data && data.children.length && (data.children[0].data.url.match(stripUrlRe): any)[1] === userUrl) {\n\t\t\t\tshowRepostWarning(subreddit, userUrl, new Date(data.children[0].data.created_utc * 1000));\n\t\t\t} else {\n\t\t\t\thideRepostWarning();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\thideRepostWarning();\n\t\t\tthrow e;\n\t\t}\n\t} else {\n\t\thideRepostWarning();\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tCreateElement,\n\tHOUR,\n\tformatDate,\n\tformatDateDiff,\n\tformatNumber,\n\tisFakeSubreddit,\n\tloggedInUser,\n\tregexes,\n\tstring,\n} from '../utils';\nimport type { RedditSubreddit } from '../types/reddit';\nimport { ajax, i18n } from '../environment';\nimport * as Dashboard from './dashboard';\nimport * as FilteReddit from './filteReddit';\nimport * as Hover from './hover';\nimport * as SubredditManager from './subredditManager';\n\nexport const module: Module<*> = new Module('subredditInfo');\n\nmodule.moduleName = 'subredditInfoName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'subredditInfoDesc';\nmodule.options = {\n\trequireDirectLink: {\n\t\ttitle: 'subredditInfoRequireDirectLinkTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditInfoRequireDirectLinkDesc',\n\t},\n\thoverDelay: {\n\t\ttitle: 'subredditInfoHoverDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '800',\n\t\tdescription: 'subredditInfoHoverDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'subredditInfoFadeDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'subredditInfoFadeDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'subredditInfoFadeSpeedTitle',\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'subredditInfoFadeSpeedDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tconst linkSelector = [\n\t\t'a.subreddit',\n\t\t'a.search-subreddit-link',\n\t\t'.md a[href^=\"/r/\"]',\n\t\t'.Post a[href^=\"/r/\"]:not([href*=\"/comments/\"])',\n\t\t'.Comment a[href^=\"/r/\"]:not([href*=\"/comments/\"])',\n\t\t'a[data-click-id=\"subreddit\"]',\n\t\t!module.options.requireDirectLink.value && '.md a[href*=\"reddit.com/r/\"]',\n\t].filter(x => x).join(', ');\n\n\tHover.infocard(module.moduleID)\n\t\t.options({\n\t\t\twidth: 450,\n\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t})\n\t\t.populateWith(showSubredditInfo)\n\t\t.watch(linkSelector);\n};\n\nasync function showSubredditInfo(card) {\n\tconst match = regexes.subreddit.exec(card.getCheckedTarget().pathname);\n\tconst [, subreddit] = match || [];\n\n\t// Don't show popup if subreddit is in fake subreddit list\n\tif (!subreddit || isFakeSubreddit(subreddit)) return;\n\n\tconst header = string.html`<div><a href=\"/r/${subreddit}\">/r/${subreddit}</a></div>`;\n\n\tconst url = `/r/${subreddit.toLowerCase()}/about.json`;\n\tlet jsonData;\n\n\ttry {\n\t\tjsonData = (await ajax({ url, type: 'json', cacheFor: HOUR }): RedditSubreddit);\n\t} catch (e) {\n\t\treturn [null, i18n('subredditInfoErrorLoadingSubredditInfo')];\n\t}\n\n\tif (jsonData.kind !== 't5') {\n\t\treturn [null, i18n('subredditInfoSubredditNotFound')];\n\t}\n\n\tif (loggedInUser()) {\n\t\tconst button = CreateElement.fancyToggleButton(\n\t\t\ti18n('subredditInfoSubscribe'),\n\t\t\t'',\n\t\t\t() => !!jsonData.data.user_is_subscriber,\n\t\t\tstate => {\n\t\t\t\tSubredditManager.subscribeToSubreddit(jsonData.data.name, state);\n\t\t\t\tajax.invalidate({ url });\n\t\t\t},\n\t\t);\n\t\tbutton.style.marginLeft = '12px';\n\t\theader.appendChild(button);\n\n\t\tif (Modules.isEnabled(SubredditManager)) {\n\t\t\tSubredditManager.getMultiCounts(jsonData.data.display_name).then(v => $(button).after(v));\n\t\t}\n\t}\n\n\tconst d = new Date(jsonData.data.created_utc * 1000);\n\n\tconst $newBody = $(string.html`\n\t\t<div class=\"subredditInfoToolTip\">\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoSubredditCreated')}</div> <div class=\"subredditDetail\">${formatDate(d)} (${formatDateDiff(d)})</div>\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoSubscribers')}</div> <div class=\"subredditDetail\">${formatNumber(jsonData.data.subscribers)}</div>\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoTitle')}</div> <div class=\"subredditDetail\">${jsonData.data.title}</div>\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoOver18')}</div> <div class=\"subredditDetail\">${jsonData.data.over18 ? i18n('yes') : i18n('no')}</div>\n\t\t\t<div class=\"clear\"></div>\n\t\t\t<div id=\"subTooltipButtons\" class=\"bottomButtons\">\n\t\t\t\t<div class=\"clear\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`);\n\n\tif (Modules.isRunning(SubredditManager)) {\n\t\t$newBody.find('#subTooltipButtons').append(SubredditManager.createShortcutToggleButton(subreddit));\n\t}\n\n\tif (Modules.isEnabled(Dashboard)) {\n\t\t$newBody.find('#subTooltipButtons').append(Dashboard.createSubredditToggleButton(subreddit));\n\t}\n\n\tif (Modules.isEnabled(FilteReddit)) {\n\t\tconst button = CreateElement.fancyToggleButton(\n\t\t\ti18n('subredditInfoAddRemoveFilter'),\n\t\t\ti18n('subredditInfoFilterFromAllAndDomain'),\n\t\t\t() => FilteReddit.listFilters.subreddits.includesString(subreddit),\n\t\t\tstate => FilteReddit.listFilters.subreddits.toggleString(subreddit, state),\n\t\t);\n\t\t$newBody.find('#subTooltipButtons').append(button);\n\t}\n\n\treturn [header, $newBody];\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { escapeHTML, watchForThings } from '../utils';\n\nexport const module: Module<*> = new Module('subRedditTagger');\n\nmodule.moduleName = 'subredditTaggerName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'subredditTaggerDesc';\nmodule.options = {\n\tsubReddits: {\n\t\ttitle: 'subRedditTaggerSubRedditsTitle',\n\t\ttype: 'table',\n\t\taddRowText: '+add tag',\n\t\tfields: [{\n\t\t\tkey: 'subreddit',\n\t\t\tname: 'subreddit',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'doesntContain',\n\t\t\tname: 'doesntContain',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'tag',\n\t\t\tname: 'tag',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: ([]: Array<[string, string, string]>),\n\t\tdescription: 'subRedditTaggerSubRedditsDesc',\n\t},\n};\n\nconst SRTDoesntContain = new Map();\nconst SRTTagWith = new Map();\n\nmodule.beforeLoad = () => {\n\tif (!module.options.subReddits.value.length) return;\n\n\tfor (const [subreddit, doesntContain, tagWith] of module.options.subReddits.value) {\n\t\tSRTDoesntContain.set(subreddit.toLowerCase(), doesntContain);\n\t\tSRTTagWith.set(subreddit.toLowerCase(), tagWith);\n\t}\n\n\twatchForThings(['post'], scanTitle);\n};\n\nfunction scanTitle(thing) {\n\tconst tagToAdd = getTag(thing);\n\tif (tagToAdd !== undefined) {\n\t\tconst tagText = $('<span>').append(escapeHTML(tagToAdd)).append('&nbsp;');\n\t\t$(thing.getTitleElement()).parent().prepend(tagText);\n\t}\n}\n\nfunction getTag(thing) {\n\tlet hasTag = false;\n\n\tconst thisSubReddit = (thing.getSubreddit() || '').toLowerCase();\n\tif (thisSubReddit && SRTTagWith.has(thisSubReddit)) {\n\t\tlet thisString = SRTDoesntContain.get(thisSubReddit);\n\t\tif (thisString === undefined || thisString === '') {\n\t\t\tthisString = `[${thisSubReddit}]`;\n\t\t\tSRTDoesntContain.set(thisSubReddit, thisString);\n\t\t}\n\t\thasTag = thing.getTitle().includes(thisString) ||\n\t\t\tthing.getPostFlairText().includes(thisString);\n\t}\n\n\tif (!hasTag) {\n\t\treturn SRTTagWith.get(thisSubReddit);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { Table } from '../utils';\n\nexport const module: Module<*> = new Module('tableTools');\n\nmodule.moduleName = 'tableToolsName';\nmodule.category = 'productivityCategory';\nmodule.description = 'tableToolsDesc';\nmodule.options = {\n\tsort: {\n\t\ttitle: 'tableToolsSortTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'tableToolsSortDesc',\n\t\tbodyClass: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.sort.value) {\n\t\t$(document.body).on('click', '.md th, .Comment th, .Post th', Table.sortByColumn);\n\t}\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { downcast, string } from '../utils';\nimport { i18n } from '../environment';\n\nexport const module: Module<*> = new Module('temporaryDropdownLinks');\nmodule.moduleName = 'temporaryDropdownLinksName';\nmodule.category = 'browsingCategory';\nmodule.description = 'temporaryDropdownLinksDesc';\nmodule.options = {\n\talways: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'temporaryDropdownLinksAlwaysDesc',\n\t\ttitle: 'temporaryDropdownLinksAlwaysTitle',\n\t},\n};\nmodule.include = [\n\t/\\/(?:top|controversial)\\/$/,\n];\n\nmodule.contentStart = () => {\n\tsetupMenu();\n};\n\nfunction setupMenu() {\n\tconst mutateChoice = module.options.always.value ? removeListener : appendTemporaryButton;\n\tfor (const choice: HTMLAnchorElement of (document.querySelectorAll('.menuarea .drop-choices a.choice'): any)) {\n\t\tconst form = choice.closest('form');\n\t\tif (!form) continue;\n\t\tconst { name, value } = downcast(form.querySelector('input'), HTMLInputElement);\n\t\tif (name && value) {\n\t\t\tmutateChoice(choice, name, value);\n\t\t}\n\t}\n}\n\nfunction removeListener(choice, name, value) {\n\t// rewrite the href and remove the onclick\n\tchoice.search = `?${name}=${value}`;\n\tchoice.removeAttribute('onclick');\n}\n\nfunction appendTemporaryButton(choice, name, value) {\n\tconst url = new URL(choice.href);\n\turl.searchParams.set(name, value);\n\tconst link = string.html`\n\t\t<a class=\"RES-dropdown-button\" href=\"${url.href}\">${i18n('temporaryDropdownLinksTemporarily')}</a>\n\t`;\n\tlink.addEventListener('click', (e: MouseEvent) => e.stopPropagation());\n\tchoice.appendChild(link);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport { i18n } from '../environment';\nimport { BodyClasses } from '../utils';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('userbarHider');\n\nmodule.moduleName = 'userbarHiderName';\nmodule.description = 'userbarHiderDesc';\nmodule.category = 'myAccountCategory';\nmodule.disabledByDefault = true;\n\nmodule.options = {\n\tuserbarState: {\n\t\ttitle: 'userbarHiderUserbarStateTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Visible',\n\t\t\tvalue: 'visible',\n\t\t}, {\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'hidden',\n\t\t}],\n\t\tvalue: 'visible',\n\t\tdescription: 'userbarHiderUserbarStateDesc',\n\t},\n\ttoggleButtonState: {\n\t\ttitle: 'userbarHiderToggleButtonStateTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Visible',\n\t\t\tvalue: 'visible',\n\t\t}, {\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'hidden',\n\t\t}],\n\t\tvalue: 'visible',\n\t\tdescription: 'userbarHiderToggleButtonStateDesc',\n\t\tadvanced: true,\n\t},\n};\n\nlet userbar, $userbarToggle;\n\nmodule.contentStart = () => {\n\tuserbarHider();\n};\n\nfunction userbarHider() {\n\tuserbar = document.getElementById('header-bottom-right');\n\tif (userbar) {\n\t\tif (module.options.toggleButtonState.value === 'visible' || module.options.userbarState.value === 'hidden') {\n\t\t\taddToggleButton();\n\t\t}\n\t\tif (module.options.userbarState.value === 'hidden') {\n\t\t\tupdateUserBar();\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'userbarState',\n\t\t\t\tcooldown: 24 * 60 * 60 * 1000,\n\t\t\t\theader: i18n('userbarHiderUserBarHidden'),\n\t\t\t\tmessage: i18n('userbarHiderContentHiddenNotification', ''),\n\t\t\t});\n\t\t}\n\t}\n}\n\nfunction toggleUserBar() {\n\tmodule.options.userbarState.value = module.options.userbarState.value === 'hidden' ? 'visible' : 'hidden';\n\tOptions.save(module.options.userbarState);\n\tupdateUserBar();\n}\n\nfunction updateUserBar() {\n\tconst userbarHidden = (module.options.userbarState.value === 'hidden');\n\n\tupdateToggleButton(userbarHidden);\n\ttoggleUserbarElementsDisplay(userbarHidden);\n}\n\nfunction addToggleButton() {\n\t$userbarToggle = $('<div>', {\n\t\tid: 'userbarToggle',\n\t\ttitle: i18n('userbarHiderToggleUserbar'),\n\t\tclick: () => toggleUserBar(),\n\t}).prependTo(userbar);\n\n\tdocument.querySelector('#header-bottom-right').classList.add('res-userbar-toggle');\n\n\tupdateToggleButton(false);\n}\n\nfunction updateToggleButton(userbarHidden) {\n\t$userbarToggle\n\t\t.toggleClass('userbarHide', !userbarHidden)\n\t\t.toggleClass('userbarShow', userbarHidden)\n\t\t.html(userbarHidden ? '&laquo;' : '&raquo;');\n}\n\nfunction toggleUserbarElementsDisplay(userbarHidden) {\n\tBodyClasses.toggle(userbarHidden, 'res-hide-userbar');\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Metadata from '../core/metadata';\nimport { getExtensionId } from '../environment';\nimport {\n\tBodyClasses,\n\trange,\n\tstring,\n} from '../utils';\n\nexport const module: Module<*> = new Module('version');\n\nmodule.moduleName = 'versionName';\nmodule.category = 'aboutCategory';\nmodule.description = 'versionDesc';\nmodule.alwaysEnabled = true;\nmodule.hidden = true;\n\nconst concurrentInstallWiki = '/r/Enhancement/wiki/tutorials/concurrent_installs';\n\nmodule.beforeLoad = () => {\n\taddVersionClasses();\n};\n\nmodule.go = () => {\n\treportVersion();\n};\n\nmodule.afterLoad = () => {\n\tavoidConcurrentInstalls();\n};\n\nfunction addVersionClasses() {\n\tBodyClasses.add('res');\n\tconst versionComponents = Metadata.version.split('.');\n\tfor (const i of range(0, versionComponents.length)) {\n\t\tBodyClasses.add(`res-v${versionComponents.slice(0, i + 1).join('-')}`);\n\t}\n}\n\nfunction reportVersion() {\n\t// report the version of RES to reddit's advisory checker.\n\t$('<div>', {\n\t\tid: 'RESConsoleVersion',\n\t\tstyle: 'display: none;',\n\t\ttext: Metadata.version,\n\t\t'data-id': getExtensionId(),\n\t}).appendTo(document.body);\n}\n\nfunction avoidConcurrentInstalls() {\n\tconst installs = Array.from(document.querySelectorAll('#RESConsoleVersion'));\n\t// versions before 5.6.2 will not report their id, so assume they are unique\n\tconst concurrentInstalls = _.uniqBy(installs, e => e.getAttribute('data-id') || Math.random())\n\t\t.map(e => e.textContent);\n\n\tif (concurrentInstalls.length > 1) {\n\t\tBodyClasses.add('res-concurrent-installs');\n\t\tdocument.body.appendChild(string.html`\n\t\t\t<div id=\"res-concurrent-installs\">\n\t\t\t\t<p>You have enabled multiple versions of Reddit Enhancement Suite:</p>\n\t\t\t\t<ul>\n\t\t\t\t\t${concurrentInstalls.map(v => string._html`\n\t\t\t\t\t\t<li>${v}</li>\n\t\t\t\t\t`)}\n\t\t\t\t</ul>\n\t\t\t\t<p>You should enable only one. <a href=\"${concurrentInstallWiki}\">Find out how!</a>\n\t\t\t</div>\n\t\t`);\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\taddCSS,\n\tcolorFromArray,\n\tcolorToArray,\n\tprojectInto,\n\twatchForThings,\n\tzip,\n} from '../utils';\n\nexport const module: Module<*> = new Module('voteEnhancements');\n\nmodule.moduleName = 'voteEnhancementsName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'voteEnhancementsDesc';\nmodule.options = {\n\thighlightScores: {\n\t\ttitle: 'voteEnhancementsHighlightScoresTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'voteEnhancementsHighlightScoresDesc',\n\t\tbodyClass: true,\n\t},\n\tcolorLinkScore: {\n\t\ttitle: 'voteEnhancementsColorLinkScoreTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'No coloration',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Automatic coloration',\n\t\t\tvalue: 'automatic',\n\t\t}, {\n\t\t\tname: 'User-defined coloration',\n\t\t\tvalue: 'user',\n\t\t}],\n\t\tvalue: 'none',\n\t\tdescription: 'voteEnhancementsColorLinkScoreDesc',\n\t\tbodyClass: true,\n\t},\n\tuserDefinedLinkColoration: {\n\t\ttitle: 'voteEnhancementsUserDefinedLinkColorationTitle',\n\t\tdependsOn: options => options.colorLinkScore.value === 'user',\n\t\ttype: 'table',\n\t\taddRowText: '+add threshold',\n\t\tfields: [{\n\t\t\tkey: 'score',\n\t\t\tname: 'score',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'color',\n\t\t\tname: 'color',\n\t\t\ttype: 'color',\n\t\t}],\n\t\tvalue: [\n\t\t\t[0, '#5f99cf'],\n\t\t\t[10, '#F2B035'],\n\t\t\t[50, '#FF4500'],\n\t\t\t[100, '#D92B2B'],\n\t\t],\n\t\tdescription: 'voteEnhancementsUserDefinedLinkColorationDesc',\n\t\tsort([a], [b]) { // sort field with score increasing\n\t\t\treturn String(a).localeCompare(b, undefined, { numeric: true });\n\t\t},\n\t},\n\tcolorCommentScore: {\n\t\ttitle: 'voteEnhancementsColorCommentScoreTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'No coloration',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Automatic coloration',\n\t\t\tvalue: 'automatic',\n\t\t}, {\n\t\t\tname: 'Reddit Classic',\n\t\t\tvalue: 'simple',\n\t\t}, {\n\t\t\tname: 'User-defined coloration',\n\t\t\tvalue: 'user',\n\t\t}],\n\t\tvalue: 'none',\n\t\tdescription: 'voteEnhancementsColorCommentScoreDesc',\n\t},\n\tuserDefinedCommentColoration: {\n\t\ttitle: 'voteEnhancementsUserDefinedCommentColorationTitle',\n\t\tdependsOn: options => options.colorCommentScore.value === 'user',\n\t\ttype: 'table',\n\t\taddRowText: '+add threshold',\n\t\tfields: [{\n\t\t\tkey: 'score',\n\t\t\tname: 'score',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'color',\n\t\t\tname: 'color',\n\t\t\ttype: 'color',\n\t\t}],\n\t\tvalue: [\n\t\t\t[0, '#5f99cf'],\n\t\t\t[10, '#F2B035'],\n\t\t\t[50, '#FF4500'],\n\t\t\t[100, '#D92B2B'],\n\t\t],\n\t\tdescription: 'voteEnhancementsUserDefinedCommentColorationDesc',\n\t\tsort([a], [b]) { // sort field with score increasing\n\t\t\treturn String(a).localeCompare(b, undefined, { numeric: true });\n\t\t},\n\t},\n\tinterpolateScoreColor: {\n\t\ttitle: 'voteEnhancementsInterpolateScoreColorTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'voteEnhancementsInterpolateScoreColorDesc',\n\t\tadvanced: true,\n\t},\n\thighlightControversial: {\n\t\ttitle: 'voteEnhancementsHighlightControversialTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'voteEnhancementsHighlightControversialDesc',\n\t},\n\thighlightControversialColor: {\n\t\ttitle: 'voteEnhancementsHighlightControversialColorTitle',\n\t\tdependsOn: options => options.highlightControversial.value,\n\t\tadvanced: true,\n\t\ttype: 'color',\n\t\tvalue: '#cc0000',\n\t\tdescription: 'voteEnhancementsHighlightControversialColorDesc',\n\t},\n};\nmodule.include = ['comments', 'commentsLinklist', 'linklist', 'modqueue', 'profile', 'inbox'];\n\nmodule.beforeLoad = () => {\n\tif (module.options.colorLinkScore.value !== 'none') {\n\t\twatchForThings(['post'], applyLinkScoreColor);\n\t}\n\tif (module.options.colorCommentScore.value !== 'none') {\n\t\twatchForThings(['comment'], applyCommentScoreColor);\n\t}\n\n\tif (module.options.highlightControversial.value) {\n\t\thighlightControversial();\n\t}\n};\n\n/**\n * @param {number} score\n * @param {Array<Array>} colors An array of [scoreThreshold, color] pairs in ascending order of scoreThreshold\n * @param {string} defaultColor\n * @returns {string}\n */\nfunction interpolateScoreColor(score, colors, defaultColor) {\n\tif (!colors.length) return defaultColor;\n\n\tconst augmented = [\n\t\t[-Infinity, _.first(colors)[1]],\n\t\t...colors,\n\t\t[Infinity, _.last(colors)[1]],\n\t];\n\n\tfor (const [[lowBound, lowColor], [highBound, highColor]] of zip(augmented.slice(0, -1), augmented.slice(1))) {\n\t\tif (score >= lowBound && score < highBound) {\n\t\t\tif (module.options.interpolateScoreColor.value) {\n\t\t\t\treturn colorFromArray(\n\t\t\t\t\t_.zipWith(colorToArray(lowColor), colorToArray(highColor),\n\t\t\t\t\t\t(lowVal, highVal) => Math.round(projectInto(lowBound, highBound, lowVal, highVal, score)),\n\t\t\t\t\t),\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// only start using a color when the magnitude of the score exceeds the magnitude of the score bound\n\t\t\t\t// e.g. if we're between -10 and -5, use -5 (higher); if we're between 5 and 10, use 5 (lower)\n\t\t\t\treturn (score < 0) ? highColor : lowColor;\n\t\t\t}\n\t\t}\n\t}\n\n\t// should never be reached because score should always be in [-Infinity, Infinity]\n\treturn defaultColor;\n}\n\nfunction getLinkScoreColor(score) {\n\tif (module.options.colorLinkScore.value === 'automatic') {\n\t\treturn `hsl(${180 + 360 * (1 - 100 / (150 + score))}, 75%,50%)`;\n\t} else {\n\t\treturn interpolateScoreColor(score, module.options.userDefinedLinkColoration.value, '#c6c6c6');\n\t}\n}\n\nfunction getCommentScoreColor(score) {\n\tif (module.options.colorCommentScore.value === 'automatic') {\n\t\treturn `hsl(${180 + 360 * (1 - 50 / (100 + score))}, 75%,50%)`;\n\t} else {\n\t\tlet colors;\n\t\tif (module.options.colorCommentScore.value === 'user') {\n\t\t\tcolors = module.options.userDefinedCommentColoration.value;\n\t\t} else if (module.options.colorCommentScore.value === 'simple') {\n\t\t\tcolors = [\n\t\t\t\t[0, '#9494FF'],\n\t\t\t\t[1, '#888'],\n\t\t\t\t[2, '#FF8B60'],\n\t\t\t];\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn interpolateScoreColor(score, colors, '#888');\n\t}\n}\n\nfunction applyLinkScoreColor(thing) {\n\tconst score = thing.getScore();\n\tconst rankEle = thing.getRankElement();\n\tconst color = typeof score === 'number' && getLinkScoreColor(score);\n\n\tif (rankEle && color) {\n\t\trankEle.style.background = color;\n\t}\n}\n\nfunction applyCommentScoreColor(thing) {\n\tfor (const [scoreEle, score] of thing.getAllScoreElements()) {\n\t\tconst color = getCommentScoreColor(score);\n\n\t\tif (color) {\n\t\t\tscoreEle.style.color = color;\n\t\t}\n\t}\n}\n\nfunction highlightControversial() {\n\tconst color = module.options.highlightControversialColor.value || module.options.highlightControversialColor.default;\n\taddCSS(`\n\t\t.comment.controversial > .entry .score::after {\n\t\t\tcolor: ${color};\n\t\t}\n\t`);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { watchForThings, string } from '../utils';\nimport { i18n } from '../environment';\n\nexport const module: Module<*> = new Module('xPostLinks');\n\nmodule.moduleName = 'xPostLinksName';\nmodule.category = 'submissionsCategory';\nmodule.description = 'xPostLinksDesc';\n\nmodule.include = [\n\t'linklist',\n\t'modqueue',\n\t'comments',\n\t'profile',\n\t'search',\n];\n\nmodule.exclude = [\n\t'd2x',\n];\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post'], createLinks);\n};\n\nconst xpostRe = /(?:x|cross)[\\s-]?post\\S*(.+)/i;\nconst xpostFromRe = /^(?:\\s+\\S+)?\\s+\\/?(\\w{2,20}\\b)(?:[\\)\\]}]|\\S*$)/i;\nconst subredditRe = /r\\/(\\w{2,20}\\b)/i;\n\nfunction parseSubreddit(title) {\n\tconst [, xpostString] = xpostRe.exec(title) || [];\n\n\tif (!xpostString) return false;\n\n\tconst [, sub] = (\n\t\tsubredditRe.exec(xpostString) || // found something like r/games\n\t\txpostFromRe.exec(xpostString) || // use the last of one or two words before end of string of closing bracket\n\t\t[]\n\t);\n\n\treturn sub;\n}\n\nfunction appendToTagline(sub, thing) {\n\t$()\n\t\t.add($(thing.getSubredditLink()).prev())\n\t\t.add(thing.getUserattrsElement() || '')\n\t\t.first() // first valid (thing.getSubredditLink() may be null)\n\t\t.after(\n\t\t\tstring.escape` ${i18n('xPostLinksXpostedFrom')} `,\n\t\t\t$('<a>', {\n\t\t\t\tclass: 'subreddit hover',\n\t\t\t\thref: `/r/${sub}`,\n\t\t\t\ttext: `/r/${sub}`,\n\t\t\t}),\n\t\t);\n}\n\nfunction createLinks(thing) {\n\tconst sub = parseSubreddit(thing.getTitle());\n\tif (sub) appendToTagline(sub, thing);\n}\n","/* generated by sibling-loader */\nimport { module as _0 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/RESTips.js\";\nimport { module as _1 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/about.js\";\nimport { module as _2 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/accountSwitcher.js\";\nimport { module as _3 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/announcements.js\";\nimport { module as _4 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/autoHide.js\";\nimport { module as _5 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/backupAndRestore.js\";\nimport { module as _6 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/betteReddit.js\";\nimport { module as _7 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commandLine.js\";\nimport { module as _8 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentDepth.js\";\nimport { module as _9 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentHidePersistor.js\";\nimport { module as _10 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentNavigator.js\";\nimport { module as _11 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentPreview.js\";\nimport { module as _12 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentQuickCollapse.js\";\nimport { module as _13 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentSortBy.js\";\nimport { module as _14 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentStyle.js\";\nimport { module as _15 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentTools.js\";\nimport { module as _16 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/context.js\";\nimport { module as _17 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/contribute.js\";\nimport { module as _18 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/customToggles.js\";\nimport { module as _19 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/dashboard.js\";\nimport { module as _20 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/disableChat.js\";\nimport { module as _21 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/easterEgg.js\";\nimport { module as _22 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/filteReddit.js\";\nimport { module as _23 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hideChildComments.js\";\nimport { module as _24 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hover.js\";\nimport { module as _25 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/keyboardNav.js\";\nimport { module as _26 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/localDate.js\";\nimport { module as _27 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/logoLink.js\";\nimport { module as _28 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/menu.js\";\nimport { module as _29 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/messageMenu.js\";\nimport { module as _30 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/modhelper.js\";\nimport { module as _31 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/multiredditNavbar.js\";\nimport { module as _32 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/neverEndingComments.js\";\nimport { module as _33 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/neverEndingReddit.js\";\nimport { module as _34 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/newCommentCount.js\";\nimport { module as _35 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/nightMode.js\";\nimport { module as _36 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/noParticipation.js\";\nimport { module as _37 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/notifications.js\";\nimport { module as _38 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/onboarding.js\";\nimport { module as _39 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/orangered.js\";\nimport { module as _40 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/pageNavigator.js\";\nimport { module as _41 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/penaltyBox.js\";\nimport { module as _42 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/presets.js\";\nimport { module as _43 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/profileNavigator.js\";\nimport { module as _44 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/profileRedirect.js\";\nimport { module as _45 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/quarantineHide.js\";\nimport { module as _46 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/quickMessage.js\";\nimport { module as _47 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/readComments.js\";\nimport { module as _48 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/redditUserInfo.js\";\nimport { module as _49 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/requestPermissions.js\";\nimport { module as _50 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/saveComments.js\";\nimport { module as _51 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/search.js\";\nimport { module as _52 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/searchHelper.js\";\nimport { module as _53 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/selectedEntry.js\";\nimport { module as _54 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/settingsNavigation.js\";\nimport { module as _55 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/showImages.js\";\nimport { module as _56 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/showKarma.js\";\nimport { module as _57 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/showParent.js\";\nimport { module as _58 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/singleClick.js\";\nimport { module as _59 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/sourceSnudown.js\";\nimport { module as _60 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/spamButton.js\";\nimport { module as _61 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/spoilerTags.js\";\nimport { module as _62 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/styleTweaks.js\";\nimport { module as _63 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/stylesheet.js\";\nimport { module as _64 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/submitHelper.js\";\nimport { module as _65 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/submitIssue.js\";\nimport { module as _66 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditInfo.js\";\nimport { module as _67 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditManager.js\";\nimport { module as _68 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditStyleToggle.js\";\nimport { module as _69 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditTagger.js\";\nimport { module as _70 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/tableTools.js\";\nimport { module as _71 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/temporaryDropdownLinks.js\";\nimport { module as _72 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/troubleshooter.js\";\nimport { module as _73 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userHighlight.js\";\nimport { module as _74 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userInfo.js\";\nimport { module as _75 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userTagger.js\";\nimport { module as _76 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userbarHider.js\";\nimport { module as _77 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/usernameHider.js\";\nimport { module as _78 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/version.js\";\nimport { module as _79 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/voteEnhancements.js\";\nimport { module as _80 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/wheelBrowse.js\";\nimport { module as _81 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/xPostLinks.js\";\nexport default { \"RESTips.js\": _0, \"about.js\": _1, \"accountSwitcher.js\": _2, \"announcements.js\": _3, \"autoHide.js\": _4, \"backupAndRestore.js\": _5, \"betteReddit.js\": _6, \"commandLine.js\": _7, \"commentDepth.js\": _8, \"commentHidePersistor.js\": _9, \"commentNavigator.js\": _10, \"commentPreview.js\": _11, \"commentQuickCollapse.js\": _12, \"commentSortBy.js\": _13, \"commentStyle.js\": _14, \"commentTools.js\": _15, \"context.js\": _16, \"contribute.js\": _17, \"customToggles.js\": _18, \"dashboard.js\": _19, \"disableChat.js\": _20, \"easterEgg.js\": _21, \"filteReddit.js\": _22, \"hideChildComments.js\": _23, \"hover.js\": _24, \"keyboardNav.js\": _25, \"localDate.js\": _26, \"logoLink.js\": _27, \"menu.js\": _28, \"messageMenu.js\": _29, \"modhelper.js\": _30, \"multiredditNavbar.js\": _31, \"neverEndingComments.js\": _32, \"neverEndingReddit.js\": _33, \"newCommentCount.js\": _34, \"nightMode.js\": _35, \"noParticipation.js\": _36, \"notifications.js\": _37, \"onboarding.js\": _38, \"orangered.js\": _39, \"pageNavigator.js\": _40, \"penaltyBox.js\": _41, \"presets.js\": _42, \"profileNavigator.js\": _43, \"profileRedirect.js\": _44, \"quarantineHide.js\": _45, \"quickMessage.js\": _46, \"readComments.js\": _47, \"redditUserInfo.js\": _48, \"requestPermissions.js\": _49, \"saveComments.js\": _50, \"search.js\": _51, \"searchHelper.js\": _52, \"selectedEntry.js\": _53, \"settingsNavigation.js\": _54, \"showImages.js\": _55, \"showKarma.js\": _56, \"showParent.js\": _57, \"singleClick.js\": _58, \"sourceSnudown.js\": _59, \"spamButton.js\": _60, \"spoilerTags.js\": _61, \"styleTweaks.js\": _62, \"stylesheet.js\": _63, \"submitHelper.js\": _64, \"submitIssue.js\": _65, \"subredditInfo.js\": _66, \"subredditManager.js\": _67, \"subredditStyleToggle.js\": _68, \"subredditTagger.js\": _69, \"tableTools.js\": _70, \"temporaryDropdownLinks.js\": _71, \"troubleshooter.js\": _72, \"userHighlight.js\": _73, \"userInfo.js\": _74, \"userTagger.js\": _75, \"userbarHider.js\": _76, \"usernameHider.js\": _77, \"version.js\": _78, \"voteEnhancements.js\": _79, \"wheelBrowse.js\": _80, \"xPostLinks.js\": _81 };","/* @flow */\n\nimport { flow, keyBy, map } from 'lodash/fp';\nimport { i18n } from '../../environment';\nimport {\n\tdowncast,\n\tmatchesPageLocation,\n\tmarkStart,\n\tmarkEnd,\n} from '../../utils';\nimport { Module, getModuleId } from '../module';\n\nimport type { OpaqueModuleId } from '../module';\nimport { storage } from './storage';\n\nimport __modules from 'sibling-loader?import=module!../../modules/about'; // eslint-disable-line\n\nconst enabled = new Map();\n\nconst modules = flow(\n\t() => Object.values(__modules),\n\tmap(mod => downcast(mod, Module)), // ensure that all modules are instances of `Module`\n\tkeyBy(mod => mod.moduleID),\n)();\n\nif (process.env.NODE_ENV === 'development') {\n\t// for debugging only! do not use `modules` in any committed code\n\twindow.modules = modules;\n}\n\n// When containing modules, no other modules other than those specified should run\n// Stages `beforeLoad`, `go`, `afterLoad` may only be executed on these modules\nexport const allowedModules: Array<string> = [];\n\nexport async function _loadModulePrefs() {\n\tconst storedPrefs = await storage.getAll();\n\n\tfor (const [id, module] of Object.entries(modules)) {\n\t\tif (module.alwaysEnabled) {\n\t\t\tenabled.set(id, true);\n\t\t} else if (storedPrefs.hasOwnProperty(id)) {\n\t\t\tenabled.set(id, storedPrefs[id]);\n\t\t} else {\n\t\t\tenabled.set(id, !module.disabledByDefault);\n\t\t}\n\t}\n}\n\nconst ERRORED_KEY = Symbol('errored');\nexport async function _runModuleStage(stage: $Keys<Module<any>>, { skipEnabledCheck = false }: {| skipEnabledCheck?: boolean |} = {}) {\n\tawait Promise.all(\n\t\tall()\n\t\t\t.filter(module => (\n\t\t\t\tmodule[stage] &&\n\t\t\t\t!module[ERRORED_KEY] &&\n\t\t\t\t(skipEnabledCheck || isRunning(module))\n\t\t\t))\n\t\t\t.map(async module => {\n\t\t\t\tconst tag = markStart();\n\t\t\t\ttry {\n\t\t\t\t\tconst fn = module[stage];\n\t\t\t\t\tawait fn();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmodule[ERRORED_KEY] = true;\n\t\t\t\t\tconsole.error('Error in module:', module.moduleID, 'during:', stage);\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tmarkEnd(tag, `${module.moduleID} (${stage})`);\n\t\t\t}),\n\t);\n}\n\nexport function all(): Array<Module<any>> {\n\treturn Object.values(modules);\n}\n\nexport function isEnabled(opaqueId: OpaqueModuleId): boolean {\n\treturn !!enabled.get(get(opaqueId).moduleID);\n}\n\nexport function isRunning(opaqueId: OpaqueModuleId): boolean {\n\tconst module = get(opaqueId);\n\treturn (\n\t\t(!allowedModules.length || allowedModules.includes(module.moduleID)) &&\n\t\tisEnabled(module) &&\n\t\tmatchesPageLocation(module.include, module.exclude) &&\n\t\tmodule.shouldRun()\n\t);\n}\n\nexport function get(opaqueId: OpaqueModuleId): Module<any> {\n\treturn _get(getModuleId(opaqueId));\n}\n\nfunction _get(id) {\n\tconst mod = getUnchecked(id);\n\tif (!mod) throw new Error(`Module \"${id}\" not found.`);\n\treturn mod;\n}\n\nexport function getUnchecked(id: string): void | Module<any> {\n\treturn modules[id];\n}\n\nexport function getByCategory(category: string): Array<Module<any>> {\n\treturn all()\n\t\t.filter(module => !module.hidden)\n\t\t.filter(module => module.category === category)\n\t\t.sort((a, b) => {\n\t\t\tconst sortComparison = (a.sort || 0) - (b.sort || 0);\n\t\t\tif (sortComparison !== 0) {\n\t\t\t\treturn sortComparison;\n\t\t\t}\n\n\t\t\treturn (i18n(a.moduleName).toLowerCase() > i18n(b.moduleName).toLowerCase()) ? 1 : -1;\n\t\t});\n}\n","/* @flow */\n\nexport {\n\tallowedModules,\n\tall,\n\tget,\n\tgetByCategory,\n\tgetUnchecked,\n\tisEnabled,\n\tisRunning,\n} from './modules';\n\nexport {\n\tsetEnabled,\n} from './storage';\n","/* @flow */\n\nimport _ from 'lodash';\nimport * as Modules from '../modules';\nimport type { ModuleOption } from '../module';\nimport { shouldPrune } from '../../utils';\nimport { storage, set } from './storage';\n\nexport function _loadModuleOptions() {\n\tconst shouldPrunePromise = shouldPrune('RESoptions');\n\n\treturn Promise.all(Modules.all().map(async module => {\n\t\tif (!Object.values(module.options).some(v => v.hasOwnProperty('value'))) return;\n\n\t\tconst storedOptions = await storage.get(module.moduleID);\n\n\t\t// copy over default values\n\t\tfor (const opt of Object.values(module.options)) {\n\t\t\topt.default = opt.value;\n\t\t}\n\n\t\tif (!storedOptions) {\n\t\t\t// no stored options, there's nothing to copy over\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [key, storedValue] of Object.entries(storedOptions)) {\n\t\t\t// skip unsaved options (keep default value)\n\t\t\tif (!storedValue) continue;\n\n\t\t\tif (storedValue.value === undefined) {\n\t\t\t\tconsole.error(`Option ${module.moduleID} ${key}'s value is \\`undefined\\`. Ignoring.`);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// skip obsolete options\n\t\t\tif (!module.options[key]) continue;\n\n\t\t\t// normal option, copy in the value from storage\n\t\t\tmodule.options[key].value = storedValue.value;\n\t\t}\n\n\t\tshouldPrunePromise.then(should => { if (should) prune(module, storedOptions); });\n\t}));\n}\n\nfunction prune(module, storedOptions) {\n\tif (!storedOptions || !Object.entries(storedOptions).length) {\n\t\tstorage.delete(module.moduleID);\n\t\treturn;\n\t}\n\n\tfor (const [key, { value }] of Object.entries(storedOptions)) {\n\t\tconst option = module.options[key];\n\t\tif (!module.options[key]) {\n\t\t\tconsole.warn('Could not find option', module.moduleID, key);\n\t\t\tstorage.deletePath(module.moduleID, key); // eslint-disable-line no-await-in-loop\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (_.isEqual(option.default, value)) {\n\t\t\tconsole.warn('Stored option', module.moduleID, key, 'has the default value. Deleting.');\n\t\t\tstorage.deletePath(module.moduleID, key); // eslint-disable-line no-await-in-loop\n\t\t\tcontinue;\n\t\t}\n\t}\n}\n\nexport function save(option: ModuleOption<*>) {\n\t// Perform a search for the option to find its module and key\n\t// Doing this isn't especially expensive\n\tfor (const module of Modules.all()) {\n\t\tfor (const [key, _option] of Object.entries(module.options)) {\n\t\t\tif (option === _option) {\n\t\t\t\tif (option.value === undefined) {\n\t\t\t\t\tthrow new Error('Option type can not be saved');\n\t\t\t\t}\n\n\t\t\t\tif (option.onChange) {\n\t\t\t\t\toption.onChange();\n\t\t\t\t}\n\n\t\t\t\treturn set(module.moduleID, key, option.value);\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow new Error('Option not found in module');\n}\n","/* @flow */\n\nimport { BodyClasses } from '../../utils';\nimport type { BooleanOption, EnumOption } from '../module';\nimport { all, isRunning } from './modules';\n\n// Adds body classes for modules or enabled options that have `bodyClass: true`\n// In the form `res-moduleId-optionKey` for boolean options\n// and `res-moduleId-optionKey-optionValue` for enum options\n// spaces in enum option values will be replaced with underscores\nexport function _addModuleBodyClasses() {\n\tfor (const module of all()) {\n\t\tif (!isRunning(module)) continue;\n\n\t\tif (module.bodyClass) BodyClasses.add(`res-${module.moduleID}`);\n\n\t\tfor (const [optId, opt] of Object.entries(module.options)) {\n\t\t\tif (!(opt.bodyClass && opt.value)) continue;\n\t\t\t// ensure that only boolean and enum options pass this check\n\t\t\t(opt: BooleanOption<any> | EnumOption<any>);\n\n\t\t\tif (opt.dependsOn && !opt.dependsOn(module.options)) continue;\n\n\t\t\tlet cls = typeof opt.bodyClass === 'string' ?\n\t\t\t\topt.bodyClass :\n\t\t\t\t`res-${module.moduleID}-${optId}`;\n\n\t\t\tif (opt.type === 'enum') {\n\t\t\t\tcls += `-${opt.value.replace(/\\s/g, '_')}`;\n\t\t\t}\n\n\t\t\tBodyClasses.add(cls);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { once } from 'lodash/fp';\nimport { _loadI18n, getURL } from '../environment';\nimport * as Context from '../environment/foreground/context';\nimport {\n\tBodyClasses,\n\tPagePhases,\n\tr2WatcherContentLoaded,\n\tr2WatcherSitetableStart,\n\tinitD2xWatcher,\n\tisAppType,\n} from '../utils';\nimport { _loadModuleOptions } from './options/options';\nimport { _loadModulePrefs, _runModuleStage } from './modules/modules';\nimport { _addModuleBodyClasses } from './modules/bodyClasses';\n\nlet start;\n\nexport function init() {\n\tstart();\n}\n\n// DOM / browser state\n\nconst sourceLoaded = new Promise(resolve => (start = resolve));\n\n// Module stages\n\nexport const loadI18n: Promise<void> = sourceLoaded\n\t.then(() => _loadI18n());\n\nexport const onInit: Promise<void> = loadI18n\n\t.then(() => _runModuleStage('onInit', { skipEnabledCheck: true }));\n\nexport const loadOptions: Promise<*> = onInit\n\t.then(() => Promise.all([\n\t\t_loadModuleOptions(),\n\t\t_loadModulePrefs(),\n\t]));\n\nexport const addModuleBodyClasses: Promise<void> = loadOptions\n\t.then(() => _addModuleBodyClasses());\n\nexport const always: Promise<void> = loadOptions\n\t.then(() => _runModuleStage('always', { skipEnabledCheck: true }));\n\nexport const beforeLoad: Promise<void> = loadOptions\n\t.then(() => _runModuleStage('beforeLoad'));\n\nexport const contentStart: Promise<*> = Promise.all([beforeLoad, PagePhases.sitetableStarted])\n\t.then(() => Promise.all([\n\t\t_runModuleStage('contentStart'),\n\t\tisAppType('r2') ? r2WatcherSitetableStart() : undefined,\n\t]));\n\nexport const go: Promise<*> = Promise.all([beforeLoad, PagePhases.sitetableStarted])\n\t.then(() => {\n\t\tconst run = once(() => Promise.all([\n\t\t\tisAppType('d2x') ? initD2xWatcher() : r2WatcherContentLoaded(),\n\t\t\t_runModuleStage('go'),\n\t\t]));\n\t\t// Prevent additional forced reflow in Reddit's scripts by running first thing on the `DOMContentLoaded` event\n\t\twindow.addEventListener('DOMContentLoaded', run, true);\n\t\treturn PagePhases.contentLoaded.then(run);\n\t});\n\nexport const afterLoad: Promise<void> = Promise.all([go, PagePhases.loadComplete])\n\t.then(() => _runModuleStage('afterLoad'));\n\n// BodyClasses may have been added before document.body was ready\nPromise.all([sourceLoaded, PagePhases.bodyStart]).then(BodyClasses.addMissing);\n\nPromise.all([sourceLoaded, PagePhases.bodyStart]).then(() => { Context.establish(contentStart); });\n\n// Preload custom fonts to avoid FOUT as the browser otherwise wouldn't start loading them before encountering them in the DOM\n// $FlowIssue\nconst font = new FontFace('Batch', `url(${getURL('batch-icons-webfont.woff')})`, { style: 'normal', weight: 'normal' });\nfont.load();\n// $FlowIssue\nsourceLoaded.then(() => document.fonts.add(font));\n","/* generated by sibling-loader */\nimport * as _0 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/ajax.js\";\nimport * as _1 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/auth.js\";\nimport * as _2 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/context.js\";\nimport * as _3 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/download.js\";\nimport * as _4 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/history.js\";\nimport * as _5 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/i18n.js\";\nimport * as _6 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/id.js\";\nimport * as _7 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/messaging.js\";\nimport * as _8 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/multicast.js\";\nimport * as _9 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/pageAction.js\";\nimport * as _10 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/permissions.js\";\nimport * as _11 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/privateBrowsing.js\";\nimport * as _12 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/session.js\";\nimport * as _13 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/storage.js\";\nimport * as _14 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/tabs.js\";\nimport * as _15 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/xhrCache.js\";\nexport default { \"ajax.js\": _0, \"auth.js\": _1, \"context.js\": _2, \"download.js\": _3, \"history.js\": _4, \"i18n.js\": _5, \"id.js\": _6, \"messaging.js\": _7, \"multicast.js\": _8, \"pageAction.js\": _9, \"permissions.js\": _10, \"privateBrowsing.js\": _11, \"session.js\": _12, \"storage.js\": _13, \"tabs.js\": _14, \"xhrCache.js\": _15 };","/* @flow */\n\n// include the LICENSE file\n// $FlowIgnore\nimport 'file-loader?name=LICENSE!../LICENSE';\n\nimport { RES_DISABLED_HASH, RES_SETTINGS_HASH, RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH } from './constants/urlHashes';\nimport { init } from './core/init';\nimport { getURL } from './environment/foreground/id';\n\n// load environment listeners\nimport 'sibling-loader!./environment/foreground/messaging';\n\nconst blockers = [];\n\nif (location.hash === RES_DISABLED_HASH) {\n\tblockers.push(`Hash ${RES_DISABLED_HASH} disables RES.`);\n} else {\n\twindow.addEventListener('hashchange', () => { if (location.hash === RES_DISABLED_HASH) location.reload(); });\n}\n\n// Integration tests are performed quicker when redirected to the standalone options page\nif (location.hash.startsWith(RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH)) {\n\tlocation.href = getURL(`options.html${location.hash.replace(RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH, RES_SETTINGS_HASH)}`);\n\tblockers.push('Redirecting to the options page.');\n}\n\n// Firefox reloads the extension on all active pages when upgrading\n// RES doesn't handle that well\nif (document.documentElement && document.documentElement.classList.contains('res')) {\n\tdocument.documentElement.setAttribute('res-warning', 'This page must be reloaded for Reddit Enhancement Suite to function correctly');\n\tblockers.push('RES is previously loaded on this page.');\n}\n\nif (window !== window.parent && (new URL(location.href)).searchParams.get('embedded') !== 'true') {\n\tblockers.push('Conditions for running on an embedded page are not met.');\n}\n\nif (blockers.length) {\n\tconsole.warn('Preventing initalization of RES:', blockers);\n} else {\n\tinit();\n}\n"],"sourceRoot":""}